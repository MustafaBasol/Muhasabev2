(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))h(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const n of c.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&h(n)}).observe(document,{childList:!0,subtree:!0});function t(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerPolicy&&(c.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?c.credentials="include":f.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(f){if(f.ep)return;f.ep=!0;const c=t(f);fetch(f.href,c)}})();var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Yh={exports:{}},sc={},Qh={exports:{}},Pr={};var D0;function Nw(){if(D0)return Pr;D0=1;var a=Symbol.for("react.element"),m=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),n=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),r=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),l=Symbol.iterator;function d(R){return R===null||typeof R!="object"?null:(R=l&&R[l]||R["@@iterator"],typeof R=="function"?R:null)}var u={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function g(R,L,Y){this.props=R,this.context=L,this.refs=b,this.updater=Y||u}g.prototype.isReactComponent={},g.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},g.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function v(){}v.prototype=g.prototype;function y(R,L,Y){this.props=R,this.context=L,this.refs=b,this.updater=Y||u}var N=y.prototype=new v;N.constructor=y,x(N,g.prototype),N.isPureReactComponent=!0;var E=Array.isArray,I=Object.prototype.hasOwnProperty,O={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function z(R,L,Y){var Z,ae={},q=null,X=null;if(L!=null)for(Z in L.ref!==void 0&&(X=L.ref),L.key!==void 0&&(q=""+L.key),L)I.call(L,Z)&&!$.hasOwnProperty(Z)&&(ae[Z]=L[Z]);var F=arguments.length-2;if(F===1)ae.children=Y;else if(1<F){for(var M=Array(F),K=0;K<F;K++)M[K]=arguments[K+2];ae.children=M}if(R&&R.defaultProps)for(Z in F=R.defaultProps,F)ae[Z]===void 0&&(ae[Z]=F[Z]);return{$$typeof:a,type:R,key:q,ref:X,props:ae,_owner:O.current}}function U(R,L){return{$$typeof:a,type:R.type,key:L,ref:R.ref,props:R.props,_owner:R._owner}}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function G(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return L[Y]})}var B=/\/+/g;function T(R,L){return typeof R=="object"&&R!==null&&R.key!=null?G(""+R.key):L.toString(36)}function D(R,L,Y,Z,ae){var q=typeof R;(q==="undefined"||q==="boolean")&&(R=null);var X=!1;if(R===null)X=!0;else switch(q){case"string":case"number":X=!0;break;case"object":switch(R.$$typeof){case a:case m:X=!0}}if(X)return X=R,ae=ae(X),R=Z===""?"."+T(X,0):Z,E(ae)?(Y="",R!=null&&(Y=R.replace(B,"$&/")+"/"),D(ae,L,Y,"",function(K){return K})):ae!=null&&(V(ae)&&(ae=U(ae,Y+(!ae.key||X&&X.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+R)),L.push(ae)),1;if(X=0,Z=Z===""?".":Z+":",E(R))for(var F=0;F<R.length;F++){q=R[F];var M=Z+T(q,F);X+=D(q,L,Y,M,ae)}else if(M=d(R),typeof M=="function")for(R=M.call(R),F=0;!(q=R.next()).done;)q=q.value,M=Z+T(q,F++),X+=D(q,L,Y,M,ae);else if(q==="object")throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return X}function A(R,L,Y){if(R==null)return R;var Z=[],ae=0;return D(R,Z,"","",function(q){return L.call(Y,q,ae++)}),Z}function k(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var S={current:null},j={transition:null},C={ReactCurrentDispatcher:S,ReactCurrentBatchConfig:j,ReactCurrentOwner:O};function P(){throw Error("act(...) is not supported in production builds of React.")}return Pr.Children={map:A,forEach:function(R,L,Y){A(R,function(){L.apply(this,arguments)},Y)},count:function(R){var L=0;return A(R,function(){L++}),L},toArray:function(R){return A(R,function(L){return L})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Pr.Component=g,Pr.Fragment=t,Pr.Profiler=f,Pr.PureComponent=y,Pr.StrictMode=h,Pr.Suspense=i,Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,Pr.act=P,Pr.cloneElement=function(R,L,Y){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Z=x({},R.props),ae=R.key,q=R.ref,X=R._owner;if(L!=null){if(L.ref!==void 0&&(q=L.ref,X=O.current),L.key!==void 0&&(ae=""+L.key),R.type&&R.type.defaultProps)var F=R.type.defaultProps;for(M in L)I.call(L,M)&&!$.hasOwnProperty(M)&&(Z[M]=L[M]===void 0&&F!==void 0?F[M]:L[M])}var M=arguments.length-2;if(M===1)Z.children=Y;else if(1<M){F=Array(M);for(var K=0;K<M;K++)F[K]=arguments[K+2];Z.children=F}return{$$typeof:a,type:R.type,key:ae,ref:q,props:Z,_owner:X}},Pr.createContext=function(R){return R={$$typeof:n,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Pr.createElement=z,Pr.createFactory=function(R){var L=z.bind(null,R);return L.type=R,L},Pr.createRef=function(){return{current:null}},Pr.forwardRef=function(R){return{$$typeof:o,render:R}},Pr.isValidElement=V,Pr.lazy=function(R){return{$$typeof:s,_payload:{_status:-1,_result:R},_init:k}},Pr.memo=function(R,L){return{$$typeof:r,type:R,compare:L===void 0?null:L}},Pr.startTransition=function(R){var L=j.transition;j.transition={};try{R()}finally{j.transition=L}},Pr.unstable_act=P,Pr.useCallback=function(R,L){return S.current.useCallback(R,L)},Pr.useContext=function(R){return S.current.useContext(R)},Pr.useDebugValue=function(){},Pr.useDeferredValue=function(R){return S.current.useDeferredValue(R)},Pr.useEffect=function(R,L){return S.current.useEffect(R,L)},Pr.useId=function(){return S.current.useId()},Pr.useImperativeHandle=function(R,L,Y){return S.current.useImperativeHandle(R,L,Y)},Pr.useInsertionEffect=function(R,L){return S.current.useInsertionEffect(R,L)},Pr.useLayoutEffect=function(R,L){return S.current.useLayoutEffect(R,L)},Pr.useMemo=function(R,L){return S.current.useMemo(R,L)},Pr.useReducer=function(R,L,Y){return S.current.useReducer(R,L,Y)},Pr.useRef=function(R){return S.current.useRef(R)},Pr.useState=function(R){return S.current.useState(R)},Pr.useSyncExternalStore=function(R,L,Y){return S.current.useSyncExternalStore(R,L,Y)},Pr.useTransition=function(){return S.current.useTransition()},Pr.version="18.3.1",Pr}var I0;function nm(){return I0||(I0=1,Qh.exports=Nw()),Qh.exports}var M0;function jw(){if(M0)return sc;M0=1;var a=nm(),m=Symbol.for("react.element"),t=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,f=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function n(o,i,r){var s,l={},d=null,u=null;r!==void 0&&(d=""+r),i.key!==void 0&&(d=""+i.key),i.ref!==void 0&&(u=i.ref);for(s in i)h.call(i,s)&&!c.hasOwnProperty(s)&&(l[s]=i[s]);if(o&&o.defaultProps)for(s in i=o.defaultProps,i)l[s]===void 0&&(l[s]=i[s]);return{$$typeof:m,type:o,key:d,ref:u,props:l,_owner:f.current}}return sc.Fragment=t,sc.jsx=n,sc.jsxs=n,sc}var R0;function Sw(){return R0||(R0=1,Yh.exports=jw()),Yh.exports}var e=Sw(),W=nm();const Gt=Uy(W);var Qd={},Zh={exports:{}},jn={},Xh={exports:{}},Jh={};var z0;function Cw(){return z0||(z0=1,(function(a){function m(j,C){var P=j.length;j.push(C);e:for(;0<P;){var R=P-1>>>1,L=j[R];if(0<f(L,C))j[R]=C,j[P]=L,P=R;else break e}}function t(j){return j.length===0?null:j[0]}function h(j){if(j.length===0)return null;var C=j[0],P=j.pop();if(P!==C){j[0]=P;e:for(var R=0,L=j.length,Y=L>>>1;R<Y;){var Z=2*(R+1)-1,ae=j[Z],q=Z+1,X=j[q];if(0>f(ae,P))q<L&&0>f(X,ae)?(j[R]=X,j[q]=P,R=q):(j[R]=ae,j[Z]=P,R=Z);else if(q<L&&0>f(X,P))j[R]=X,j[q]=P,R=q;else break e}}return C}function f(j,C){var P=j.sortIndex-C.sortIndex;return P!==0?P:j.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var n=Date,o=n.now();a.unstable_now=function(){return n.now()-o}}var i=[],r=[],s=1,l=null,d=3,u=!1,x=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(j){for(var C=t(r);C!==null;){if(C.callback===null)h(r);else if(C.startTime<=j)h(r),C.sortIndex=C.expirationTime,m(i,C);else break;C=t(r)}}function E(j){if(b=!1,N(j),!x)if(t(i)!==null)x=!0,k(I);else{var C=t(r);C!==null&&S(E,C.startTime-j)}}function I(j,C){x=!1,b&&(b=!1,v(z),z=-1),u=!0;var P=d;try{for(N(C),l=t(i);l!==null&&(!(l.expirationTime>C)||j&&!G());){var R=l.callback;if(typeof R=="function"){l.callback=null,d=l.priorityLevel;var L=R(l.expirationTime<=C);C=a.unstable_now(),typeof L=="function"?l.callback=L:l===t(i)&&h(i),N(C)}else h(i);l=t(i)}if(l!==null)var Y=!0;else{var Z=t(r);Z!==null&&S(E,Z.startTime-C),Y=!1}return Y}finally{l=null,d=P,u=!1}}var O=!1,$=null,z=-1,U=5,V=-1;function G(){return!(a.unstable_now()-V<U)}function B(){if($!==null){var j=a.unstable_now();V=j;var C=!0;try{C=$(!0,j)}finally{C?T():(O=!1,$=null)}}else O=!1}var T;if(typeof y=="function")T=function(){y(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,A=D.port2;D.port1.onmessage=B,T=function(){A.postMessage(null)}}else T=function(){g(B,0)};function k(j){$=j,O||(O=!0,T())}function S(j,C){z=g(function(){j(a.unstable_now())},C)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_continueExecution=function(){x||u||(x=!0,k(I))},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return d},a.unstable_getFirstCallbackNode=function(){return t(i)},a.unstable_next=function(j){switch(d){case 1:case 2:case 3:var C=3;break;default:C=d}var P=d;d=C;try{return j()}finally{d=P}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(j,C){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var P=d;d=j;try{return C()}finally{d=P}},a.unstable_scheduleCallback=function(j,C,P){var R=a.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?R+P:R):P=R,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,j={id:s++,callback:C,priorityLevel:j,startTime:P,expirationTime:L,sortIndex:-1},P>R?(j.sortIndex=P,m(r,j),t(i)===null&&j===t(r)&&(b?(v(z),z=-1):b=!0,S(E,P-R))):(j.sortIndex=L,m(i,j),x||u||(x=!0,k(I))),j},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(j){var C=d;return function(){var P=d;d=C;try{return j.apply(this,arguments)}finally{d=P}}}})(Jh)),Jh}var L0;function Aw(){return L0||(L0=1,Xh.exports=Cw()),Xh.exports}var O0;function Ew(){if(O0)return jn;O0=1;var a=nm(),m=Aw();function t(p){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+p,_=1;_<arguments.length;_++)w+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+p+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,f={};function c(p,w){n(p,w),n(p+"Capture",w)}function n(p,w){for(f[p]=w,p=0;p<w.length;p++)h.add(w[p])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s={},l={};function d(p){return i.call(l,p)?!0:i.call(s,p)?!1:r.test(p)?l[p]=!0:(s[p]=!0,!1)}function u(p,w,_,H){if(_!==null&&_.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return H?!1:_!==null?!_.acceptsBooleans:(p=p.toLowerCase().slice(0,5),p!=="data-"&&p!=="aria-");default:return!1}}function x(p,w,_,H){if(w===null||typeof w>"u"||u(p,w,_,H))return!0;if(H)return!1;if(_!==null)switch(_.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function b(p,w,_,H,Q,re,fe){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=H,this.attributeNamespace=Q,this.mustUseProperty=_,this.propertyName=p,this.type=w,this.sanitizeURL=re,this.removeEmptyString=fe}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){g[p]=new b(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var w=p[0];g[w]=new b(w,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){g[p]=new b(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){g[p]=new b(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){g[p]=new b(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){g[p]=new b(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){g[p]=new b(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){g[p]=new b(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){g[p]=new b(p,5,!1,p.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(p){return p[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var w=p.replace(v,y);g[w]=new b(w,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var w=p.replace(v,y);g[w]=new b(w,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var w=p.replace(v,y);g[w]=new b(w,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){g[p]=new b(p,1,!1,p.toLowerCase(),null,!1,!1)}),g.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){g[p]=new b(p,1,!1,p.toLowerCase(),null,!0,!0)});function N(p,w,_,H){var Q=g.hasOwnProperty(w)?g[w]:null;(Q!==null?Q.type!==0:H||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(x(w,_,Q,H)&&(_=null),H||Q===null?d(w)&&(_===null?p.removeAttribute(w):p.setAttribute(w,""+_)):Q.mustUseProperty?p[Q.propertyName]=_===null?Q.type===3?!1:"":_:(w=Q.attributeName,H=Q.attributeNamespace,_===null?p.removeAttribute(w):(Q=Q.type,_=Q===3||Q===4&&_===!0?"":""+_,H?p.setAttributeNS(H,w,_):p.setAttribute(w,_))))}var E=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),O=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),j=Symbol.iterator;function C(p){return p===null||typeof p!="object"?null:(p=j&&p[j]||p["@@iterator"],typeof p=="function"?p:null)}var P=Object.assign,R;function L(p){if(R===void 0)try{throw Error()}catch(_){var w=_.stack.trim().match(/\n( *(at )?)/);R=w&&w[1]||""}return`
`+R+p}var Y=!1;function Z(p,w){if(!p||Y)return"";Y=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(xt){var H=xt}Reflect.construct(p,[],w)}else{try{w.call()}catch(xt){H=xt}p.call(w.prototype)}else{try{throw Error()}catch(xt){H=xt}p()}}catch(xt){if(xt&&H&&typeof xt.stack=="string"){for(var Q=xt.stack.split(`
`),re=H.stack.split(`
`),fe=Q.length-1,ze=re.length-1;1<=fe&&0<=ze&&Q[fe]!==re[ze];)ze--;for(;1<=fe&&0<=ze;fe--,ze--)if(Q[fe]!==re[ze]){if(fe!==1||ze!==1)do if(fe--,ze--,0>ze||Q[fe]!==re[ze]){var $e=`
`+Q[fe].replace(" at new "," at ");return p.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",p.displayName)),$e}while(1<=fe&&0<=ze);break}}}finally{Y=!1,Error.prepareStackTrace=_}return(p=p?p.displayName||p.name:"")?L(p):""}function ae(p){switch(p.tag){case 5:return L(p.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return p=Z(p.type,!1),p;case 11:return p=Z(p.type.render,!1),p;case 1:return p=Z(p.type,!0),p;default:return""}}function q(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case $:return"Fragment";case O:return"Portal";case U:return"Profiler";case z:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case G:return(p.displayName||"Context")+".Consumer";case V:return(p._context.displayName||"Context")+".Provider";case B:var w=p.render;return p=p.displayName,p||(p=w.displayName||w.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case A:return w=p.displayName||null,w!==null?w:q(p.type)||"Memo";case k:w=p._payload,p=p._init;try{return q(p(w))}catch{}}return null}function X(p){var w=p.type;switch(p.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=w.render,p=p.displayName||p.name||"",w.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(w);case 8:return w===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function F(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function M(p){var w=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function K(p){var w=M(p)?"checked":"value",_=Object.getOwnPropertyDescriptor(p.constructor.prototype,w),H=""+p[w];if(!p.hasOwnProperty(w)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var Q=_.get,re=_.set;return Object.defineProperty(p,w,{configurable:!0,get:function(){return Q.call(this)},set:function(fe){H=""+fe,re.call(this,fe)}}),Object.defineProperty(p,w,{enumerable:_.enumerable}),{getValue:function(){return H},setValue:function(fe){H=""+fe},stopTracking:function(){p._valueTracker=null,delete p[w]}}}}function se(p){p._valueTracker||(p._valueTracker=K(p))}function oe(p){if(!p)return!1;var w=p._valueTracker;if(!w)return!0;var _=w.getValue(),H="";return p&&(H=M(p)?p.checked?"true":"false":p.value),p=H,p!==_?(w.setValue(p),!0):!1}function ne(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}function le(p,w){var _=w.checked;return P({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??p._wrapperState.initialChecked})}function Se(p,w){var _=w.defaultValue==null?"":w.defaultValue,H=w.checked!=null?w.checked:w.defaultChecked;_=F(w.value!=null?w.value:_),p._wrapperState={initialChecked:H,initialValue:_,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function je(p,w){w=w.checked,w!=null&&N(p,"checked",w,!1)}function ee(p,w){je(p,w);var _=F(w.value),H=w.type;if(_!=null)H==="number"?(_===0&&p.value===""||p.value!=_)&&(p.value=""+_):p.value!==""+_&&(p.value=""+_);else if(H==="submit"||H==="reset"){p.removeAttribute("value");return}w.hasOwnProperty("value")?be(p,w.type,_):w.hasOwnProperty("defaultValue")&&be(p,w.type,F(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(p.defaultChecked=!!w.defaultChecked)}function ce(p,w,_){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var H=w.type;if(!(H!=="submit"&&H!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+p._wrapperState.initialValue,_||w===p.value||(p.value=w),p.defaultValue=w}_=p.name,_!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,_!==""&&(p.name=_)}function be(p,w,_){(w!=="number"||ne(p.ownerDocument)!==p)&&(_==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+_&&(p.defaultValue=""+_))}var Te=Array.isArray;function Ce(p,w,_,H){if(p=p.options,w){w={};for(var Q=0;Q<_.length;Q++)w["$"+_[Q]]=!0;for(_=0;_<p.length;_++)Q=w.hasOwnProperty("$"+p[_].value),p[_].selected!==Q&&(p[_].selected=Q),Q&&H&&(p[_].defaultSelected=!0)}else{for(_=""+F(_),w=null,Q=0;Q<p.length;Q++){if(p[Q].value===_){p[Q].selected=!0,H&&(p[Q].defaultSelected=!0);return}w!==null||p[Q].disabled||(w=p[Q])}w!==null&&(w.selected=!0)}}function Pe(p,w){if(w.dangerouslySetInnerHTML!=null)throw Error(t(91));return P({},w,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Be(p,w){var _=w.value;if(_==null){if(_=w.children,w=w.defaultValue,_!=null){if(w!=null)throw Error(t(92));if(Te(_)){if(1<_.length)throw Error(t(93));_=_[0]}w=_}w==null&&(w=""),_=w}p._wrapperState={initialValue:F(_)}}function Ge(p,w){var _=F(w.value),H=F(w.defaultValue);_!=null&&(_=""+_,_!==p.value&&(p.value=_),w.defaultValue==null&&p.defaultValue!==_&&(p.defaultValue=_)),H!=null&&(p.defaultValue=""+H)}function st(p){var w=p.textContent;w===p._wrapperState.initialValue&&w!==""&&w!==null&&(p.value=w)}function bt(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(p,w){return p==null||p==="http://www.w3.org/1999/xhtml"?bt(w):p==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var We,vt=(function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,_,H,Q){MSApp.execUnsafeLocalFunction(function(){return p(w,_,H,Q)})}:p})(function(p,w){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=w;else{for(We=We||document.createElement("div"),We.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=We.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;w.firstChild;)p.appendChild(w.firstChild)}});function At(p,w){if(w){var _=p.firstChild;if(_&&_===p.lastChild&&_.nodeType===3){_.nodeValue=w;return}}p.textContent=w}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},De=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(p){De.forEach(function(w){w=w+p.charAt(0).toUpperCase()+p.substring(1),Nt[w]=Nt[p]})});function ge(p,w,_){return w==null||typeof w=="boolean"||w===""?"":_||typeof w!="number"||w===0||Nt.hasOwnProperty(p)&&Nt[p]?(""+w).trim():w+"px"}function Oe(p,w){p=p.style;for(var _ in w)if(w.hasOwnProperty(_)){var H=_.indexOf("--")===0,Q=ge(_,w[_],H);_==="float"&&(_="cssFloat"),H?p.setProperty(_,Q):p[_]=Q}}var Ke=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(p,w){if(w){if(Ke[p]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(t(137,p));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(t(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(t(61))}if(w.style!=null&&typeof w.style!="object")throw Error(t(62))}}function me(p,w){if(p.indexOf("-")===-1)return typeof w.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function te(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var we=null,Ue=null,et=null;function dt(p){if(p=Vl(p)){if(typeof we!="function")throw Error(t(280));var w=p.stateNode;w&&(w=ud(w),we(p.stateNode,p.type,w))}}function St(p){Ue?et?et.push(p):et=[p]:Ue=p}function Ut(){if(Ue){var p=Ue,w=et;if(et=Ue=null,dt(p),w)for(p=0;p<w.length;p++)dt(w[p])}}function ve(p,w){return p(w)}function de(){}var Ye=!1;function ut(p,w,_){if(Ye)return p(w,_);Ye=!0;try{return ve(p,w,_)}finally{Ye=!1,(Ue!==null||et!==null)&&(de(),Ut())}}function pt(p,w){var _=p.stateNode;if(_===null)return null;var H=ud(_);if(H===null)return null;_=H[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(p=p.type,H=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!H;break e;default:p=!1}if(p)return null;if(_&&typeof _!="function")throw Error(t(231,w,typeof _));return _}var Le=!1;if(o)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Le=!1}function ke(p,w,_,H,Q,re,fe,ze,$e){var xt=Array.prototype.slice.call(arguments,3);try{w.apply(_,xt)}catch(Ht){this.onError(Ht)}}var Me=!1,He=null,ot=!1,at=null,ft={onError:function(p){Me=!0,He=p}};function Kt(p,w,_,H,Q,re,fe,ze,$e){Me=!1,He=null,ke.apply(ft,arguments)}function zt(p,w,_,H,Q,re,fe,ze,$e){if(Kt.apply(this,arguments),Me){if(Me){var xt=He;Me=!1,He=null}else throw Error(t(198));ot||(ot=!0,at=xt)}}function Re(p){var w=p,_=p;if(p.alternate)for(;w.return;)w=w.return;else{p=w;do w=p,(w.flags&4098)!==0&&(_=w.return),p=w.return;while(p)}return w.tag===3?_:null}function rt(p){if(p.tag===13){var w=p.memoizedState;if(w===null&&(p=p.alternate,p!==null&&(w=p.memoizedState)),w!==null)return w.dehydrated}return null}function mt(p){if(Re(p)!==p)throw Error(t(188))}function Dt(p){var w=p.alternate;if(!w){if(w=Re(p),w===null)throw Error(t(188));return w!==p?null:p}for(var _=p,H=w;;){var Q=_.return;if(Q===null)break;var re=Q.alternate;if(re===null){if(H=Q.return,H!==null){_=H;continue}break}if(Q.child===re.child){for(re=Q.child;re;){if(re===_)return mt(Q),p;if(re===H)return mt(Q),w;re=re.sibling}throw Error(t(188))}if(_.return!==H.return)_=Q,H=re;else{for(var fe=!1,ze=Q.child;ze;){if(ze===_){fe=!0,_=Q,H=re;break}if(ze===H){fe=!0,H=Q,_=re;break}ze=ze.sibling}if(!fe){for(ze=re.child;ze;){if(ze===_){fe=!0,_=re,H=Q;break}if(ze===H){fe=!0,H=re,_=Q;break}ze=ze.sibling}if(!fe)throw Error(t(189))}}if(_.alternate!==H)throw Error(t(190))}if(_.tag!==3)throw Error(t(188));return _.stateNode.current===_?p:w}function _t(p){return p=Dt(p),p!==null?jt(p):null}function jt(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var w=jt(p);if(w!==null)return w;p=p.sibling}return null}var Ie=m.unstable_scheduleCallback,ht=m.unstable_cancelCallback,Vt=m.unstable_shouldYield,Ne=m.unstable_requestPaint,Ve=m.unstable_now,lt=m.unstable_getCurrentPriorityLevel,kt=m.unstable_ImmediatePriority,Ot=m.unstable_UserBlockingPriority,Pt=m.unstable_NormalPriority,$t=m.unstable_LowPriority,sr=m.unstable_IdlePriority,Yt=null,Lt=null;function Jt(p){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(Yt,p,void 0,(p.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:pr,hr=Math.log,Fr=Math.LN2;function pr(p){return p>>>=0,p===0?32:31-(hr(p)/Fr|0)|0}var jr=64,as=4194304;function os(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function qs(p,w){var _=p.pendingLanes;if(_===0)return 0;var H=0,Q=p.suspendedLanes,re=p.pingedLanes,fe=_&268435455;if(fe!==0){var ze=fe&~Q;ze!==0?H=os(ze):(re&=fe,re!==0&&(H=os(re)))}else fe=_&~Q,fe!==0?H=os(fe):re!==0&&(H=os(re));if(H===0)return 0;if(w!==0&&w!==H&&(w&Q)===0&&(Q=H&-H,re=w&-w,Q>=re||Q===16&&(re&4194240)!==0))return w;if((H&4)!==0&&(H|=_&16),w=p.entangledLanes,w!==0)for(p=p.entanglements,w&=H;0<w;)_=31-dr(w),Q=1<<_,H|=p[_],w&=~Q;return H}function Un(p,w){switch(p){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(p,w){for(var _=p.suspendedLanes,H=p.pingedLanes,Q=p.expirationTimes,re=p.pendingLanes;0<re;){var fe=31-dr(re),ze=1<<fe,$e=Q[fe];$e===-1?((ze&_)===0||(ze&H)!==0)&&(Q[fe]=Un(ze,w)):$e<=w&&(p.expiredLanes|=ze),re&=~ze}}function As(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function Rr(){var p=jr;return jr<<=1,(jr&4194240)===0&&(jr=64),p}function Cr(p){for(var w=[],_=0;31>_;_++)w.push(p);return w}function $s(p,w,_){p.pendingLanes|=w,w!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,w=31-dr(w),p[w]=_}function Vn(p,w){var _=p.pendingLanes&~w;p.pendingLanes=w,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=w,p.mutableReadLanes&=w,p.entangledLanes&=w,w=p.entanglements;var H=p.eventTimes;for(p=p.expirationTimes;0<_;){var Q=31-dr(_),re=1<<Q;w[Q]=0,H[Q]=-1,p[Q]=-1,_&=~re}}function Li(p,w){var _=p.entangledLanes|=w;for(p=p.entanglements;_;){var H=31-dr(_),Q=1<<H;Q&w|p[H]&w&&(p[H]|=w),_&=~Q}}var yr=0;function cs(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var Ir,qn,Oi,Dn,xs,bi=!1,er=[],Hs=null,Es=null,_r=null,vi=new Map,$n=new Map,Xs=[],Wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qr(p,w){switch(p){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":vi.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(w.pointerId)}}function aa(p,w,_,H,Q,re){return p===null||p.nativeEvent!==re?(p={blockedOn:w,domEventName:_,eventSystemFlags:H,nativeEvent:re,targetContainers:[Q]},w!==null&&(w=Vl(w),w!==null&&qn(w)),p):(p.eventSystemFlags|=H,w=p.targetContainers,Q!==null&&w.indexOf(Q)===-1&&w.push(Q),p)}function So(p,w,_,H,Q){switch(w){case"focusin":return Hs=aa(Hs,p,w,_,H,Q),!0;case"dragenter":return Es=aa(Es,p,w,_,H,Q),!0;case"mouseover":return _r=aa(_r,p,w,_,H,Q),!0;case"pointerover":var re=Q.pointerId;return vi.set(re,aa(vi.get(re)||null,p,w,_,H,Q)),!0;case"gotpointercapture":return re=Q.pointerId,$n.set(re,aa($n.get(re)||null,p,w,_,H,Q)),!0}return!1}function Co(p){var w=Qa(p.target);if(w!==null){var _=Re(w);if(_!==null){if(w=_.tag,w===13){if(w=rt(_),w!==null){p.blockedOn=w,xs(p.priority,function(){Oi(_)});return}}else if(w===3&&_.stateNode.current.memoizedState.isDehydrated){p.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}p.blockedOn=null}function Ua(p){if(p.blockedOn!==null)return!1;for(var w=p.targetContainers;0<w.length;){var _=El(p.domEventName,p.eventSystemFlags,w[0],p.nativeEvent);if(_===null){_=p.nativeEvent;var H=new _.constructor(_.type,_);xe=H,_.target.dispatchEvent(H),xe=null}else return w=Vl(_),w!==null&&qn(w),p.blockedOn=_,!1;w.shift()}return!0}function Cl(p,w,_){Ua(p)&&_.delete(w)}function vm(){bi=!1,Hs!==null&&Ua(Hs)&&(Hs=null),Es!==null&&Ua(Es)&&(Es=null),_r!==null&&Ua(_r)&&(_r=null),vi.forEach(Cl),$n.forEach(Cl)}function Va(p,w){p.blockedOn===w&&(p.blockedOn=null,bi||(bi=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,vm)))}function qa(p){function w(Q){return Va(Q,p)}if(0<er.length){Va(er[0],p);for(var _=1;_<er.length;_++){var H=er[_];H.blockedOn===p&&(H.blockedOn=null)}}for(Hs!==null&&Va(Hs,p),Es!==null&&Va(Es,p),_r!==null&&Va(_r,p),vi.forEach(w),$n.forEach(w),_=0;_<Xs.length;_++)H=Xs[_],H.blockedOn===p&&(H.blockedOn=null);for(;0<Xs.length&&(_=Xs[0],_.blockedOn===null);)Co(_),_.blockedOn===null&&Xs.shift()}var wi=E.ReactCurrentBatchConfig,Ao=!0;function wm(p,w,_,H){var Q=yr,re=wi.transition;wi.transition=null;try{yr=1,Al(p,w,_,H)}finally{yr=Q,wi.transition=re}}function km(p,w,_,H){var Q=yr,re=wi.transition;wi.transition=null;try{yr=4,Al(p,w,_,H)}finally{yr=Q,wi.transition=re}}function Al(p,w,_,H){if(Ao){var Q=El(p,w,_,H);if(Q===null)Wn(p,w,H,Eo,_),Qr(p,H);else if(So(Q,p,w,_,H))H.stopPropagation();else if(Qr(p,H),w&4&&-1<Wc.indexOf(p)){for(;Q!==null;){var re=Vl(Q);if(re!==null&&Ir(re),re=El(p,w,_,H),re===null&&Wn(p,w,H,Eo,_),re===Q)break;Q=re}Q!==null&&H.stopPropagation()}else Wn(p,w,H,null,_)}}var Eo=null;function El(p,w,_,H){if(Eo=null,p=te(H),p=Qa(p),p!==null)if(w=Re(p),w===null)p=null;else if(_=w.tag,_===13){if(p=rt(w),p!==null)return p;p=null}else if(_===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;p=null}else w!==p&&(p=null);return Eo=p,null}function Yc(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lt()){case kt:return 1;case Ot:return 4;case Pt:case $t:return 16;case sr:return 536870912;default:return 16}default:return 16}}var ki=null,Tl=null,To=null;function Qc(){if(To)return To;var p,w=Tl,_=w.length,H,Q="value"in ki?ki.value:ki.textContent,re=Q.length;for(p=0;p<_&&w[p]===Q[p];p++);var fe=_-p;for(H=1;H<=fe&&w[_-H]===Q[re-H];H++);return To=Q.slice(p,1<H?1-H:void 0)}function $a(p){var w=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&w===13&&(p=13)):p=w,p===10&&(p=13),32<=p||p===13?p:0}function _o(){return!0}function Zc(){return!1}function on(p){function w(_,H,Q,re,fe){this._reactName=_,this._targetInst=Q,this.type=H,this.nativeEvent=re,this.target=fe,this.currentTarget=null;for(var ze in p)p.hasOwnProperty(ze)&&(_=p[ze],this[ze]=_?_(re):re[ze]);return this.isDefaultPrevented=(re.defaultPrevented!=null?re.defaultPrevented:re.returnValue===!1)?_o:Zc,this.isPropagationStopped=Zc,this}return P(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),w}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=on(oa),Ha=P({},oa,{view:0,detail:0}),Nm=on(Ha),Pl,Dl,Ni,Ka=P({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==Ni&&(Ni&&p.type==="mousemove"?(Pl=p.screenX-Ni.screenX,Dl=p.screenY-Ni.screenY):Dl=Pl=0,Ni=p),Pl)},movementY:function(p){return"movementY"in p?p.movementY:Dl}}),Il=on(Ka),jm=P({},Ka,{dataTransfer:0}),Sm=on(jm),Cm=P({},Ha,{relatedTarget:0}),yn=on(Cm),Xc=P({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Am=on(Xc),Em=P({},oa,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Tm=on(Em),_m=P({},oa,{data:0}),Jc=on(_m),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hn(p){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(p):(p=ji[p])?!!w[p]:!1}function Rl(){return Hn}var Pm=P({},Ha,{key:function(p){if(p.key){var w=Po[p.key]||p.key;if(w!=="Unidentified")return w}return p.type==="keypress"?(p=$a(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?Ml[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(p){return p.type==="keypress"?$a(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?$a(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Dm=on(Pm),Im=P({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=on(Im),Fi=P({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),Bi=on(Fi),Do=P({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mm=on(Do),Rm=P({},Ka,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),zl=on(Rm),td=[9,13,27,32],Io=o&&"CompositionEvent"in window,la=null;o&&"documentMode"in document&&(la=document.documentMode);var rd=o&&"TextEvent"in window&&!la,Ll=o&&(!Io||la&&8<la&&11>=la),Ol=" ",sd=!1;function Fl(p,w){switch(p){case"keyup":return td.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nd(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var ca=!1;function zm(p,w){switch(p){case"compositionend":return nd(w);case"keypress":return w.which!==32?null:(sd=!0,Ol);case"textInput":return p=w.data,p===Ol&&sd?null:p;default:return null}}function Lm(p,w){if(ca)return p==="compositionend"||!Io&&Fl(p,w)?(p=Qc(),To=Tl=ki=null,ca=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return Ll&&w.locale!=="ko"?null:w.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function id(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w==="input"?!!Om[p.type]:w==="textarea"}function ad(p,w,_,H){St(H),w=Lo(w,"onChange"),0<w.length&&(_=new _l("onChange","change",null,_,H),p.push({event:_,listeners:w}))}var Si=null,Ga=null;function od(p){oi(p,0)}function Mo(p){var w=Uo(p);if(oe(w))return p}function ld(p,w){if(p==="change")return w}var Ui=!1;if(o){var da;if(o){var ua="oninput"in document;if(!ua){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),ua=typeof Wa.oninput=="function"}da=ua}else da=!1;Ui=da&&(!document.documentMode||9<document.documentMode)}function cd(){Si&&(Si.detachEvent("onpropertychange",Ro),Ga=Si=null)}function Ro(p){if(p.propertyName==="value"&&Mo(Ga)){var w=[];ad(w,Ga,p,te(p)),ut(od,w)}}function Bl(p,w,_){p==="focusin"?(cd(),Si=w,Ga=_,Si.attachEvent("onpropertychange",Ro)):p==="focusout"&&cd()}function dd(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Mo(Ga)}function Fm(p,w){if(p==="click")return Mo(w)}function Bm(p,w){if(p==="input"||p==="change")return Mo(w)}function Um(p,w){return p===w&&(p!==0||1/p===1/w)||p!==p&&w!==w}var In=typeof Object.is=="function"?Object.is:Um;function J(p,w){if(In(p,w))return!0;if(typeof p!="object"||p===null||typeof w!="object"||w===null)return!1;var _=Object.keys(p),H=Object.keys(w);if(_.length!==H.length)return!1;for(H=0;H<_.length;H++){var Q=_[H];if(!i.call(w,Q)||!In(p[Q],w[Q]))return!1}return!0}function ue(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function ie(p,w){var _=ue(p);p=0;for(var H;_;){if(_.nodeType===3){if(H=p+_.textContent.length,p<=w&&H>=w)return{node:_,offset:w-p};p=H}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=ue(_)}}function ye(p,w){return p&&w?p===w?!0:p&&p.nodeType===3?!1:w&&w.nodeType===3?ye(p,w.parentNode):"contains"in p?p.contains(w):p.compareDocumentPosition?!!(p.compareDocumentPosition(w)&16):!1:!1}function Ae(){for(var p=window,w=ne();w instanceof p.HTMLIFrameElement;){try{var _=typeof w.contentWindow.location.href=="string"}catch{_=!1}if(_)p=w.contentWindow;else break;w=ne(p.document)}return w}function Fe(p){var w=p&&p.nodeName&&p.nodeName.toLowerCase();return w&&(w==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||w==="textarea"||p.contentEditable==="true")}function Ee(p){var w=Ae(),_=p.focusedElem,H=p.selectionRange;if(w!==_&&_&&_.ownerDocument&&ye(_.ownerDocument.documentElement,_)){if(H!==null&&Fe(_)){if(w=H.start,p=H.end,p===void 0&&(p=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(p,_.value.length);else if(p=(w=_.ownerDocument||document)&&w.defaultView||window,p.getSelection){p=p.getSelection();var Q=_.textContent.length,re=Math.min(H.start,Q);H=H.end===void 0?re:Math.min(H.end,Q),!p.extend&&re>H&&(Q=H,H=re,re=Q),Q=ie(_,re);var fe=ie(_,H);Q&&fe&&(p.rangeCount!==1||p.anchorNode!==Q.node||p.anchorOffset!==Q.offset||p.focusNode!==fe.node||p.focusOffset!==fe.offset)&&(w=w.createRange(),w.setStart(Q.node,Q.offset),p.removeAllRanges(),re>H?(p.addRange(w),p.extend(fe.node,fe.offset)):(w.setEnd(fe.node,fe.offset),p.addRange(w)))}}for(w=[],p=_;p=p.parentNode;)p.nodeType===1&&w.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<w.length;_++)p=w[_],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var qe=o&&"documentMode"in document&&11>=document.documentMode,tt=null,Xe=null,Ze=null,wt=!1;function gt(p,w,_){var H=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;wt||tt==null||tt!==ne(H)||(H=tt,"selectionStart"in H&&Fe(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),Ze&&J(Ze,H)||(Ze=H,H=Lo(Xe,"onSelect"),0<H.length&&(w=new _l("onSelect","select",null,w,_),p.push({event:w,listeners:H}),w.target=tt)))}function Et(p,w){var _={};return _[p.toLowerCase()]=w.toLowerCase(),_["Webkit"+p]="webkit"+w,_["Moz"+p]="moz"+w,_}var It={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},rr={},Ft={};o&&(Ft=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);function br(p){if(rr[p])return rr[p];if(!It[p])return p;var w=It[p],_;for(_ in w)if(w.hasOwnProperty(_)&&_ in Ft)return rr[p]=w[_];return p}var tr=br("animationend"),ur=br("animationiteration"),Mt=br("animationstart"),Ar=br("transitionend"),lr=new Map,ts="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(p,w){lr.set(p,w),c(w,[p])}for(var Ns=0;Ns<ts.length;Ns++){var ai=ts[Ns],Mn=ai.toLowerCase(),ma=ai[0].toUpperCase()+ai.slice(1);ks(Mn,"on"+ma)}ks(tr,"onAnimationEnd"),ks(ur,"onAnimationIteration"),ks(Mt,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(Ar,"onTransitionEnd"),n("onMouseEnter",["mouseout","mouseover"]),n("onMouseLeave",["mouseout","mouseover"]),n("onPointerEnter",["pointerout","pointerover"]),n("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function Gn(p,w,_){var H=p.type||"unknown-event";p.currentTarget=_,zt(H,w,void 0,p),p.currentTarget=null}function oi(p,w){w=(w&4)!==0;for(var _=0;_<p.length;_++){var H=p[_],Q=H.event;H=H.listeners;e:{var re=void 0;if(w)for(var fe=H.length-1;0<=fe;fe--){var ze=H[fe],$e=ze.instance,xt=ze.currentTarget;if(ze=ze.listener,$e!==re&&Q.isPropagationStopped())break e;Gn(Q,ze,xt),re=$e}else for(fe=0;fe<H.length;fe++){if(ze=H[fe],$e=ze.instance,xt=ze.currentTarget,ze=ze.listener,$e!==re&&Q.isPropagationStopped())break e;Gn(Q,ze,xt),re=$e}}}if(ot)throw p=at,ot=!1,at=null,p}function Nr(p,w){var _=w[Hm];_===void 0&&(_=w[Hm]=new Set);var H=p+"__bubble";_.has(H)||(zo(w,p,2,!1),_.add(H))}function ha(p,w,_){var H=0;w&&(H|=4),zo(_,p,H,w)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Ai(p){if(!p[Ci]){p[Ci]=!0,h.forEach(function(_){_!=="selectionchange"&&(Kn.has(_)||ha(_,!1,p),ha(_,!0,p))});var w=p.nodeType===9?p:p.ownerDocument;w===null||w[Ci]||(w[Ci]=!0,ha("selectionchange",!1,w))}}function zo(p,w,_,H){switch(Yc(w)){case 1:var Q=wm;break;case 4:Q=km;break;default:Q=Al}_=Q.bind(null,w,_,p),Q=void 0,!Le||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(Q=!0),H?Q!==void 0?p.addEventListener(w,_,{capture:!0,passive:Q}):p.addEventListener(w,_,!0):Q!==void 0?p.addEventListener(w,_,{passive:Q}):p.addEventListener(w,_,!1)}function Wn(p,w,_,H,Q){var re=H;if((w&1)===0&&(w&2)===0&&H!==null)e:for(;;){if(H===null)return;var fe=H.tag;if(fe===3||fe===4){var ze=H.stateNode.containerInfo;if(ze===Q||ze.nodeType===8&&ze.parentNode===Q)break;if(fe===4)for(fe=H.return;fe!==null;){var $e=fe.tag;if(($e===3||$e===4)&&($e=fe.stateNode.containerInfo,$e===Q||$e.nodeType===8&&$e.parentNode===Q))return;fe=fe.return}for(;ze!==null;){if(fe=Qa(ze),fe===null)return;if($e=fe.tag,$e===5||$e===6){H=re=fe;continue e}ze=ze.parentNode}}H=H.return}ut(function(){var xt=re,Ht=te(_),Wt=[];e:{var Bt=lr.get(p);if(Bt!==void 0){var nr=_l,ar=p;switch(p){case"keypress":if($a(_)===0)break e;case"keydown":case"keyup":nr=Dm;break;case"focusin":ar="focus",nr=yn;break;case"focusout":ar="blur",nr=yn;break;case"beforeblur":case"afterblur":nr=yn;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nr=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nr=Sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nr=Bi;break;case tr:case ur:case Mt:nr=Am;break;case Ar:nr=Mm;break;case"scroll":nr=Nm;break;case"wheel":nr=zl;break;case"copy":case"cut":case"paste":nr=Tm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nr=ed}var or=(w&4)!==0,ys=!or&&p==="scroll",it=or?Bt!==null?Bt+"Capture":null:Bt;or=[];for(var Qe=xt,ct;Qe!==null;){ct=Qe;var Xt=ct.stateNode;if(ct.tag===5&&Xt!==null&&(ct=Xt,it!==null&&(Xt=pt(Qe,it),Xt!=null&&or.push(Hr(Qe,Xt,ct)))),ys)break;Qe=Qe.return}0<or.length&&(Bt=new nr(Bt,ar,null,_,Ht),Wt.push({event:Bt,listeners:or}))}}if((w&7)===0){e:{if(Bt=p==="mouseover"||p==="pointerover",nr=p==="mouseout"||p==="pointerout",Bt&&_!==xe&&(ar=_.relatedTarget||_.fromElement)&&(Qa(ar)||ar[Vi]))break e;if((nr||Bt)&&(Bt=Ht.window===Ht?Ht:(Bt=Ht.ownerDocument)?Bt.defaultView||Bt.parentWindow:window,nr?(ar=_.relatedTarget||_.toElement,nr=xt,ar=ar?Qa(ar):null,ar!==null&&(ys=Re(ar),ar!==ys||ar.tag!==5&&ar.tag!==6)&&(ar=null)):(nr=null,ar=xt),nr!==ar)){if(or=Il,Xt="onMouseLeave",it="onMouseEnter",Qe="mouse",(p==="pointerout"||p==="pointerover")&&(or=ed,Xt="onPointerLeave",it="onPointerEnter",Qe="pointer"),ys=nr==null?Bt:Uo(nr),ct=ar==null?Bt:Uo(ar),Bt=new or(Xt,Qe+"leave",nr,_,Ht),Bt.target=ys,Bt.relatedTarget=ct,Xt=null,Qa(Ht)===xt&&(or=new or(it,Qe+"enter",ar,_,Ht),or.target=ct,or.relatedTarget=ys,Xt=or),ys=Xt,nr&&ar)t:{for(or=nr,it=ar,Qe=0,ct=or;ct;ct=qt(ct))Qe++;for(ct=0,Xt=it;Xt;Xt=qt(Xt))ct++;for(;0<Qe-ct;)or=qt(or),Qe--;for(;0<ct-Qe;)it=qt(it),ct--;for(;Qe--;){if(or===it||it!==null&&or===it.alternate)break t;or=qt(or),it=qt(it)}or=null}else or=null;nr!==null&&Er(Wt,Bt,nr,or,!1),ar!==null&&ys!==null&&Er(Wt,ys,ar,or,!0)}}e:{if(Bt=xt?Uo(xt):window,nr=Bt.nodeName&&Bt.nodeName.toLowerCase(),nr==="select"||nr==="input"&&Bt.type==="file")var cr=ld;else if(id(Bt))if(Ui)cr=Bm;else{cr=dd;var gr=Bl}else(nr=Bt.nodeName)&&nr.toLowerCase()==="input"&&(Bt.type==="checkbox"||Bt.type==="radio")&&(cr=Fm);if(cr&&(cr=cr(p,xt))){ad(Wt,cr,_,Ht);break e}gr&&gr(p,Bt,xt),p==="focusout"&&(gr=Bt._wrapperState)&&gr.controlled&&Bt.type==="number"&&be(Bt,"number",Bt.value)}switch(gr=xt?Uo(xt):window,p){case"focusin":(id(gr)||gr.contentEditable==="true")&&(tt=gr,Xe=xt,Ze=null);break;case"focusout":Ze=Xe=tt=null;break;case"mousedown":wt=!0;break;case"contextmenu":case"mouseup":case"dragend":wt=!1,gt(Wt,_,Ht);break;case"selectionchange":if(qe)break;case"keydown":case"keyup":gt(Wt,_,Ht)}var xr;if(Io)e:{switch(p){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else ca?Fl(p,_)&&(vr="onCompositionEnd"):p==="keydown"&&_.keyCode===229&&(vr="onCompositionStart");vr&&(Ll&&_.locale!=="ko"&&(ca||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&ca&&(xr=Qc()):(ki=Ht,Tl="value"in ki?ki.value:ki.textContent,ca=!0)),gr=Lo(xt,vr),0<gr.length&&(vr=new Jc(vr,p,null,_,Ht),Wt.push({event:vr,listeners:gr}),xr?vr.data=xr:(xr=nd(_),xr!==null&&(vr.data=xr)))),(xr=rd?zm(p,_):Lm(p,_))&&(xt=Lo(xt,"onBeforeInput"),0<xt.length&&(Ht=new Jc("onBeforeInput","beforeinput",null,_,Ht),Wt.push({event:Ht,listeners:xt}),Ht.data=xr))}oi(Wt,w)})}function Hr(p,w,_){return{instance:p,listener:w,currentTarget:_}}function Lo(p,w){for(var _=w+"Capture",H=[];p!==null;){var Q=p,re=Q.stateNode;Q.tag===5&&re!==null&&(Q=re,re=pt(p,_),re!=null&&H.unshift(Hr(p,re,Q)),re=pt(p,w),re!=null&&H.push(Hr(p,re,Q))),p=p.return}return H}function qt(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Er(p,w,_,H,Q){for(var re=w._reactName,fe=[];_!==null&&_!==H;){var ze=_,$e=ze.alternate,xt=ze.stateNode;if($e!==null&&$e===H)break;ze.tag===5&&xt!==null&&(ze=xt,Q?($e=pt(_,re),$e!=null&&fe.unshift(Hr(_,$e,ze))):Q||($e=pt(_,re),$e!=null&&fe.push(Hr(_,$e,ze)))),_=_.return}fe.length!==0&&p.push({event:w,listeners:fe})}var js=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Yn(p){return(typeof p=="string"?p:""+p).replace(js,`
`).replace(Zr,"")}function Gs(p,w,_){if(w=Yn(w),Yn(p)!==w&&_)throw Error(t(425))}function Ya(){}var Oo=null,Fo=null;function Vm(p,w){return p==="textarea"||p==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var qm=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(p){return Xp.resolve(null).then(p).catch(Fv)}:qm;function Fv(p){setTimeout(function(){throw p})}function $m(p,w){var _=w,H=0;do{var Q=_.nextSibling;if(p.removeChild(_),Q&&Q.nodeType===8)if(_=Q.data,_==="/$"){if(H===0){p.removeChild(Q),qa(w);return}H--}else _!=="$"&&_!=="$?"&&_!=="$!"||H++;_=Q}while(_);qa(w)}function fa(p){for(;p!=null;p=p.nextSibling){var w=p.nodeType;if(w===1||w===3)break;if(w===8){if(w=p.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return p}function Jp(p){p=p.previousSibling;for(var w=0;p;){if(p.nodeType===8){var _=p.data;if(_==="$"||_==="$!"||_==="$?"){if(w===0)return p;w--}else _==="/$"&&w++}p=p.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Bo,Ul="__reactProps$"+Bo,Vi="__reactContainer$"+Bo,Hm="__reactEvents$"+Bo,Bv="__reactListeners$"+Bo,Uv="__reactHandles$"+Bo;function Qa(p){var w=p[Ei];if(w)return w;for(var _=p.parentNode;_;){if(w=_[Vi]||_[Ei]){if(_=w.alternate,w.child!==null||_!==null&&_.child!==null)for(p=Jp(p);p!==null;){if(_=p[Ei])return _;p=Jp(p)}return w}p=_,_=p.parentNode}return null}function Vl(p){return p=p[Ei]||p[Vi],!p||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function Uo(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(t(33))}function ud(p){return p[Ul]||null}var Km=[],Vo=-1;function pa(p){return{current:p}}function rs(p){0>Vo||(p.current=Km[Vo],Km[Vo]=null,Vo--)}function Xr(p,w){Vo++,Km[Vo]=p.current,p.current=w}var ga={},Js=pa(ga),bn=pa(!1),Za=ga;function qo(p,w){var _=p.type.contextTypes;if(!_)return ga;var H=p.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===w)return H.__reactInternalMemoizedMaskedChildContext;var Q={},re;for(re in _)Q[re]=w[re];return H&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=w,p.__reactInternalMemoizedMaskedChildContext=Q),Q}function vn(p){return p=p.childContextTypes,p!=null}function md(){rs(bn),rs(Js)}function eg(p,w,_){if(Js.current!==ga)throw Error(t(168));Xr(Js,w),Xr(bn,_)}function tg(p,w,_){var H=p.stateNode;if(w=w.childContextTypes,typeof H.getChildContext!="function")return _;H=H.getChildContext();for(var Q in H)if(!(Q in w))throw Error(t(108,X(p)||"Unknown",Q));return P({},_,H)}function hd(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||ga,Za=Js.current,Xr(Js,p),Xr(bn,bn.current),!0}function rg(p,w,_){var H=p.stateNode;if(!H)throw Error(t(169));_?(p=tg(p,w,Za),H.__reactInternalMemoizedMergedChildContext=p,rs(bn),rs(Js),Xr(Js,p)):rs(bn),Xr(bn,_)}var qi=null,fd=!1,Gm=!1;function sg(p){qi===null?qi=[p]:qi.push(p)}function Vv(p){fd=!0,sg(p)}function xa(){if(!Gm&&qi!==null){Gm=!0;var p=0,w=yr;try{var _=qi;for(yr=1;p<_.length;p++){var H=_[p];do H=H(!0);while(H!==null)}qi=null,fd=!1}catch(Q){throw qi!==null&&(qi=qi.slice(p+1)),Ie(kt,xa),Q}finally{yr=w,Gm=!1}}return null}var $o=[],Ho=0,pd=null,gd=0,Qn=[],Zn=0,Xa=null,$i=1,Hi="";function Ja(p,w){$o[Ho++]=gd,$o[Ho++]=pd,pd=p,gd=w}function ng(p,w,_){Qn[Zn++]=$i,Qn[Zn++]=Hi,Qn[Zn++]=Xa,Xa=p;var H=$i;p=Hi;var Q=32-dr(H)-1;H&=~(1<<Q),_+=1;var re=32-dr(w)+Q;if(30<re){var fe=Q-Q%5;re=(H&(1<<fe)-1).toString(32),H>>=fe,Q-=fe,$i=1<<32-dr(w)+Q|_<<Q|H,Hi=re+p}else $i=1<<re|_<<Q|H,Hi=p}function Wm(p){p.return!==null&&(Ja(p,1),ng(p,1,0))}function Ym(p){for(;p===pd;)pd=$o[--Ho],$o[Ho]=null,gd=$o[--Ho],$o[Ho]=null;for(;p===Xa;)Xa=Qn[--Zn],Qn[Zn]=null,Hi=Qn[--Zn],Qn[Zn]=null,$i=Qn[--Zn],Qn[Zn]=null}var Rn=null,zn=null,ls=!1,li=null;function ig(p,w){var _=ti(5,null,null,0);_.elementType="DELETED",_.stateNode=w,_.return=p,w=p.deletions,w===null?(p.deletions=[_],p.flags|=16):w.push(_)}function ag(p,w){switch(p.tag){case 5:var _=p.type;return w=w.nodeType!==1||_.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(p.stateNode=w,Rn=p,zn=fa(w.firstChild),!0):!1;case 6:return w=p.pendingProps===""||w.nodeType!==3?null:w,w!==null?(p.stateNode=w,Rn=p,zn=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(_=Xa!==null?{id:$i,overflow:Hi}:null,p.memoizedState={dehydrated:w,treeContext:_,retryLane:1073741824},_=ti(18,null,null,0),_.stateNode=w,_.return=p,p.child=_,Rn=p,zn=null,!0):!1;default:return!1}}function Qm(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Zm(p){if(ls){var w=zn;if(w){var _=w;if(!ag(p,w)){if(Qm(p))throw Error(t(418));w=fa(_.nextSibling);var H=Rn;w&&ag(p,w)?ig(H,_):(p.flags=p.flags&-4097|2,ls=!1,Rn=p)}}else{if(Qm(p))throw Error(t(418));p.flags=p.flags&-4097|2,ls=!1,Rn=p}}}function og(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Rn=p}function xd(p){if(p!==Rn)return!1;if(!ls)return og(p),ls=!0,!1;var w;if((w=p.tag!==3)&&!(w=p.tag!==5)&&(w=p.type,w=w!=="head"&&w!=="body"&&!Vm(p.type,p.memoizedProps)),w&&(w=zn)){if(Qm(p))throw lg(),Error(t(418));for(;w;)ig(p,w),w=fa(w.nextSibling)}if(og(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));e:{for(p=p.nextSibling,w=0;p;){if(p.nodeType===8){var _=p.data;if(_==="/$"){if(w===0){zn=fa(p.nextSibling);break e}w--}else _!=="$"&&_!=="$!"&&_!=="$?"||w++}p=p.nextSibling}zn=null}}else zn=Rn?fa(p.stateNode.nextSibling):null;return!0}function lg(){for(var p=zn;p;)p=fa(p.nextSibling)}function Ko(){zn=Rn=null,ls=!1}function Xm(p){li===null?li=[p]:li.push(p)}var qv=E.ReactCurrentBatchConfig;function ql(p,w,_){if(p=_.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(t(309));var H=_.stateNode}if(!H)throw Error(t(147,p));var Q=H,re=""+p;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===re?w.ref:(w=function(fe){var ze=Q.refs;fe===null?delete ze[re]:ze[re]=fe},w._stringRef=re,w)}if(typeof p!="string")throw Error(t(284));if(!_._owner)throw Error(t(290,p))}return p}function yd(p,w){throw p=Object.prototype.toString.call(w),Error(t(31,p==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":p))}function cg(p){var w=p._init;return w(p._payload)}function dg(p){function w(it,Qe){if(p){var ct=it.deletions;ct===null?(it.deletions=[Qe],it.flags|=16):ct.push(Qe)}}function _(it,Qe){if(!p)return null;for(;Qe!==null;)w(it,Qe),Qe=Qe.sibling;return null}function H(it,Qe){for(it=new Map;Qe!==null;)Qe.key!==null?it.set(Qe.key,Qe):it.set(Qe.index,Qe),Qe=Qe.sibling;return it}function Q(it,Qe){return it=Sa(it,Qe),it.index=0,it.sibling=null,it}function re(it,Qe,ct){return it.index=ct,p?(ct=it.alternate,ct!==null?(ct=ct.index,ct<Qe?(it.flags|=2,Qe):ct):(it.flags|=2,Qe)):(it.flags|=1048576,Qe)}function fe(it){return p&&it.alternate===null&&(it.flags|=2),it}function ze(it,Qe,ct,Xt){return Qe===null||Qe.tag!==6?(Qe=qh(ct,it.mode,Xt),Qe.return=it,Qe):(Qe=Q(Qe,ct),Qe.return=it,Qe)}function $e(it,Qe,ct,Xt){var cr=ct.type;return cr===$?Ht(it,Qe,ct.props.children,Xt,ct.key):Qe!==null&&(Qe.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===k&&cg(cr)===Qe.type)?(Xt=Q(Qe,ct.props),Xt.ref=ql(it,Qe,ct),Xt.return=it,Xt):(Xt=Vd(ct.type,ct.key,ct.props,null,it.mode,Xt),Xt.ref=ql(it,Qe,ct),Xt.return=it,Xt)}function xt(it,Qe,ct,Xt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==ct.containerInfo||Qe.stateNode.implementation!==ct.implementation?(Qe=$h(ct,it.mode,Xt),Qe.return=it,Qe):(Qe=Q(Qe,ct.children||[]),Qe.return=it,Qe)}function Ht(it,Qe,ct,Xt,cr){return Qe===null||Qe.tag!==7?(Qe=oo(ct,it.mode,Xt,cr),Qe.return=it,Qe):(Qe=Q(Qe,ct),Qe.return=it,Qe)}function Wt(it,Qe,ct){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=qh(""+Qe,it.mode,ct),Qe.return=it,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case I:return ct=Vd(Qe.type,Qe.key,Qe.props,null,it.mode,ct),ct.ref=ql(it,null,Qe),ct.return=it,ct;case O:return Qe=$h(Qe,it.mode,ct),Qe.return=it,Qe;case k:var Xt=Qe._init;return Wt(it,Xt(Qe._payload),ct)}if(Te(Qe)||C(Qe))return Qe=oo(Qe,it.mode,ct,null),Qe.return=it,Qe;yd(it,Qe)}return null}function Bt(it,Qe,ct,Xt){var cr=Qe!==null?Qe.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return cr!==null?null:ze(it,Qe,""+ct,Xt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case I:return ct.key===cr?$e(it,Qe,ct,Xt):null;case O:return ct.key===cr?xt(it,Qe,ct,Xt):null;case k:return cr=ct._init,Bt(it,Qe,cr(ct._payload),Xt)}if(Te(ct)||C(ct))return cr!==null?null:Ht(it,Qe,ct,Xt,null);yd(it,ct)}return null}function nr(it,Qe,ct,Xt,cr){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number")return it=it.get(ct)||null,ze(Qe,it,""+Xt,cr);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case I:return it=it.get(Xt.key===null?ct:Xt.key)||null,$e(Qe,it,Xt,cr);case O:return it=it.get(Xt.key===null?ct:Xt.key)||null,xt(Qe,it,Xt,cr);case k:var gr=Xt._init;return nr(it,Qe,ct,gr(Xt._payload),cr)}if(Te(Xt)||C(Xt))return it=it.get(ct)||null,Ht(Qe,it,Xt,cr,null);yd(Qe,Xt)}return null}function ar(it,Qe,ct,Xt){for(var cr=null,gr=null,xr=Qe,vr=Qe=0,Ls=null;xr!==null&&vr<ct.length;vr++){xr.index>vr?(Ls=xr,xr=null):Ls=xr.sibling;var Ur=Bt(it,xr,ct[vr],Xt);if(Ur===null){xr===null&&(xr=Ls);break}p&&xr&&Ur.alternate===null&&w(it,xr),Qe=re(Ur,Qe,vr),gr===null?cr=Ur:gr.sibling=Ur,gr=Ur,xr=Ls}if(vr===ct.length)return _(it,xr),ls&&Ja(it,vr),cr;if(xr===null){for(;vr<ct.length;vr++)xr=Wt(it,ct[vr],Xt),xr!==null&&(Qe=re(xr,Qe,vr),gr===null?cr=xr:gr.sibling=xr,gr=xr);return ls&&Ja(it,vr),cr}for(xr=H(it,xr);vr<ct.length;vr++)Ls=nr(xr,it,vr,ct[vr],Xt),Ls!==null&&(p&&Ls.alternate!==null&&xr.delete(Ls.key===null?vr:Ls.key),Qe=re(Ls,Qe,vr),gr===null?cr=Ls:gr.sibling=Ls,gr=Ls);return p&&xr.forEach(function(Ca){return w(it,Ca)}),ls&&Ja(it,vr),cr}function or(it,Qe,ct,Xt){var cr=C(ct);if(typeof cr!="function")throw Error(t(150));if(ct=cr.call(ct),ct==null)throw Error(t(151));for(var gr=cr=null,xr=Qe,vr=Qe=0,Ls=null,Ur=ct.next();xr!==null&&!Ur.done;vr++,Ur=ct.next()){xr.index>vr?(Ls=xr,xr=null):Ls=xr.sibling;var Ca=Bt(it,xr,Ur.value,Xt);if(Ca===null){xr===null&&(xr=Ls);break}p&&xr&&Ca.alternate===null&&w(it,xr),Qe=re(Ca,Qe,vr),gr===null?cr=Ca:gr.sibling=Ca,gr=Ca,xr=Ls}if(Ur.done)return _(it,xr),ls&&Ja(it,vr),cr;if(xr===null){for(;!Ur.done;vr++,Ur=ct.next())Ur=Wt(it,Ur.value,Xt),Ur!==null&&(Qe=re(Ur,Qe,vr),gr===null?cr=Ur:gr.sibling=Ur,gr=Ur);return ls&&Ja(it,vr),cr}for(xr=H(it,xr);!Ur.done;vr++,Ur=ct.next())Ur=nr(xr,it,vr,Ur.value,Xt),Ur!==null&&(p&&Ur.alternate!==null&&xr.delete(Ur.key===null?vr:Ur.key),Qe=re(Ur,Qe,vr),gr===null?cr=Ur:gr.sibling=Ur,gr=Ur);return p&&xr.forEach(function(kw){return w(it,kw)}),ls&&Ja(it,vr),cr}function ys(it,Qe,ct,Xt){if(typeof ct=="object"&&ct!==null&&ct.type===$&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case I:e:{for(var cr=ct.key,gr=Qe;gr!==null;){if(gr.key===cr){if(cr=ct.type,cr===$){if(gr.tag===7){_(it,gr.sibling),Qe=Q(gr,ct.props.children),Qe.return=it,it=Qe;break e}}else if(gr.elementType===cr||typeof cr=="object"&&cr!==null&&cr.$$typeof===k&&cg(cr)===gr.type){_(it,gr.sibling),Qe=Q(gr,ct.props),Qe.ref=ql(it,gr,ct),Qe.return=it,it=Qe;break e}_(it,gr);break}else w(it,gr);gr=gr.sibling}ct.type===$?(Qe=oo(ct.props.children,it.mode,Xt,ct.key),Qe.return=it,it=Qe):(Xt=Vd(ct.type,ct.key,ct.props,null,it.mode,Xt),Xt.ref=ql(it,Qe,ct),Xt.return=it,it=Xt)}return fe(it);case O:e:{for(gr=ct.key;Qe!==null;){if(Qe.key===gr)if(Qe.tag===4&&Qe.stateNode.containerInfo===ct.containerInfo&&Qe.stateNode.implementation===ct.implementation){_(it,Qe.sibling),Qe=Q(Qe,ct.children||[]),Qe.return=it,it=Qe;break e}else{_(it,Qe);break}else w(it,Qe);Qe=Qe.sibling}Qe=$h(ct,it.mode,Xt),Qe.return=it,it=Qe}return fe(it);case k:return gr=ct._init,ys(it,Qe,gr(ct._payload),Xt)}if(Te(ct))return ar(it,Qe,ct,Xt);if(C(ct))return or(it,Qe,ct,Xt);yd(it,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,Qe!==null&&Qe.tag===6?(_(it,Qe.sibling),Qe=Q(Qe,ct),Qe.return=it,it=Qe):(_(it,Qe),Qe=qh(ct,it.mode,Xt),Qe.return=it,it=Qe),fe(it)):_(it,Qe)}return ys}var Go=dg(!0),ug=dg(!1),bd=pa(null),vd=null,Wo=null,Jm=null;function eh(){Jm=Wo=vd=null}function th(p){var w=bd.current;rs(bd),p._currentValue=w}function rh(p,w,_){for(;p!==null;){var H=p.alternate;if((p.childLanes&w)!==w?(p.childLanes|=w,H!==null&&(H.childLanes|=w)):H!==null&&(H.childLanes&w)!==w&&(H.childLanes|=w),p===_)break;p=p.return}}function Yo(p,w){vd=p,Jm=Wo=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&w)!==0&&(wn=!0),p.firstContext=null)}function Xn(p){var w=p._currentValue;if(Jm!==p)if(p={context:p,memoizedValue:w,next:null},Wo===null){if(vd===null)throw Error(t(308));Wo=p,vd.dependencies={lanes:0,firstContext:p}}else Wo=Wo.next=p;return w}var eo=null;function sh(p){eo===null?eo=[p]:eo.push(p)}function mg(p,w,_,H){var Q=w.interleaved;return Q===null?(_.next=_,sh(w)):(_.next=Q.next,Q.next=_),w.interleaved=_,Ki(p,H)}function Ki(p,w){p.lanes|=w;var _=p.alternate;for(_!==null&&(_.lanes|=w),_=p,p=p.return;p!==null;)p.childLanes|=w,_=p.alternate,_!==null&&(_.childLanes|=w),_=p,p=p.return;return _.tag===3?_.stateNode:null}var ya=!1;function nh(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hg(p,w){p=p.updateQueue,w.updateQueue===p&&(w.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Gi(p,w){return{eventTime:p,lane:w,tag:0,payload:null,callback:null,next:null}}function ba(p,w,_){var H=p.updateQueue;if(H===null)return null;if(H=H.shared,(Br&2)!==0){var Q=H.pending;return Q===null?w.next=w:(w.next=Q.next,Q.next=w),H.pending=w,Ki(p,_)}return Q=H.interleaved,Q===null?(w.next=w,sh(H)):(w.next=Q.next,Q.next=w),H.interleaved=w,Ki(p,_)}function wd(p,w,_){if(w=w.updateQueue,w!==null&&(w=w.shared,(_&4194240)!==0)){var H=w.lanes;H&=p.pendingLanes,_|=H,w.lanes=_,Li(p,_)}}function fg(p,w){var _=p.updateQueue,H=p.alternate;if(H!==null&&(H=H.updateQueue,_===H)){var Q=null,re=null;if(_=_.firstBaseUpdate,_!==null){do{var fe={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};re===null?Q=re=fe:re=re.next=fe,_=_.next}while(_!==null);re===null?Q=re=w:re=re.next=w}else Q=re=w;_={baseState:H.baseState,firstBaseUpdate:Q,lastBaseUpdate:re,shared:H.shared,effects:H.effects},p.updateQueue=_;return}p=_.lastBaseUpdate,p===null?_.firstBaseUpdate=w:p.next=w,_.lastBaseUpdate=w}function kd(p,w,_,H){var Q=p.updateQueue;ya=!1;var re=Q.firstBaseUpdate,fe=Q.lastBaseUpdate,ze=Q.shared.pending;if(ze!==null){Q.shared.pending=null;var $e=ze,xt=$e.next;$e.next=null,fe===null?re=xt:fe.next=xt,fe=$e;var Ht=p.alternate;Ht!==null&&(Ht=Ht.updateQueue,ze=Ht.lastBaseUpdate,ze!==fe&&(ze===null?Ht.firstBaseUpdate=xt:ze.next=xt,Ht.lastBaseUpdate=$e))}if(re!==null){var Wt=Q.baseState;fe=0,Ht=xt=$e=null,ze=re;do{var Bt=ze.lane,nr=ze.eventTime;if((H&Bt)===Bt){Ht!==null&&(Ht=Ht.next={eventTime:nr,lane:0,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null});e:{var ar=p,or=ze;switch(Bt=w,nr=_,or.tag){case 1:if(ar=or.payload,typeof ar=="function"){Wt=ar.call(nr,Wt,Bt);break e}Wt=ar;break e;case 3:ar.flags=ar.flags&-65537|128;case 0:if(ar=or.payload,Bt=typeof ar=="function"?ar.call(nr,Wt,Bt):ar,Bt==null)break e;Wt=P({},Wt,Bt);break e;case 2:ya=!0}}ze.callback!==null&&ze.lane!==0&&(p.flags|=64,Bt=Q.effects,Bt===null?Q.effects=[ze]:Bt.push(ze))}else nr={eventTime:nr,lane:Bt,tag:ze.tag,payload:ze.payload,callback:ze.callback,next:null},Ht===null?(xt=Ht=nr,$e=Wt):Ht=Ht.next=nr,fe|=Bt;if(ze=ze.next,ze===null){if(ze=Q.shared.pending,ze===null)break;Bt=ze,ze=Bt.next,Bt.next=null,Q.lastBaseUpdate=Bt,Q.shared.pending=null}}while(!0);if(Ht===null&&($e=Wt),Q.baseState=$e,Q.firstBaseUpdate=xt,Q.lastBaseUpdate=Ht,w=Q.shared.interleaved,w!==null){Q=w;do fe|=Q.lane,Q=Q.next;while(Q!==w)}else re===null&&(Q.shared.lanes=0);so|=fe,p.lanes=fe,p.memoizedState=Wt}}function pg(p,w,_){if(p=w.effects,w.effects=null,p!==null)for(w=0;w<p.length;w++){var H=p[w],Q=H.callback;if(Q!==null){if(H.callback=null,H=_,typeof Q!="function")throw Error(t(191,Q));Q.call(H)}}}var $l={},Ti=pa($l),Hl=pa($l),Kl=pa($l);function to(p){if(p===$l)throw Error(t(174));return p}function ih(p,w){switch(Xr(Kl,w),Xr(Hl,p),Xr(Ti,$l),p=w.nodeType,p){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:_e(null,"");break;default:p=p===8?w.parentNode:w,w=p.namespaceURI||null,p=p.tagName,w=_e(w,p)}rs(Ti),Xr(Ti,w)}function Qo(){rs(Ti),rs(Hl),rs(Kl)}function gg(p){to(Kl.current);var w=to(Ti.current),_=_e(w,p.type);w!==_&&(Xr(Hl,p),Xr(Ti,_))}function ah(p){Hl.current===p&&(rs(Ti),rs(Hl))}var ds=pa(0);function Nd(p){for(var w=p;w!==null;){if(w.tag===13){var _=w.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var oh=[];function lh(){for(var p=0;p<oh.length;p++)oh[p]._workInProgressVersionPrimary=null;oh.length=0}var jd=E.ReactCurrentDispatcher,ch=E.ReactCurrentBatchConfig,ro=0,us=null,Ts=null,Rs=null,Sd=!1,Gl=!1,Wl=0,$v=0;function en(){throw Error(t(321))}function dh(p,w){if(w===null)return!1;for(var _=0;_<w.length&&_<p.length;_++)if(!In(p[_],w[_]))return!1;return!0}function uh(p,w,_,H,Q,re){if(ro=re,us=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,jd.current=p===null||p.memoizedState===null?Wv:Yv,p=_(H,Q),Gl){re=0;do{if(Gl=!1,Wl=0,25<=re)throw Error(t(301));re+=1,Rs=Ts=null,w.updateQueue=null,jd.current=Qv,p=_(H,Q)}while(Gl)}if(jd.current=Ed,w=Ts!==null&&Ts.next!==null,ro=0,Rs=Ts=us=null,Sd=!1,w)throw Error(t(300));return p}function mh(){var p=Wl!==0;return Wl=0,p}function _i(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rs===null?us.memoizedState=Rs=p:Rs=Rs.next=p,Rs}function Jn(){if(Ts===null){var p=us.alternate;p=p!==null?p.memoizedState:null}else p=Ts.next;var w=Rs===null?us.memoizedState:Rs.next;if(w!==null)Rs=w,Ts=p;else{if(p===null)throw Error(t(310));Ts=p,p={memoizedState:Ts.memoizedState,baseState:Ts.baseState,baseQueue:Ts.baseQueue,queue:Ts.queue,next:null},Rs===null?us.memoizedState=Rs=p:Rs=Rs.next=p}return Rs}function Yl(p,w){return typeof w=="function"?w(p):w}function hh(p){var w=Jn(),_=w.queue;if(_===null)throw Error(t(311));_.lastRenderedReducer=p;var H=Ts,Q=H.baseQueue,re=_.pending;if(re!==null){if(Q!==null){var fe=Q.next;Q.next=re.next,re.next=fe}H.baseQueue=Q=re,_.pending=null}if(Q!==null){re=Q.next,H=H.baseState;var ze=fe=null,$e=null,xt=re;do{var Ht=xt.lane;if((ro&Ht)===Ht)$e!==null&&($e=$e.next={lane:0,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null}),H=xt.hasEagerState?xt.eagerState:p(H,xt.action);else{var Wt={lane:Ht,action:xt.action,hasEagerState:xt.hasEagerState,eagerState:xt.eagerState,next:null};$e===null?(ze=$e=Wt,fe=H):$e=$e.next=Wt,us.lanes|=Ht,so|=Ht}xt=xt.next}while(xt!==null&&xt!==re);$e===null?fe=H:$e.next=ze,In(H,w.memoizedState)||(wn=!0),w.memoizedState=H,w.baseState=fe,w.baseQueue=$e,_.lastRenderedState=H}if(p=_.interleaved,p!==null){Q=p;do re=Q.lane,us.lanes|=re,so|=re,Q=Q.next;while(Q!==p)}else Q===null&&(_.lanes=0);return[w.memoizedState,_.dispatch]}function fh(p){var w=Jn(),_=w.queue;if(_===null)throw Error(t(311));_.lastRenderedReducer=p;var H=_.dispatch,Q=_.pending,re=w.memoizedState;if(Q!==null){_.pending=null;var fe=Q=Q.next;do re=p(re,fe.action),fe=fe.next;while(fe!==Q);In(re,w.memoizedState)||(wn=!0),w.memoizedState=re,w.baseQueue===null&&(w.baseState=re),_.lastRenderedState=re}return[re,H]}function xg(){}function yg(p,w){var _=us,H=Jn(),Q=w(),re=!In(H.memoizedState,Q);if(re&&(H.memoizedState=Q,wn=!0),H=H.queue,ph(wg.bind(null,_,H,p),[p]),H.getSnapshot!==w||re||Rs!==null&&Rs.memoizedState.tag&1){if(_.flags|=2048,Ql(9,vg.bind(null,_,H,Q,w),void 0,null),zs===null)throw Error(t(349));(ro&30)!==0||bg(_,w,Q)}return Q}function bg(p,w,_){p.flags|=16384,p={getSnapshot:w,value:_},w=us.updateQueue,w===null?(w={lastEffect:null,stores:null},us.updateQueue=w,w.stores=[p]):(_=w.stores,_===null?w.stores=[p]:_.push(p))}function vg(p,w,_,H){w.value=_,w.getSnapshot=H,kg(w)&&Ng(p)}function wg(p,w,_){return _(function(){kg(w)&&Ng(p)})}function kg(p){var w=p.getSnapshot;p=p.value;try{var _=w();return!In(p,_)}catch{return!0}}function Ng(p){var w=Ki(p,1);w!==null&&mi(w,p,1,-1)}function jg(p){var w=_i();return typeof p=="function"&&(p=p()),w.memoizedState=w.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:p},w.queue=p,p=p.dispatch=Gv.bind(null,us,p),[w.memoizedState,p]}function Ql(p,w,_,H){return p={tag:p,create:w,destroy:_,deps:H,next:null},w=us.updateQueue,w===null?(w={lastEffect:null,stores:null},us.updateQueue=w,w.lastEffect=p.next=p):(_=w.lastEffect,_===null?w.lastEffect=p.next=p:(H=_.next,_.next=p,p.next=H,w.lastEffect=p)),p}function Sg(){return Jn().memoizedState}function Cd(p,w,_,H){var Q=_i();us.flags|=p,Q.memoizedState=Ql(1|w,_,void 0,H===void 0?null:H)}function Ad(p,w,_,H){var Q=Jn();H=H===void 0?null:H;var re=void 0;if(Ts!==null){var fe=Ts.memoizedState;if(re=fe.destroy,H!==null&&dh(H,fe.deps)){Q.memoizedState=Ql(w,_,re,H);return}}us.flags|=p,Q.memoizedState=Ql(1|w,_,re,H)}function Cg(p,w){return Cd(8390656,8,p,w)}function ph(p,w){return Ad(2048,8,p,w)}function Ag(p,w){return Ad(4,2,p,w)}function Eg(p,w){return Ad(4,4,p,w)}function Tg(p,w){if(typeof w=="function")return p=p(),w(p),function(){w(null)};if(w!=null)return p=p(),w.current=p,function(){w.current=null}}function _g(p,w,_){return _=_!=null?_.concat([p]):null,Ad(4,4,Tg.bind(null,w,p),_)}function gh(){}function Pg(p,w){var _=Jn();w=w===void 0?null:w;var H=_.memoizedState;return H!==null&&w!==null&&dh(w,H[1])?H[0]:(_.memoizedState=[p,w],p)}function Dg(p,w){var _=Jn();w=w===void 0?null:w;var H=_.memoizedState;return H!==null&&w!==null&&dh(w,H[1])?H[0]:(p=p(),_.memoizedState=[p,w],p)}function Ig(p,w,_){return(ro&21)===0?(p.baseState&&(p.baseState=!1,wn=!0),p.memoizedState=_):(In(_,w)||(_=Rr(),us.lanes|=_,so|=_,p.baseState=!0),w)}function Hv(p,w){var _=yr;yr=_!==0&&4>_?_:4,p(!0);var H=ch.transition;ch.transition={};try{p(!1),w()}finally{yr=_,ch.transition=H}}function Mg(){return Jn().memoizedState}function Kv(p,w,_){var H=Na(p);if(_={lane:H,action:_,hasEagerState:!1,eagerState:null,next:null},Rg(p))zg(w,_);else if(_=mg(p,w,_,H),_!==null){var Q=cn();mi(_,p,H,Q),Lg(_,w,H)}}function Gv(p,w,_){var H=Na(p),Q={lane:H,action:_,hasEagerState:!1,eagerState:null,next:null};if(Rg(p))zg(w,Q);else{var re=p.alternate;if(p.lanes===0&&(re===null||re.lanes===0)&&(re=w.lastRenderedReducer,re!==null))try{var fe=w.lastRenderedState,ze=re(fe,_);if(Q.hasEagerState=!0,Q.eagerState=ze,In(ze,fe)){var $e=w.interleaved;$e===null?(Q.next=Q,sh(w)):(Q.next=$e.next,$e.next=Q),w.interleaved=Q;return}}catch{}finally{}_=mg(p,w,Q,H),_!==null&&(Q=cn(),mi(_,p,H,Q),Lg(_,w,H))}}function Rg(p){var w=p.alternate;return p===us||w!==null&&w===us}function zg(p,w){Gl=Sd=!0;var _=p.pending;_===null?w.next=w:(w.next=_.next,_.next=w),p.pending=w}function Lg(p,w,_){if((_&4194240)!==0){var H=w.lanes;H&=p.pendingLanes,_|=H,w.lanes=_,Li(p,_)}}var Ed={readContext:Xn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},Wv={readContext:Xn,useCallback:function(p,w){return _i().memoizedState=[p,w===void 0?null:w],p},useContext:Xn,useEffect:Cg,useImperativeHandle:function(p,w,_){return _=_!=null?_.concat([p]):null,Cd(4194308,4,Tg.bind(null,w,p),_)},useLayoutEffect:function(p,w){return Cd(4194308,4,p,w)},useInsertionEffect:function(p,w){return Cd(4,2,p,w)},useMemo:function(p,w){var _=_i();return w=w===void 0?null:w,p=p(),_.memoizedState=[p,w],p},useReducer:function(p,w,_){var H=_i();return w=_!==void 0?_(w):w,H.memoizedState=H.baseState=w,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:w},H.queue=p,p=p.dispatch=Kv.bind(null,us,p),[H.memoizedState,p]},useRef:function(p){var w=_i();return p={current:p},w.memoizedState=p},useState:jg,useDebugValue:gh,useDeferredValue:function(p){return _i().memoizedState=p},useTransition:function(){var p=jg(!1),w=p[0];return p=Hv.bind(null,p[1]),_i().memoizedState=p,[w,p]},useMutableSource:function(){},useSyncExternalStore:function(p,w,_){var H=us,Q=_i();if(ls){if(_===void 0)throw Error(t(407));_=_()}else{if(_=w(),zs===null)throw Error(t(349));(ro&30)!==0||bg(H,w,_)}Q.memoizedState=_;var re={value:_,getSnapshot:w};return Q.queue=re,Cg(wg.bind(null,H,re,p),[p]),H.flags|=2048,Ql(9,vg.bind(null,H,re,_,w),void 0,null),_},useId:function(){var p=_i(),w=zs.identifierPrefix;if(ls){var _=Hi,H=$i;_=(H&~(1<<32-dr(H)-1)).toString(32)+_,w=":"+w+"R"+_,_=Wl++,0<_&&(w+="H"+_.toString(32)),w+=":"}else _=$v++,w=":"+w+"r"+_.toString(32)+":";return p.memoizedState=w},unstable_isNewReconciler:!1},Yv={readContext:Xn,useCallback:Pg,useContext:Xn,useEffect:ph,useImperativeHandle:_g,useInsertionEffect:Ag,useLayoutEffect:Eg,useMemo:Dg,useReducer:hh,useRef:Sg,useState:function(){return hh(Yl)},useDebugValue:gh,useDeferredValue:function(p){var w=Jn();return Ig(w,Ts.memoizedState,p)},useTransition:function(){var p=hh(Yl)[0],w=Jn().memoizedState;return[p,w]},useMutableSource:xg,useSyncExternalStore:yg,useId:Mg,unstable_isNewReconciler:!1},Qv={readContext:Xn,useCallback:Pg,useContext:Xn,useEffect:ph,useImperativeHandle:_g,useInsertionEffect:Ag,useLayoutEffect:Eg,useMemo:Dg,useReducer:fh,useRef:Sg,useState:function(){return fh(Yl)},useDebugValue:gh,useDeferredValue:function(p){var w=Jn();return Ts===null?w.memoizedState=p:Ig(w,Ts.memoizedState,p)},useTransition:function(){var p=fh(Yl)[0],w=Jn().memoizedState;return[p,w]},useMutableSource:xg,useSyncExternalStore:yg,useId:Mg,unstable_isNewReconciler:!1};function ci(p,w){if(p&&p.defaultProps){w=P({},w),p=p.defaultProps;for(var _ in p)w[_]===void 0&&(w[_]=p[_]);return w}return w}function xh(p,w,_,H){w=p.memoizedState,_=_(H,w),_=_==null?w:P({},w,_),p.memoizedState=_,p.lanes===0&&(p.updateQueue.baseState=_)}var Td={isMounted:function(p){return(p=p._reactInternals)?Re(p)===p:!1},enqueueSetState:function(p,w,_){p=p._reactInternals;var H=cn(),Q=Na(p),re=Gi(H,Q);re.payload=w,_!=null&&(re.callback=_),w=ba(p,re,Q),w!==null&&(mi(w,p,Q,H),wd(w,p,Q))},enqueueReplaceState:function(p,w,_){p=p._reactInternals;var H=cn(),Q=Na(p),re=Gi(H,Q);re.tag=1,re.payload=w,_!=null&&(re.callback=_),w=ba(p,re,Q),w!==null&&(mi(w,p,Q,H),wd(w,p,Q))},enqueueForceUpdate:function(p,w){p=p._reactInternals;var _=cn(),H=Na(p),Q=Gi(_,H);Q.tag=2,w!=null&&(Q.callback=w),w=ba(p,Q,H),w!==null&&(mi(w,p,H,_),wd(w,p,H))}};function Og(p,w,_,H,Q,re,fe){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(H,re,fe):w.prototype&&w.prototype.isPureReactComponent?!J(_,H)||!J(Q,re):!0}function Fg(p,w,_){var H=!1,Q=ga,re=w.contextType;return typeof re=="object"&&re!==null?re=Xn(re):(Q=vn(w)?Za:Js.current,H=w.contextTypes,re=(H=H!=null)?qo(p,Q):ga),w=new w(_,re),p.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Td,p.stateNode=w,w._reactInternals=p,H&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=Q,p.__reactInternalMemoizedMaskedChildContext=re),w}function Bg(p,w,_,H){p=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(_,H),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(_,H),w.state!==p&&Td.enqueueReplaceState(w,w.state,null)}function yh(p,w,_,H){var Q=p.stateNode;Q.props=_,Q.state=p.memoizedState,Q.refs={},nh(p);var re=w.contextType;typeof re=="object"&&re!==null?Q.context=Xn(re):(re=vn(w)?Za:Js.current,Q.context=qo(p,re)),Q.state=p.memoizedState,re=w.getDerivedStateFromProps,typeof re=="function"&&(xh(p,w,re,_),Q.state=p.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(w=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),w!==Q.state&&Td.enqueueReplaceState(Q,Q.state,null),kd(p,_,Q,H),Q.state=p.memoizedState),typeof Q.componentDidMount=="function"&&(p.flags|=4194308)}function Zo(p,w){try{var _="",H=w;do _+=ae(H),H=H.return;while(H);var Q=_}catch(re){Q=`
Error generating stack: `+re.message+`
`+re.stack}return{value:p,source:w,stack:Q,digest:null}}function bh(p,w,_){return{value:p,source:null,stack:_??null,digest:w??null}}function vh(p,w){try{console.error(w.value)}catch(_){setTimeout(function(){throw _})}}var Zv=typeof WeakMap=="function"?WeakMap:Map;function Ug(p,w,_){_=Gi(-1,_),_.tag=3,_.payload={element:null};var H=w.value;return _.callback=function(){zd||(zd=!0,Rh=H),vh(p,w)},_}function Vg(p,w,_){_=Gi(-1,_),_.tag=3;var H=p.type.getDerivedStateFromError;if(typeof H=="function"){var Q=w.value;_.payload=function(){return H(Q)},_.callback=function(){vh(p,w)}}var re=p.stateNode;return re!==null&&typeof re.componentDidCatch=="function"&&(_.callback=function(){vh(p,w),typeof H!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var fe=w.stack;this.componentDidCatch(w.value,{componentStack:fe!==null?fe:""})}),_}function qg(p,w,_){var H=p.pingCache;if(H===null){H=p.pingCache=new Zv;var Q=new Set;H.set(w,Q)}else Q=H.get(w),Q===void 0&&(Q=new Set,H.set(w,Q));Q.has(_)||(Q.add(_),p=uw.bind(null,p,w,_),w.then(p,p))}function $g(p){do{var w;if((w=p.tag===13)&&(w=p.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return p;p=p.return}while(p!==null);return null}function Hg(p,w,_,H,Q){return(p.mode&1)===0?(p===w?p.flags|=65536:(p.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(w=Gi(-1,1),w.tag=2,ba(_,w,1))),_.lanes|=1),p):(p.flags|=65536,p.lanes=Q,p)}var Xv=E.ReactCurrentOwner,wn=!1;function ln(p,w,_,H){w.child=p===null?ug(w,null,_,H):Go(w,p.child,_,H)}function Kg(p,w,_,H,Q){_=_.render;var re=w.ref;return Yo(w,Q),H=uh(p,w,_,H,re,Q),_=mh(),p!==null&&!wn?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~Q,Wi(p,w,Q)):(ls&&_&&Wm(w),w.flags|=1,ln(p,w,H,Q),w.child)}function Gg(p,w,_,H,Q){if(p===null){var re=_.type;return typeof re=="function"&&!Vh(re)&&re.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(w.tag=15,w.type=re,Wg(p,w,re,H,Q)):(p=Vd(_.type,null,H,w,w.mode,Q),p.ref=w.ref,p.return=w,w.child=p)}if(re=p.child,(p.lanes&Q)===0){var fe=re.memoizedProps;if(_=_.compare,_=_!==null?_:J,_(fe,H)&&p.ref===w.ref)return Wi(p,w,Q)}return w.flags|=1,p=Sa(re,H),p.ref=w.ref,p.return=w,w.child=p}function Wg(p,w,_,H,Q){if(p!==null){var re=p.memoizedProps;if(J(re,H)&&p.ref===w.ref)if(wn=!1,w.pendingProps=H=re,(p.lanes&Q)!==0)(p.flags&131072)!==0&&(wn=!0);else return w.lanes=p.lanes,Wi(p,w,Q)}return wh(p,w,_,H,Q)}function Yg(p,w,_){var H=w.pendingProps,Q=H.children,re=p!==null?p.memoizedState:null;if(H.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(Jo,Ln),Ln|=_;else{if((_&1073741824)===0)return p=re!==null?re.baseLanes|_:_,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:p,cachePool:null,transitions:null},w.updateQueue=null,Xr(Jo,Ln),Ln|=p,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=re!==null?re.baseLanes:_,Xr(Jo,Ln),Ln|=H}else re!==null?(H=re.baseLanes|_,w.memoizedState=null):H=_,Xr(Jo,Ln),Ln|=H;return ln(p,w,Q,_),w.child}function Qg(p,w){var _=w.ref;(p===null&&_!==null||p!==null&&p.ref!==_)&&(w.flags|=512,w.flags|=2097152)}function wh(p,w,_,H,Q){var re=vn(_)?Za:Js.current;return re=qo(w,re),Yo(w,Q),_=uh(p,w,_,H,re,Q),H=mh(),p!==null&&!wn?(w.updateQueue=p.updateQueue,w.flags&=-2053,p.lanes&=~Q,Wi(p,w,Q)):(ls&&H&&Wm(w),w.flags|=1,ln(p,w,_,Q),w.child)}function Zg(p,w,_,H,Q){if(vn(_)){var re=!0;hd(w)}else re=!1;if(Yo(w,Q),w.stateNode===null)Pd(p,w),Fg(w,_,H),yh(w,_,H,Q),H=!0;else if(p===null){var fe=w.stateNode,ze=w.memoizedProps;fe.props=ze;var $e=fe.context,xt=_.contextType;typeof xt=="object"&&xt!==null?xt=Xn(xt):(xt=vn(_)?Za:Js.current,xt=qo(w,xt));var Ht=_.getDerivedStateFromProps,Wt=typeof Ht=="function"||typeof fe.getSnapshotBeforeUpdate=="function";Wt||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ze!==H||$e!==xt)&&Bg(w,fe,H,xt),ya=!1;var Bt=w.memoizedState;fe.state=Bt,kd(w,H,fe,Q),$e=w.memoizedState,ze!==H||Bt!==$e||bn.current||ya?(typeof Ht=="function"&&(xh(w,_,Ht,H),$e=w.memoizedState),(ze=ya||Og(w,_,ze,H,Bt,$e,xt))?(Wt||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(w.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=H,w.memoizedState=$e),fe.props=H,fe.state=$e,fe.context=xt,H=ze):(typeof fe.componentDidMount=="function"&&(w.flags|=4194308),H=!1)}else{fe=w.stateNode,hg(p,w),ze=w.memoizedProps,xt=w.type===w.elementType?ze:ci(w.type,ze),fe.props=xt,Wt=w.pendingProps,Bt=fe.context,$e=_.contextType,typeof $e=="object"&&$e!==null?$e=Xn($e):($e=vn(_)?Za:Js.current,$e=qo(w,$e));var nr=_.getDerivedStateFromProps;(Ht=typeof nr=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ze!==Wt||Bt!==$e)&&Bg(w,fe,H,$e),ya=!1,Bt=w.memoizedState,fe.state=Bt,kd(w,H,fe,Q);var ar=w.memoizedState;ze!==Wt||Bt!==ar||bn.current||ya?(typeof nr=="function"&&(xh(w,_,nr,H),ar=w.memoizedState),(xt=ya||Og(w,_,xt,H,Bt,ar,$e)||!1)?(Ht||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(H,ar,$e),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(H,ar,$e)),typeof fe.componentDidUpdate=="function"&&(w.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof fe.componentDidUpdate!="function"||ze===p.memoizedProps&&Bt===p.memoizedState||(w.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ze===p.memoizedProps&&Bt===p.memoizedState||(w.flags|=1024),w.memoizedProps=H,w.memoizedState=ar),fe.props=H,fe.state=ar,fe.context=$e,H=xt):(typeof fe.componentDidUpdate!="function"||ze===p.memoizedProps&&Bt===p.memoizedState||(w.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ze===p.memoizedProps&&Bt===p.memoizedState||(w.flags|=1024),H=!1)}return kh(p,w,_,H,re,Q)}function kh(p,w,_,H,Q,re){Qg(p,w);var fe=(w.flags&128)!==0;if(!H&&!fe)return Q&&rg(w,_,!1),Wi(p,w,re);H=w.stateNode,Xv.current=w;var ze=fe&&typeof _.getDerivedStateFromError!="function"?null:H.render();return w.flags|=1,p!==null&&fe?(w.child=Go(w,p.child,null,re),w.child=Go(w,null,ze,re)):ln(p,w,ze,re),w.memoizedState=H.state,Q&&rg(w,_,!0),w.child}function Xg(p){var w=p.stateNode;w.pendingContext?eg(p,w.pendingContext,w.pendingContext!==w.context):w.context&&eg(p,w.context,!1),ih(p,w.containerInfo)}function Jg(p,w,_,H,Q){return Ko(),Xm(Q),w.flags|=256,ln(p,w,_,H),w.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function jh(p){return{baseLanes:p,cachePool:null,transitions:null}}function e0(p,w,_){var H=w.pendingProps,Q=ds.current,re=!1,fe=(w.flags&128)!==0,ze;if((ze=fe)||(ze=p!==null&&p.memoizedState===null?!1:(Q&2)!==0),ze?(re=!0,w.flags&=-129):(p===null||p.memoizedState!==null)&&(Q|=1),Xr(ds,Q&1),p===null)return Zm(w),p=w.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((w.mode&1)===0?w.lanes=1:p.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(fe=H.children,p=H.fallback,re?(H=w.mode,re=w.child,fe={mode:"hidden",children:fe},(H&1)===0&&re!==null?(re.childLanes=0,re.pendingProps=fe):re=qd(fe,H,0,null),p=oo(p,H,_,null),re.return=w,p.return=w,re.sibling=p,w.child=re,w.child.memoizedState=jh(_),w.memoizedState=Nh,p):Sh(w,fe));if(Q=p.memoizedState,Q!==null&&(ze=Q.dehydrated,ze!==null))return Jv(p,w,fe,H,ze,Q,_);if(re){re=H.fallback,fe=w.mode,Q=p.child,ze=Q.sibling;var $e={mode:"hidden",children:H.children};return(fe&1)===0&&w.child!==Q?(H=w.child,H.childLanes=0,H.pendingProps=$e,w.deletions=null):(H=Sa(Q,$e),H.subtreeFlags=Q.subtreeFlags&14680064),ze!==null?re=Sa(ze,re):(re=oo(re,fe,_,null),re.flags|=2),re.return=w,H.return=w,H.sibling=re,w.child=H,H=re,re=w.child,fe=p.child.memoizedState,fe=fe===null?jh(_):{baseLanes:fe.baseLanes|_,cachePool:null,transitions:fe.transitions},re.memoizedState=fe,re.childLanes=p.childLanes&~_,w.memoizedState=Nh,H}return re=p.child,p=re.sibling,H=Sa(re,{mode:"visible",children:H.children}),(w.mode&1)===0&&(H.lanes=_),H.return=w,H.sibling=null,p!==null&&(_=w.deletions,_===null?(w.deletions=[p],w.flags|=16):_.push(p)),w.child=H,w.memoizedState=null,H}function Sh(p,w){return w=qd({mode:"visible",children:w},p.mode,0,null),w.return=p,p.child=w}function _d(p,w,_,H){return H!==null&&Xm(H),Go(w,p.child,null,_),p=Sh(w,w.pendingProps.children),p.flags|=2,w.memoizedState=null,p}function Jv(p,w,_,H,Q,re,fe){if(_)return w.flags&256?(w.flags&=-257,H=bh(Error(t(422))),_d(p,w,fe,H)):w.memoizedState!==null?(w.child=p.child,w.flags|=128,null):(re=H.fallback,Q=w.mode,H=qd({mode:"visible",children:H.children},Q,0,null),re=oo(re,Q,fe,null),re.flags|=2,H.return=w,re.return=w,H.sibling=re,w.child=H,(w.mode&1)!==0&&Go(w,p.child,null,fe),w.child.memoizedState=jh(fe),w.memoizedState=Nh,re);if((w.mode&1)===0)return _d(p,w,fe,null);if(Q.data==="$!"){if(H=Q.nextSibling&&Q.nextSibling.dataset,H)var ze=H.dgst;return H=ze,re=Error(t(419)),H=bh(re,H,void 0),_d(p,w,fe,H)}if(ze=(fe&p.childLanes)!==0,wn||ze){if(H=zs,H!==null){switch(fe&-fe){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(H.suspendedLanes|fe))!==0?0:Q,Q!==0&&Q!==re.retryLane&&(re.retryLane=Q,Ki(p,Q),mi(H,p,Q,-1))}return Uh(),H=bh(Error(t(421))),_d(p,w,fe,H)}return Q.data==="$?"?(w.flags|=128,w.child=p.child,w=mw.bind(null,p),Q._reactRetry=w,null):(p=re.treeContext,zn=fa(Q.nextSibling),Rn=w,ls=!0,li=null,p!==null&&(Qn[Zn++]=$i,Qn[Zn++]=Hi,Qn[Zn++]=Xa,$i=p.id,Hi=p.overflow,Xa=w),w=Sh(w,H.children),w.flags|=4096,w)}function t0(p,w,_){p.lanes|=w;var H=p.alternate;H!==null&&(H.lanes|=w),rh(p.return,w,_)}function Ch(p,w,_,H,Q){var re=p.memoizedState;re===null?p.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:H,tail:_,tailMode:Q}:(re.isBackwards=w,re.rendering=null,re.renderingStartTime=0,re.last=H,re.tail=_,re.tailMode=Q)}function r0(p,w,_){var H=w.pendingProps,Q=H.revealOrder,re=H.tail;if(ln(p,w,H.children,_),H=ds.current,(H&2)!==0)H=H&1|2,w.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=w.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&t0(p,_,w);else if(p.tag===19)t0(p,_,w);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===w)break e;for(;p.sibling===null;){if(p.return===null||p.return===w)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}H&=1}if(Xr(ds,H),(w.mode&1)===0)w.memoizedState=null;else switch(Q){case"forwards":for(_=w.child,Q=null;_!==null;)p=_.alternate,p!==null&&Nd(p)===null&&(Q=_),_=_.sibling;_=Q,_===null?(Q=w.child,w.child=null):(Q=_.sibling,_.sibling=null),Ch(w,!1,Q,_,re);break;case"backwards":for(_=null,Q=w.child,w.child=null;Q!==null;){if(p=Q.alternate,p!==null&&Nd(p)===null){w.child=Q;break}p=Q.sibling,Q.sibling=_,_=Q,Q=p}Ch(w,!0,_,null,re);break;case"together":Ch(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Pd(p,w){(w.mode&1)===0&&p!==null&&(p.alternate=null,w.alternate=null,w.flags|=2)}function Wi(p,w,_){if(p!==null&&(w.dependencies=p.dependencies),so|=w.lanes,(_&w.childLanes)===0)return null;if(p!==null&&w.child!==p.child)throw Error(t(153));if(w.child!==null){for(p=w.child,_=Sa(p,p.pendingProps),w.child=_,_.return=w;p.sibling!==null;)p=p.sibling,_=_.sibling=Sa(p,p.pendingProps),_.return=w;_.sibling=null}return w.child}function ew(p,w,_){switch(w.tag){case 3:Xg(w),Ko();break;case 5:gg(w);break;case 1:vn(w.type)&&hd(w);break;case 4:ih(w,w.stateNode.containerInfo);break;case 10:var H=w.type._context,Q=w.memoizedProps.value;Xr(bd,H._currentValue),H._currentValue=Q;break;case 13:if(H=w.memoizedState,H!==null)return H.dehydrated!==null?(Xr(ds,ds.current&1),w.flags|=128,null):(_&w.child.childLanes)!==0?e0(p,w,_):(Xr(ds,ds.current&1),p=Wi(p,w,_),p!==null?p.sibling:null);Xr(ds,ds.current&1);break;case 19:if(H=(_&w.childLanes)!==0,(p.flags&128)!==0){if(H)return r0(p,w,_);w.flags|=128}if(Q=w.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Xr(ds,ds.current),H)break;return null;case 22:case 23:return w.lanes=0,Yg(p,w,_)}return Wi(p,w,_)}var s0,Ah,n0,i0;s0=function(p,w){for(var _=w.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===w)break;for(;_.sibling===null;){if(_.return===null||_.return===w)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},Ah=function(){},n0=function(p,w,_,H){var Q=p.memoizedProps;if(Q!==H){p=w.stateNode,to(Ti.current);var re=null;switch(_){case"input":Q=le(p,Q),H=le(p,H),re=[];break;case"select":Q=P({},Q,{value:void 0}),H=P({},H,{value:void 0}),re=[];break;case"textarea":Q=Pe(p,Q),H=Pe(p,H),re=[];break;default:typeof Q.onClick!="function"&&typeof H.onClick=="function"&&(p.onclick=Ya)}pe(_,H);var fe;_=null;for(xt in Q)if(!H.hasOwnProperty(xt)&&Q.hasOwnProperty(xt)&&Q[xt]!=null)if(xt==="style"){var ze=Q[xt];for(fe in ze)ze.hasOwnProperty(fe)&&(_||(_={}),_[fe]="")}else xt!=="dangerouslySetInnerHTML"&&xt!=="children"&&xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&xt!=="autoFocus"&&(f.hasOwnProperty(xt)?re||(re=[]):(re=re||[]).push(xt,null));for(xt in H){var $e=H[xt];if(ze=Q?.[xt],H.hasOwnProperty(xt)&&$e!==ze&&($e!=null||ze!=null))if(xt==="style")if(ze){for(fe in ze)!ze.hasOwnProperty(fe)||$e&&$e.hasOwnProperty(fe)||(_||(_={}),_[fe]="");for(fe in $e)$e.hasOwnProperty(fe)&&ze[fe]!==$e[fe]&&(_||(_={}),_[fe]=$e[fe])}else _||(re||(re=[]),re.push(xt,_)),_=$e;else xt==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,ze=ze?ze.__html:void 0,$e!=null&&ze!==$e&&(re=re||[]).push(xt,$e)):xt==="children"?typeof $e!="string"&&typeof $e!="number"||(re=re||[]).push(xt,""+$e):xt!=="suppressContentEditableWarning"&&xt!=="suppressHydrationWarning"&&(f.hasOwnProperty(xt)?($e!=null&&xt==="onScroll"&&Nr("scroll",p),re||ze===$e||(re=[])):(re=re||[]).push(xt,$e))}_&&(re=re||[]).push("style",_);var xt=re;(w.updateQueue=xt)&&(w.flags|=4)}},i0=function(p,w,_,H){_!==H&&(w.flags|=4)};function Zl(p,w){if(!ls)switch(p.tailMode){case"hidden":w=p.tail;for(var _=null;w!==null;)w.alternate!==null&&(_=w),w=w.sibling;_===null?p.tail=null:_.sibling=null;break;case"collapsed":_=p.tail;for(var H=null;_!==null;)_.alternate!==null&&(H=_),_=_.sibling;H===null?w||p.tail===null?p.tail=null:p.tail.sibling=null:H.sibling=null}}function tn(p){var w=p.alternate!==null&&p.alternate.child===p.child,_=0,H=0;if(w)for(var Q=p.child;Q!==null;)_|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags&14680064,H|=Q.flags&14680064,Q.return=p,Q=Q.sibling;else for(Q=p.child;Q!==null;)_|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags,H|=Q.flags,Q.return=p,Q=Q.sibling;return p.subtreeFlags|=H,p.childLanes=_,w}function tw(p,w,_){var H=w.pendingProps;switch(Ym(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(w),null;case 1:return vn(w.type)&&md(),tn(w),null;case 3:return H=w.stateNode,Qo(),rs(bn),rs(Js),lh(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(p===null||p.child===null)&&(xd(w)?w.flags|=4:p===null||p.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,li!==null&&(Oh(li),li=null))),Ah(p,w),tn(w),null;case 5:ah(w);var Q=to(Kl.current);if(_=w.type,p!==null&&w.stateNode!=null)n0(p,w,_,H,Q),p.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!H){if(w.stateNode===null)throw Error(t(166));return tn(w),null}if(p=to(Ti.current),xd(w)){H=w.stateNode,_=w.type;var re=w.memoizedProps;switch(H[Ei]=w,H[Ul]=re,p=(w.mode&1)!==0,_){case"dialog":Nr("cancel",H),Nr("close",H);break;case"iframe":case"object":case"embed":Nr("load",H);break;case"video":case"audio":for(Q=0;Q<Ks.length;Q++)Nr(Ks[Q],H);break;case"source":Nr("error",H);break;case"img":case"image":case"link":Nr("error",H),Nr("load",H);break;case"details":Nr("toggle",H);break;case"input":Se(H,re),Nr("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!re.multiple},Nr("invalid",H);break;case"textarea":Be(H,re),Nr("invalid",H)}pe(_,re),Q=null;for(var fe in re)if(re.hasOwnProperty(fe)){var ze=re[fe];fe==="children"?typeof ze=="string"?H.textContent!==ze&&(re.suppressHydrationWarning!==!0&&Gs(H.textContent,ze,p),Q=["children",ze]):typeof ze=="number"&&H.textContent!==""+ze&&(re.suppressHydrationWarning!==!0&&Gs(H.textContent,ze,p),Q=["children",""+ze]):f.hasOwnProperty(fe)&&ze!=null&&fe==="onScroll"&&Nr("scroll",H)}switch(_){case"input":se(H),ce(H,re,!0);break;case"textarea":se(H),st(H);break;case"select":case"option":break;default:typeof re.onClick=="function"&&(H.onclick=Ya)}H=Q,w.updateQueue=H,H!==null&&(w.flags|=4)}else{fe=Q.nodeType===9?Q:Q.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=bt(_)),p==="http://www.w3.org/1999/xhtml"?_==="script"?(p=fe.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof H.is=="string"?p=fe.createElement(_,{is:H.is}):(p=fe.createElement(_),_==="select"&&(fe=p,H.multiple?fe.multiple=!0:H.size&&(fe.size=H.size))):p=fe.createElementNS(p,_),p[Ei]=w,p[Ul]=H,s0(p,w,!1,!1),w.stateNode=p;e:{switch(fe=me(_,H),_){case"dialog":Nr("cancel",p),Nr("close",p),Q=H;break;case"iframe":case"object":case"embed":Nr("load",p),Q=H;break;case"video":case"audio":for(Q=0;Q<Ks.length;Q++)Nr(Ks[Q],p);Q=H;break;case"source":Nr("error",p),Q=H;break;case"img":case"image":case"link":Nr("error",p),Nr("load",p),Q=H;break;case"details":Nr("toggle",p),Q=H;break;case"input":Se(p,H),Q=le(p,H),Nr("invalid",p);break;case"option":Q=H;break;case"select":p._wrapperState={wasMultiple:!!H.multiple},Q=P({},H,{value:void 0}),Nr("invalid",p);break;case"textarea":Be(p,H),Q=Pe(p,H),Nr("invalid",p);break;default:Q=H}pe(_,Q),ze=Q;for(re in ze)if(ze.hasOwnProperty(re)){var $e=ze[re];re==="style"?Oe(p,$e):re==="dangerouslySetInnerHTML"?($e=$e?$e.__html:void 0,$e!=null&&vt(p,$e)):re==="children"?typeof $e=="string"?(_!=="textarea"||$e!=="")&&At(p,$e):typeof $e=="number"&&At(p,""+$e):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(f.hasOwnProperty(re)?$e!=null&&re==="onScroll"&&Nr("scroll",p):$e!=null&&N(p,re,$e,fe))}switch(_){case"input":se(p),ce(p,H,!1);break;case"textarea":se(p),st(p);break;case"option":H.value!=null&&p.setAttribute("value",""+F(H.value));break;case"select":p.multiple=!!H.multiple,re=H.value,re!=null?Ce(p,!!H.multiple,re,!1):H.defaultValue!=null&&Ce(p,!!H.multiple,H.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(p.onclick=Ya)}switch(_){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break e;case"img":H=!0;break e;default:H=!1}}H&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return tn(w),null;case 6:if(p&&w.stateNode!=null)i0(p,w,p.memoizedProps,H);else{if(typeof H!="string"&&w.stateNode===null)throw Error(t(166));if(_=to(Kl.current),to(Ti.current),xd(w)){if(H=w.stateNode,_=w.memoizedProps,H[Ei]=w,(re=H.nodeValue!==_)&&(p=Rn,p!==null))switch(p.tag){case 3:Gs(H.nodeValue,_,(p.mode&1)!==0);break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&Gs(H.nodeValue,_,(p.mode&1)!==0)}re&&(w.flags|=4)}else H=(_.nodeType===9?_:_.ownerDocument).createTextNode(H),H[Ei]=w,w.stateNode=H}return tn(w),null;case 13:if(rs(ds),H=w.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(ls&&zn!==null&&(w.mode&1)!==0&&(w.flags&128)===0)lg(),Ko(),w.flags|=98560,re=!1;else if(re=xd(w),H!==null&&H.dehydrated!==null){if(p===null){if(!re)throw Error(t(318));if(re=w.memoizedState,re=re!==null?re.dehydrated:null,!re)throw Error(t(317));re[Ei]=w}else Ko(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;tn(w),re=!1}else li!==null&&(Oh(li),li=null),re=!0;if(!re)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=_,w):(H=H!==null,H!==(p!==null&&p.memoizedState!==null)&&H&&(w.child.flags|=8192,(w.mode&1)!==0&&(p===null||(ds.current&1)!==0?_s===0&&(_s=3):Uh())),w.updateQueue!==null&&(w.flags|=4),tn(w),null);case 4:return Qo(),Ah(p,w),p===null&&Ai(w.stateNode.containerInfo),tn(w),null;case 10:return th(w.type._context),tn(w),null;case 17:return vn(w.type)&&md(),tn(w),null;case 19:if(rs(ds),re=w.memoizedState,re===null)return tn(w),null;if(H=(w.flags&128)!==0,fe=re.rendering,fe===null)if(H)Zl(re,!1);else{if(_s!==0||p!==null&&(p.flags&128)!==0)for(p=w.child;p!==null;){if(fe=Nd(p),fe!==null){for(w.flags|=128,Zl(re,!1),H=fe.updateQueue,H!==null&&(w.updateQueue=H,w.flags|=4),w.subtreeFlags=0,H=_,_=w.child;_!==null;)re=_,p=H,re.flags&=14680066,fe=re.alternate,fe===null?(re.childLanes=0,re.lanes=p,re.child=null,re.subtreeFlags=0,re.memoizedProps=null,re.memoizedState=null,re.updateQueue=null,re.dependencies=null,re.stateNode=null):(re.childLanes=fe.childLanes,re.lanes=fe.lanes,re.child=fe.child,re.subtreeFlags=0,re.deletions=null,re.memoizedProps=fe.memoizedProps,re.memoizedState=fe.memoizedState,re.updateQueue=fe.updateQueue,re.type=fe.type,p=fe.dependencies,re.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),_=_.sibling;return Xr(ds,ds.current&1|2),w.child}p=p.sibling}re.tail!==null&&Ve()>el&&(w.flags|=128,H=!0,Zl(re,!1),w.lanes=4194304)}else{if(!H)if(p=Nd(fe),p!==null){if(w.flags|=128,H=!0,_=p.updateQueue,_!==null&&(w.updateQueue=_,w.flags|=4),Zl(re,!0),re.tail===null&&re.tailMode==="hidden"&&!fe.alternate&&!ls)return tn(w),null}else 2*Ve()-re.renderingStartTime>el&&_!==1073741824&&(w.flags|=128,H=!0,Zl(re,!1),w.lanes=4194304);re.isBackwards?(fe.sibling=w.child,w.child=fe):(_=re.last,_!==null?_.sibling=fe:w.child=fe,re.last=fe)}return re.tail!==null?(w=re.tail,re.rendering=w,re.tail=w.sibling,re.renderingStartTime=Ve(),w.sibling=null,_=ds.current,Xr(ds,H?_&1|2:_&1),w):(tn(w),null);case 22:case 23:return Bh(),H=w.memoizedState!==null,p!==null&&p.memoizedState!==null!==H&&(w.flags|=8192),H&&(w.mode&1)!==0?(Ln&1073741824)!==0&&(tn(w),w.subtreeFlags&6&&(w.flags|=8192)):tn(w),null;case 24:return null;case 25:return null}throw Error(t(156,w.tag))}function rw(p,w){switch(Ym(w),w.tag){case 1:return vn(w.type)&&md(),p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 3:return Qo(),rs(bn),rs(Js),lh(),p=w.flags,(p&65536)!==0&&(p&128)===0?(w.flags=p&-65537|128,w):null;case 5:return ah(w),null;case 13:if(rs(ds),p=w.memoizedState,p!==null&&p.dehydrated!==null){if(w.alternate===null)throw Error(t(340));Ko()}return p=w.flags,p&65536?(w.flags=p&-65537|128,w):null;case 19:return rs(ds),null;case 4:return Qo(),null;case 10:return th(w.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var Dd=!1,rn=!1,sw=typeof WeakSet=="function"?WeakSet:Set,ir=null;function Xo(p,w){var _=p.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(H){fs(p,w,H)}else _.current=null}function Eh(p,w,_){try{_()}catch(H){fs(p,w,H)}}var a0=!1;function nw(p,w){if(Oo=Ao,p=Ae(),Fe(p)){if("selectionStart"in p)var _={start:p.selectionStart,end:p.selectionEnd};else e:{_=(_=p.ownerDocument)&&_.defaultView||window;var H=_.getSelection&&_.getSelection();if(H&&H.rangeCount!==0){_=H.anchorNode;var Q=H.anchorOffset,re=H.focusNode;H=H.focusOffset;try{_.nodeType,re.nodeType}catch{_=null;break e}var fe=0,ze=-1,$e=-1,xt=0,Ht=0,Wt=p,Bt=null;t:for(;;){for(var nr;Wt!==_||Q!==0&&Wt.nodeType!==3||(ze=fe+Q),Wt!==re||H!==0&&Wt.nodeType!==3||($e=fe+H),Wt.nodeType===3&&(fe+=Wt.nodeValue.length),(nr=Wt.firstChild)!==null;)Bt=Wt,Wt=nr;for(;;){if(Wt===p)break t;if(Bt===_&&++xt===Q&&(ze=fe),Bt===re&&++Ht===H&&($e=fe),(nr=Wt.nextSibling)!==null)break;Wt=Bt,Bt=Wt.parentNode}Wt=nr}_=ze===-1||$e===-1?null:{start:ze,end:$e}}else _=null}_=_||{start:0,end:0}}else _=null;for(Fo={focusedElem:p,selectionRange:_},Ao=!1,ir=w;ir!==null;)if(w=ir,p=w.child,(w.subtreeFlags&1028)!==0&&p!==null)p.return=w,ir=p;else for(;ir!==null;){w=ir;try{var ar=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(ar!==null){var or=ar.memoizedProps,ys=ar.memoizedState,it=w.stateNode,Qe=it.getSnapshotBeforeUpdate(w.elementType===w.type?or:ci(w.type,or),ys);it.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:var ct=w.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Xt){fs(w,w.return,Xt)}if(p=w.sibling,p!==null){p.return=w.return,ir=p;break}ir=w.return}return ar=a0,a0=!1,ar}function Xl(p,w,_){var H=w.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var Q=H=H.next;do{if((Q.tag&p)===p){var re=Q.destroy;Q.destroy=void 0,re!==void 0&&Eh(w,_,re)}Q=Q.next}while(Q!==H)}}function Id(p,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var _=w=w.next;do{if((_.tag&p)===p){var H=_.create;_.destroy=H()}_=_.next}while(_!==w)}}function Th(p){var w=p.ref;if(w!==null){var _=p.stateNode;switch(p.tag){case 5:p=_;break;default:p=_}typeof w=="function"?w(p):w.current=p}}function o0(p){var w=p.alternate;w!==null&&(p.alternate=null,o0(w)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(w=p.stateNode,w!==null&&(delete w[Ei],delete w[Ul],delete w[Hm],delete w[Bv],delete w[Uv])),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function l0(p){return p.tag===5||p.tag===3||p.tag===4}function c0(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||l0(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function _h(p,w,_){var H=p.tag;if(H===5||H===6)p=p.stateNode,w?_.nodeType===8?_.parentNode.insertBefore(p,w):_.insertBefore(p,w):(_.nodeType===8?(w=_.parentNode,w.insertBefore(p,_)):(w=_,w.appendChild(p)),_=_._reactRootContainer,_!=null||w.onclick!==null||(w.onclick=Ya));else if(H!==4&&(p=p.child,p!==null))for(_h(p,w,_),p=p.sibling;p!==null;)_h(p,w,_),p=p.sibling}function Ph(p,w,_){var H=p.tag;if(H===5||H===6)p=p.stateNode,w?_.insertBefore(p,w):_.appendChild(p);else if(H!==4&&(p=p.child,p!==null))for(Ph(p,w,_),p=p.sibling;p!==null;)Ph(p,w,_),p=p.sibling}var Ws=null,di=!1;function va(p,w,_){for(_=_.child;_!==null;)d0(p,w,_),_=_.sibling}function d0(p,w,_){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(Yt,_)}catch{}switch(_.tag){case 5:rn||Xo(_,w);case 6:var H=Ws,Q=di;Ws=null,va(p,w,_),Ws=H,di=Q,Ws!==null&&(di?(p=Ws,_=_.stateNode,p.nodeType===8?p.parentNode.removeChild(_):p.removeChild(_)):Ws.removeChild(_.stateNode));break;case 18:Ws!==null&&(di?(p=Ws,_=_.stateNode,p.nodeType===8?$m(p.parentNode,_):p.nodeType===1&&$m(p,_),qa(p)):$m(Ws,_.stateNode));break;case 4:H=Ws,Q=di,Ws=_.stateNode.containerInfo,di=!0,va(p,w,_),Ws=H,di=Q;break;case 0:case 11:case 14:case 15:if(!rn&&(H=_.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){Q=H=H.next;do{var re=Q,fe=re.destroy;re=re.tag,fe!==void 0&&((re&2)!==0||(re&4)!==0)&&Eh(_,w,fe),Q=Q.next}while(Q!==H)}va(p,w,_);break;case 1:if(!rn&&(Xo(_,w),H=_.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=_.memoizedProps,H.state=_.memoizedState,H.componentWillUnmount()}catch(ze){fs(_,w,ze)}va(p,w,_);break;case 21:va(p,w,_);break;case 22:_.mode&1?(rn=(H=rn)||_.memoizedState!==null,va(p,w,_),rn=H):va(p,w,_);break;default:va(p,w,_)}}function u0(p){var w=p.updateQueue;if(w!==null){p.updateQueue=null;var _=p.stateNode;_===null&&(_=p.stateNode=new sw),w.forEach(function(H){var Q=hw.bind(null,p,H);_.has(H)||(_.add(H),H.then(Q,Q))})}}function ui(p,w){var _=w.deletions;if(_!==null)for(var H=0;H<_.length;H++){var Q=_[H];try{var re=p,fe=w,ze=fe;e:for(;ze!==null;){switch(ze.tag){case 5:Ws=ze.stateNode,di=!1;break e;case 3:Ws=ze.stateNode.containerInfo,di=!0;break e;case 4:Ws=ze.stateNode.containerInfo,di=!0;break e}ze=ze.return}if(Ws===null)throw Error(t(160));d0(re,fe,Q),Ws=null,di=!1;var $e=Q.alternate;$e!==null&&($e.return=null),Q.return=null}catch(xt){fs(Q,w,xt)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)m0(w,p),w=w.sibling}function m0(p,w){var _=p.alternate,H=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(ui(w,p),Pi(p),H&4){try{Xl(3,p,p.return),Id(3,p)}catch(or){fs(p,p.return,or)}try{Xl(5,p,p.return)}catch(or){fs(p,p.return,or)}}break;case 1:ui(w,p),Pi(p),H&512&&_!==null&&Xo(_,_.return);break;case 5:if(ui(w,p),Pi(p),H&512&&_!==null&&Xo(_,_.return),p.flags&32){var Q=p.stateNode;try{At(Q,"")}catch(or){fs(p,p.return,or)}}if(H&4&&(Q=p.stateNode,Q!=null)){var re=p.memoizedProps,fe=_!==null?_.memoizedProps:re,ze=p.type,$e=p.updateQueue;if(p.updateQueue=null,$e!==null)try{ze==="input"&&re.type==="radio"&&re.name!=null&&je(Q,re),me(ze,fe);var xt=me(ze,re);for(fe=0;fe<$e.length;fe+=2){var Ht=$e[fe],Wt=$e[fe+1];Ht==="style"?Oe(Q,Wt):Ht==="dangerouslySetInnerHTML"?vt(Q,Wt):Ht==="children"?At(Q,Wt):N(Q,Ht,Wt,xt)}switch(ze){case"input":ee(Q,re);break;case"textarea":Ge(Q,re);break;case"select":var Bt=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!re.multiple;var nr=re.value;nr!=null?Ce(Q,!!re.multiple,nr,!1):Bt!==!!re.multiple&&(re.defaultValue!=null?Ce(Q,!!re.multiple,re.defaultValue,!0):Ce(Q,!!re.multiple,re.multiple?[]:"",!1))}Q[Ul]=re}catch(or){fs(p,p.return,or)}}break;case 6:if(ui(w,p),Pi(p),H&4){if(p.stateNode===null)throw Error(t(162));Q=p.stateNode,re=p.memoizedProps;try{Q.nodeValue=re}catch(or){fs(p,p.return,or)}}break;case 3:if(ui(w,p),Pi(p),H&4&&_!==null&&_.memoizedState.isDehydrated)try{qa(w.containerInfo)}catch(or){fs(p,p.return,or)}break;case 4:ui(w,p),Pi(p);break;case 13:ui(w,p),Pi(p),Q=p.child,Q.flags&8192&&(re=Q.memoizedState!==null,Q.stateNode.isHidden=re,!re||Q.alternate!==null&&Q.alternate.memoizedState!==null||(Mh=Ve())),H&4&&u0(p);break;case 22:if(Ht=_!==null&&_.memoizedState!==null,p.mode&1?(rn=(xt=rn)||Ht,ui(w,p),rn=xt):ui(w,p),Pi(p),H&8192){if(xt=p.memoizedState!==null,(p.stateNode.isHidden=xt)&&!Ht&&(p.mode&1)!==0)for(ir=p,Ht=p.child;Ht!==null;){for(Wt=ir=Ht;ir!==null;){switch(Bt=ir,nr=Bt.child,Bt.tag){case 0:case 11:case 14:case 15:Xl(4,Bt,Bt.return);break;case 1:Xo(Bt,Bt.return);var ar=Bt.stateNode;if(typeof ar.componentWillUnmount=="function"){H=Bt,_=Bt.return;try{w=H,ar.props=w.memoizedProps,ar.state=w.memoizedState,ar.componentWillUnmount()}catch(or){fs(H,_,or)}}break;case 5:Xo(Bt,Bt.return);break;case 22:if(Bt.memoizedState!==null){p0(Wt);continue}}nr!==null?(nr.return=Bt,ir=nr):p0(Wt)}Ht=Ht.sibling}e:for(Ht=null,Wt=p;;){if(Wt.tag===5){if(Ht===null){Ht=Wt;try{Q=Wt.stateNode,xt?(re=Q.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none"):(ze=Wt.stateNode,$e=Wt.memoizedProps.style,fe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null,ze.style.display=ge("display",fe))}catch(or){fs(p,p.return,or)}}}else if(Wt.tag===6){if(Ht===null)try{Wt.stateNode.nodeValue=xt?"":Wt.memoizedProps}catch(or){fs(p,p.return,or)}}else if((Wt.tag!==22&&Wt.tag!==23||Wt.memoizedState===null||Wt===p)&&Wt.child!==null){Wt.child.return=Wt,Wt=Wt.child;continue}if(Wt===p)break e;for(;Wt.sibling===null;){if(Wt.return===null||Wt.return===p)break e;Ht===Wt&&(Ht=null),Wt=Wt.return}Ht===Wt&&(Ht=null),Wt.sibling.return=Wt.return,Wt=Wt.sibling}}break;case 19:ui(w,p),Pi(p),H&4&&u0(p);break;case 21:break;default:ui(w,p),Pi(p)}}function Pi(p){var w=p.flags;if(w&2){try{e:{for(var _=p.return;_!==null;){if(l0(_)){var H=_;break e}_=_.return}throw Error(t(160))}switch(H.tag){case 5:var Q=H.stateNode;H.flags&32&&(At(Q,""),H.flags&=-33);var re=c0(p);Ph(p,re,Q);break;case 3:case 4:var fe=H.stateNode.containerInfo,ze=c0(p);_h(p,ze,fe);break;default:throw Error(t(161))}}catch($e){fs(p,p.return,$e)}p.flags&=-3}w&4096&&(p.flags&=-4097)}function iw(p,w,_){ir=p,h0(p)}function h0(p,w,_){for(var H=(p.mode&1)!==0;ir!==null;){var Q=ir,re=Q.child;if(Q.tag===22&&H){var fe=Q.memoizedState!==null||Dd;if(!fe){var ze=Q.alternate,$e=ze!==null&&ze.memoizedState!==null||rn;ze=Dd;var xt=rn;if(Dd=fe,(rn=$e)&&!xt)for(ir=Q;ir!==null;)fe=ir,$e=fe.child,fe.tag===22&&fe.memoizedState!==null?g0(Q):$e!==null?($e.return=fe,ir=$e):g0(Q);for(;re!==null;)ir=re,h0(re),re=re.sibling;ir=Q,Dd=ze,rn=xt}f0(p)}else(Q.subtreeFlags&8772)!==0&&re!==null?(re.return=Q,ir=re):f0(p)}}function f0(p){for(;ir!==null;){var w=ir;if((w.flags&8772)!==0){var _=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:rn||Id(5,w);break;case 1:var H=w.stateNode;if(w.flags&4&&!rn)if(_===null)H.componentDidMount();else{var Q=w.elementType===w.type?_.memoizedProps:ci(w.type,_.memoizedProps);H.componentDidUpdate(Q,_.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var re=w.updateQueue;re!==null&&pg(w,re,H);break;case 3:var fe=w.updateQueue;if(fe!==null){if(_=null,w.child!==null)switch(w.child.tag){case 5:_=w.child.stateNode;break;case 1:_=w.child.stateNode}pg(w,fe,_)}break;case 5:var ze=w.stateNode;if(_===null&&w.flags&4){_=ze;var $e=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":$e.autoFocus&&_.focus();break;case"img":$e.src&&(_.src=$e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var xt=w.alternate;if(xt!==null){var Ht=xt.memoizedState;if(Ht!==null){var Wt=Ht.dehydrated;Wt!==null&&qa(Wt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}rn||w.flags&512&&Th(w)}catch(Bt){fs(w,w.return,Bt)}}if(w===p){ir=null;break}if(_=w.sibling,_!==null){_.return=w.return,ir=_;break}ir=w.return}}function p0(p){for(;ir!==null;){var w=ir;if(w===p){ir=null;break}var _=w.sibling;if(_!==null){_.return=w.return,ir=_;break}ir=w.return}}function g0(p){for(;ir!==null;){var w=ir;try{switch(w.tag){case 0:case 11:case 15:var _=w.return;try{Id(4,w)}catch($e){fs(w,_,$e)}break;case 1:var H=w.stateNode;if(typeof H.componentDidMount=="function"){var Q=w.return;try{H.componentDidMount()}catch($e){fs(w,Q,$e)}}var re=w.return;try{Th(w)}catch($e){fs(w,re,$e)}break;case 5:var fe=w.return;try{Th(w)}catch($e){fs(w,fe,$e)}}}catch($e){fs(w,w.return,$e)}if(w===p){ir=null;break}var ze=w.sibling;if(ze!==null){ze.return=w.return,ir=ze;break}ir=w.return}}var aw=Math.ceil,Md=E.ReactCurrentDispatcher,Dh=E.ReactCurrentOwner,ei=E.ReactCurrentBatchConfig,Br=0,zs=null,Ss=null,Ys=0,Ln=0,Jo=pa(0),_s=0,Jl=null,so=0,Rd=0,Ih=0,ec=null,kn=null,Mh=0,el=1/0,Yi=null,zd=!1,Rh=null,wa=null,Ld=!1,ka=null,Od=0,tc=0,zh=null,Fd=-1,Bd=0;function cn(){return(Br&6)!==0?Ve():Fd!==-1?Fd:Fd=Ve()}function Na(p){return(p.mode&1)===0?1:(Br&2)!==0&&Ys!==0?Ys&-Ys:qv.transition!==null?(Bd===0&&(Bd=Rr()),Bd):(p=yr,p!==0||(p=window.event,p=p===void 0?16:Yc(p.type)),p)}function mi(p,w,_,H){if(50<tc)throw tc=0,zh=null,Error(t(185));$s(p,_,H),((Br&2)===0||p!==zs)&&(p===zs&&((Br&2)===0&&(Rd|=_),_s===4&&ja(p,Ys)),Nn(p,H),_===1&&Br===0&&(w.mode&1)===0&&(el=Ve()+500,fd&&xa()))}function Nn(p,w){var _=p.callbackNode;gs(p,w);var H=qs(p,p===zs?Ys:0);if(H===0)_!==null&&ht(_),p.callbackNode=null,p.callbackPriority=0;else if(w=H&-H,p.callbackPriority!==w){if(_!=null&&ht(_),w===1)p.tag===0?Vv(y0.bind(null,p)):sg(y0.bind(null,p)),Ov(function(){(Br&6)===0&&xa()}),_=null;else{switch(cs(H)){case 1:_=kt;break;case 4:_=Ot;break;case 16:_=Pt;break;case 536870912:_=sr;break;default:_=Pt}_=C0(_,x0.bind(null,p))}p.callbackPriority=w,p.callbackNode=_}}function x0(p,w){if(Fd=-1,Bd=0,(Br&6)!==0)throw Error(t(327));var _=p.callbackNode;if(tl()&&p.callbackNode!==_)return null;var H=qs(p,p===zs?Ys:0);if(H===0)return null;if((H&30)!==0||(H&p.expiredLanes)!==0||w)w=Ud(p,H);else{w=H;var Q=Br;Br|=2;var re=v0();(zs!==p||Ys!==w)&&(Yi=null,el=Ve()+500,io(p,w));do try{cw();break}catch(ze){b0(p,ze)}while(!0);eh(),Md.current=re,Br=Q,Ss!==null?w=0:(zs=null,Ys=0,w=_s)}if(w!==0){if(w===2&&(Q=As(p),Q!==0&&(H=Q,w=Lh(p,Q))),w===1)throw _=Jl,io(p,0),ja(p,H),Nn(p,Ve()),_;if(w===6)ja(p,H);else{if(Q=p.current.alternate,(H&30)===0&&!ow(Q)&&(w=Ud(p,H),w===2&&(re=As(p),re!==0&&(H=re,w=Lh(p,re))),w===1))throw _=Jl,io(p,0),ja(p,H),Nn(p,Ve()),_;switch(p.finishedWork=Q,p.finishedLanes=H,w){case 0:case 1:throw Error(t(345));case 2:ao(p,kn,Yi);break;case 3:if(ja(p,H),(H&130023424)===H&&(w=Mh+500-Ve(),10<w)){if(qs(p,0)!==0)break;if(Q=p.suspendedLanes,(Q&H)!==H){cn(),p.pingedLanes|=p.suspendedLanes&Q;break}p.timeoutHandle=qm(ao.bind(null,p,kn,Yi),w);break}ao(p,kn,Yi);break;case 4:if(ja(p,H),(H&4194240)===H)break;for(w=p.eventTimes,Q=-1;0<H;){var fe=31-dr(H);re=1<<fe,fe=w[fe],fe>Q&&(Q=fe),H&=~re}if(H=Q,H=Ve()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*aw(H/1960))-H,10<H){p.timeoutHandle=qm(ao.bind(null,p,kn,Yi),H);break}ao(p,kn,Yi);break;case 5:ao(p,kn,Yi);break;default:throw Error(t(329))}}}return Nn(p,Ve()),p.callbackNode===_?x0.bind(null,p):null}function Lh(p,w){var _=ec;return p.current.memoizedState.isDehydrated&&(io(p,w).flags|=256),p=Ud(p,w),p!==2&&(w=kn,kn=_,w!==null&&Oh(w)),p}function Oh(p){kn===null?kn=p:kn.push.apply(kn,p)}function ow(p){for(var w=p;;){if(w.flags&16384){var _=w.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var H=0;H<_.length;H++){var Q=_[H],re=Q.getSnapshot;Q=Q.value;try{if(!In(re(),Q))return!1}catch{return!1}}}if(_=w.child,w.subtreeFlags&16384&&_!==null)_.return=w,w=_;else{if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function ja(p,w){for(w&=~Ih,w&=~Rd,p.suspendedLanes|=w,p.pingedLanes&=~w,p=p.expirationTimes;0<w;){var _=31-dr(w),H=1<<_;p[_]=-1,w&=~H}}function y0(p){if((Br&6)!==0)throw Error(t(327));tl();var w=qs(p,0);if((w&1)===0)return Nn(p,Ve()),null;var _=Ud(p,w);if(p.tag!==0&&_===2){var H=As(p);H!==0&&(w=H,_=Lh(p,H))}if(_===1)throw _=Jl,io(p,0),ja(p,w),Nn(p,Ve()),_;if(_===6)throw Error(t(345));return p.finishedWork=p.current.alternate,p.finishedLanes=w,ao(p,kn,Yi),Nn(p,Ve()),null}function Fh(p,w){var _=Br;Br|=1;try{return p(w)}finally{Br=_,Br===0&&(el=Ve()+500,fd&&xa())}}function no(p){ka!==null&&ka.tag===0&&(Br&6)===0&&tl();var w=Br;Br|=1;var _=ei.transition,H=yr;try{if(ei.transition=null,yr=1,p)return p()}finally{yr=H,ei.transition=_,Br=w,(Br&6)===0&&xa()}}function Bh(){Ln=Jo.current,rs(Jo)}function io(p,w){p.finishedWork=null,p.finishedLanes=0;var _=p.timeoutHandle;if(_!==-1&&(p.timeoutHandle=-1,Lv(_)),Ss!==null)for(_=Ss.return;_!==null;){var H=_;switch(Ym(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&md();break;case 3:Qo(),rs(bn),rs(Js),lh();break;case 5:ah(H);break;case 4:Qo();break;case 13:rs(ds);break;case 19:rs(ds);break;case 10:th(H.type._context);break;case 22:case 23:Bh()}_=_.return}if(zs=p,Ss=p=Sa(p.current,null),Ys=Ln=w,_s=0,Jl=null,Ih=Rd=so=0,kn=ec=null,eo!==null){for(w=0;w<eo.length;w++)if(_=eo[w],H=_.interleaved,H!==null){_.interleaved=null;var Q=H.next,re=_.pending;if(re!==null){var fe=re.next;re.next=Q,H.next=fe}_.pending=H}eo=null}return p}function b0(p,w){do{var _=Ss;try{if(eh(),jd.current=Ed,Sd){for(var H=us.memoizedState;H!==null;){var Q=H.queue;Q!==null&&(Q.pending=null),H=H.next}Sd=!1}if(ro=0,Rs=Ts=us=null,Gl=!1,Wl=0,Dh.current=null,_===null||_.return===null){_s=1,Jl=w,Ss=null;break}e:{var re=p,fe=_.return,ze=_,$e=w;if(w=Ys,ze.flags|=32768,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"){var xt=$e,Ht=ze,Wt=Ht.tag;if((Ht.mode&1)===0&&(Wt===0||Wt===11||Wt===15)){var Bt=Ht.alternate;Bt?(Ht.updateQueue=Bt.updateQueue,Ht.memoizedState=Bt.memoizedState,Ht.lanes=Bt.lanes):(Ht.updateQueue=null,Ht.memoizedState=null)}var nr=$g(fe);if(nr!==null){nr.flags&=-257,Hg(nr,fe,ze,re,w),nr.mode&1&&qg(re,xt,w),w=nr,$e=xt;var ar=w.updateQueue;if(ar===null){var or=new Set;or.add($e),w.updateQueue=or}else ar.add($e);break e}else{if((w&1)===0){qg(re,xt,w),Uh();break e}$e=Error(t(426))}}else if(ls&&ze.mode&1){var ys=$g(fe);if(ys!==null){(ys.flags&65536)===0&&(ys.flags|=256),Hg(ys,fe,ze,re,w),Xm(Zo($e,ze));break e}}re=$e=Zo($e,ze),_s!==4&&(_s=2),ec===null?ec=[re]:ec.push(re),re=fe;do{switch(re.tag){case 3:re.flags|=65536,w&=-w,re.lanes|=w;var it=Ug(re,$e,w);fg(re,it);break e;case 1:ze=$e;var Qe=re.type,ct=re.stateNode;if((re.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(wa===null||!wa.has(ct)))){re.flags|=65536,w&=-w,re.lanes|=w;var Xt=Vg(re,ze,w);fg(re,Xt);break e}}re=re.return}while(re!==null)}k0(_)}catch(cr){w=cr,Ss===_&&_!==null&&(Ss=_=_.return);continue}break}while(!0)}function v0(){var p=Md.current;return Md.current=Ed,p===null?Ed:p}function Uh(){(_s===0||_s===3||_s===2)&&(_s=4),zs===null||(so&268435455)===0&&(Rd&268435455)===0||ja(zs,Ys)}function Ud(p,w){var _=Br;Br|=2;var H=v0();(zs!==p||Ys!==w)&&(Yi=null,io(p,w));do try{lw();break}catch(Q){b0(p,Q)}while(!0);if(eh(),Br=_,Md.current=H,Ss!==null)throw Error(t(261));return zs=null,Ys=0,_s}function lw(){for(;Ss!==null;)w0(Ss)}function cw(){for(;Ss!==null&&!Vt();)w0(Ss)}function w0(p){var w=S0(p.alternate,p,Ln);p.memoizedProps=p.pendingProps,w===null?k0(p):Ss=w,Dh.current=null}function k0(p){var w=p;do{var _=w.alternate;if(p=w.return,(w.flags&32768)===0){if(_=tw(_,w,Ln),_!==null){Ss=_;return}}else{if(_=rw(_,w),_!==null){_.flags&=32767,Ss=_;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{_s=6,Ss=null;return}}if(w=w.sibling,w!==null){Ss=w;return}Ss=w=p}while(w!==null);_s===0&&(_s=5)}function ao(p,w,_){var H=yr,Q=ei.transition;try{ei.transition=null,yr=1,dw(p,w,_,H)}finally{ei.transition=Q,yr=H}return null}function dw(p,w,_,H){do tl();while(ka!==null);if((Br&6)!==0)throw Error(t(327));_=p.finishedWork;var Q=p.finishedLanes;if(_===null)return null;if(p.finishedWork=null,p.finishedLanes=0,_===p.current)throw Error(t(177));p.callbackNode=null,p.callbackPriority=0;var re=_.lanes|_.childLanes;if(Vn(p,re),p===zs&&(Ss=zs=null,Ys=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||Ld||(Ld=!0,C0(Pt,function(){return tl(),null})),re=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||re){re=ei.transition,ei.transition=null;var fe=yr;yr=1;var ze=Br;Br|=4,Dh.current=null,nw(p,_),m0(_,p),Ee(Fo),Ao=!!Oo,Fo=Oo=null,p.current=_,iw(_),Ne(),Br=ze,yr=fe,ei.transition=re}else p.current=_;if(Ld&&(Ld=!1,ka=p,Od=Q),re=p.pendingLanes,re===0&&(wa=null),Jt(_.stateNode),Nn(p,Ve()),w!==null)for(H=p.onRecoverableError,_=0;_<w.length;_++)Q=w[_],H(Q.value,{componentStack:Q.stack,digest:Q.digest});if(zd)throw zd=!1,p=Rh,Rh=null,p;return(Od&1)!==0&&p.tag!==0&&tl(),re=p.pendingLanes,(re&1)!==0?p===zh?tc++:(tc=0,zh=p):tc=0,xa(),null}function tl(){if(ka!==null){var p=cs(Od),w=ei.transition,_=yr;try{if(ei.transition=null,yr=16>p?16:p,ka===null)var H=!1;else{if(p=ka,ka=null,Od=0,(Br&6)!==0)throw Error(t(331));var Q=Br;for(Br|=4,ir=p.current;ir!==null;){var re=ir,fe=re.child;if((ir.flags&16)!==0){var ze=re.deletions;if(ze!==null){for(var $e=0;$e<ze.length;$e++){var xt=ze[$e];for(ir=xt;ir!==null;){var Ht=ir;switch(Ht.tag){case 0:case 11:case 15:Xl(8,Ht,re)}var Wt=Ht.child;if(Wt!==null)Wt.return=Ht,ir=Wt;else for(;ir!==null;){Ht=ir;var Bt=Ht.sibling,nr=Ht.return;if(o0(Ht),Ht===xt){ir=null;break}if(Bt!==null){Bt.return=nr,ir=Bt;break}ir=nr}}}var ar=re.alternate;if(ar!==null){var or=ar.child;if(or!==null){ar.child=null;do{var ys=or.sibling;or.sibling=null,or=ys}while(or!==null)}}ir=re}}if((re.subtreeFlags&2064)!==0&&fe!==null)fe.return=re,ir=fe;else e:for(;ir!==null;){if(re=ir,(re.flags&2048)!==0)switch(re.tag){case 0:case 11:case 15:Xl(9,re,re.return)}var it=re.sibling;if(it!==null){it.return=re.return,ir=it;break e}ir=re.return}}var Qe=p.current;for(ir=Qe;ir!==null;){fe=ir;var ct=fe.child;if((fe.subtreeFlags&2064)!==0&&ct!==null)ct.return=fe,ir=ct;else e:for(fe=Qe;ir!==null;){if(ze=ir,(ze.flags&2048)!==0)try{switch(ze.tag){case 0:case 11:case 15:Id(9,ze)}}catch(cr){fs(ze,ze.return,cr)}if(ze===fe){ir=null;break e}var Xt=ze.sibling;if(Xt!==null){Xt.return=ze.return,ir=Xt;break e}ir=ze.return}}if(Br=Q,xa(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(Yt,p)}catch{}H=!0}return H}finally{yr=_,ei.transition=w}}return!1}function N0(p,w,_){w=Zo(_,w),w=Ug(p,w,1),p=ba(p,w,1),w=cn(),p!==null&&($s(p,1,w),Nn(p,w))}function fs(p,w,_){if(p.tag===3)N0(p,p,_);else for(;w!==null;){if(w.tag===3){N0(w,p,_);break}else if(w.tag===1){var H=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(wa===null||!wa.has(H))){p=Zo(_,p),p=Vg(w,p,1),w=ba(w,p,1),p=cn(),w!==null&&($s(w,1,p),Nn(w,p));break}}w=w.return}}function uw(p,w,_){var H=p.pingCache;H!==null&&H.delete(w),w=cn(),p.pingedLanes|=p.suspendedLanes&_,zs===p&&(Ys&_)===_&&(_s===4||_s===3&&(Ys&130023424)===Ys&&500>Ve()-Mh?io(p,0):Ih|=_),Nn(p,w)}function j0(p,w){w===0&&((p.mode&1)===0?w=1:(w=as,as<<=1,(as&130023424)===0&&(as=4194304)));var _=cn();p=Ki(p,w),p!==null&&($s(p,w,_),Nn(p,_))}function mw(p){var w=p.memoizedState,_=0;w!==null&&(_=w.retryLane),j0(p,_)}function hw(p,w){var _=0;switch(p.tag){case 13:var H=p.stateNode,Q=p.memoizedState;Q!==null&&(_=Q.retryLane);break;case 19:H=p.stateNode;break;default:throw Error(t(314))}H!==null&&H.delete(w),j0(p,_)}var S0;S0=function(p,w,_){if(p!==null)if(p.memoizedProps!==w.pendingProps||bn.current)wn=!0;else{if((p.lanes&_)===0&&(w.flags&128)===0)return wn=!1,ew(p,w,_);wn=(p.flags&131072)!==0}else wn=!1,ls&&(w.flags&1048576)!==0&&ng(w,gd,w.index);switch(w.lanes=0,w.tag){case 2:var H=w.type;Pd(p,w),p=w.pendingProps;var Q=qo(w,Js.current);Yo(w,_),Q=uh(null,w,H,p,Q,_);var re=mh();return w.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,vn(H)?(re=!0,hd(w)):re=!1,w.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,nh(w),Q.updater=Td,w.stateNode=Q,Q._reactInternals=w,yh(w,H,p,_),w=kh(null,w,H,!0,re,_)):(w.tag=0,ls&&re&&Wm(w),ln(null,w,Q,_),w=w.child),w;case 16:H=w.elementType;e:{switch(Pd(p,w),p=w.pendingProps,Q=H._init,H=Q(H._payload),w.type=H,Q=w.tag=pw(H),p=ci(H,p),Q){case 0:w=wh(null,w,H,p,_);break e;case 1:w=Zg(null,w,H,p,_);break e;case 11:w=Kg(null,w,H,p,_);break e;case 14:w=Gg(null,w,H,ci(H.type,p),_);break e}throw Error(t(306,H,""))}return w;case 0:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ci(H,Q),wh(p,w,H,Q,_);case 1:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ci(H,Q),Zg(p,w,H,Q,_);case 3:e:{if(Xg(w),p===null)throw Error(t(387));H=w.pendingProps,re=w.memoizedState,Q=re.element,hg(p,w),kd(w,H,null,_);var fe=w.memoizedState;if(H=fe.element,re.isDehydrated)if(re={element:H,isDehydrated:!1,cache:fe.cache,pendingSuspenseBoundaries:fe.pendingSuspenseBoundaries,transitions:fe.transitions},w.updateQueue.baseState=re,w.memoizedState=re,w.flags&256){Q=Zo(Error(t(423)),w),w=Jg(p,w,H,_,Q);break e}else if(H!==Q){Q=Zo(Error(t(424)),w),w=Jg(p,w,H,_,Q);break e}else for(zn=fa(w.stateNode.containerInfo.firstChild),Rn=w,ls=!0,li=null,_=ug(w,null,H,_),w.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ko(),H===Q){w=Wi(p,w,_);break e}ln(p,w,H,_)}w=w.child}return w;case 5:return gg(w),p===null&&Zm(w),H=w.type,Q=w.pendingProps,re=p!==null?p.memoizedProps:null,fe=Q.children,Vm(H,Q)?fe=null:re!==null&&Vm(H,re)&&(w.flags|=32),Qg(p,w),ln(p,w,fe,_),w.child;case 6:return p===null&&Zm(w),null;case 13:return e0(p,w,_);case 4:return ih(w,w.stateNode.containerInfo),H=w.pendingProps,p===null?w.child=Go(w,null,H,_):ln(p,w,H,_),w.child;case 11:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ci(H,Q),Kg(p,w,H,Q,_);case 7:return ln(p,w,w.pendingProps,_),w.child;case 8:return ln(p,w,w.pendingProps.children,_),w.child;case 12:return ln(p,w,w.pendingProps.children,_),w.child;case 10:e:{if(H=w.type._context,Q=w.pendingProps,re=w.memoizedProps,fe=Q.value,Xr(bd,H._currentValue),H._currentValue=fe,re!==null)if(In(re.value,fe)){if(re.children===Q.children&&!bn.current){w=Wi(p,w,_);break e}}else for(re=w.child,re!==null&&(re.return=w);re!==null;){var ze=re.dependencies;if(ze!==null){fe=re.child;for(var $e=ze.firstContext;$e!==null;){if($e.context===H){if(re.tag===1){$e=Gi(-1,_&-_),$e.tag=2;var xt=re.updateQueue;if(xt!==null){xt=xt.shared;var Ht=xt.pending;Ht===null?$e.next=$e:($e.next=Ht.next,Ht.next=$e),xt.pending=$e}}re.lanes|=_,$e=re.alternate,$e!==null&&($e.lanes|=_),rh(re.return,_,w),ze.lanes|=_;break}$e=$e.next}}else if(re.tag===10)fe=re.type===w.type?null:re.child;else if(re.tag===18){if(fe=re.return,fe===null)throw Error(t(341));fe.lanes|=_,ze=fe.alternate,ze!==null&&(ze.lanes|=_),rh(fe,_,w),fe=re.sibling}else fe=re.child;if(fe!==null)fe.return=re;else for(fe=re;fe!==null;){if(fe===w){fe=null;break}if(re=fe.sibling,re!==null){re.return=fe.return,fe=re;break}fe=fe.return}re=fe}ln(p,w,Q.children,_),w=w.child}return w;case 9:return Q=w.type,H=w.pendingProps.children,Yo(w,_),Q=Xn(Q),H=H(Q),w.flags|=1,ln(p,w,H,_),w.child;case 14:return H=w.type,Q=ci(H,w.pendingProps),Q=ci(H.type,Q),Gg(p,w,H,Q,_);case 15:return Wg(p,w,w.type,w.pendingProps,_);case 17:return H=w.type,Q=w.pendingProps,Q=w.elementType===H?Q:ci(H,Q),Pd(p,w),w.tag=1,vn(H)?(p=!0,hd(w)):p=!1,Yo(w,_),Fg(w,H,Q),yh(w,H,Q,_),kh(null,w,H,!0,p,_);case 19:return r0(p,w,_);case 22:return Yg(p,w,_)}throw Error(t(156,w.tag))};function C0(p,w){return Ie(p,w)}function fw(p,w,_,H){this.tag=p,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(p,w,_,H){return new fw(p,w,_,H)}function Vh(p){return p=p.prototype,!(!p||!p.isReactComponent)}function pw(p){if(typeof p=="function")return Vh(p)?1:0;if(p!=null){if(p=p.$$typeof,p===B)return 11;if(p===A)return 14}return 2}function Sa(p,w){var _=p.alternate;return _===null?(_=ti(p.tag,w,p.key,p.mode),_.elementType=p.elementType,_.type=p.type,_.stateNode=p.stateNode,_.alternate=p,p.alternate=_):(_.pendingProps=w,_.type=p.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=p.flags&14680064,_.childLanes=p.childLanes,_.lanes=p.lanes,_.child=p.child,_.memoizedProps=p.memoizedProps,_.memoizedState=p.memoizedState,_.updateQueue=p.updateQueue,w=p.dependencies,_.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},_.sibling=p.sibling,_.index=p.index,_.ref=p.ref,_}function Vd(p,w,_,H,Q,re){var fe=2;if(H=p,typeof p=="function")Vh(p)&&(fe=1);else if(typeof p=="string")fe=5;else e:switch(p){case $:return oo(_.children,Q,re,w);case z:fe=8,Q|=8;break;case U:return p=ti(12,_,w,Q|2),p.elementType=U,p.lanes=re,p;case T:return p=ti(13,_,w,Q),p.elementType=T,p.lanes=re,p;case D:return p=ti(19,_,w,Q),p.elementType=D,p.lanes=re,p;case S:return qd(_,Q,re,w);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case V:fe=10;break e;case G:fe=9;break e;case B:fe=11;break e;case A:fe=14;break e;case k:fe=16,H=null;break e}throw Error(t(130,p==null?p:typeof p,""))}return w=ti(fe,_,w,Q),w.elementType=p,w.type=H,w.lanes=re,w}function oo(p,w,_,H){return p=ti(7,p,H,w),p.lanes=_,p}function qd(p,w,_,H){return p=ti(22,p,H,w),p.elementType=S,p.lanes=_,p.stateNode={isHidden:!1},p}function qh(p,w,_){return p=ti(6,p,null,w),p.lanes=_,p}function $h(p,w,_){return w=ti(4,p.children!==null?p.children:[],p.key,w),w.lanes=_,w.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},w}function gw(p,w,_,H,Q){this.tag=w,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=H,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function Hh(p,w,_,H,Q,re,fe,ze,$e){return p=new gw(p,w,_,ze,$e),w===1?(w=1,re===!0&&(w|=8)):w=0,re=ti(3,null,null,w),p.current=re,re.stateNode=p,re.memoizedState={element:H,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(re),p}function xw(p,w,_){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:H==null?null:""+H,children:p,containerInfo:w,implementation:_}}function A0(p){if(!p)return ga;p=p._reactInternals;e:{if(Re(p)!==p||p.tag!==1)throw Error(t(170));var w=p;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(vn(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(t(171))}if(p.tag===1){var _=p.type;if(vn(_))return tg(p,_,w)}return w}function E0(p,w,_,H,Q,re,fe,ze,$e){return p=Hh(_,H,!0,p,Q,re,fe,ze,$e),p.context=A0(null),_=p.current,H=cn(),Q=Na(_),re=Gi(H,Q),re.callback=w??null,ba(_,re,Q),p.current.lanes=Q,$s(p,Q,H),Nn(p,H),p}function $d(p,w,_,H){var Q=w.current,re=cn(),fe=Na(Q);return _=A0(_),w.context===null?w.context=_:w.pendingContext=_,w=Gi(re,fe),w.payload={element:p},H=H===void 0?null:H,H!==null&&(w.callback=H),p=ba(Q,w,fe),p!==null&&(mi(p,Q,fe,re),wd(p,Q,fe)),fe}function Hd(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return p.child.stateNode;default:return p.child.stateNode}}function T0(p,w){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var _=p.retryLane;p.retryLane=_!==0&&_<w?_:w}}function Kh(p,w){T0(p,w),(p=p.alternate)&&T0(p,w)}function yw(){return null}var _0=typeof reportError=="function"?reportError:function(p){console.error(p)};function Gh(p){this._internalRoot=p}Kd.prototype.render=Gh.prototype.render=function(p){var w=this._internalRoot;if(w===null)throw Error(t(409));$d(p,w,null,null)},Kd.prototype.unmount=Gh.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var w=p.containerInfo;no(function(){$d(null,p,null,null)}),w[Vi]=null}};function Kd(p){this._internalRoot=p}Kd.prototype.unstable_scheduleHydration=function(p){if(p){var w=Dn();p={blockedOn:null,target:p,priority:w};for(var _=0;_<Xs.length&&w!==0&&w<Xs[_].priority;_++);Xs.splice(_,0,p),_===0&&Co(p)}};function Wh(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function Gd(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function P0(){}function bw(p,w,_,H,Q){if(Q){if(typeof H=="function"){var re=H;H=function(){var xt=Hd(fe);re.call(xt)}}var fe=E0(w,H,p,0,null,!1,!1,"",P0);return p._reactRootContainer=fe,p[Vi]=fe.current,Ai(p.nodeType===8?p.parentNode:p),no(),fe}for(;Q=p.lastChild;)p.removeChild(Q);if(typeof H=="function"){var ze=H;H=function(){var xt=Hd($e);ze.call(xt)}}var $e=Hh(p,0,!1,null,null,!1,!1,"",P0);return p._reactRootContainer=$e,p[Vi]=$e.current,Ai(p.nodeType===8?p.parentNode:p),no(function(){$d(w,$e,_,H)}),$e}function Wd(p,w,_,H,Q){var re=_._reactRootContainer;if(re){var fe=re;if(typeof Q=="function"){var ze=Q;Q=function(){var $e=Hd(fe);ze.call($e)}}$d(w,fe,p,Q)}else fe=bw(_,w,p,Q,H);return Hd(fe)}Ir=function(p){switch(p.tag){case 3:var w=p.stateNode;if(w.current.memoizedState.isDehydrated){var _=os(w.pendingLanes);_!==0&&(Li(w,_|1),Nn(w,Ve()),(Br&6)===0&&(el=Ve()+500,xa()))}break;case 13:no(function(){var H=Ki(p,1);if(H!==null){var Q=cn();mi(H,p,1,Q)}}),Kh(p,1)}},qn=function(p){if(p.tag===13){var w=Ki(p,134217728);if(w!==null){var _=cn();mi(w,p,134217728,_)}Kh(p,134217728)}},Oi=function(p){if(p.tag===13){var w=Na(p),_=Ki(p,w);if(_!==null){var H=cn();mi(_,p,w,H)}Kh(p,w)}},Dn=function(){return yr},xs=function(p,w){var _=yr;try{return yr=p,w()}finally{yr=_}},we=function(p,w,_){switch(w){case"input":if(ee(p,_),w=_.name,_.type==="radio"&&w!=null){for(_=p;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<_.length;w++){var H=_[w];if(H!==p&&H.form===p.form){var Q=ud(H);if(!Q)throw Error(t(90));oe(H),ee(H,Q)}}}break;case"textarea":Ge(p,_);break;case"select":w=_.value,w!=null&&Ce(p,!!_.multiple,w,!1)}},ve=Fh,de=no;var vw={usingClientEntryPoint:!1,Events:[Vl,Uo,ud,St,Ut,Fh]},rc={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ww={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return p=_t(p),p===null?null:p.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Yt=Yd.inject(ww),Lt=Yd}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw,jn.createPortal=function(p,w){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(w))throw Error(t(200));return xw(p,w,null,_)},jn.createRoot=function(p,w){if(!Wh(p))throw Error(t(299));var _=!1,H="",Q=_0;return w!=null&&(w.unstable_strictMode===!0&&(_=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(Q=w.onRecoverableError)),w=Hh(p,1,!1,null,null,_,!1,H,Q),p[Vi]=w.current,Ai(p.nodeType===8?p.parentNode:p),new Gh(w)},jn.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var w=p._reactInternals;if(w===void 0)throw typeof p.render=="function"?Error(t(188)):(p=Object.keys(p).join(","),Error(t(268,p)));return p=_t(w),p=p===null?null:p.stateNode,p},jn.flushSync=function(p){return no(p)},jn.hydrate=function(p,w,_){if(!Gd(w))throw Error(t(200));return Wd(null,p,w,!0,_)},jn.hydrateRoot=function(p,w,_){if(!Wh(p))throw Error(t(405));var H=_!=null&&_.hydratedSources||null,Q=!1,re="",fe=_0;if(_!=null&&(_.unstable_strictMode===!0&&(Q=!0),_.identifierPrefix!==void 0&&(re=_.identifierPrefix),_.onRecoverableError!==void 0&&(fe=_.onRecoverableError)),w=E0(w,null,p,1,_??null,Q,!1,re,fe),p[Vi]=w.current,Ai(p),H)for(p=0;p<H.length;p++)_=H[p],Q=_._getVersion,Q=Q(_._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[_,Q]:w.mutableSourceEagerHydrationData.push(_,Q);return new Kd(w)},jn.render=function(p,w,_){if(!Gd(w))throw Error(t(200));return Wd(null,p,w,!1,_)},jn.unmountComponentAtNode=function(p){if(!Gd(p))throw Error(t(40));return p._reactRootContainer?(no(function(){Wd(null,null,p,!1,function(){p._reactRootContainer=null,p[Vi]=null})}),!0):!1},jn.unstable_batchedUpdates=Fh,jn.unstable_renderSubtreeIntoContainer=function(p,w,_,H){if(!Gd(_))throw Error(t(200));if(p==null||p._reactInternals===void 0)throw Error(t(38));return Wd(p,w,_,!1,H)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var F0;function Vy(){if(F0)return Zh.exports;F0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(m){console.error(m)}}return a(),Zh.exports=Ew(),Zh.exports}var B0;function Tw(){if(B0)return Qd;B0=1;var a=Vy();return Qd.createRoot=a.createRoot,Qd.hydrateRoot=a.hydrateRoot,Qd}var _w=Tw();const Pw="modulepreload",Dw=function(a){return"/"+a},U0={},Dr=function(m,t,h){let f=Promise.resolve();if(t&&t.length>0){let i=function(r){return Promise.all(r.map(s=>Promise.resolve(s).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),o=n?.nonce||n?.getAttribute("nonce");f=i(t.map(r=>{if(r=Dw(r),r in U0)return;U0[r]=!0;const s=r.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${l}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":Pw,s||(d.as="script"),d.crossOrigin="",d.href=r,o&&d.setAttribute("nonce",o),document.head.appendChild(d),s)return new Promise((u,x)=>{d.addEventListener("load",u),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${r}`)))})}))}function c(n){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=n,window.dispatchEvent(o),!o.defaultPrevented)throw n}return f.then(n=>{for(const o of n||[])o.status==="rejected"&&c(o.reason);return m().catch(c)})};function qy(a,m){return function(){return a.apply(m,arguments)}}const{toString:Iw}=Object.prototype,{getPrototypeOf:Ap}=Object,{iterator:im,toStringTag:$y}=Symbol,am=(a=>m=>{const t=Iw.call(m);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yi=a=>(a=a.toLowerCase(),m=>am(m)===a),om=a=>m=>typeof m===a,{isArray:kl}=Array,gl=om("undefined");function Vc(a){return a!==null&&!gl(a)&&a.constructor!==null&&!gl(a.constructor)&&Tn(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Hy=yi("ArrayBuffer");function Mw(a){let m;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?m=ArrayBuffer.isView(a):m=a&&a.buffer&&Hy(a.buffer),m}const Rw=om("string"),Tn=om("function"),Ky=om("number"),qc=a=>a!==null&&typeof a=="object",zw=a=>a===!0||a===!1,gu=a=>{if(am(a)!=="object")return!1;const m=Ap(a);return(m===null||m===Object.prototype||Object.getPrototypeOf(m)===null)&&!($y in a)&&!(im in a)},Lw=a=>{if(!qc(a)||Vc(a))return!1;try{return Object.keys(a).length===0&&Object.getPrototypeOf(a)===Object.prototype}catch{return!1}},Ow=yi("Date"),Fw=yi("File"),Bw=yi("Blob"),Uw=yi("FileList"),Vw=a=>qc(a)&&Tn(a.pipe),qw=a=>{let m;return a&&(typeof FormData=="function"&&a instanceof FormData||Tn(a.append)&&((m=am(a))==="formdata"||m==="object"&&Tn(a.toString)&&a.toString()==="[object FormData]"))},$w=yi("URLSearchParams"),[Hw,Kw,Gw,Ww]=["ReadableStream","Request","Response","Headers"].map(yi),Yw=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $c(a,m,{allOwnKeys:t=!1}={}){if(a===null||typeof a>"u")return;let h,f;if(typeof a!="object"&&(a=[a]),kl(a))for(h=0,f=a.length;h<f;h++)m.call(null,a[h],h,a);else{if(Vc(a))return;const c=t?Object.getOwnPropertyNames(a):Object.keys(a),n=c.length;let o;for(h=0;h<n;h++)o=c[h],m.call(null,a[o],o,a)}}function Gy(a,m){if(Vc(a))return null;m=m.toLowerCase();const t=Object.keys(a);let h=t.length,f;for(;h-- >0;)if(f=t[h],m===f.toLowerCase())return f;return null}const po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wy=a=>!gl(a)&&a!==po;function Kf(){const{caseless:a,skipUndefined:m}=Wy(this)&&this||{},t={},h=(f,c)=>{const n=a&&Gy(t,c)||c;gu(t[n])&&gu(f)?t[n]=Kf(t[n],f):gu(f)?t[n]=Kf({},f):kl(f)?t[n]=f.slice():(!m||!gl(f))&&(t[n]=f)};for(let f=0,c=arguments.length;f<c;f++)arguments[f]&&$c(arguments[f],h);return t}const Qw=(a,m,t,{allOwnKeys:h}={})=>($c(m,(f,c)=>{t&&Tn(f)?a[c]=qy(f,t):a[c]=f},{allOwnKeys:h}),a),Zw=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Xw=(a,m,t,h)=>{a.prototype=Object.create(m.prototype,h),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:m.prototype}),t&&Object.assign(a.prototype,t)},Jw=(a,m,t,h)=>{let f,c,n;const o={};if(m=m||{},a==null)return m;do{for(f=Object.getOwnPropertyNames(a),c=f.length;c-- >0;)n=f[c],(!h||h(n,a,m))&&!o[n]&&(m[n]=a[n],o[n]=!0);a=t!==!1&&Ap(a)}while(a&&(!t||t(a,m))&&a!==Object.prototype);return m},e1=(a,m,t)=>{a=String(a),(t===void 0||t>a.length)&&(t=a.length),t-=m.length;const h=a.indexOf(m,t);return h!==-1&&h===t},t1=a=>{if(!a)return null;if(kl(a))return a;let m=a.length;if(!Ky(m))return null;const t=new Array(m);for(;m-- >0;)t[m]=a[m];return t},r1=(a=>m=>a&&m instanceof a)(typeof Uint8Array<"u"&&Ap(Uint8Array)),s1=(a,m)=>{const h=(a&&a[im]).call(a);let f;for(;(f=h.next())&&!f.done;){const c=f.value;m.call(a,c[0],c[1])}},n1=(a,m)=>{let t;const h=[];for(;(t=a.exec(m))!==null;)h.push(t);return h},i1=yi("HTMLFormElement"),a1=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,h,f){return h.toUpperCase()+f}),V0=(({hasOwnProperty:a})=>(m,t)=>a.call(m,t))(Object.prototype),o1=yi("RegExp"),Yy=(a,m)=>{const t=Object.getOwnPropertyDescriptors(a),h={};$c(t,(f,c)=>{let n;(n=m(f,c,a))!==!1&&(h[c]=n||f)}),Object.defineProperties(a,h)},l1=a=>{Yy(a,(m,t)=>{if(Tn(a)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const h=a[t];if(Tn(h)){if(m.enumerable=!1,"writable"in m){m.writable=!1;return}m.set||(m.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},c1=(a,m)=>{const t={},h=f=>{f.forEach(c=>{t[c]=!0})};return kl(a)?h(a):h(String(a).split(m)),t},d1=()=>{},u1=(a,m)=>a!=null&&Number.isFinite(a=+a)?a:m;function m1(a){return!!(a&&Tn(a.append)&&a[$y]==="FormData"&&a[im])}const h1=a=>{const m=new Array(10),t=(h,f)=>{if(qc(h)){if(m.indexOf(h)>=0)return;if(Vc(h))return h;if(!("toJSON"in h)){m[f]=h;const c=kl(h)?[]:{};return $c(h,(n,o)=>{const i=t(n,f+1);!gl(i)&&(c[o]=i)}),m[f]=void 0,c}}return h};return t(a,0)},f1=yi("AsyncFunction"),p1=a=>a&&(qc(a)||Tn(a))&&Tn(a.then)&&Tn(a.catch),Qy=((a,m)=>a?setImmediate:m?((t,h)=>(po.addEventListener("message",({source:f,data:c})=>{f===po&&c===t&&h.length&&h.shift()()},!1),f=>{h.push(f),po.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Tn(po.postMessage)),g1=typeof queueMicrotask<"u"?queueMicrotask.bind(po):typeof process<"u"&&process.nextTick||Qy,x1=a=>a!=null&&Tn(a[im]),yt={isArray:kl,isArrayBuffer:Hy,isBuffer:Vc,isFormData:qw,isArrayBufferView:Mw,isString:Rw,isNumber:Ky,isBoolean:zw,isObject:qc,isPlainObject:gu,isEmptyObject:Lw,isReadableStream:Hw,isRequest:Kw,isResponse:Gw,isHeaders:Ww,isUndefined:gl,isDate:Ow,isFile:Fw,isBlob:Bw,isRegExp:o1,isFunction:Tn,isStream:Vw,isURLSearchParams:$w,isTypedArray:r1,isFileList:Uw,forEach:$c,merge:Kf,extend:Qw,trim:Yw,stripBOM:Zw,inherits:Xw,toFlatObject:Jw,kindOf:am,kindOfTest:yi,endsWith:e1,toArray:t1,forEachEntry:s1,matchAll:n1,isHTMLForm:i1,hasOwnProperty:V0,hasOwnProp:V0,reduceDescriptors:Yy,freezeMethods:l1,toObjectSet:c1,toCamelCase:a1,noop:d1,toFiniteNumber:u1,findKey:Gy,global:po,isContextDefined:Wy,isSpecCompliantForm:m1,toJSONObject:h1,isAsyncFn:f1,isThenable:p1,setImmediate:Qy,asap:g1,isIterable:x1};function Sr(a,m,t,h,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",m&&(this.code=m),t&&(this.config=t),h&&(this.request=h),f&&(this.response=f,this.status=f.status?f.status:null)}yt.inherits(Sr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yt.toJSONObject(this.config),code:this.code,status:this.status}}});const Zy=Sr.prototype,Xy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Xy[a]={value:a}});Object.defineProperties(Sr,Xy);Object.defineProperty(Zy,"isAxiosError",{value:!0});Sr.from=(a,m,t,h,f,c)=>{const n=Object.create(Zy);yt.toFlatObject(a,n,function(s){return s!==Error.prototype},r=>r!=="isAxiosError");const o=a&&a.message?a.message:"Error",i=m==null&&a?a.code:m;return Sr.call(n,o,i,t,h,f),a&&n.cause==null&&Object.defineProperty(n,"cause",{value:a,configurable:!0}),n.name=a&&a.name||"Error",c&&Object.assign(n,c),n};const y1=null;function Gf(a){return yt.isPlainObject(a)||yt.isArray(a)}function Jy(a){return yt.endsWith(a,"[]")?a.slice(0,-2):a}function q0(a,m,t){return a?a.concat(m).map(function(f,c){return f=Jy(f),!t&&c?"["+f+"]":f}).join(t?".":""):m}function b1(a){return yt.isArray(a)&&!a.some(Gf)}const v1=yt.toFlatObject(yt,{},null,function(m){return/^is[A-Z]/.test(m)});function lm(a,m,t){if(!yt.isObject(a))throw new TypeError("target must be an object");m=m||new FormData,t=yt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!yt.isUndefined(g[b])});const h=t.metaTokens,f=t.visitor||s,c=t.dots,n=t.indexes,i=(t.Blob||typeof Blob<"u"&&Blob)&&yt.isSpecCompliantForm(m);if(!yt.isFunction(f))throw new TypeError("visitor must be a function");function r(x){if(x===null)return"";if(yt.isDate(x))return x.toISOString();if(yt.isBoolean(x))return x.toString();if(!i&&yt.isBlob(x))throw new Sr("Blob is not supported. Use a Buffer instead.");return yt.isArrayBuffer(x)||yt.isTypedArray(x)?i&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function s(x,b,g){let v=x;if(x&&!g&&typeof x=="object"){if(yt.endsWith(b,"{}"))b=h?b:b.slice(0,-2),x=JSON.stringify(x);else if(yt.isArray(x)&&b1(x)||(yt.isFileList(x)||yt.endsWith(b,"[]"))&&(v=yt.toArray(x)))return b=Jy(b),v.forEach(function(N,E){!(yt.isUndefined(N)||N===null)&&m.append(n===!0?q0([b],E,c):n===null?b:b+"[]",r(N))}),!1}return Gf(x)?!0:(m.append(q0(g,b,c),r(x)),!1)}const l=[],d=Object.assign(v1,{defaultVisitor:s,convertValue:r,isVisitable:Gf});function u(x,b){if(!yt.isUndefined(x)){if(l.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));l.push(x),yt.forEach(x,function(v,y){(!(yt.isUndefined(v)||v===null)&&f.call(m,v,yt.isString(y)?y.trim():y,b,d))===!0&&u(v,b?b.concat(y):[y])}),l.pop()}}if(!yt.isObject(a))throw new TypeError("data must be an object");return u(a),m}function $0(a){const m={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(h){return m[h]})}function Ep(a,m){this._pairs=[],a&&lm(a,this,m)}const eb=Ep.prototype;eb.append=function(m,t){this._pairs.push([m,t])};eb.toString=function(m){const t=m?function(h){return m.call(this,h,$0)}:$0;return this._pairs.map(function(f){return t(f[0])+"="+t(f[1])},"").join("&")};function w1(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tb(a,m,t){if(!m)return a;const h=t&&t.encode||w1;yt.isFunction(t)&&(t={serialize:t});const f=t&&t.serialize;let c;if(f?c=f(m,t):c=yt.isURLSearchParams(m)?m.toString():new Ep(m,t).toString(h),c){const n=a.indexOf("#");n!==-1&&(a=a.slice(0,n)),a+=(a.indexOf("?")===-1?"?":"&")+c}return a}class H0{constructor(){this.handlers=[]}use(m,t,h){return this.handlers.push({fulfilled:m,rejected:t,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1}eject(m){this.handlers[m]&&(this.handlers[m]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(m){yt.forEach(this.handlers,function(h){h!==null&&m(h)})}}const rb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},k1=typeof URLSearchParams<"u"?URLSearchParams:Ep,N1=typeof FormData<"u"?FormData:null,j1=typeof Blob<"u"?Blob:null,S1={isBrowser:!0,classes:{URLSearchParams:k1,FormData:N1,Blob:j1},protocols:["http","https","file","blob","url","data"]},Tp=typeof window<"u"&&typeof document<"u",Wf=typeof navigator=="object"&&navigator||void 0,C1=Tp&&(!Wf||["ReactNative","NativeScript","NS"].indexOf(Wf.product)<0),A1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",E1=Tp&&window.location.href||"http://localhost",T1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tp,hasStandardBrowserEnv:C1,hasStandardBrowserWebWorkerEnv:A1,navigator:Wf,origin:E1},Symbol.toStringTag,{value:"Module"})),an={...T1,...S1};function _1(a,m){return lm(a,new an.classes.URLSearchParams,{visitor:function(t,h,f,c){return an.isNode&&yt.isBuffer(t)?(this.append(h,t.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...m})}function P1(a){return yt.matchAll(/\w+|\[(\w*)]/g,a).map(m=>m[0]==="[]"?"":m[1]||m[0])}function D1(a){const m={},t=Object.keys(a);let h;const f=t.length;let c;for(h=0;h<f;h++)c=t[h],m[c]=a[c];return m}function sb(a){function m(t,h,f,c){let n=t[c++];if(n==="__proto__")return!0;const o=Number.isFinite(+n),i=c>=t.length;return n=!n&&yt.isArray(f)?f.length:n,i?(yt.hasOwnProp(f,n)?f[n]=[f[n],h]:f[n]=h,!o):((!f[n]||!yt.isObject(f[n]))&&(f[n]=[]),m(t,h,f[n],c)&&yt.isArray(f[n])&&(f[n]=D1(f[n])),!o)}if(yt.isFormData(a)&&yt.isFunction(a.entries)){const t={};return yt.forEachEntry(a,(h,f)=>{m(P1(h),f,t,0)}),t}return null}function I1(a,m,t){if(yt.isString(a))try{return(m||JSON.parse)(a),yt.trim(a)}catch(h){if(h.name!=="SyntaxError")throw h}return(t||JSON.stringify)(a)}const Hc={transitional:rb,adapter:["xhr","http","fetch"],transformRequest:[function(m,t){const h=t.getContentType()||"",f=h.indexOf("application/json")>-1,c=yt.isObject(m);if(c&&yt.isHTMLForm(m)&&(m=new FormData(m)),yt.isFormData(m))return f?JSON.stringify(sb(m)):m;if(yt.isArrayBuffer(m)||yt.isBuffer(m)||yt.isStream(m)||yt.isFile(m)||yt.isBlob(m)||yt.isReadableStream(m))return m;if(yt.isArrayBufferView(m))return m.buffer;if(yt.isURLSearchParams(m))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),m.toString();let o;if(c){if(h.indexOf("application/x-www-form-urlencoded")>-1)return _1(m,this.formSerializer).toString();if((o=yt.isFileList(m))||h.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return lm(o?{"files[]":m}:m,i&&new i,this.formSerializer)}}return c||f?(t.setContentType("application/json",!1),I1(m)):m}],transformResponse:[function(m){const t=this.transitional||Hc.transitional,h=t&&t.forcedJSONParsing,f=this.responseType==="json";if(yt.isResponse(m)||yt.isReadableStream(m))return m;if(m&&yt.isString(m)&&(h&&!this.responseType||f)){const n=!(t&&t.silentJSONParsing)&&f;try{return JSON.parse(m,this.parseReviver)}catch(o){if(n)throw o.name==="SyntaxError"?Sr.from(o,Sr.ERR_BAD_RESPONSE,this,null,this.response):o}}return m}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(m){return m>=200&&m<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yt.forEach(["delete","get","head","post","put","patch"],a=>{Hc.headers[a]={}});const M1=yt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R1=a=>{const m={};let t,h,f;return a&&a.split(`
`).forEach(function(n){f=n.indexOf(":"),t=n.substring(0,f).trim().toLowerCase(),h=n.substring(f+1).trim(),!(!t||m[t]&&M1[t])&&(t==="set-cookie"?m[t]?m[t].push(h):m[t]=[h]:m[t]=m[t]?m[t]+", "+h:h)}),m},K0=Symbol("internals");function nc(a){return a&&String(a).trim().toLowerCase()}function xu(a){return a===!1||a==null?a:yt.isArray(a)?a.map(xu):String(a)}function z1(a){const m=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let h;for(;h=t.exec(a);)m[h[1]]=h[2];return m}const L1=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function ef(a,m,t,h,f){if(yt.isFunction(h))return h.call(this,m,t);if(f&&(m=t),!!yt.isString(m)){if(yt.isString(h))return m.indexOf(h)!==-1;if(yt.isRegExp(h))return h.test(m)}}function O1(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(m,t,h)=>t.toUpperCase()+h)}function F1(a,m){const t=yt.toCamelCase(" "+m);["get","set","has"].forEach(h=>{Object.defineProperty(a,h+t,{value:function(f,c,n){return this[h].call(this,m,f,c,n)},configurable:!0})})}let _n=class{constructor(m){m&&this.set(m)}set(m,t,h){const f=this;function c(o,i,r){const s=nc(i);if(!s)throw new Error("header name must be a non-empty string");const l=yt.findKey(f,s);(!l||f[l]===void 0||r===!0||r===void 0&&f[l]!==!1)&&(f[l||i]=xu(o))}const n=(o,i)=>yt.forEach(o,(r,s)=>c(r,s,i));if(yt.isPlainObject(m)||m instanceof this.constructor)n(m,t);else if(yt.isString(m)&&(m=m.trim())&&!L1(m))n(R1(m),t);else if(yt.isObject(m)&&yt.isIterable(m)){let o={},i,r;for(const s of m){if(!yt.isArray(s))throw TypeError("Object iterator must return a key-value pair");o[r=s[0]]=(i=o[r])?yt.isArray(i)?[...i,s[1]]:[i,s[1]]:s[1]}n(o,t)}else m!=null&&c(t,m,h);return this}get(m,t){if(m=nc(m),m){const h=yt.findKey(this,m);if(h){const f=this[h];if(!t)return f;if(t===!0)return z1(f);if(yt.isFunction(t))return t.call(this,f,h);if(yt.isRegExp(t))return t.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(m,t){if(m=nc(m),m){const h=yt.findKey(this,m);return!!(h&&this[h]!==void 0&&(!t||ef(this,this[h],h,t)))}return!1}delete(m,t){const h=this;let f=!1;function c(n){if(n=nc(n),n){const o=yt.findKey(h,n);o&&(!t||ef(h,h[o],o,t))&&(delete h[o],f=!0)}}return yt.isArray(m)?m.forEach(c):c(m),f}clear(m){const t=Object.keys(this);let h=t.length,f=!1;for(;h--;){const c=t[h];(!m||ef(this,this[c],c,m,!0))&&(delete this[c],f=!0)}return f}normalize(m){const t=this,h={};return yt.forEach(this,(f,c)=>{const n=yt.findKey(h,c);if(n){t[n]=xu(f),delete t[c];return}const o=m?O1(c):String(c).trim();o!==c&&delete t[c],t[o]=xu(f),h[o]=!0}),this}concat(...m){return this.constructor.concat(this,...m)}toJSON(m){const t=Object.create(null);return yt.forEach(this,(h,f)=>{h!=null&&h!==!1&&(t[f]=m&&yt.isArray(h)?h.join(", "):h)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([m,t])=>m+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(m){return m instanceof this?m:new this(m)}static concat(m,...t){const h=new this(m);return t.forEach(f=>h.set(f)),h}static accessor(m){const h=(this[K0]=this[K0]={accessors:{}}).accessors,f=this.prototype;function c(n){const o=nc(n);h[o]||(F1(f,n),h[o]=!0)}return yt.isArray(m)?m.forEach(c):c(m),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);yt.reduceDescriptors(_n.prototype,({value:a},m)=>{let t=m[0].toUpperCase()+m.slice(1);return{get:()=>a,set(h){this[t]=h}}});yt.freezeMethods(_n);function tf(a,m){const t=this||Hc,h=m||t,f=_n.from(h.headers);let c=h.data;return yt.forEach(a,function(o){c=o.call(t,c,f.normalize(),m?m.status:void 0)}),f.normalize(),c}function nb(a){return!!(a&&a.__CANCEL__)}function Nl(a,m,t){Sr.call(this,a??"canceled",Sr.ERR_CANCELED,m,t),this.name="CanceledError"}yt.inherits(Nl,Sr,{__CANCEL__:!0});function ib(a,m,t){const h=t.config.validateStatus;!t.status||!h||h(t.status)?a(t):m(new Sr("Request failed with status code "+t.status,[Sr.ERR_BAD_REQUEST,Sr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function B1(a){const m=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return m&&m[1]||""}function U1(a,m){a=a||10;const t=new Array(a),h=new Array(a);let f=0,c=0,n;return m=m!==void 0?m:1e3,function(i){const r=Date.now(),s=h[c];n||(n=r),t[f]=i,h[f]=r;let l=c,d=0;for(;l!==f;)d+=t[l++],l=l%a;if(f=(f+1)%a,f===c&&(c=(c+1)%a),r-n<m)return;const u=s&&r-s;return u?Math.round(d*1e3/u):void 0}}function V1(a,m){let t=0,h=1e3/m,f,c;const n=(r,s=Date.now())=>{t=s,f=null,c&&(clearTimeout(c),c=null),a(...r)};return[(...r)=>{const s=Date.now(),l=s-t;l>=h?n(r,s):(f=r,c||(c=setTimeout(()=>{c=null,n(f)},h-l)))},()=>f&&n(f)]}const Mu=(a,m,t=3)=>{let h=0;const f=U1(50,250);return V1(c=>{const n=c.loaded,o=c.lengthComputable?c.total:void 0,i=n-h,r=f(i),s=n<=o;h=n;const l={loaded:n,total:o,progress:o?n/o:void 0,bytes:i,rate:r||void 0,estimated:r&&o&&s?(o-n)/r:void 0,event:c,lengthComputable:o!=null,[m?"download":"upload"]:!0};a(l)},t)},G0=(a,m)=>{const t=a!=null;return[h=>m[0]({lengthComputable:t,total:a,loaded:h}),m[1]]},W0=a=>(...m)=>yt.asap(()=>a(...m)),q1=an.hasStandardBrowserEnv?((a,m)=>t=>(t=new URL(t,an.origin),a.protocol===t.protocol&&a.host===t.host&&(m||a.port===t.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,$1=an.hasStandardBrowserEnv?{write(a,m,t,h,f,c){const n=[a+"="+encodeURIComponent(m)];yt.isNumber(t)&&n.push("expires="+new Date(t).toGMTString()),yt.isString(h)&&n.push("path="+h),yt.isString(f)&&n.push("domain="+f),c===!0&&n.push("secure"),document.cookie=n.join("; ")},read(a){const m=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function H1(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function K1(a,m){return m?a.replace(/\/?\/$/,"")+"/"+m.replace(/^\/+/,""):a}function ab(a,m,t){let h=!H1(m);return a&&(h||t==!1)?K1(a,m):m}const Y0=a=>a instanceof _n?{...a}:a;function wo(a,m){m=m||{};const t={};function h(r,s,l,d){return yt.isPlainObject(r)&&yt.isPlainObject(s)?yt.merge.call({caseless:d},r,s):yt.isPlainObject(s)?yt.merge({},s):yt.isArray(s)?s.slice():s}function f(r,s,l,d){if(yt.isUndefined(s)){if(!yt.isUndefined(r))return h(void 0,r,l,d)}else return h(r,s,l,d)}function c(r,s){if(!yt.isUndefined(s))return h(void 0,s)}function n(r,s){if(yt.isUndefined(s)){if(!yt.isUndefined(r))return h(void 0,r)}else return h(void 0,s)}function o(r,s,l){if(l in m)return h(r,s);if(l in a)return h(void 0,r)}const i={url:c,method:c,data:c,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(r,s,l)=>f(Y0(r),Y0(s),l,!0)};return yt.forEach(Object.keys({...a,...m}),function(s){const l=i[s]||f,d=l(a[s],m[s],s);yt.isUndefined(d)&&l!==o||(t[s]=d)}),t}const ob=a=>{const m=wo({},a);let{data:t,withXSRFToken:h,xsrfHeaderName:f,xsrfCookieName:c,headers:n,auth:o}=m;if(m.headers=n=_n.from(n),m.url=tb(ab(m.baseURL,m.url,m.allowAbsoluteUrls),a.params,a.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yt.isFormData(t)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if(yt.isFunction(t.getHeaders)){const i=t.getHeaders(),r=["content-type","content-length"];Object.entries(i).forEach(([s,l])=>{r.includes(s.toLowerCase())&&n.set(s,l)})}}if(an.hasStandardBrowserEnv&&(h&&yt.isFunction(h)&&(h=h(m)),h||h!==!1&&q1(m.url))){const i=f&&c&&$1.read(c);i&&n.set(f,i)}return m},G1=typeof XMLHttpRequest<"u",W1=G1&&function(a){return new Promise(function(t,h){const f=ob(a);let c=f.data;const n=_n.from(f.headers).normalize();let{responseType:o,onUploadProgress:i,onDownloadProgress:r}=f,s,l,d,u,x;function b(){u&&u(),x&&x(),f.cancelToken&&f.cancelToken.unsubscribe(s),f.signal&&f.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;g.open(f.method.toUpperCase(),f.url,!0),g.timeout=f.timeout;function v(){if(!g)return;const N=_n.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:N,config:a,request:g};ib(function($){t($),b()},function($){h($),b()},I),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(h(new Sr("Request aborted",Sr.ECONNABORTED,a,g)),g=null)},g.onerror=function(E){const I=E&&E.message?E.message:"Network Error",O=new Sr(I,Sr.ERR_NETWORK,a,g);O.event=E||null,h(O),g=null},g.ontimeout=function(){let E=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded";const I=f.transitional||rb;f.timeoutErrorMessage&&(E=f.timeoutErrorMessage),h(new Sr(E,I.clarifyTimeoutError?Sr.ETIMEDOUT:Sr.ECONNABORTED,a,g)),g=null},c===void 0&&n.setContentType(null),"setRequestHeader"in g&&yt.forEach(n.toJSON(),function(E,I){g.setRequestHeader(I,E)}),yt.isUndefined(f.withCredentials)||(g.withCredentials=!!f.withCredentials),o&&o!=="json"&&(g.responseType=f.responseType),r&&([d,x]=Mu(r,!0),g.addEventListener("progress",d)),i&&g.upload&&([l,u]=Mu(i),g.upload.addEventListener("progress",l),g.upload.addEventListener("loadend",u)),(f.cancelToken||f.signal)&&(s=N=>{g&&(h(!N||N.type?new Nl(null,a,g):N),g.abort(),g=null)},f.cancelToken&&f.cancelToken.subscribe(s),f.signal&&(f.signal.aborted?s():f.signal.addEventListener("abort",s)));const y=B1(f.url);if(y&&an.protocols.indexOf(y)===-1){h(new Sr("Unsupported protocol "+y+":",Sr.ERR_BAD_REQUEST,a));return}g.send(c||null)})},Y1=(a,m)=>{const{length:t}=a=a?a.filter(Boolean):[];if(m||t){let h=new AbortController,f;const c=function(r){if(!f){f=!0,o();const s=r instanceof Error?r:this.reason;h.abort(s instanceof Sr?s:new Nl(s instanceof Error?s.message:s))}};let n=m&&setTimeout(()=>{n=null,c(new Sr(`timeout ${m} of ms exceeded`,Sr.ETIMEDOUT))},m);const o=()=>{a&&(n&&clearTimeout(n),n=null,a.forEach(r=>{r.unsubscribe?r.unsubscribe(c):r.removeEventListener("abort",c)}),a=null)};a.forEach(r=>r.addEventListener("abort",c));const{signal:i}=h;return i.unsubscribe=()=>yt.asap(o),i}},Q1=function*(a,m){let t=a.byteLength;if(t<m){yield a;return}let h=0,f;for(;h<t;)f=h+m,yield a.slice(h,f),h=f},Z1=async function*(a,m){for await(const t of X1(a))yield*Q1(t,m)},X1=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const m=a.getReader();try{for(;;){const{done:t,value:h}=await m.read();if(t)break;yield h}}finally{await m.cancel()}},Q0=(a,m,t,h)=>{const f=Z1(a,m);let c=0,n,o=i=>{n||(n=!0,h&&h(i))};return new ReadableStream({async pull(i){try{const{done:r,value:s}=await f.next();if(r){o(),i.close();return}let l=s.byteLength;if(t){let d=c+=l;t(d)}i.enqueue(new Uint8Array(s))}catch(r){throw o(r),r}},cancel(i){return o(i),f.return()}},{highWaterMark:2})},Z0=64*1024,{isFunction:Zd}=yt,J1=(({Request:a,Response:m})=>({Request:a,Response:m}))(yt.global),{ReadableStream:X0,TextEncoder:J0}=yt.global,ex=(a,...m)=>{try{return!!a(...m)}catch{return!1}},e2=a=>{a=yt.merge.call({skipUndefined:!0},J1,a);const{fetch:m,Request:t,Response:h}=a,f=m?Zd(m):typeof fetch=="function",c=Zd(t),n=Zd(h);if(!f)return!1;const o=f&&Zd(X0),i=f&&(typeof J0=="function"?(x=>b=>x.encode(b))(new J0):async x=>new Uint8Array(await new t(x).arrayBuffer())),r=c&&o&&ex(()=>{let x=!1;const b=new t(an.origin,{body:new X0,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),s=n&&o&&ex(()=>yt.isReadableStream(new h("").body)),l={stream:s&&(x=>x.body)};f&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!l[x]&&(l[x]=(b,g)=>{let v=b&&b[x];if(v)return v.call(b);throw new Sr(`Response type '${x}' is not supported`,Sr.ERR_NOT_SUPPORT,g)})});const d=async x=>{if(x==null)return 0;if(yt.isBlob(x))return x.size;if(yt.isSpecCompliantForm(x))return(await new t(an.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(yt.isArrayBufferView(x)||yt.isArrayBuffer(x))return x.byteLength;if(yt.isURLSearchParams(x)&&(x=x+""),yt.isString(x))return(await i(x)).byteLength},u=async(x,b)=>{const g=yt.toFiniteNumber(x.getContentLength());return g??d(b)};return async x=>{let{url:b,method:g,data:v,signal:y,cancelToken:N,timeout:E,onDownloadProgress:I,onUploadProgress:O,responseType:$,headers:z,withCredentials:U="same-origin",fetchOptions:V}=ob(x),G=m||fetch;$=$?($+"").toLowerCase():"text";let B=Y1([y,N&&N.toAbortSignal()],E),T=null;const D=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let A;try{if(O&&r&&g!=="get"&&g!=="head"&&(A=await u(z,v))!==0){let R=new t(b,{method:"POST",body:v,duplex:"half"}),L;if(yt.isFormData(v)&&(L=R.headers.get("content-type"))&&z.setContentType(L),R.body){const[Y,Z]=G0(A,Mu(W0(O)));v=Q0(R.body,Z0,Y,Z)}}yt.isString(U)||(U=U?"include":"omit");const k=c&&"credentials"in t.prototype,S={...V,signal:B,method:g.toUpperCase(),headers:z.normalize().toJSON(),body:v,duplex:"half",credentials:k?U:void 0};T=c&&new t(b,S);let j=await(c?G(T,V):G(b,S));const C=s&&($==="stream"||$==="response");if(s&&(I||C&&D)){const R={};["status","statusText","headers"].forEach(ae=>{R[ae]=j[ae]});const L=yt.toFiniteNumber(j.headers.get("content-length")),[Y,Z]=I&&G0(L,Mu(W0(I),!0))||[];j=new h(Q0(j.body,Z0,Y,()=>{Z&&Z(),D&&D()}),R)}$=$||"text";let P=await l[yt.findKey(l,$)||"text"](j,x);return!C&&D&&D(),await new Promise((R,L)=>{ib(R,L,{data:P,headers:_n.from(j.headers),status:j.status,statusText:j.statusText,config:x,request:T})})}catch(k){throw D&&D(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new Sr("Network Error",Sr.ERR_NETWORK,x,T),{cause:k.cause||k}):Sr.from(k,k&&k.code,x,T)}}},t2=new Map,lb=a=>{let m=a?a.env:{};const{fetch:t,Request:h,Response:f}=m,c=[h,f,t];let n=c.length,o=n,i,r,s=t2;for(;o--;)i=c[o],r=s.get(i),r===void 0&&s.set(i,r=o?new Map:e2(m)),s=r;return r};lb();const Yf={http:y1,xhr:W1,fetch:{get:lb}};yt.forEach(Yf,(a,m)=>{if(a){try{Object.defineProperty(a,"name",{value:m})}catch{}Object.defineProperty(a,"adapterName",{value:m})}});const tx=a=>`- ${a}`,r2=a=>yt.isFunction(a)||a===null||a===!1,cb={getAdapter:(a,m)=>{a=yt.isArray(a)?a:[a];const{length:t}=a;let h,f;const c={};for(let n=0;n<t;n++){h=a[n];let o;if(f=h,!r2(h)&&(f=Yf[(o=String(h)).toLowerCase()],f===void 0))throw new Sr(`Unknown adapter '${o}'`);if(f&&(yt.isFunction(f)||(f=f.get(m))))break;c[o||"#"+n]=f}if(!f){const n=Object.entries(c).map(([i,r])=>`adapter ${i} `+(r===!1?"is not supported by the environment":"is not available in the build"));let o=t?n.length>1?`since :
`+n.map(tx).join(`
`):" "+tx(n[0]):"as no adapter specified";throw new Sr("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return f},adapters:Yf};function rf(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Nl(null,a)}function rx(a){return rf(a),a.headers=_n.from(a.headers),a.data=tf.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),cb.getAdapter(a.adapter||Hc.adapter,a)(a).then(function(h){return rf(a),h.data=tf.call(a,a.transformResponse,h),h.headers=_n.from(h.headers),h},function(h){return nb(h)||(rf(a),h&&h.response&&(h.response.data=tf.call(a,a.transformResponse,h.response),h.response.headers=_n.from(h.response.headers))),Promise.reject(h)})}const db="1.12.2",cm={};["object","boolean","number","function","string","symbol"].forEach((a,m)=>{cm[a]=function(h){return typeof h===a||"a"+(m<1?"n ":" ")+a}});const sx={};cm.transitional=function(m,t,h){function f(c,n){return"[Axios v"+db+"] Transitional option '"+c+"'"+n+(h?". "+h:"")}return(c,n,o)=>{if(m===!1)throw new Sr(f(n," has been removed"+(t?" in "+t:"")),Sr.ERR_DEPRECATED);return t&&!sx[n]&&(sx[n]=!0,console.warn(f(n," has been deprecated since v"+t+" and will be removed in the near future"))),m?m(c,n,o):!0}};cm.spelling=function(m){return(t,h)=>(console.warn(`${h} is likely a misspelling of ${m}`),!0)};function s2(a,m,t){if(typeof a!="object")throw new Sr("options must be an object",Sr.ERR_BAD_OPTION_VALUE);const h=Object.keys(a);let f=h.length;for(;f-- >0;){const c=h[f],n=m[c];if(n){const o=a[c],i=o===void 0||n(o,c,a);if(i!==!0)throw new Sr("option "+c+" must be "+i,Sr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Sr("Unknown option "+c,Sr.ERR_BAD_OPTION)}}const yu={assertOptions:s2,validators:cm},Di=yu.validators;let xo=class{constructor(m){this.defaults=m||{},this.interceptors={request:new H0,response:new H0}}async request(m,t){try{return await this._request(m,t)}catch(h){if(h instanceof Error){let f={};Error.captureStackTrace?Error.captureStackTrace(f):f=new Error;const c=f.stack?f.stack.replace(/^.+\n/,""):"";try{h.stack?c&&!String(h.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(h.stack+=`
`+c):h.stack=c}catch{}}throw h}}_request(m,t){typeof m=="string"?(t=t||{},t.url=m):t=m||{},t=wo(this.defaults,t);const{transitional:h,paramsSerializer:f,headers:c}=t;h!==void 0&&yu.assertOptions(h,{silentJSONParsing:Di.transitional(Di.boolean),forcedJSONParsing:Di.transitional(Di.boolean),clarifyTimeoutError:Di.transitional(Di.boolean)},!1),f!=null&&(yt.isFunction(f)?t.paramsSerializer={serialize:f}:yu.assertOptions(f,{encode:Di.function,serialize:Di.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yu.assertOptions(t,{baseUrl:Di.spelling("baseURL"),withXsrfToken:Di.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=c&&yt.merge(c.common,c[t.method]);c&&yt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete c[x]}),t.headers=_n.concat(n,c);const o=[];let i=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(i=i&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const r=[];this.interceptors.response.forEach(function(b){r.push(b.fulfilled,b.rejected)});let s,l=0,d;if(!i){const x=[rx.bind(this),void 0];for(x.unshift(...o),x.push(...r),d=x.length,s=Promise.resolve(t);l<d;)s=s.then(x[l++],x[l++]);return s}d=o.length;let u=t;for(;l<d;){const x=o[l++],b=o[l++];try{u=x(u)}catch(g){b.call(this,g);break}}try{s=rx.call(this,u)}catch(x){return Promise.reject(x)}for(l=0,d=r.length;l<d;)s=s.then(r[l++],r[l++]);return s}getUri(m){m=wo(this.defaults,m);const t=ab(m.baseURL,m.url,m.allowAbsoluteUrls);return tb(t,m.params,m.paramsSerializer)}};yt.forEach(["delete","get","head","options"],function(m){xo.prototype[m]=function(t,h){return this.request(wo(h||{},{method:m,url:t,data:(h||{}).data}))}});yt.forEach(["post","put","patch"],function(m){function t(h){return function(c,n,o){return this.request(wo(o||{},{method:m,headers:h?{"Content-Type":"multipart/form-data"}:{},url:c,data:n}))}}xo.prototype[m]=t(),xo.prototype[m+"Form"]=t(!0)});let n2=class ub{constructor(m){if(typeof m!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(c){t=c});const h=this;this.promise.then(f=>{if(!h._listeners)return;let c=h._listeners.length;for(;c-- >0;)h._listeners[c](f);h._listeners=null}),this.promise.then=f=>{let c;const n=new Promise(o=>{h.subscribe(o),c=o}).then(f);return n.cancel=function(){h.unsubscribe(c)},n},m(function(c,n,o){h.reason||(h.reason=new Nl(c,n,o),t(h.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(m){if(this.reason){m(this.reason);return}this._listeners?this._listeners.push(m):this._listeners=[m]}unsubscribe(m){if(!this._listeners)return;const t=this._listeners.indexOf(m);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const m=new AbortController,t=h=>{m.abort(h)};return this.subscribe(t),m.signal.unsubscribe=()=>this.unsubscribe(t),m.signal}static source(){let m;return{token:new ub(function(f){m=f}),cancel:m}}};function i2(a){return function(t){return a.apply(null,t)}}function a2(a){return yt.isObject(a)&&a.isAxiosError===!0}const Qf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qf).forEach(([a,m])=>{Qf[m]=a});function mb(a){const m=new xo(a),t=qy(xo.prototype.request,m);return yt.extend(t,xo.prototype,m,{allOwnKeys:!0}),yt.extend(t,m,null,{allOwnKeys:!0}),t.create=function(f){return mb(wo(a,f))},t}const ws=mb(Hc);ws.Axios=xo;ws.CanceledError=Nl;ws.CancelToken=n2;ws.isCancel=nb;ws.VERSION=db;ws.toFormData=lm;ws.AxiosError=Sr;ws.Cancel=ws.CanceledError;ws.all=function(m){return Promise.all(m)};ws.spread=i2;ws.isAxiosError=a2;ws.mergeConfig=wo;ws.AxiosHeaders=_n;ws.formToJSON=a=>sb(yt.isHTMLForm(a)?new FormData(a):a);ws.getAdapter=cb.getAdapter;ws.HttpStatusCode=Qf;ws.default=ws;const{Axios:q_,AxiosError:$_,CanceledError:H_,isCancel:K_,CancelToken:G_,VERSION:W_,all:Y_,Cancel:Q_,isAxiosError:Z_,spread:X_,toFormData:J_,AxiosHeaders:hb,HttpStatusCode:eP,formToJSON:tP,getAdapter:rP,mergeConfig:sP}=ws,bu=()=>{try{return typeof window>"u"||!window.localStorage?null:window.localStorage}catch(a){return he.warn("[storage] localStorage is not accessible",a),null}},sf=()=>{try{return typeof window>"u"||!window.sessionStorage?null:window.sessionStorage}catch(a){return he.warn("[storage] sessionStorage is not accessible",a),null}},Tt={getItem:a=>{const m=bu();if(!m)return null;try{return m.getItem(a)}catch(t){return he.warn(`[storage] Failed to read key ${a}`,t),null}},setItem:(a,m)=>{const t=bu();if(t)try{t.setItem(a,m)}catch(h){he.warn(`[storage] Failed to write key ${a}`,h)}},removeItem:a=>{const m=bu();if(m)try{m.removeItem(a)}catch(t){he.warn(`[storage] Failed to remove key ${a}`,t)}}},Gr={getItem:a=>{const m=sf();if(!m)return null;try{return m.getItem(a)}catch(t){return he.warn(`[storage] Failed to read session key ${a}`,t),null}},setItem:(a,m)=>{const t=sf();if(t)try{t.setItem(a,m)}catch(h){he.warn(`[storage] Failed to write session key ${a}`,h)}},removeItem:a=>{const m=sf();if(m)try{m.removeItem(a)}catch(t){he.warn(`[storage] Failed to remove session key ${a}`,t)}}},fb=()=>{const a=bu();if(!a)return[];try{return Object.keys(a)}catch(m){return he.warn("[storage] Failed to enumerate keys",m),[]}},pb=(a,m)=>{if(!a)return null;try{return JSON.parse(a)}catch(t){return he.warn(`[storage] JSON parse failed for ${m}`,{error:t,sample:a.slice(0,64)}),null}},za=(a,m)=>{const t=pb(a,m);return t&&typeof t=="object"?t:(t!==null&&he.warn(`[storage] Parsed value for ${m} is not an object`,{context:m}),null)},nx=(a,m)=>{const t=pb(a,m);return Array.isArray(t)?t:(t!==null&&he.warn(`[storage] Parsed value for ${m} is not an array`,{context:m}),null)},xl=a=>{if(typeof a=="number"&&Number.isFinite(a))return String(a);if(typeof a=="string"){const m=a.trim();return m||null}return null},o2=a=>a?xl(a.id)??xl(a._id)??null:null,yo=()=>hn()??"default",dm=()=>{const a=um();return o2(a)??"anon"},l2=(a,m)=>`notif_prefs:${a}:${m}`,ia=(a,m)=>{const t=typeof a=="string"&&a.trim()?a.trim():a;if(!t)return a;const h=xl(m)??yo();return h&&h!=="default"?`${t}_${h}`:t},ps=(a,m)=>{const t=ia(a,m?.tenantId),h=nx(Tt.getItem(t),`tenant scoped array (${t})`);return h!==null?h:(m?.fallbackToBase??!0)&&t!==a?nx(Tt.getItem(a),`tenant scoped array (${a})`):null},Lr=(a,m,t)=>{if(!Array.isArray(m))return;const h=ia(a,t?.tenantId);try{const f=JSON.stringify(m);Tt.setItem(h,f),(t?.mirrorToBase??!0)&&h!==a&&Tt.setItem(a,f)}catch(f){he.warn(`[storage] Failed to serialize tenant scoped array (${h})`,f)}},Ru=(a,m)=>{const t=ia(a,m?.tenantId),h=Tt.getItem(t);return h!==null?h:(m?.fallbackToBase??!0)&&t!==a?Tt.getItem(a):null},ml=(a,m,t)=>{if(m==null)return;const h=ia(a,t?.tenantId);try{const f=typeof m=="string"?m:String(m);Tt.setItem(h,f),(t?.mirrorToBase??!0)&&h!==a&&Tt.setItem(a,f)}catch(f){he.warn(`[storage] Failed to persist tenant scoped value (${h})`,f)}},_c=(a,m)=>{const t=ia(a,m?.tenantId),h=za(Tt.getItem(t),`tenant scoped object (${t})`);return h||((m?.fallbackToBase??!0)&&t!==a?za(Tt.getItem(a),`tenant scoped object (${a})`):null)},vu=(a,m,t)=>{if(!m||typeof m!="object")return;const h=ia(a,t?.tenantId);try{const f=JSON.stringify(m);Tt.setItem(h,f),(t?.mirrorToBase??!0)&&h!==a&&Tt.setItem(a,f)}catch(f){he.warn(`[storage] Failed to persist tenant scoped object (${h})`,f)}},nf=a=>{const m=new Set;return a.forEach(t=>{const h=xl(t??null);h&&m.add(h)}),Array.from(m.values())},gb=a=>{const m=a?.includeDefaultTenant??!0,t=a?.tenantIds?.length?a.tenantIds:[yo()],h=nf(m?[...t,"default"]:t),f=a?.userIds?.length?a.userIds:[dm()],c=nf(f.length?f:["anon"]),n=[];return h.forEach(o=>{c.forEach(i=>{n.push(l2(o,i))})}),n},yl=a=>{const m=gb(a);for(const t of m){const h=za(Tt.getItem(t),`notification preferences cache (${t})`);if(h)return h}return null},xb=(a,m)=>{if(!a)return;gb(m).forEach(h=>{try{Tt.setItem(h,JSON.stringify(a))}catch(f){he.warn(`[storage] Failed to persist notification preferences to ${h}`,f)}})},zu="auth_token",Lu="tenantId",Ou="user",Fu="tenant",An=()=>Tt.getItem(zu),yb=a=>{if(!a){Tt.removeItem(zu);return}Tt.setItem(zu,a)},hn=()=>xl(Tt.getItem(Lu)),c2=a=>{const m=xl(a??null);if(!m){Tt.removeItem(Lu);return}Tt.setItem(Lu,m)},um=()=>za(Tt.getItem(Ou),"legacy user cache"),bb=a=>{if(!a){Tt.removeItem(Ou);return}try{Tt.setItem(Ou,JSON.stringify(a))}catch(m){he.warn("[storage] Failed to persist legacy user profile",m)}},Bu=()=>za(Tt.getItem(Fu),"legacy tenant cache"),d2=a=>{if(!a){Tt.removeItem(Fu);return}try{Tt.setItem(Fu,JSON.stringify(a))}catch(m){he.warn("[storage] Failed to persist legacy tenant profile",m)}},u2=[zu,Ou,Fu,Lu],_p=()=>{u2.forEach(a=>{try{Tt.removeItem(a)}catch(m){he.warn(`[storage] Failed to remove legacy session key ${a}`,m)}})},fo=()=>{},m2=()=>typeof globalThis<"u"&&globalThis.console?globalThis.console:{log:fo,info:fo,warn:fo,error:fo,debug:fo},Xd=m2(),h2=()=>!1,af=()=>h2(),he={debug:(...a)=>{af()&&Xd.log?.(...a)},info:(...a)=>{af()&&Xd.info?.(...a)},warn:(...a)=>{Xd.warn?.(...a)},error:(...a)=>{Xd.error?.(...a)},installConsoleMute:()=>{if(af()||typeof globalThis>"u"||!globalThis.console)return;const a=globalThis.console;a.log=fo,a.debug=fo}},Aa="admin-token";let ic=null;const bo={getToken(){const a=Gr.getItem(Aa);if(a)return ic=a,a;const m=Tt.getItem(Aa);return m?(ic=m,Gr.setItem(Aa,m),Tt.removeItem(Aa),m):ic},setToken(a){ic=a,Gr.setItem(Aa,a),Tt.removeItem(Aa)},clearToken(){ic=null,Gr.removeItem(Aa),Tt.removeItem(Aa)}},vb=("/api".trim(),"/api");let Zf=null;const wb=a=>typeof a=="object"&&a!==null,f2=(a,m,t)=>a instanceof hb?(a.set(m,t),a):{...a??{},[m]:t},p2=(a,m)=>{if(!a)return;const t=m.toLowerCase();if(a instanceof hb)return a.get(t)??a.get(m)??a.get(m.toUpperCase())??void 0;for(const[h,f]of Object.entries(a))if(h.toLowerCase()===t)return typeof f=="string"?f:String(f)},ix=a=>typeof a=="string"?a:void 0,g2=a=>{if(a){if(typeof a=="string")return a;if(Array.isArray(a))return a.filter(t=>typeof t=="string").join(", ")||void 0;if(wb(a)&&"message"in a){const m=a.message;if(typeof m=="string")return m;if(Array.isArray(m))return m.filter(h=>typeof h=="string").join(", ")||void 0}}},nt=ws.create({baseURL:vb,timeout:3e4,headers:{"Content-Type":"application/json"},validateStatus:a=>a>=200&&a<300});nt.interceptors.request.use(a=>{const m=An(),t=a.url||"",h=typeof t=="string"&&(t.startsWith("/public/")||t.startsWith("/auth/public")||t.includes("/public/"));m&&a.headers&&!h&&(a.headers.Authorization=`Bearer ${m}`);const f=(a.method||"get").toLowerCase();return["post","put","patch","delete"].includes(f)&&Zf&&(a.headers=f2(a.headers,"X-CSRF-Token",Zf)),a},a=>(he.error(" Request Error:",a),Promise.reject(a)));nt.interceptors.response.use(a=>{const m=p2(a.headers,"x-csrf-token");return m&&(Zf=m),a},async a=>{const m=a.config?.url||"";if(a.response?.status===404&&typeof m=="string"&&/^\/admin\/tenant\/.+\/invoices/.test(m)||he.error(" API Error:",{message:a.message,code:a.code,url:a.config?.url,status:a.response?.status}),a.code==="ERR_NETWORK"||a.code==="ECONNREFUSED")return he.error("Network error - Backend unavailable:",a.config?.url),Promise.reject({message:"Backend servisi eriilebilir deil. Port 3000 kontrol edin.",code:"NETWORK_ERROR",originalError:a});const f=a.response?.status,c=g2(a.response?.data);if(typeof window<"u"&&f===400&&typeof c=="string"&&c.includes("Plan limitine ulald"))try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:c,tone:"error"}}))}catch(l){he.debug("Plan limit toast dispatch failed",l)}const n=a.response?.status,o=wb(a.response?.data)?a.response?.data:void 0,i=ix(o?.error),r=ix(o?.message),s=r?.toLowerCase().includes("maintenance")??!1;if(n===503&&(i==="MAINTENANCE_MODE"||s)){const l=r||"Sistem bakm modunda (salt okunur). Ltfen daha sonra tekrar deneyin.";try{typeof window<"u"&&window.dispatchEvent(new CustomEvent("showToast",{detail:{message:l,tone:"error"}}))}catch(d){he.debug("Maintenance toast dispatch failed",d)}}if(a.response?.status===401){const l=a.config?.url||"";if(l.startsWith("/admin"))try{bo.clearToken(),typeof window<"u"&&window.dispatchEvent(new CustomEvent("adminAuthExpired"))}catch(d){he.debug("Admin token cleanup failed",d)}if(An()&&!l.includes("/auth/")){try{const d=Date.now(),u="__auth_401_count",x="__auth_401_ts",b=parseInt(Tt.getItem(u)||"0",10)||0,g=parseInt(Tt.getItem(x)||"0",10)||0,y=d-g<15e3?b+1:1;if(Tt.setItem(u,String(y)),Tt.setItem(x,String(d)),typeof l=="string"&&(l.includes("/site-settings")||l.includes("/status")||l.includes("/health")))return Promise.reject(a);y>=2&&(Tt.removeItem(u),Tt.removeItem(x),_p(),typeof window<"u"&&(window.location.href="/"))}catch(d){he.debug("Auth 401 logout flow failed",d)}return Promise.reject(a)}}return Promise.reject(a)});const x2=(a,m)=>{if(typeof a=="string")return a;if(a&&typeof a=="object"){const t=a;return t.response?.data?.message||t.message||m}return m},un={async register(a){try{return(await nt.post("/auth/register",a)).data}catch(m){throw new Error(x2(m,"Kayt srasnda hata olutu"))}},async login(a){try{he.debug(" auth.login called");let m={};try{const n=Intl.DateTimeFormat().resolvedOptions().timeZone,o=-new Date().getTimezoneOffset(),i=typeof navigator<"u"&&navigator.language?navigator.language:void 0;m={clientTimeZone:n||void 0,clientUtcOffsetMinutes:Number.isNaN(o)?void 0:o,clientLocale:i}}catch(n){he.debug("Client hint detection failed",n)}const t={...a,...m},h=(vb||"").replace(/\/+$/,""),f=await fetch(`${h}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(he.debug(" Fetch response status:",f.status),!f.ok){const o=(await f.json().catch(()=>({}))).message||"Geersiz email veya ifre";if(o==="MFA_REQUIRED")return{mfaRequired:!0};throw new Error(o)}const c=await f.json();return he.debug(" Auth service response received"),c}catch(m){throw he.error(" Auth service error:",m),m}},async getProfile(){return(await nt.get("/auth/me")).data},async refresh(){try{return(await nt.post("/auth/refresh-token",{})).data}catch(a){return he.debug("refresh-token endpoint unavailable, falling back",a),(await nt.post("/auth/refresh",{})).data}},async resendVerification(a){return(await nt.post("/auth/resend-verification",{email:a})).data},async verifyEmail(a){return(await nt.get("/auth/verify-email",{params:{token:a}})).data},async verifyEmailHashed(a,m){return(await nt.get("/auth/verify",{params:{token:a,u:m}})).data},async forgotPassword(a){try{return(await nt.post("/auth/forgot",{email:a})).data}catch(m){if(m.response?.status===404)return(await nt.post("/auth/forgot-password",{email:a})).data;throw m}},async resetPassword(a,m){return(await nt.post("/auth/reset-password",{token:a,newPassword:m})).data},async resetPasswordHashed(a,m,t){return(await nt.post("/auth/reset",{token:a,u:m,newPassword:t})).data},async signup(a){return(await nt.post("/auth/register",a)).data},logout(){_p(),["bankAccounts","customers_cache","suppliers_cache","products_cache","invoices_cache","expenses_cache","notifications"].forEach(m=>Tt.removeItem(m)),he.info(" Auth/logout: Cleared cached session keys")}},kb=Object.freeze(Object.defineProperty({__proto__:null,authService:un},Symbol.toStringTag,{value:"Module"})),y2={};class b2{lastActiveAt=Date.now();intervalId=null;options;getToken;setToken;onLogout;boundActivityHandler;stopped=!0;constructor(m,t,h,f){this.getToken=m,this.setToken=t,this.onLogout=h;const c=y2,n=(()=>{const o=c?.VITE_IDLE_TIMEOUT_MINUTES,i=Number(o);return Number.isFinite(i)&&i>0?i:30})();this.options={idleTimeoutMinutes:n,refreshBeforeSeconds:300,checkIntervalSeconds:60,...f||{}},this.boundActivityHandler=this.recordActivity.bind(this)}start(){if(!this.stopped)return;if(typeof window>"u"){he.warn("SessionManager start ars tarayc dnda yapld");return}this.stopped=!1,this.lastActiveAt=Date.now();const m=["click","keydown","mousemove","scroll","touchstart","visibilitychange","hashchange"],t={passive:!0};m.forEach(h=>window.addEventListener(h,this.boundActivityHandler,t)),this.intervalId=window.setInterval(()=>this.tick(),this.options.checkIntervalSeconds*1e3),he.info(" SessionManager started",this.options)}stop(){if(this.stopped||typeof window>"u")return;this.stopped=!0,["click","keydown","mousemove","scroll","touchstart","visibilitychange","hashchange"].forEach(t=>window.removeEventListener(t,this.boundActivityHandler)),this.intervalId!=null&&(clearInterval(this.intervalId),this.intervalId=null),he.info(" SessionManager stopped")}recordActivity(){this.lastActiveAt=Date.now()}decodeJwtExp(m){if(!m)return null;const t=typeof window<"u"&&window.atob?window.atob:typeof globalThis<"u"&&typeof globalThis.atob=="function"?globalThis.atob.bind(globalThis):null;if(!t)return null;try{const h=m.split(".");if(h.length!==3)return null;const f=JSON.parse(t(h[1]));return!f||typeof f.exp!="number"?null:f.exp*1e3}catch{return null}}async tick(){try{const m=Date.now(),t=this.options.idleTimeoutMinutes*60*1e3;if(m-this.lastActiveAt>t){he.info(" Idle timeout reached. Logging out."),this.stop(),this.onLogout();return}const h=this.getToken();if(!h)return;const f=m-this.lastActiveAt<300*1e3;if(typeof document>"u"||document.visibilityState==="hidden"||!f)return;const c=this.decodeJwtExp(h);if(!c)return;const n=Math.floor((c-m)/1e3);if(n<=this.options.refreshBeforeSeconds){he.debug(` Refreshing token. Seconds left: ${n}`);try{const o=await un.refresh();o?.token&&(this.setToken(o.token),he.info(" Token refreshed"))}catch(o){he.error(" Token refresh failed",o)}}}catch(m){he.error("SessionManager tick srasnda hata olutu",m)}}}const v2=(a,m,t,h)=>new b2(a,m,t,h),w2=new Set(["true","1","yes","on"]),Uu=()=>{try{const a="true".trim().toLowerCase();return a===""||w2.has(a)}catch{return!0}},k2={},Nb=W.createContext(void 0),N2=a=>typeof a=="object"&&a!==null&&("user"in a||"tenant"in a),j2=a=>typeof a=="object"&&a!==null&&"id"in a&&"email"in a&&"tenantId"in a,S2=a=>N2(a)?a:j2(a)?{user:a}:{},C2="user",A2="tenant",Jd="pending_invite_token",E2=()=>{const a=um();return a||Tt.removeItem(C2),a},T2=()=>{const a=Bu();return a||Tt.removeItem(A2),a},eu=a=>{bb(a)},tu=a=>{d2(a)},of=()=>An(),lf=a=>{yb(a)},_2=()=>{const m=k2?.VITE_IDLE_TIMEOUT_MINUTES,t=Number(m);return Number.isFinite(t)&&t>0?t:30},ax=a=>typeof a=="object"&&a!==null?a:{};function P2({children:a}){const[m,t]=W.useState(null),[h,f]=W.useState(null),[c,n]=W.useState(!0),o=W.useRef(null),i=W.useRef(null),r=W.useRef(0);W.useEffect(()=>{const g=of(),v=E2(),y=T2();return he.info(" AuthContext local cache kontrol:",{token:g?"var":"yok",cachedUserEmail:v?.email??null,cachedTenantName:y?.name??null}),(async()=>{try{if(v&&(t(v),he.info(" User local cache'den yklendi:",v.email)),y&&(f(y),he.info(" Tenant local cache'den yklendi:",y.name)),g)try{he.info(" Backend'den gncel user bilgisi ekiliyor...");const E=await un.getProfile(),{user:I,tenant:O}=S2(E);I&&(t(I),eu(I),he.info(" User bilgisi backend'den gncellendi")),O&&(f(O),tu(O))}catch(E){console.error(" Backend'den profil ekilemedi:",E)}}finally{n(!1)}})(),()=>{try{o.current?.stop()}catch(E){he.warn("Session manager cleanup failed",E)}}},[]);const s=g=>{if(he.info(" Auth data received:",g),!g||!g.user||!g.token)throw console.error(" Invalid auth data:",g),new Error("Geersiz auth verisi alnd");lf(null),eu(null),tu(null),lf(g.token),eu(g.user),t(g.user),g.tenant&&(tu(g.tenant),f(g.tenant));try{o.current?.stop(),o.current=v2(()=>of(),v=>lf(v),()=>x(),{idleTimeoutMinutes:_2()}),o.current.start()}catch(v){he.warn("Session manager balatlrken hata olutu",v)}he.info(" Yeni kullanc girii:",{email:g.user?.email,tenantId:g.user?.tenantId,tenant:g.tenant?.name});try{const v=Gr.getItem(Jd)||Tt.getItem(Jd);v&&Dr(()=>Promise.resolve().then(()=>w8),void 0).then(async y=>{try{await y.organizationsApi.acceptInvite({token:v}),Gr.removeItem(Jd),Tt.removeItem(Jd);try{await b()}catch(N){he.warn("Org invite sonras refreshUser baarsz",N)}try{window.dispatchEvent(new Event("org-invite-accepted"))}catch(N){he.warn("Org invite event dispatch baarsz",N)}}catch(N){console.error("Invite accept after login failed:",N)}})}catch(v){he.warn("Invite token kontrol srasnda hata olutu",v)}},l=async(g,v,y,N)=>{try{he.info(" Login balatlyor:",{email:g});const E=await un.login({email:g,password:v,twoFactorToken:y,turnstileToken:N});if(he.debug(" Login response:",E),"mfaRequired"in E)return{mfaRequired:!0};s(E);try{await b()}catch(I){he.warn("Login sonras refreshUser baarsz",I)}he.info(" Login tamamland")}catch(E){console.error(" Login failed:",E);const O=(typeof E=="object"&&E!==null?E:void 0)?.response?.data?.message,$=typeof O=="string"?O:E instanceof Error?E.message:"Giri srasnda bir hata olutu";throw new Error($)}},d=async g=>{try{const v=g.name.trim().split(" "),y=v[0]||"",N=v.slice(1).join(" ")||"",E={email:g.email,password:g.password,firstName:y,lastName:N,companyName:g.company,turnstileToken:g.turnstileToken},I=Uu();if(I){await un.signup(E);try{Gr.setItem("pending_verification_email",g.email)}catch(O){he.warn("pending_verification_email kaydedilemedi",O)}}else{const O=await un.register(E);s(O)}I&&(window.location.hash="verify-notice")}catch(v){console.error("Registration failed:",v);const y=ax(v),N=y.response?.status,E=y.response?.data?.message||y.message||"Kayt srasnda bir hata olutu";if(N===409){const I=new Error("EMAIL_IN_USE");throw I.status=409,I}throw new Error(E)}},u=()=>{he.warn(" Corrupted localStorage verileri temizleniyor..."),_p(),["customers_cache","suppliers_cache","products_cache","invoices_cache","expenses_cache","bankAccounts"].forEach(g=>Tt.removeItem(g));try{const g=["customers_cache_","suppliers_cache_","products_cache_","invoices_cache_","expenses_cache_","sales_","sales_cache_","sales_backup_","sales_last_seen_ts_","bankAccounts_","quotes_cache_"];fb().forEach(y=>{g.some(N=>y.startsWith(N))&&Tt.removeItem(y)})}catch(g){he.warn("Cache temizleme srasnda hata olutu",g)}},x=async()=>{try{await un.logout()}catch(g){console.error("Logout error:",g)}finally{try{o.current?.stop()}catch(g){he.warn("Logout srasnda session manager durdurulamad",g)}t(null),f(null),u();try{Gr.removeItem("pending_verification_email")}catch(g){he.warn("pending_verification_email temizlenemedi",g)}}},b=W.useCallback(async g=>{if(!of()){he.warn(" Token yok, refreshUser iptal");return}if(i.current)return he.debug(" refreshUser beklemede, mevcut arya eklendi"),i.current;const y=Date.now(),N=5e3,E=15e3;if(!g?.force&&y<r.current){he.debug(" refreshUser throttled",{msLeft:r.current-y});return}const I=(async()=>{try{he.info(" Backend'den gncel user bilgisi alnyor...");const O=await un.getProfile();he.info(" User bilgisi backend'den gncellendi:",O),he.debug(" Detay - firstName:",O?.user?.firstName,"lastName:",O?.user?.lastName),he.info(" Email dorulama durumu:",O?.user?.isEmailVerified),O?.user&&(t(O.user),eu(O.user)),O?.tenant&&(f(O.tenant),tu(O.tenant)),he.debug(" Yerel user/tenant cache gncellendi"),r.current=Date.now()+N}catch(O){ax(O).response?.status===429?(he.warn(" refreshUser rate limit (429). Geici olarak bekleniyor."),r.current=Date.now()+E):(console.error(" HATA: User refresh baarsz oldu!",O),O instanceof Error&&console.error(" Error message:",O.message),r.current=Date.now()+N)}})();i.current=I;try{await I}finally{i.current=null}},[]);return e.jsx(Nb.Provider,{value:{user:m,tenant:h,isAuthenticated:!!m,isLoading:c,login:l,register:d,logout:x,refreshUser:b},children:a})}function Zs(){const a=W.useContext(Nb);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}const wr=a=>typeof a=="string",ac=()=>{let a,m;const t=new Promise((h,f)=>{a=h,m=f});return t.resolve=a,t.reject=m,t},ox=a=>a==null?"":""+a,D2=(a,m,t)=>{a.forEach(h=>{m[h]&&(t[h]=m[h])})},I2=/###/g,lx=a=>a&&a.indexOf("###")>-1?a.replace(I2,"."):a,cx=a=>!a||wr(a),Dc=(a,m,t)=>{const h=wr(m)?m.split("."):m;let f=0;for(;f<h.length-1;){if(cx(a))return{};const c=lx(h[f]);!a[c]&&t&&(a[c]=new t),Object.prototype.hasOwnProperty.call(a,c)?a=a[c]:a={},++f}return cx(a)?{}:{obj:a,k:lx(h[f])}},dx=(a,m,t)=>{const{obj:h,k:f}=Dc(a,m,Object);if(h!==void 0||m.length===1){h[f]=t;return}let c=m[m.length-1],n=m.slice(0,m.length-1),o=Dc(a,n,Object);for(;o.obj===void 0&&n.length;)c=`${n[n.length-1]}.${c}`,n=n.slice(0,n.length-1),o=Dc(a,n,Object),o?.obj&&typeof o.obj[`${o.k}.${c}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${c}`]=t},M2=(a,m,t,h)=>{const{obj:f,k:c}=Dc(a,m,Object);f[c]=f[c]||[],f[c].push(t)},Vu=(a,m)=>{const{obj:t,k:h}=Dc(a,m);if(t&&Object.prototype.hasOwnProperty.call(t,h))return t[h]},R2=(a,m,t)=>{const h=Vu(a,t);return h!==void 0?h:Vu(m,t)},jb=(a,m,t)=>{for(const h in m)h!=="__proto__"&&h!=="constructor"&&(h in a?wr(a[h])||a[h]instanceof String||wr(m[h])||m[h]instanceof String?t&&(a[h]=m[h]):jb(a[h],m[h],t):a[h]=m[h]);return a},rl=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var z2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const L2=a=>wr(a)?a.replace(/[&<>"'\/]/g,m=>z2[m]):a;class O2{constructor(m){this.capacity=m,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(m){const t=this.regExpMap.get(m);if(t!==void 0)return t;const h=new RegExp(m);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(m,h),this.regExpQueue.push(m),h}}const F2=[" ",",","?","!",";"],B2=new O2(20),U2=(a,m,t)=>{m=m||"",t=t||"";const h=F2.filter(n=>m.indexOf(n)<0&&t.indexOf(n)<0);if(h.length===0)return!0;const f=B2.getRegExp(`(${h.map(n=>n==="?"?"\\?":n).join("|")})`);let c=!f.test(a);if(!c){const n=a.indexOf(t);n>0&&!f.test(a.substring(0,n))&&(c=!0)}return c},Xf=(a,m,t=".")=>{if(!a)return;if(a[m])return Object.prototype.hasOwnProperty.call(a,m)?a[m]:void 0;const h=m.split(t);let f=a;for(let c=0;c<h.length;){if(!f||typeof f!="object")return;let n,o="";for(let i=c;i<h.length;++i)if(i!==c&&(o+=t),o+=h[i],n=f[o],n!==void 0){if(["string","number","boolean"].indexOf(typeof n)>-1&&i<h.length-1)continue;c+=i-c+1;break}f=n}return f},Rc=a=>a?.replace("_","-"),V2={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,m){console?.[a]?.apply?.(console,m)}};class qu{constructor(m,t={}){this.init(m,t)}init(m,t={}){this.prefix=t.prefix||"i18next:",this.logger=m||V2,this.options=t,this.debug=t.debug}log(...m){return this.forward(m,"log","",!0)}warn(...m){return this.forward(m,"warn","",!0)}error(...m){return this.forward(m,"error","")}deprecate(...m){return this.forward(m,"warn","WARNING DEPRECATED: ",!0)}forward(m,t,h,f){return f&&!this.debug?null:(wr(m[0])&&(m[0]=`${h}${this.prefix} ${m[0]}`),this.logger[t](m))}create(m){return new qu(this.logger,{prefix:`${this.prefix}:${m}:`,...this.options})}clone(m){return m=m||this.options,m.prefix=m.prefix||this.prefix,new qu(this.logger,m)}}var Mi=new qu;class mm{constructor(){this.observers={}}on(m,t){return m.split(" ").forEach(h=>{this.observers[h]||(this.observers[h]=new Map);const f=this.observers[h].get(t)||0;this.observers[h].set(t,f+1)}),this}off(m,t){if(this.observers[m]){if(!t){delete this.observers[m];return}this.observers[m].delete(t)}}emit(m,...t){this.observers[m]&&Array.from(this.observers[m].entries()).forEach(([f,c])=>{for(let n=0;n<c;n++)f(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([f,c])=>{for(let n=0;n<c;n++)f.apply(f,[m,...t])})}}class ux extends mm{constructor(m,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=m||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(m){this.options.ns.indexOf(m)<0&&this.options.ns.push(m)}removeNamespaces(m){const t=this.options.ns.indexOf(m);t>-1&&this.options.ns.splice(t,1)}getResource(m,t,h,f={}){const c=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,n=f.ignoreJSONStructure!==void 0?f.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;m.indexOf(".")>-1?o=m.split("."):(o=[m,t],h&&(Array.isArray(h)?o.push(...h):wr(h)&&c?o.push(...h.split(c)):o.push(h)));const i=Vu(this.data,o);return!i&&!t&&!h&&m.indexOf(".")>-1&&(m=o[0],t=o[1],h=o.slice(2).join(".")),i||!n||!wr(h)?i:Xf(this.data?.[m]?.[t],h,c)}addResource(m,t,h,f,c={silent:!1}){const n=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let o=[m,t];h&&(o=o.concat(n?h.split(n):h)),m.indexOf(".")>-1&&(o=m.split("."),f=t,t=o[1]),this.addNamespaces(t),dx(this.data,o,f),c.silent||this.emit("added",m,t,h,f)}addResources(m,t,h,f={silent:!1}){for(const c in h)(wr(h[c])||Array.isArray(h[c]))&&this.addResource(m,t,c,h[c],{silent:!0});f.silent||this.emit("added",m,t,h)}addResourceBundle(m,t,h,f,c,n={silent:!1,skipCopy:!1}){let o=[m,t];m.indexOf(".")>-1&&(o=m.split("."),f=h,h=t,t=o[1]),this.addNamespaces(t);let i=Vu(this.data,o)||{};n.skipCopy||(h=JSON.parse(JSON.stringify(h))),f?jb(i,h,c):i={...i,...h},dx(this.data,o,i),n.silent||this.emit("added",m,t,h)}removeResourceBundle(m,t){this.hasResourceBundle(m,t)&&delete this.data[m][t],this.removeNamespaces(t),this.emit("removed",m,t)}hasResourceBundle(m,t){return this.getResource(m,t)!==void 0}getResourceBundle(m,t){return t||(t=this.options.defaultNS),this.getResource(m,t)}getDataByLanguage(m){return this.data[m]}hasLanguageSomeTranslations(m){const t=this.getDataByLanguage(m);return!!(t&&Object.keys(t)||[]).find(f=>t[f]&&Object.keys(t[f]).length>0)}toJSON(){return this.data}}var Sb={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,m,t,h,f){return a.forEach(c=>{m=this.processors[c]?.process(m,t,h,f)??m}),m}};const Cb=Symbol("i18next/PATH_KEY");function q2(){const a=[],m=Object.create(null);let t;return m.get=(h,f)=>(t?.revoke?.(),f===Cb?a:(a.push(f),t=Proxy.revocable(h,m),t.proxy)),Proxy.revocable(Object.create(null),m).proxy}function Jf(a,m){const{[Cb]:t}=a(q2());return t.join(m?.keySeparator??".")}const mx={},cf=a=>!wr(a)&&typeof a!="boolean"&&typeof a!="number";class $u extends mm{constructor(m,t={}){super(),D2(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],m,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Mi.create("translator")}changeLanguage(m){m&&(this.language=m)}exists(m,t={interpolation:{}}){const h={...t};if(m==null)return!1;const f=this.resolve(m,h);if(f?.res===void 0)return!1;const c=cf(f.res);return!(h.returnObjects===!1&&c)}extractFromKey(m,t){let h=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const f=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const n=h&&m.indexOf(h)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!U2(m,h,f);if(n&&!o){const i=m.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:m,namespaces:wr(c)?[c]:c};const r=m.split(h);(h!==f||h===f&&this.options.ns.indexOf(r[0])>-1)&&(c=r.shift()),m=r.join(f)}return{key:m,namespaces:wr(c)?[c]:c}}translate(m,t,h){let f=typeof t=="object"?{...t}:t;if(typeof f!="object"&&this.options.overloadTranslationOptionHandler&&(f=this.options.overloadTranslationOptionHandler(arguments)),typeof f=="object"&&(f={...f}),f||(f={}),m==null)return"";typeof m=="function"&&(m=Jf(m,{...this.options,...f})),Array.isArray(m)||(m=[String(m)]);const c=f.returnDetails!==void 0?f.returnDetails:this.options.returnDetails,n=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,{key:o,namespaces:i}=this.extractFromKey(m[m.length-1],f),r=i[i.length-1];let s=f.nsSeparator!==void 0?f.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const l=f.lng||this.language,d=f.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l?.toLowerCase()==="cimode")return d?c?{res:`${r}${s}${o}`,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:r,usedParams:this.getUsedParamsDetails(f)}:`${r}${s}${o}`:c?{res:o,usedKey:o,exactUsedKey:o,usedLng:l,usedNS:r,usedParams:this.getUsedParamsDetails(f)}:o;const u=this.resolve(m,f);let x=u?.res;const b=u?.usedKey||o,g=u?.exactUsedKey||o,v=["[object Number]","[object Function]","[object RegExp]"],y=f.joinArrays!==void 0?f.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,E=f.count!==void 0&&!wr(f.count),I=$u.hasDefaultValue(f),O=E?this.pluralResolver.getSuffix(l,f.count,f):"",$=f.ordinal&&E?this.pluralResolver.getSuffix(l,f.count,{ordinal:!1}):"",z=E&&!f.ordinal&&f.count===0,U=z&&f[`defaultValue${this.options.pluralSeparator}zero`]||f[`defaultValue${O}`]||f[`defaultValue${$}`]||f.defaultValue;let V=x;N&&!x&&I&&(V=U);const G=cf(V),B=Object.prototype.toString.apply(V);if(N&&V&&G&&v.indexOf(B)<0&&!(wr(y)&&Array.isArray(V))){if(!f.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,V,{...f,ns:i}):`key '${o} (${this.language})' returned an object instead of string.`;return c?(u.res=T,u.usedParams=this.getUsedParamsDetails(f),u):T}if(n){const T=Array.isArray(V),D=T?[]:{},A=T?g:b;for(const k in V)if(Object.prototype.hasOwnProperty.call(V,k)){const S=`${A}${n}${k}`;I&&!x?D[k]=this.translate(S,{...f,defaultValue:cf(U)?U[k]:void 0,joinArrays:!1,ns:i}):D[k]=this.translate(S,{...f,joinArrays:!1,ns:i}),D[k]===S&&(D[k]=V[k])}x=D}}else if(N&&wr(y)&&Array.isArray(x))x=x.join(y),x&&(x=this.extendTranslation(x,m,f,h));else{let T=!1,D=!1;!this.isValidLookup(x)&&I&&(T=!0,x=U),this.isValidLookup(x)||(D=!0,x=o);const k=(f.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:x,S=I&&U!==x&&this.options.updateMissing;if(D||T||S){if(this.logger.log(S?"updateKey":"missingKey",l,r,o,S?U:x),n){const R=this.resolve(o,{...f,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,f.lng||this.language);if(this.options.saveMissingTo==="fallback"&&C&&C[0])for(let R=0;R<C.length;R++)j.push(C[R]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(f.lng||this.language):j.push(f.lng||this.language);const P=(R,L,Y)=>{const Z=I&&Y!==x?Y:k;this.options.missingKeyHandler?this.options.missingKeyHandler(R,r,L,Z,S,f):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,r,L,Z,S,f),this.emit("missingKey",R,r,L,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?j.forEach(R=>{const L=this.pluralResolver.getSuffixes(R,f);z&&f[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(Y=>{P([R],o+Y,f[`defaultValue${Y}`]||U)})}):P(j,o,U))}x=this.extendTranslation(x,m,f,u,h),D&&x===o&&this.options.appendNamespaceToMissingKey&&(x=`${r}${s}${o}`),(D||T)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${r}${s}${o}`:o,T?x:void 0,f))}return c?(u.res=x,u.usedParams=this.getUsedParamsDetails(f),u):x}extendTranslation(m,t,h,f,c){if(this.i18nFormat?.parse)m=this.i18nFormat.parse(m,{...this.options.interpolation.defaultVariables,...h},h.lng||this.language||f.usedLng,f.usedNS,f.usedKey,{resolved:f});else if(!h.skipInterpolation){h.interpolation&&this.interpolator.init({...h,interpolation:{...this.options.interpolation,...h.interpolation}});const i=wr(m)&&(h?.interpolation?.skipOnVariables!==void 0?h.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let r;if(i){const l=m.match(this.interpolator.nestingRegexp);r=l&&l.length}let s=h.replace&&!wr(h.replace)?h.replace:h;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),m=this.interpolator.interpolate(m,s,h.lng||this.language||f.usedLng,h),i){const l=m.match(this.interpolator.nestingRegexp),d=l&&l.length;r<d&&(h.nest=!1)}!h.lng&&f&&f.res&&(h.lng=this.language||f.usedLng),h.nest!==!1&&(m=this.interpolator.nest(m,(...l)=>c?.[0]===l[0]&&!h.context?(this.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${t[0]}`),null):this.translate(...l,t),h)),h.interpolation&&this.interpolator.reset()}const n=h.postProcess||this.options.postProcess,o=wr(n)?[n]:n;return m!=null&&o?.length&&h.applyPostProcessor!==!1&&(m=Sb.handle(o,m,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...f,usedParams:this.getUsedParamsDetails(h)},...h}:h,this)),m}resolve(m,t={}){let h,f,c,n,o;return wr(m)&&(m=[m]),m.forEach(i=>{if(this.isValidLookup(h))return;const r=this.extractFromKey(i,t),s=r.key;f=s;let l=r.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const d=t.count!==void 0&&!wr(t.count),u=d&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(wr(t.context)||typeof t.context=="number")&&t.context!=="",b=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);l.forEach(g=>{this.isValidLookup(h)||(o=g,!mx[`${b[0]}-${g}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(mx[`${b[0]}-${g}`]=!0,this.logger.warn(`key "${f}" for languages "${b.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(v=>{if(this.isValidLookup(h))return;n=v;const y=[s];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(y,s,v,g,t);else{let E;d&&(E=this.pluralResolver.getSuffix(v,t.count,t));const I=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&E.indexOf(O)===0&&y.push(s+E.replace(O,this.options.pluralSeparator)),y.push(s+E),u&&y.push(s+I)),x){const $=`${s}${this.options.contextSeparator||"_"}${t.context}`;y.push($),d&&(t.ordinal&&E.indexOf(O)===0&&y.push($+E.replace(O,this.options.pluralSeparator)),y.push($+E),u&&y.push($+I))}}let N;for(;N=y.pop();)this.isValidLookup(h)||(c=N,h=this.getResource(v,g,N,t))}))})}),{res:h,usedKey:f,exactUsedKey:c,usedLng:n,usedNS:o}}isValidLookup(m){return m!==void 0&&!(!this.options.returnNull&&m===null)&&!(!this.options.returnEmptyString&&m==="")}getResource(m,t,h,f={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(m,t,h,f):this.resourceStore.getResource(m,t,h,f)}getUsedParamsDetails(m={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],h=m.replace&&!wr(m.replace);let f=h?m.replace:m;if(h&&typeof m.count<"u"&&(f.count=m.count),this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),!h){f={...f};for(const c of t)delete f[c]}return f}static hasDefaultValue(m){const t="defaultValue";for(const h in m)if(Object.prototype.hasOwnProperty.call(m,h)&&t===h.substring(0,t.length)&&m[h]!==void 0)return!0;return!1}}class hx{constructor(m){this.options=m,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Mi.create("languageUtils")}getScriptPartFromCode(m){if(m=Rc(m),!m||m.indexOf("-")<0)return null;const t=m.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(m){if(m=Rc(m),!m||m.indexOf("-")<0)return m;const t=m.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(m){if(wr(m)&&m.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(m)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?m.toLowerCase():m)}return this.options.cleanCode||this.options.lowerCaseLng?m.toLowerCase():m}isSupportedCode(m){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(m=this.getLanguagePartFromCode(m)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(m)>-1}getBestMatchFromCodes(m){if(!m)return null;let t;return m.forEach(h=>{if(t)return;const f=this.formatLanguageCode(h);(!this.options.supportedLngs||this.isSupportedCode(f))&&(t=f)}),!t&&this.options.supportedLngs&&m.forEach(h=>{if(t)return;const f=this.getScriptPartFromCode(h);if(this.isSupportedCode(f))return t=f;const c=this.getLanguagePartFromCode(h);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(n=>{if(n===c)return n;if(!(n.indexOf("-")<0&&c.indexOf("-")<0)&&(n.indexOf("-")>0&&c.indexOf("-")<0&&n.substring(0,n.indexOf("-"))===c||n.indexOf(c)===0&&c.length>1))return n})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(m,t){if(!m)return[];if(typeof m=="function"&&(m=m(t)),wr(m)&&(m=[m]),Array.isArray(m))return m;if(!t)return m.default||[];let h=m[t];return h||(h=m[this.getScriptPartFromCode(t)]),h||(h=m[this.formatLanguageCode(t)]),h||(h=m[this.getLanguagePartFromCode(t)]),h||(h=m.default),h||[]}toResolveHierarchy(m,t){const h=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],m),f=[],c=n=>{n&&(this.isSupportedCode(n)?f.push(n):this.logger.warn(`rejecting language code not found in supportedLngs: ${n}`))};return wr(m)&&(m.indexOf("-")>-1||m.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(m)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(m)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(m))):wr(m)&&c(this.formatLanguageCode(m)),h.forEach(n=>{f.indexOf(n)<0&&c(this.formatLanguageCode(n))}),f}}const fx={zero:0,one:1,two:2,few:3,many:4,other:5},px={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class $2{constructor(m,t={}){this.languageUtils=m,this.options=t,this.logger=Mi.create("pluralResolver"),this.pluralRulesCache={}}addRule(m,t){this.rules[m]=t}clearCache(){this.pluralRulesCache={}}getRule(m,t={}){const h=Rc(m==="dev"?"en":m),f=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:h,type:f});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let n;try{n=new Intl.PluralRules(h,{type:f})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),px;if(!m.match(/-|_/))return px;const i=this.languageUtils.getLanguagePartFromCode(m);n=this.getRule(i,t)}return this.pluralRulesCache[c]=n,n}needsPlural(m,t={}){let h=this.getRule(m,t);return h||(h=this.getRule("dev",t)),h?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(m,t,h={}){return this.getSuffixes(m,h).map(f=>`${t}${f}`)}getSuffixes(m,t={}){let h=this.getRule(m,t);return h||(h=this.getRule("dev",t)),h?h.resolvedOptions().pluralCategories.sort((f,c)=>fx[f]-fx[c]).map(f=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${f}`):[]}getSuffix(m,t,h={}){const f=this.getRule(m,h);return f?`${this.options.prepend}${h.ordinal?`ordinal${this.options.prepend}`:""}${f.select(t)}`:(this.logger.warn(`no plural rule found for: ${m}`),this.getSuffix("dev",t,h))}}const gx=(a,m,t,h=".",f=!0)=>{let c=R2(a,m,t);return!c&&f&&wr(t)&&(c=Xf(a,t,h),c===void 0&&(c=Xf(m,t,h))),c},df=a=>a.replace(/\$/g,"$$$$");class H2{constructor(m={}){this.logger=Mi.create("interpolator"),this.options=m,this.format=m?.interpolation?.format||(t=>t),this.init(m)}init(m={}){m.interpolation||(m.interpolation={escapeValue:!0});const{escape:t,escapeValue:h,useRawValueToEscape:f,prefix:c,prefixEscaped:n,suffix:o,suffixEscaped:i,formatSeparator:r,unescapeSuffix:s,unescapePrefix:l,nestingPrefix:d,nestingPrefixEscaped:u,nestingSuffix:x,nestingSuffixEscaped:b,nestingOptionsSeparator:g,maxReplaces:v,alwaysFormat:y}=m.interpolation;this.escape=t!==void 0?t:L2,this.escapeValue=h!==void 0?h:!0,this.useRawValueToEscape=f!==void 0?f:!1,this.prefix=c?rl(c):n||"{{",this.suffix=o?rl(o):i||"}}",this.formatSeparator=r||",",this.unescapePrefix=s?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":s||"",this.nestingPrefix=d?rl(d):u||rl("$t("),this.nestingSuffix=x?rl(x):b||rl(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=v||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const m=(t,h)=>t?.source===h?(t.lastIndex=0,t):new RegExp(h,"g");this.regexp=m(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=m(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=m(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(m,t,h,f){let c,n,o;const i=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},r=u=>{if(u.indexOf(this.formatSeparator)<0){const v=gx(t,i,u,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,h,{...f,...t,interpolationkey:u}):v}const x=u.split(this.formatSeparator),b=x.shift().trim(),g=x.join(this.formatSeparator).trim();return this.format(gx(t,i,b,this.options.keySeparator,this.options.ignoreJSONStructure),g,h,{...f,...t,interpolationkey:b})};this.resetRegExp();const s=f?.missingInterpolationHandler||this.options.missingInterpolationHandler,l=f?.interpolation?.skipOnVariables!==void 0?f.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:u=>df(u)},{regex:this.regexp,safeValue:u=>this.escapeValue?df(this.escape(u)):df(u)}].forEach(u=>{for(o=0;c=u.regex.exec(m);){const x=c[1].trim();if(n=r(x),n===void 0)if(typeof s=="function"){const g=s(m,c,f);n=wr(g)?g:""}else if(f&&Object.prototype.hasOwnProperty.call(f,x))n="";else if(l){n=c[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${m}`),n="";else!wr(n)&&!this.useRawValueToEscape&&(n=ox(n));const b=u.safeValue(n);if(m=m.replace(c[0],b),l?(u.regex.lastIndex+=n.length,u.regex.lastIndex-=c[0].length):u.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),m}nest(m,t,h={}){let f,c,n;const o=(i,r)=>{const s=this.nestingOptionsSeparator;if(i.indexOf(s)<0)return i;const l=i.split(new RegExp(`${s}[ ]*{`));let d=`{${l[1]}`;i=l[0],d=this.interpolate(d,n);const u=d.match(/'/g),x=d.match(/"/g);((u?.length??0)%2===0&&!x||x.length%2!==0)&&(d=d.replace(/'/g,'"'));try{n=JSON.parse(d),r&&(n={...r,...n})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${i}`,b),`${i}${s}${d}`}return n.defaultValue&&n.defaultValue.indexOf(this.prefix)>-1&&delete n.defaultValue,i};for(;f=this.nestingRegexp.exec(m);){let i=[];n={...h},n=n.replace&&!wr(n.replace)?n.replace:n,n.applyPostProcessor=!1,delete n.defaultValue;const r=/{.*}/.test(f[1])?f[1].lastIndexOf("}")+1:f[1].indexOf(this.formatSeparator);if(r!==-1&&(i=f[1].slice(r).split(this.formatSeparator).map(s=>s.trim()).filter(Boolean),f[1]=f[1].slice(0,r)),c=t(o.call(this,f[1].trim(),n),n),c&&f[0]===m&&!wr(c))return c;wr(c)||(c=ox(c)),c||(this.logger.warn(`missed to resolve ${f[1]} for nesting ${m}`),c=""),i.length&&(c=i.reduce((s,l)=>this.format(s,l,h.lng,{...h,interpolationkey:f[1].trim()}),c.trim())),m=m.replace(f[0],c),this.regexp.lastIndex=0}return m}}const K2=a=>{let m=a.toLowerCase().trim();const t={};if(a.indexOf("(")>-1){const h=a.split("(");m=h[0].toLowerCase().trim();const f=h[1].substring(0,h[1].length-1);m==="currency"&&f.indexOf(":")<0?t.currency||(t.currency=f.trim()):m==="relativetime"&&f.indexOf(":")<0?t.range||(t.range=f.trim()):f.split(";").forEach(n=>{if(n){const[o,...i]=n.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),s=o.trim();t[s]||(t[s]=r),r==="false"&&(t[s]=!1),r==="true"&&(t[s]=!0),isNaN(r)||(t[s]=parseInt(r,10))}})}return{formatName:m,formatOptions:t}},xx=a=>{const m={};return(t,h,f)=>{let c=f;f&&f.interpolationkey&&f.formatParams&&f.formatParams[f.interpolationkey]&&f[f.interpolationkey]&&(c={...c,[f.interpolationkey]:void 0});const n=h+JSON.stringify(c);let o=m[n];return o||(o=a(Rc(h),f),m[n]=o),o(t)}},G2=a=>(m,t,h)=>a(Rc(t),h)(m);class W2{constructor(m={}){this.logger=Mi.create("formatter"),this.options=m,this.init(m)}init(m,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const h=t.cacheInBuiltFormats?xx:G2;this.formats={number:h((f,c)=>{const n=new Intl.NumberFormat(f,{...c});return o=>n.format(o)}),currency:h((f,c)=>{const n=new Intl.NumberFormat(f,{...c,style:"currency"});return o=>n.format(o)}),datetime:h((f,c)=>{const n=new Intl.DateTimeFormat(f,{...c});return o=>n.format(o)}),relativetime:h((f,c)=>{const n=new Intl.RelativeTimeFormat(f,{...c});return o=>n.format(o,c.range||"day")}),list:h((f,c)=>{const n=new Intl.ListFormat(f,{...c});return o=>n.format(o)})}}add(m,t){this.formats[m.toLowerCase().trim()]=t}addCached(m,t){this.formats[m.toLowerCase().trim()]=xx(t)}format(m,t,h,f={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(o=>o.indexOf(")")>-1)){const o=c.findIndex(i=>i.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,o)].join(this.formatSeparator)}return c.reduce((o,i)=>{const{formatName:r,formatOptions:s}=K2(i);if(this.formats[r]){let l=o;try{const d=f?.formatParams?.[f.interpolationkey]||{},u=d.locale||d.lng||f.locale||f.lng||h;l=this.formats[r](o,u,{...s,...f,...d})}catch(d){this.logger.warn(d)}return l}else this.logger.warn(`there was no format function for ${r}`);return o},m)}}const Y2=(a,m)=>{a.pending[m]!==void 0&&(delete a.pending[m],a.pendingCount--)};class Q2 extends mm{constructor(m,t,h,f={}){super(),this.backend=m,this.store=t,this.services=h,this.languageUtils=h.languageUtils,this.options=f,this.logger=Mi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=f.maxParallelReads||10,this.readingCalls=0,this.maxRetries=f.maxRetries>=0?f.maxRetries:5,this.retryTimeout=f.retryTimeout>=1?f.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(h,f.backend,f)}queueLoad(m,t,h,f){const c={},n={},o={},i={};return m.forEach(r=>{let s=!0;t.forEach(l=>{const d=`${r}|${l}`;!h.reload&&this.store.hasResourceBundle(r,l)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?n[d]===void 0&&(n[d]=!0):(this.state[d]=1,s=!1,n[d]===void 0&&(n[d]=!0),c[d]===void 0&&(c[d]=!0),i[l]===void 0&&(i[l]=!0)))}),s||(o[r]=!0)}),(Object.keys(c).length||Object.keys(n).length)&&this.queue.push({pending:n,pendingCount:Object.keys(n).length,loaded:{},errors:[],callback:f}),{toLoad:Object.keys(c),pending:Object.keys(n),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(i)}}loaded(m,t,h){const f=m.split("|"),c=f[0],n=f[1];t&&this.emit("failedLoading",c,n,t),!t&&h&&this.store.addResourceBundle(c,n,h,void 0,void 0,{skipCopy:!0}),this.state[m]=t?-1:2,t&&h&&(this.state[m]=0);const o={};this.queue.forEach(i=>{M2(i.loaded,[c],n),Y2(i,m),t&&i.errors.push(t),i.pendingCount===0&&!i.done&&(Object.keys(i.loaded).forEach(r=>{o[r]||(o[r]={});const s=i.loaded[r];s.length&&s.forEach(l=>{o[r][l]===void 0&&(o[r][l]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(i=>!i.done)}read(m,t,h,f=0,c=this.retryTimeout,n){if(!m.length)return n(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:m,ns:t,fcName:h,tried:f,wait:c,callback:n});return}this.readingCalls++;const o=(r,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const l=this.waitingReads.shift();this.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}if(r&&s&&f<this.maxRetries){setTimeout(()=>{this.read.call(this,m,t,h,f+1,c*2,n)},c);return}n(r,s)},i=this.backend[h].bind(this.backend);if(i.length===2){try{const r=i(m,t);r&&typeof r.then=="function"?r.then(s=>o(null,s)).catch(o):o(null,r)}catch(r){o(r)}return}return i(m,t,o)}prepareLoading(m,t,h={},f){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),f&&f();wr(m)&&(m=this.languageUtils.toResolveHierarchy(m)),wr(t)&&(t=[t]);const c=this.queueLoad(m,t,h,f);if(!c.toLoad.length)return c.pending.length||f(),null;c.toLoad.forEach(n=>{this.loadOne(n)})}load(m,t,h){this.prepareLoading(m,t,{},h)}reload(m,t,h){this.prepareLoading(m,t,{reload:!0},h)}loadOne(m,t=""){const h=m.split("|"),f=h[0],c=h[1];this.read(f,c,"read",void 0,void 0,(n,o)=>{n&&this.logger.warn(`${t}loading namespace ${c} for language ${f} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${c} for language ${f}`,o),this.loaded(m,n,o)})}saveMissing(m,t,h,f,c,n={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${h}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(h==null||h==="")){if(this.backend?.create){const i={...n,isUpdate:c},r=this.backend.create.bind(this.backend);if(r.length<6)try{let s;r.length===5?s=r(m,t,h,f,i):s=r(m,t,h,f),s&&typeof s.then=="function"?s.then(l=>o(null,l)).catch(o):o(null,s)}catch(s){o(s)}else r(m,t,h,f,o,i)}!m||!m[0]||this.store.addResource(m[0],t,h,f)}}}const yx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let m={};if(typeof a[1]=="object"&&(m=a[1]),wr(a[1])&&(m.defaultValue=a[1]),wr(a[2])&&(m.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const t=a[3]||a[2];Object.keys(t).forEach(h=>{m[h]=t[h]})}return m},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),bx=a=>(wr(a.ns)&&(a.ns=[a.ns]),wr(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),wr(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),ru=()=>{},Z2=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(t=>{typeof a[t]=="function"&&(a[t]=a[t].bind(a))})};class zc extends mm{constructor(m={},t){if(super(),this.options=bx(m),this.services={},this.logger=Mi,this.modules={external:[]},Z2(this),t&&!this.isInitialized&&!m.isClone){if(!this.options.initAsync)return this.init(m,t),this;setTimeout(()=>{this.init(m,t)},0)}}init(m={},t){this.isInitializing=!0,typeof m=="function"&&(t=m,m={}),m.defaultNS==null&&m.ns&&(wr(m.ns)?m.defaultNS=m.ns:m.ns.indexOf("translation")<0&&(m.defaultNS=m.ns[0]));const h=yx();this.options={...h,...this.options,...bx(m)},this.options.interpolation={...h.interpolation,...this.options.interpolation},m.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=m.keySeparator),m.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=m.nsSeparator);const f=r=>r?typeof r=="function"?new r:r:null;if(!this.options.isClone){this.modules.logger?Mi.init(f(this.modules.logger),this.options):Mi.init(null,this.options);let r;this.modules.formatter?r=this.modules.formatter:r=W2;const s=new hx(this.options);this.store=new ux(this.options.resources,this.options);const l=this.services;l.logger=Mi,l.resourceStore=this.store,l.languageUtils=s,l.pluralResolver=new $2(s,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==h.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),r&&(!this.options.interpolation.format||this.options.interpolation.format===h.interpolation.format)&&(l.formatter=f(r),l.formatter.init&&l.formatter.init(l,this.options),this.options.interpolation.format=l.formatter.format.bind(l.formatter)),l.interpolator=new H2(this.options),l.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},l.backendConnector=new Q2(f(this.modules.backend),l.resourceStore,l,this.options),l.backendConnector.on("*",(u,...x)=>{this.emit(u,...x)}),this.modules.languageDetector&&(l.languageDetector=f(this.modules.languageDetector),l.languageDetector.init&&l.languageDetector.init(l,this.options.detection,this.options)),this.modules.i18nFormat&&(l.i18nFormat=f(this.modules.i18nFormat),l.i18nFormat.init&&l.i18nFormat.init(this)),this.translator=new $u(this.services,this.options),this.translator.on("*",(u,...x)=>{this.emit(u,...x)}),this.modules.external.forEach(u=>{u.init&&u.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ru),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.length>0&&r[0]!=="dev"&&(this.options.lng=r[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(r=>{this[r]=(...s)=>this.store[r](...s)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(r=>{this[r]=(...s)=>(this.store[r](...s),this)});const o=ac(),i=()=>{const r=(s,l)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(l),t(s,l)};if(this.languages&&!this.isInitialized)return r(null,this.t.bind(this));this.changeLanguage(this.options.lng,r)};return this.options.resources||!this.options.initAsync?i():setTimeout(i,0),o}loadResources(m,t=ru){let h=t;const f=wr(m)?m:this.language;if(typeof m=="function"&&(h=m),!this.options.resources||this.options.partialBundledLanguages){if(f?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return h();const c=[],n=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(r=>{r!=="cimode"&&c.indexOf(r)<0&&c.push(r)})};f?n(f):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(i=>n(i)),this.options.preload?.forEach?.(o=>n(o)),this.services.backendConnector.load(c,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),h(o)})}else h(null)}reloadResources(m,t,h){const f=ac();return typeof m=="function"&&(h=m,m=void 0),typeof t=="function"&&(h=t,t=void 0),m||(m=this.languages),t||(t=this.options.ns),h||(h=ru),this.services.backendConnector.reload(m,t,c=>{f.resolve(),h(c)}),f}use(m){if(!m)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!m.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return m.type==="backend"&&(this.modules.backend=m),(m.type==="logger"||m.log&&m.warn&&m.error)&&(this.modules.logger=m),m.type==="languageDetector"&&(this.modules.languageDetector=m),m.type==="i18nFormat"&&(this.modules.i18nFormat=m),m.type==="postProcessor"&&Sb.addPostProcessor(m),m.type==="formatter"&&(this.modules.formatter=m),m.type==="3rdParty"&&this.modules.external.push(m),this}setResolvedLanguage(m){if(!(!m||!this.languages)&&!(["cimode","dev"].indexOf(m)>-1)){for(let t=0;t<this.languages.length;t++){const h=this.languages[t];if(!(["cimode","dev"].indexOf(h)>-1)&&this.store.hasLanguageSomeTranslations(h)){this.resolvedLanguage=h;break}}!this.resolvedLanguage&&this.languages.indexOf(m)<0&&this.store.hasLanguageSomeTranslations(m)&&(this.resolvedLanguage=m,this.languages.unshift(m))}}changeLanguage(m,t){this.isLanguageChangingTo=m;const h=ac();this.emit("languageChanging",m);const f=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},c=(o,i)=>{i?this.isLanguageChangingTo===m&&(f(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,h.resolve((...r)=>this.t(...r)),t&&t(o,(...r)=>this.t(...r))},n=o=>{!m&&!o&&this.services.languageDetector&&(o=[]);const i=wr(o)?o:o&&o[0],r=this.store.hasLanguageSomeTranslations(i)?i:this.services.languageUtils.getBestMatchFromCodes(wr(o)?[o]:o);r&&(this.language||f(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector?.cacheUserLanguage?.(r)),this.loadResources(r,s=>{c(s,r)})};return!m&&this.services.languageDetector&&!this.services.languageDetector.async?n(this.services.languageDetector.detect()):!m&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(n):this.services.languageDetector.detect(n):n(m),h}getFixedT(m,t,h){const f=(c,n,...o)=>{let i;typeof n!="object"?i=this.options.overloadTranslationOptionHandler([c,n].concat(o)):i={...n},i.lng=i.lng||f.lng,i.lngs=i.lngs||f.lngs,i.ns=i.ns||f.ns,i.keyPrefix!==""&&(i.keyPrefix=i.keyPrefix||h||f.keyPrefix);const r=this.options.keySeparator||".";let s;return i.keyPrefix&&Array.isArray(c)?s=c.map(l=>(typeof l=="function"&&(l=Jf(l,{...this.options,...n})),`${i.keyPrefix}${r}${l}`)):(typeof c=="function"&&(c=Jf(c,{...this.options,...n})),s=i.keyPrefix?`${i.keyPrefix}${r}${c}`:c),this.t(s,i)};return wr(m)?f.lng=m:f.lngs=m,f.ns=t,f.keyPrefix=h,f}t(...m){return this.translator?.translate(...m)}exists(...m){return this.translator?.exists(...m)}setDefaultNamespace(m){this.options.defaultNS=m}hasLoadedNamespace(m,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const h=t.lng||this.resolvedLanguage||this.languages[0],f=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(h.toLowerCase()==="cimode")return!0;const n=(o,i)=>{const r=this.services.backendConnector.state[`${o}|${i}`];return r===-1||r===0||r===2};if(t.precheck){const o=t.precheck(this,n);if(o!==void 0)return o}return!!(this.hasResourceBundle(h,m)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||n(h,m)&&(!f||n(c,m)))}loadNamespaces(m,t){const h=ac();return this.options.ns?(wr(m)&&(m=[m]),m.forEach(f=>{this.options.ns.indexOf(f)<0&&this.options.ns.push(f)}),this.loadResources(f=>{h.resolve(),t&&t(f)}),h):(t&&t(),Promise.resolve())}loadLanguages(m,t){const h=ac();wr(m)&&(m=[m]);const f=this.options.preload||[],c=m.filter(n=>f.indexOf(n)<0&&this.services.languageUtils.isSupportedCode(n));return c.length?(this.options.preload=f.concat(c),this.loadResources(n=>{h.resolve(),t&&t(n)}),h):(t&&t(),Promise.resolve())}dir(m){if(m||(m=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!m)return"rtl";try{const f=new Intl.Locale(m);if(f&&f.getTextInfo){const c=f.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],h=this.services?.languageUtils||new hx(yx());return m.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(h.getLanguagePartFromCode(m))>-1||m.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(m={},t){return new zc(m,t)}cloneInstance(m={},t=ru){const h=m.forkResourceStore;h&&delete m.forkResourceStore;const f={...this.options,...m,isClone:!0},c=new zc(f);if((m.debug!==void 0||m.prefix!==void 0)&&(c.logger=c.logger.clone(m)),["store","services","language"].forEach(o=>{c[o]=this[o]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},h){const o=Object.keys(this.store.data).reduce((i,r)=>(i[r]={...this.store.data[r]},i[r]=Object.keys(i[r]).reduce((s,l)=>(s[l]={...i[r][l]},s),i[r]),i),{});c.store=new ux(o,f),c.services.resourceStore=c.store}return c.translator=new $u(c.services,f),c.translator.on("*",(o,...i)=>{c.emit(o,...i)}),c.init(f,t),c.translator.options=f,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ss=zc.createInstance();ss.createInstance=zc.createInstance;ss.createInstance;ss.dir;ss.init;ss.loadResources;ss.reloadResources;ss.use;ss.changeLanguage;ss.getFixedT;ss.t;ss.exists;ss.setDefaultNamespace;ss.hasLoadedNamespace;ss.loadNamespaces;ss.loadLanguages;const X2=(a,m,t,h)=>{const f=[t,{code:m,...h||{}}];if(a?.services?.logger?.forward)return a.services.logger.forward(f,"warn","react-i18next::",!0);ko(f[0])&&(f[0]=`react-i18next:: ${f[0]}`),a?.services?.logger?.warn?a.services.logger.warn(...f):console?.warn&&console.warn(...f)},vx={},Ab=(a,m,t,h)=>{ko(t)&&vx[t]||(ko(t)&&(vx[t]=new Date),X2(a,m,t,h))},Eb=(a,m)=>()=>{if(a.isInitialized)m();else{const t=()=>{setTimeout(()=>{a.off("initialized",t)},0),m()};a.on("initialized",t)}},ep=(a,m,t)=>{a.loadNamespaces(m,Eb(a,t))},wx=(a,m,t,h)=>{if(ko(t)&&(t=[t]),a.options.preload&&a.options.preload.indexOf(m)>-1)return ep(a,t,h);t.forEach(f=>{a.options.ns.indexOf(f)<0&&a.options.ns.push(f)}),a.loadLanguages(m,Eb(a,h))},J2=(a,m,t={})=>!m.languages||!m.languages.length?(Ab(m,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:m.languages}),!0):m.hasLoadedNamespace(a,{lng:t.lng,precheck:(h,f)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&h.services.backendConnector.backend&&h.isLanguageChangingTo&&!f(h.isLanguageChangingTo,a))return!1}}),ko=a=>typeof a=="string",ek=a=>typeof a=="object"&&a!==null,tk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},sk=a=>rk[a],nk=a=>a.replace(tk,sk);let tp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:nk};const ik=(a={})=>{tp={...tp,...a}},ak=()=>tp;let Tb;const ok=a=>{Tb=a},lk=()=>Tb,ck={type:"3rdParty",init(a){ik(a.options.react),ok(a)}},_b=W.createContext();class dk{constructor(){this.usedNamespaces={}}addUsedNamespaces(m){m.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var uf={exports:{}},mf={};var kx;function uk(){if(kx)return mf;kx=1;var a=nm();function m(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var t=typeof Object.is=="function"?Object.is:m,h=a.useState,f=a.useEffect,c=a.useLayoutEffect,n=a.useDebugValue;function o(l,d){var u=d(),x=h({inst:{value:u,getSnapshot:d}}),b=x[0].inst,g=x[1];return c(function(){b.value=u,b.getSnapshot=d,i(b)&&g({inst:b})},[l,u,d]),f(function(){return i(b)&&g({inst:b}),l(function(){i(b)&&g({inst:b})})},[l]),n(u),u}function i(l){var d=l.getSnapshot;l=l.value;try{var u=d();return!t(l,u)}catch{return!0}}function r(l,d){return d()}var s=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r:o;return mf.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:s,mf}var Nx;function mk(){return Nx||(Nx=1,uf.exports=uk()),uf.exports}var hk=mk();const fk=(a,m)=>ko(m)?m:ek(m)&&ko(m.defaultValue)?m.defaultValue:Array.isArray(a)?a[a.length-1]:a,pk={t:fk,ready:!1},gk=()=>()=>{},Zt=(a,m={})=>{const{i18n:t}=m,{i18n:h,defaultNS:f}=W.useContext(_b)||{},c=t||h||lk();c&&!c.reportNamespaces&&(c.reportNamespaces=new dk),c||Ab(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const n=W.useMemo(()=>({...ak(),...c?.options?.react,...m}),[c,m]),{useSuspense:o,keyPrefix:i}=n,r=W.useMemo(()=>{const E=a||f||c?.options?.defaultNS;return ko(E)?[E]:E||["translation"]},[a,f,c]);c?.reportNamespaces?.addUsedNamespaces?.(r);const s=W.useRef(0),l=W.useCallback(E=>{if(!c)return gk;const{bindI18n:I,bindI18nStore:O}=n,$=()=>{s.current+=1,E()};return I&&c.on(I,$),O&&c.store.on(O,$),()=>{I&&I.split(" ").forEach(z=>c.off(z,$)),O&&O.split(" ").forEach(z=>c.store.off(z,$))}},[c,n]),d=W.useRef(),u=W.useCallback(()=>{if(!c)return pk;const E=!!(c.isInitialized||c.initializedStoreOnce)&&r.every(V=>J2(V,c,n)),I=m.lng||c.language,O=s.current,$=d.current;if($&&$.ready===E&&$.lng===I&&$.keyPrefix===i&&$.revision===O)return $;const U={t:c.getFixedT(I,n.nsMode==="fallback"?r:r[0],i),ready:E,lng:I,keyPrefix:i,revision:O};return d.current=U,U},[c,r,i,n,m.lng]),[x,b]=W.useState(0),{t:g,ready:v}=hk.useSyncExternalStore(l,u,u);W.useEffect(()=>{if(c&&!v&&!o){const E=()=>b(I=>I+1);m.lng?wx(c,m.lng,r,E):ep(c,r,E)}},[c,m.lng,r,v,o,x]);const y=c||{},N=W.useMemo(()=>{const E=[g,y,v];return E.t=g,E.i18n=y,E.ready=v,E},[g,y,v]);if(c&&o&&!v)throw new Promise(E=>{const I=()=>E();m.lng?wx(c,m.lng,r,I):ep(c,r,I)});return N};function xk({i18n:a,defaultNS:m,children:t}){const h=W.useMemo(()=>({i18n:a,defaultNS:m}),[a,m]);return W.createElement(_b.Provider,{value:h},t)}const{slice:yk,forEach:bk}=[];function vk(a){return bk.call(yk.call(arguments,1),m=>{if(m)for(const t in m)a[t]===void 0&&(a[t]=m[t])}),a}function wk(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(a))}const jx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,kk=function(a,m){const h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},f=encodeURIComponent(m);let c=`${a}=${f}`;if(h.maxAge>0){const n=h.maxAge-0;if(Number.isNaN(n))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(n)}`}if(h.domain){if(!jx.test(h.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${h.domain}`}if(h.path){if(!jx.test(h.path))throw new TypeError("option path is invalid");c+=`; Path=${h.path}`}if(h.expires){if(typeof h.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${h.expires.toUTCString()}`}if(h.httpOnly&&(c+="; HttpOnly"),h.secure&&(c+="; Secure"),h.sameSite)switch(typeof h.sameSite=="string"?h.sameSite.toLowerCase():h.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return h.partitioned&&(c+="; Partitioned"),c},Sx={create(a,m,t,h){let f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(f.expires=new Date,f.expires.setTime(f.expires.getTime()+t*60*1e3)),h&&(f.domain=h),document.cookie=kk(a,m,f)},read(a){const m=`${a}=`,t=document.cookie.split(";");for(let h=0;h<t.length;h++){let f=t[h];for(;f.charAt(0)===" ";)f=f.substring(1,f.length);if(f.indexOf(m)===0)return f.substring(m.length,f.length)}return null},remove(a,m){this.create(a,"",-1,m)}};var Nk={name:"cookie",lookup(a){let{lookupCookie:m}=a;if(m&&typeof document<"u")return Sx.read(m)||void 0},cacheUserLanguage(a,m){let{lookupCookie:t,cookieMinutes:h,cookieDomain:f,cookieOptions:c}=m;t&&typeof document<"u"&&Sx.create(t,a,h,f,c)}},jk={name:"querystring",lookup(a){let{lookupQuerystring:m}=a,t;if(typeof window<"u"){let{search:h}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(h=window.location.hash.substring(window.location.hash.indexOf("?")));const c=h.substring(1).split("&");for(let n=0;n<c.length;n++){const o=c[n].indexOf("=");o>0&&c[n].substring(0,o)===m&&(t=c[n].substring(o+1))}}return t}},Sk={name:"hash",lookup(a){let{lookupHash:m,lookupFromHashIndex:t}=a,h;if(typeof window<"u"){const{hash:f}=window.location;if(f&&f.length>2){const c=f.substring(1);if(m){const n=c.split("&");for(let o=0;o<n.length;o++){const i=n[o].indexOf("=");i>0&&n[o].substring(0,i)===m&&(h=n[o].substring(i+1))}}if(h)return h;if(!h&&t>-1){const n=f.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return h}};let sl=null;const Cx=()=>{if(sl!==null)return sl;try{if(sl=typeof window<"u"&&window.localStorage!==null,!sl)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{sl=!1}return sl};var Ck={name:"localStorage",lookup(a){let{lookupLocalStorage:m}=a;if(m&&Cx())return window.localStorage.getItem(m)||void 0},cacheUserLanguage(a,m){let{lookupLocalStorage:t}=m;t&&Cx()&&window.localStorage.setItem(t,a)}};let nl=null;const Ax=()=>{if(nl!==null)return nl;try{if(nl=typeof window<"u"&&window.sessionStorage!==null,!nl)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{nl=!1}return nl};var Ak={name:"sessionStorage",lookup(a){let{lookupSessionStorage:m}=a;if(m&&Ax())return window.sessionStorage.getItem(m)||void 0},cacheUserLanguage(a,m){let{lookupSessionStorage:t}=m;t&&Ax()&&window.sessionStorage.setItem(t,a)}},Ek={name:"navigator",lookup(a){const m=[];if(typeof navigator<"u"){const{languages:t,userLanguage:h,language:f}=navigator;if(t)for(let c=0;c<t.length;c++)m.push(t[c]);h&&m.push(h),f&&m.push(f)}return m.length>0?m:void 0}},Tk={name:"htmlTag",lookup(a){let{htmlTag:m}=a,t;const h=m||(typeof document<"u"?document.documentElement:null);return h&&typeof h.getAttribute=="function"&&(t=h.getAttribute("lang")),t}},_k={name:"path",lookup(a){let{lookupFromPathIndex:m}=a;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof m=="number"?m:0]?.replace("/",""):void 0}},Pk={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:m}=a;const t=typeof m=="number"?m+1:1,h=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(h)return h[t]}};let Pb=!1;try{document.cookie,Pb=!0}catch{}const Db=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Pb||Db.splice(1,1);const Dk=()=>({order:Db,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class Ib{constructor(m){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(m,t)}init(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=m,this.options=vk(t,this.options||{},Dk()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=f=>f.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=h,this.addDetector(Nk),this.addDetector(jk),this.addDetector(Ck),this.addDetector(Ak),this.addDetector(Ek),this.addDetector(Tk),this.addDetector(_k),this.addDetector(Pk),this.addDetector(Sk)}addDetector(m){return this.detectors[m.name]=m,this}detect(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return m.forEach(h=>{if(this.detectors[h]){let f=this.detectors[h].lookup(this.options);f&&typeof f=="string"&&(f=[f]),f&&(t=t.concat(f))}}),t=t.filter(h=>h!=null&&!wk(h)).map(h=>this.options.convertDetectedLanguage(h)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(m){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(m)>-1||t.forEach(h=>{this.detectors[h]&&this.detectors[h].cacheUserLanguage(m,this.options)}))}}Ib.type="languageDetector";const Ik={name:"comptario",subtitle:"Muhasebe Sistemi"},Mk={thisMonth:"Bu Ay",lastMonth:"Geen Ay",thisYear:"Bu Yl",addedThisMonth:"Bu Ay Eklenenler",withEmail:"E-posta var",withPhone:"Telefon var",withCompany:"irketi olanlar"},Rk=JSON.parse(`{"nav.features":"zellikler","nav.pricing":"Fiyatlar","nav.faq":"SSS","nav.contact":"letiim","cta.try":"cretsiz Deneyin","cta.signin":"Giri Yapn","cta.watchDemo":"Demo zleyin","hero.title":"Fatura, gider ve tekliflerinizi tek yerden ynetin.","hero.sub":"Fatura, gider ve tekliflerinizi tek ve basit bir alma alannda ynetin. oklu para birimi (EUR, USD, TRY) destei, kategori bazl vergi takibi ve PDF fatura/teklif oluturma ile n muhasebenizi dzenli tutun. Paylalabilir teklif linkleri sayesinde mterileriniz teklifleri evrimii inceleyip tek tkla kabul veya reddedebilir.","features.title":"n muhasebe iin ihtiyacnz olan her ey","features.inv.title":"Faturalandrma","features.inv.desc":"Numaralandrma, mteriler ve PDF da aktarma.","features.exp.title":"Giderler","features.exp.desc":"Dosya ykleme ve kategori bazl KDV (r. %20 FR, %18 TR).","features.vat.title":"KDV ve Vergi zetleri","features.vat.desc":"Girdi/kt KDV vurgular ile net dnem raporlar.","features.fx.title":"oklu Para Birimi","features.fx.desc":"Sistem para birimi seenekleri: USD, EUR, TRY","value.title":"Serbest alanlardan KOB'lere kadar leklenir","security.title":"Gvenlik ve Uyumluluk","security.items":"AB barndrma (placeholder), aktarm ve dinlenimde ifreleme, otomatik yedeklemeler.","testimonials.title":"Kullanclarmz ne diyor","pricing.title":"Basit fiyatlandrma","pricing.starter":"Balang","pricing.pro":"Pro","pricing.business":"letme","pricing.price.free":"0/ay","pricing.price.pro":"9.90/ay","pricing.price.biz":"29.90/ay","pricing.annualLine.free":"","pricing.annualLine.pro":"Yllk pein: 99/yl","pricing.annualLine.biz":"Yllk pein: 299/yl","pricing.cta":"imdi Balayn","pricing.ctaStarter":"imdi Balayn","pricing.ctaPro":"imdi Proya Gein","pricing.ctaBusiness":"letme Plann Sein","pricing.ctaContact":"Bize ulan","pricing":{"planNames":{"starter":"Balang","pro":"Pro","business":"letme"}},"faq.title":"Sk sorulan sorular","faq.q1":"cretsiz olarak balayabilir miyim?","faq.a1":"Evet, Balang plan snrl fatura dzenlemenizi cretsiz salar.","faq.q2":"KDV destei var m?","faq.a2":"Evet, kategori bazl KDV ve basit zetlerle.","faq.q3":"Teklif destei var m?","faq.a3":"Evet. Teklif hazrlayabilir, link veya PDF ile gnderebilirsiniz.","faq.q4":"Birden fazla para birimini destekliyor musunuz?","faq.a4":"Evet, sistem para birimini EUR, USD veya TRY olarak kullanabilirsiniz.","faq.q5":"Nasl iptal edebilirim?","faq.a5":"Fatura ayarlarndan istediiniz zaman iptal edebilirsiniz.","faq.q6":"Verilerim nerede barndrlyor?","faq.a6":"AB'de (placeholder), ifreleme ve dzenli yedeklemelerle.","finalCta.title":"n muhasebeyi basit hale getirin.","finalCta.cta":"cretsiz Deneyin","seo.title":"Comptario  n Muhasebe Yazlm","seo.description":"Comptario fatura, gider ve KDV'yi oklu para birimi destei ve PDF fatura oluturma ile basit, gvenli bir alma alannda ynetmenize yardmc olur.","hero.badge":"Comptario  n Muhasebe Yazlm","hero.features.pdf":"PDF Fatura ve Teklif Oluturma","hero.features.currency":"oklu Para Birimi (EUR / USD / TRY)","hero.features.vat":"KDV / Vergi Ynetimi","hero.mockup.revenue":"Aylk Gelir","hero.mockup.expenses":"Aylk Giderler","hero.mockup.vat":"denecek KDV","hero.mockup.rate":"Kur","features.subtitle":"Modern iletmeler iin tasarlanm kapsaml ara setimizi kullanarak n muhasebenizi gvenle ynetin.","value.subtitle":"Yeni balyor olun veya kkl bir iletme yrtyor olun, Comptario ihtiyalarnza uyum salar.","value.freelancers.title":"Serbest alanlar in","value.freelancers.desc":"inizi organize tutmak iin basit faturalandrma ve gider takibi","value.freelancers.basic":"Temel faturalandrma","value.freelancers.expense":"Gider ynetimi","value.freelancers.tax":"Vergi zetleri","value.small.title":"Kk letmeler in","value.small.desc":"inizle birlikte byyen kapsaml n muhasebe aralar","value.small.currency":"oklu para birimi destei","value.small.customer":"Mteri ynetimi","value.small.reporting":"Gelimi raporlama","value.growing.title":"Byyen irketler in","value.growing.desc":"Genileyen operasyonlarnza uyum salayan leklenebilir zmler","value.growing.team":"Takm ibirlii","value.growing.api":"Link ile teklif gnderme","value.growing.support":"Esnek filtreleme seenekleri","value.cta.title":"n muhasebenizi dzenlemeye hazr msnz?","value.cta.subtitle":"Finanslarn verimli bir ekilde ynetmek iin Comptario'ya gvenen binlerce iletmeye katln.","value.cta.trial":"cretsiz Deneme Balat","value.cta.demo":"Demo Planla","value.stats.users":"Aktif Kullanc","value.stats.invoices":"Oluturulan Fatura","value.stats.uptime":"alma Sresi","security.badge":"Kurumsal Dzey Gvenlik","finalCta.subtitle":"n muhasebeliini Comptario ile dzenlemi binlerce iletmeye katln. Bugn cretsiz denemenizi balatn  kredi kart gerekmez.","finalCta.trial":"30 gn cretsiz deneme","finalCta.noSetup":"Kurulum creti yok","finalCta.cancel":"stediiniz zaman iptal edin","finalCta.stats.countries":"Hizmet Verilen lke","security.features.hosting.title":"AB Veri Barndrma","security.features.hosting.desc":"Verileriniz GDPR uyumlu gvenli AB veri merkezlerinde barndrlr","security.features.encryption.title":"Utan Uca ifreleme","security.features.encryption.desc":"Tm veriler endstri standard protokoller kullanlarak aktarm ve dinlenimde ifrelenir","security.features.backups.title":"Otomatik Yedeklemeler","security.features.backups.desc":"Gnlk otomatik yedeklemeler verilerinizin her zaman gvende ve kurtarlabilir olmasn salar","security.features.gdpr.title":"GDPR Uyumlu","security.features.gdpr.desc":"Avrupa veri koruma dzenlemeleriyle tam uyumluluk","security.features.monitoring.title":"7/24 zleme","security.features.monitoring.desc":"Srekli gvenlik izleme ve tehdit tespiti","security.features.uptime.title":"99.9% alma Sresi","security.features.uptime.desc":"Garantili alma sresi SLA's ile gvenilir altyap","security.trusted.title":"Avrupa genelinde iletmelerin gvendii","security.trusted.gdpr":"Uyumlu","security.trusted.iso":"Sertifikal","security.trusted.soc":"Tip II","security.trusted.ssl":"ifrelenmi","security.trusted.desc":"Finansal verileriniz bankalar ve finansal kurumlar tarafndan kullanlan ayn gvenlik standartlaryla korunur. Verilerinizi asla nc taraflarla paylamayz ve bilgileriniz zerinde tam kontrole sahip olursunuz.","testimonials.subtitle":"Sadece bizim szmze gvenmeyin. Kullanclarmzn Comptario deneyimleri hakknda sylediklerini grn.","testimonials.sarah.content":"Comptario faturalandrma srecimi tamamen basitletirdi. Artk dakikalar iinde profesyonel faturalar oluturabiliyor ve giderlerimi zahmetsizce takip edebiliyorum.","testimonials.sarah.role":"Serbest Tasarmc","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"oklu para birimi zellii uluslararas mterilerimiz iin hayat kurtarc. KDV hesaplamalar otomatik ve doru, saatlerce manuel almay kaydediyor.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"Kk bir iletme olarak basit ama gl bir eye ihtiyacmz vard. Comptario bize kurumsal yazlmn karmakl olmadan ihtiyacmz olan her eyi veriyor.","testimonials.elena.role":"Kk letme Sahibi","testimonials.elena.company":"Yerel Frn","testimonials.stats.rating":"Ortalama Deerlendirme","testimonials.stats.customers":"Mutlu Mteri","testimonials.stats.countries":"lke","pricing.subtitle":" ihtiyalarnza uygun plan sein. cretsiz balayn ve bydke ykseltin.","faq.support.title":"Hala sorularnz m var?","faq.support.desc":"Destek ekibimiz Comptario'dan en iyi ekilde yararlanmanz iin burada size yardmc olmak iin.","faq.support.contact":"Destek letiim","faq.support.demo":"Demo Planla","pricing.popular":"En Popler","pricing.plans.starter.desc":"Serbest alanlar ve kk projeler iin ideal","pricing.plans.pro.desc":"Byyen iletmeler iin ideal","pricing.plans.business.desc":"Ekipli alan kkl irketler iin","pricing.features.users1":"1 kullanc dahildir","pricing.features.users3":"3 kullanc dahildir","pricing.features.users10":"10 kullanc dahildir","pricing.features.usersUnlimited":"Snrsz kullanc","pricing.features.invoices5":"Ayda en fazla 5 fatura","pricing.features.expenses5":"Ayda en fazla 5 gider kayd","pricing.features.bank1":"1 banka hesab","pricing.features.bankUnlimited":"Snrsz banka hesab","pricing.features.customerSupplier1":"1 mteri ve 1 tedariki","pricing.features.customerSupplierUnlimited":"Snrsz mteri ve tedariki kayd","pricing.features.unlimitedInvoicesExpenses":"Snrsz fatura ve gider kayd","pricing.features.vat":"Kategori bazl KDV takibi","pricing.features.pdf":"PDF fatura ve teklif oluturma","pricing.features.quoteTemplate1":"1 teklif ablonu","pricing.features.quoteTemplatesUnlimited":"Snrsz teklif ablonu","pricing.features.saveListViews":"Kaytl liste grnmleri (filtrelerinizi kaydedin)","pricing.features.emailSupport":"E-posta destei","pricing.features.quotesBasic":"Teklif oluturma ve paylalabilir link","pricing.features.quotesAdvanced":"Teklif: grntlendi/kabul/red, PDF","pricing.features.multiCurrency":"oklu para birimi (TRY/EUR/USD/GBP)","pricing.features.products":"rn ve stok ynetimi","pricing.features.reports":"Gelimi raporlar ve ayrntl analizler","pricing.features.prioritySupport":"ncelikli destek","pricing.features.everythingPro":"Pro planndaki tm zellikler","pricing.features.teamCollaboration":"Takm ibirlii (ok kullanc)","pricing.features.dedicatedSupport":"ncelikli destek","pricing.features.noCredit":"Kredi kart gerekmez  birka dakika iinde hesabn a.","pricing.notes.vatAndCurrency":"Fiyatlara KDV uygulanmaz.","pricing.notes.cancelAnytime":"stediiniz zaman iptal edebilirsiniz.","pricing.pro.extraUser":"+ her ek kullanc 5/ay","pricing.trust":"Freelancer, ajans ve KOB'ler tarafndan gvenilir.","pricing.questions":"Fiyatlandrma hakknda sorularnz m var?","pricing.checkFaq":"SSS'imize bakn","pricing.or":"veya","pricing.contactSupport":"destek ile iletiime gein","pricing.guarantee":"Tm cretli planlarda 30 gnlk para iade garantisi","faq.subtitle":"Comptario hakknda bilmeniz gereken her ey. Aradnz cevab bulamyor musunuz? Bizimle iletiime gemekten ekinmeyin.","faq.contactUs":"bize ulan","footer.product":"RN","footer.company":"RKET","footer.support":"DESTEK","footer.legal":"HUKUK","footer.features":"zellikler","footer.pricing":"Fiyatlar","footer.security":"Gvenlik","footer.api":"API","footer.about":"Hakknda","footer.blog":"Blog","footer.careers":"Kariyer","footer.press":"Basn","footer.helpCenter":"Yardm Merkezi","footer.contactUs":"letiim","footer.status":"Durum","footer.community":"Topluluk","footer.privacy":"Gizlilik Politikas","footer.terms":"Hizmet artlar","footer.gdpr":"GDPR","footer.cookies":"erez Politikas","footer.imprint":"Knye","footer.description":"Modern iletmeler iin basit, gvenli n muhasebe yazlm. Faturalar, giderleri ve KDV'yi gvenle ynetin.","footer.stayUpdated":"Gncel kaln","footer.updatesDesc":"Yeni zellikler ve en iyi uygulamalar hakknda gncellemeler aln.","footer.email":"support@comptario.com","footer.languages":"4 dilde mevcut","footer.gdprCompliant":"GDPR Uyumlu","footer.emailPlaceholder":"E-posta adresinizi girin","footer.subscribe":"Abone Ol","footer.copyright":" {{year}} Comptario. Tm haklar sakldr.","footer.madeWith":"Avrupa'da  ile yapld"}`),zk={terms:"Hizmet artlar",privacy:"Gizlilik Politikas",cookies:"erez Politikas"},Lk={welcomeTitle:"Ho Geldiniz",welcomeSubtitle:"Devam etmek iin hesabnza giri yapn",validUntil:"Geerlilik Tarihi",emailPlaceholder:"ad@ornek.com",password:"ifre",version:"v{{n}}",passwordPlaceholder:"",rememberMe:"Beni hatrla",forgotPassword:"ifremi unuttum",forgotPasswordHelp:"E-postanz girin, sfrlama balants gnderelim.",resetEmailSent:"Eer bu e-posta kaytlysa sfrlama balants gnderildi.",emailAddress:"E-posta Adresi",sendResetLink:"Balant Gnder",resendIn:"Tekrar gndermek iin bekleyin: {{seconds}}s",resetPassword:"ifre Sfrla",resetPasswordHelp:"Yeni ifrenizi belirleyin.",newPassword:"Yeni ifre",confirmPassword:"ifreyi Dorula",passwordTooShort:"ifre en az 8 karakter olmal",passwordTooWeak:"Ltfen daha gl bir ifre belirleyin",passwordMismatch:"ifreler elemiyor",passwordResetSuccess:"ifreniz gncellendi",updatePassword:"ifreyi Gncelle",signIn:"Giri Yap",demoAccount:"Demo Hesap:",email:"E-posta",resendEmail:"E-postay yeniden gnder",revise:"Revize Et",adminLogin:"Ynetici Girii",noAccount:"Hesabnz yok mu?",createFreeAccount:"cretsiz hesap oluturun",registerTitle:"Hesap Olutur",registerSubtitle:"cretsiz hesabnz oluturun ve hemen balayn",fullName:"Ad Soyad",fullNamePlaceholder:"Adnz ve soyadnz girin",companyName:"irket Ad",companyPlaceholder:"irket adnz (opsiyonel)",phone:"Telefon",phonePlaceholder:"(opsiyonel)",passwordHint:"En az 6 karakter",passwordConfirm:"ifre Onay",passwordConfirmPlaceholder:"ifrenizi tekrar girin",termsText:{prefix:"unlar kabul ederim: ",suffix:""},and:" ve ",dataProcessing:"Veri leme Szlemesi",captchaHint:"Birden fazla baarsz giri denemesi algland - ltfen insan dorulamasn tamamlayn.",captchaRequired:"Ltfen insan dorulamasn tamamlayn.",captchaPrompt:"Devam etmeden nce insan dorulamasn tamamlayn.",captchaVerificationFailed:"nsan dorulamas dorulanamad. Ltfen tekrar deneyin.",verifyRequiredTitle:"E-posta dorulamas gerekiyor",verifyRequiredBody:"{{email}} adresine dorulama balants gnderdik. Balantya tklayana kadar hesap tamamen kilitlidir.",verifyRequiredHint:"Dorulama tamamlanmadan hibir mali ilem gerekletiremezsiniz.",verifyRequiredAction:"Dorulama Durumunu A",verifyRequiredLogout:"k Yap",verifyYourEmail:"E-postanz dorulayn",verifySentTo:"Dorulama balants e-posta adresinize gnderildi:",verifySent:"E-posta adresinize dorulama balants gnderdik.",resend:"Tekrar gnder",resendCooldown:"Gvenlik iin 60 saniye bekleme uygulanr",securityVerificationRequired:"Gvenlik dorulamas gerekli. Ltfen dorulamay tamamlayn.",emailNotVerified:"E-posta henz dorulanmad. Ltfen devam etmeden nce e-postanz dorulayn.",verificationEmailSent:"Dorulama e-postas gnderildi. Ltfen gelen kutunuzu kontrol edin.",resendVerification:"Dorulama e-postasn tekrar gnder",registerCta:"Hesap Olutur",alreadyHaveAccount:"Zaten hesabnz var m?",goToLogin:"Giri yapn"},Ok={itemsPerPage:"Sayfa bana",previous:"nceki",next:"Sonraki",range:"{{start}}-{{end}} / {{total}}"},Fk={title:"Mali Dnemler",subtitle:"Mali dnem ayarlarnz ynetin",newPeriod:"Yeni Dnem",search:"Dnem ara...",periodsRegistered:"dnem kaytl",noPeriods:"Henz mali dnem yok",noPeriodsFound:"Mali dnem bulunamad",noPeriodsDesc:"lk mali dneminizi oluturarak balayn.",noPeriodsFoundDesc:"Arama kriterlerinizle eleen mali dnem yok.",createFirstPeriod:"lk Mali Dnem Olutur",periodName:"Dnem Ad",startDate:"Balang Tarihi",endDate:"Biti Tarihi",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",lock:"Kilitle",unlock:"Kilit A",delete:"Sil",viewPeriod:"Mali dnemi grntle",editPeriod:"Mali Dnemi Dzenle",addPeriod:"Mali Dnem Ekle",enterPeriodInfo:"Mali dnem bilgilerini girin",periodNamePlaceholder:"rn: 2024 Yl",periodDuration:"dnem sresi",days:"gn",locked:"Kilitli",active:"Aktif",planned:"Planl",statusLabels:{active:"Aktif",locked:"Kilitli",planned:"Planl"},lockPeriod:"Mali dnemi kilitle",unlockPeriod:"Mali dnem kilidini a",lockConfirm:"Bu mali dnemi kilitlemek istediinizden emin misiniz? Kilitlenmi dnemler dzenlenemez.",unlockConfirm:"Bu mali dnemin kilidini amak istediinizden emin misiniz?",deleteConfirm:"Bu mali dnemi silmek istediinizden emin misiniz?",validation:{nameRequired:"Dnem ad gereklidir",startDateRequired:"Balang tarihi gereklidir",endDateRequired:"Biti tarihi gereklidir",endDateAfterStart:"Biti tarihi balang tarihinden sonra olmaldr",periodOverlap:"Bu tarihler mevcut bir dnemle akyor",minimumDuration:"Mali dnem en az 1 gn olmaldr"},errors:{createFailed:"Mali dnem oluturulamad",updateFailed:"Mali dnem gncellenemedi",deleteFailed:"Mali dnem silinemedi",lockFailed:"Mali dnem kilitlenemedi",unlockFailed:"Mali dnem kilidi alamad",loadFailed:"Mali dnemler yklenemedi",periodLocked:"Bu mali dnem kilitli ve deitirilemez",periodNotFound:"Mali dnem bulunamad",operationNotAllowed:"Bu ilem iin mali dnem kilitli"},success:{created:"Mali dnem baaryla oluturuldu",updated:"Mali dnem baaryla gncellendi",deleted:"Mali dnem baaryla silindi",locked:"Mali dnem baaryla kilitlendi",unlocked:"Mali dnem kilidi baaryla ald"},widget:{title:"Mali Dnemler",activePeriod:"Aktif Dnem",totalPeriods:"Toplam Dnem",lockedPeriods:"Kilitli Dnem",daysRemaining:"Kalan Gn",noActivePeriod:"Aktif dnem yok",periodsOverlapping:"akan dnemler var",allPeriodsLocked:"Tm dnemler kilitli",modal:{newTitle:"Yeni Tedariki Ekle",editTitle:"Tedarikiyi Dzenle",subtitle:"Tedariki bilgilerini girin",nameLabel:"Tedariki Ad",companyLabel:"irket Ad",emailLabel:"E-posta",phoneLabel:"Telefon",categoryLabel:"Kategori",taxNumberLabel:"Vergi Numaras",addressLabel:"Adres",namePlaceholder:"ABC Tedarik Ltd.",companyPlaceholder:"ABC Tedarik Ltd. ti.",emailPlaceholder:"info@abctedarik.com",phonePlaceholder:"+90 555 123 45 67",taxNumberPlaceholder:"1234567890",addressPlaceholder:"Tam adres bilgisi..."},createActivePeriod:"Aktif dnem oluturun",managePeriods:"Dnemleri Ynet",warnings:{overlapping:"Baz mali dnemler akyor",noActive:"u anda aktif mali dnem yok",allLocked:"Tm mali dnemler kilitli"}},filters:{showVoided:"ptal edilenleri gster",hideVoided:"ptal edilenleri gizle",voidedRecords:"iptal edilmi kayt"}},Bk={back:"Geri",save:"Kaydet",cancel:"ptal",confirm:"Onay",delete:"Sil",edit:"Dzenle",view:"Grntle",update:"Gncelle",add:"Ekle",search:"Ara",close:"Kapat",backToHome:"Anasayfaya Dn",yes:"Evet",no:"Hayr",loading:"Ykleniyor...",error:"Hata",success:"Baarl",warning:"Uyar",ok:"Tamam",periodLockedError:"Bu kayt kilitli mali dnemde yer ald iin silinemez",monthlyIncomeExpense:"Aylk Gelir/Gider",last6MonthsPerformance:"Son 6 ay performans (en yeni  en eski)",allCategories:"Tm kategoriler",dateRanges:{thisMonth:"Bu ay",last30Days:"Son 30 gn",thisYear:"Bu yl"},filters:{status:"Durum",filterByStatus:"Duruma gre filtrele"},actions:{clear:"Temizle",view:"Grntle",copyLink:"Balanty kopyala",downloadPDF:"PDF indir"},exportCSV:"CSVe aktar","dateRanges.thisMonth":"Bu ay","dateRanges.last30Days":"Son 30 gn","dateRanges.thisYear":"Bu yl","common.total":"Toplam","common.exportCSV":"CSVe aktar","filters.status":"Durum","filters.filterByStatus":"Duruma gre filtrele","actions.clear":"Temizle","actions.view":"Grntle","actions.copyLink":"Balanty kopyala","actions.downloadPDF":"PDF indir",allStock:"Tm stoklar",newest:"En yeni",income:"Gelir",expense:"Gider",hideChart:"Grafii Gizle",showChart:"Grafii Gster",chartHidden:"Grafik gizlendi",incomeLabel:"Gelir",expenseLabel:"Gider",description:"Aklama",dueDate:"Vade Tarihi",startDate:"Balang Tarihi",endDate:"Biti Tarihi",allStatuses:"Tm Durumlar",allAccounts:"Tm Hesaplar",cash:"Nakit",card:"Kart",transfer:"Transfer",check:"ek",email:"E-posta",quantity:"Miktar",statusLabel:"Durum",status:{pending:"Beklemede",approved:"Onayland",paid:"dendi",rejected:"Reddedildi",sent:"Gnderildi",draft:"Taslak",overdue:"Vadesi Geti",created:"Oluturuldu",invoiced:"Faturaland",refunded:"ade Edildi",accepted:"Kabul Edildi",declined:"Reddedildi",viewed:"Grntlendi",expired:"Sresi Doldu",completed:"Tamamland"},notes:"Notlar"},Uk={TRY:"Trk Liras",USD:"Amerikan Dolar",EUR:"Euro",GBP:"ngiliz Sterlini"},Vk={newInvoice:"Yeni Fatura",newSale:"Yeni Sat",search:"Ara...",language:"Dil",notifications:"Bildirimler",noNotifications:"Yeni bildirim yok.",settings:"Ayarlar",logout:"k Yap"},qk={title:"Ana Sayfa",overview:"Genel Bak",revenue:"Gelir",expense:"Gider",profit:"Kar",unpaidInvoices:"denmemi Faturalar",recentActivity:"Son Aktiviteler",totalRevenue:"Toplam Gelir",totalExpense:"Toplam Gider",pendingInvoices:"Bekleyen Faturalar",activeCustomers:"Aktif Mteriler",vatToPay:"denecek KDV",vatToPaySubtitle:"Bu ay denen faturalar",quickActions:"Hzl lemler",recentTransactions:"Son lemler",quickAccess:"Hzl Eriim",lastTransactions:"Son {count} ileminiz",allGood:"Her ey yolunda!",noAlerts:"Bekleyen grev veya uyar yok.",viewAll:"Tmn Gster"},$k={newInvoice:"Yeni Fatura",newInvoiceDesc:"Mteri faturas olutur",newExpense:"Yeni Gider",newExpenseDesc:"Gider kayd ekle",newSale:"Yeni Sat",newSaleDesc:"Sat ilemi kaydet",newQuote:"Yeni Teklif",newQuoteDesc:"Mteri iin teklif olutur",newCustomer:"Yeni Mteri",newCustomerDesc:"Mteri bilgisi ekle",newProduct:"Yeni rn",newProductDesc:"rn bilgisi ekle",customers:"Mteriler",suppliers:"Tedarikiler",banks:"Banka Hesaplar",products:"rnler"},Hk={invoice:"Fatura",expense:"Gider",sale:"Sat",paid:"dendi",unpaid:"denmedi",pending:"Bekliyor",actions:"lemler",transaction:"lem",customerDescription:"Mteri/Aklama",amount:"Tutar",status:"Durum",date:"Tarih",noTransactions:"Henz ilem yok"},Kk={overdueInvoices:"Gecikmi Faturalar",overdueDesc:"Gecikmi fatura",dueSoon:"Yaknda Vadesi Dolan",dueSoonDesc:"7 gn iinde vadesi dolan",pendingExpenses:"Bekleyen Giderler",pendingExpensesDesc:"Onay bekleyen gider",allGood:"Her ey Yolunda!",noAlerts:"Bekleyen grev veya uyar yok.",attentionRequired:"Dikkat Gerekli"},Gk={short:{jan:"Oca",feb:"ub",mar:"Mar",apr:"Nis",may:"May",jun:"Haz",jul:"Tem",aug:"Au",sep:"Eyl",oct:"Eki",nov:"Kas",dec:"Ara"}},Wk={dashboard:"Ana Sayfa",invoices:"Faturalar",expenses:"Giderler",customers:"Mteriler",products:"rnler",suppliers:"Tedarikiler",banks:"Bankalar",sales:"Satlar",quotes:"Teklifler",reports:"Raporlar",accounting:"Muhasebe",chartOfAccounts:"Hesap Plan",archive:"Ariv",organization:"Organizasyon",settings:"Ayarlar",close:"Kapat"},Yk={title:"Teklifler",newQuote:"Yeni Teklif",comingSoon:"Teklifler modl iin temel sayfa hazr. Gelimi liste, durumlar ve PDF ablonlar srada.",placeholderDescription:"Teklif oluturma, gnderme, mteri tarafndan grntleme ve kabul/ret aklar bu sayfada yer alacaktr. imdilik ynlendirme ve men entegrasyonu tamamland.",search:"Teklif ara...",filterAll:"Tm Durumlar",viewModal:{details:"Teklif Detaylar"},validUntil:"Geerlilik Tarihi",expiresIn:"({{days}} gn iinde sona erer)",expiredOn:"({{date}} tarihinde sona erdi)",version:"v{{n}}",confirmAccept:"Teklifi kabul etmek istediinizden emin misiniz?",acceptedThanks:"Teekkrler, teklif kabul edildi.",confirmDecline:"Teklifi reddetmek istediinizden emin misiniz?",declinedInfo:"Teklif reddedildi.",duplicateConfirm:"Yinele ilemine devam edilsin mi?",reviseConfirm:"Bu teklifi revize etmek istiyor musunuz? Mevcut srm gemie tanacak ve yeni bir srm oluturulacak.",createConfirm:"Bu teklifi kaydetmek istediinizden emin misiniz?",saveConfirm:"Deiiklikleri kaydetmek istediinizden emin misiniz?",actions:{send:"Gnder",accept:"Kabul Et",decline:"Reddet",downloadPdf:"PDF ndir",copyLink:"Genel balanty kopyala",copyPublicLink:"Balanty Kopyala",copyPublicLinkSuccess:"Balant kopyaland.",resendEmail:"E-postay yeniden gnder",revise:"Revize Et",duplicate:"Yinele"},editModal:{title:"Teklifi Dzenle",subtitle:"Teklif bilgilerini gncelleyin",quoteNumber:"Teklif No"},table:{quote:"Teklif",customer:"Mteri",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler"},noQuotes:"Henz teklif yok",noQuotesDesc:"lk teklifinizi oluturarak balayn.",noQuotesFound:"Teklif bulunamad",noQuotesFoundDesc:"Arama kriterlerinizle eleen teklif yok.",createFirstQuote:"lk Teklifi Olutur",view:"Grntle",edit:"Dzenle",delete:"Sil",statusLabels:{draft:"Taslak",sent:"Gnderildi",viewed:"Grntlendi",accepted:"Kabul Edildi",declined:"Reddedildi",expired:"Sresi Doldu"},createModal:{title:"Teklif Olutur",customer:"Mteri",customerPlaceholder:"Mteri ad girin",currency:"Para Birimi",date:"Dzenleme Tarihi",amount:"Tutar",create:"Olutur"},scopeOfWork:{title:"in Kapsam",placeholder:"Proje kapsam, teslimatlar, varsaymlar ve hariler...",note:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."},templates:{title:"Teklif ablonlar",manage:"ablonlar Ynet",manageTitle:"Teklif ablonlarn ynet",list:"ablonlar",new:"Yeni",newTemplate:"Yeni ablon",placeholderName:"ablon ad",apply:"Uygula",create:"ablon Olutur",selectPlaceholder:"ablon sein",freeHidden:"ablonlar Starter planda grnmez.",proLimit:"Pro planda en fazla 1 ablon kaydedebilirsiniz.",requirePlan:"Plan gerekli",manageUpgrade:"ablon ynetimi iin Pro veya Business planna gein.",setDefault:"Varsaylan",availableTokens:"Kullanlabilir alanlar (tkla ve ierie ekle):",defaultBodyHtml:"<h3>Teklif zeti</h3><p>Tarih: [quote.date]  Geerlilik: [quote.valid_until]</p><p>Sayn [client.name] ([client.company]), aada belirtilen kapsam iin teklifimizi bilgilerinize sunarz.</p><h4>Kapsam</h4><ul><li>Madde 1</li><li>Madde 2</li><li>Madde 3</li></ul><h4>Toplam</h4><p>Toplam: [quote.total] [quote.currency]</p><h4>letiim</h4><p>[org.name]  [org.email]  [org.phone]  [org.address]</p>"}},Qk={subscriptionUpdated:"Abonelik gncellendi.",payment:{successTitle:"deme Baarl",cancelledTitle:"deme ptal",cancelledMessage:"deme iptal edildi veya tamamlanamad."},addonAdded:"lave kullanclar eklendi.",portal:{cancelAtPeriodEnd:"Abonelik dnem sonunda iptal edilecek. ptal tarihi: {{date}}",activeApplied:"Abonelik aktif. Portal deiiklikleri uyguland.",synced:"Portal deiiklikleri senkronize edildi."},redirecting:"deme ekranna ynlendiriliyorsunuz",interval:{updated:"Plan dnemi gncellendi."},checkout:{failed:"deme oturumu oluturulamad."},cancelAtPeriodEnd:{confirm:"Abonelik dnem sonunda iptal edilecek. Onaylyor musunuz?"},cancel:{requestedShort:"ptal talebi alnd (dnem sonunda)."},resumeCancellation:{confirm:"ptal kaldrlacak ve aboneliiniz dnem sonunda yenilenmeye devam edecek. Onaylyor musunuz?",done:"ptal kaldrld. Abonelik aktif."}},Zk={thisMonth:"bu ay",all:"tm"},Xk={paid:"dendi",unpaid:"denmedi",pending:"Bekliyor",overdue:"Gecikmi",draft:"Taslak",sent:"Gnderildi",approved:"Onayland",rejected:"Reddedildi",cancelled:"ptal Edildi",completed:"Tamamland",active:"Aktif",inactive:"Pasif",viewed:"Grntlendi",accepted:"Kabul Edildi",declined:"Reddedildi",expired:"Sresi Doldu",invoiced:"Faturaland",created:"Oluturuldu",refunded:"ade Edildi"},Jk={details:"Fatura Detaylar",downloadPdf:"PDF ndir",information:"Fatura Bilgileri",type:"Fatura Tr",productSale:"rn Sat",serviceSale:"Hizmet Sat",issueDate:"Dzenleme Tarihi",dueDate:"Vade Tarihi",customerInfo:"Mteri Bilgileri",itemsServices:"rnler/Hizmetler",generalSale:"Genel",description:"Aklama",quantity:"Miktar",unitPrice:"Birim Fiyat",total:"Toplam",subtotal:"Ara Toplam",vat:"KDV",grandTotal:"Genel Toplam",notes:"Notlar"},eN={details:"Gider Detaylar",information:"Gider Bilgileri",number:"Gider No",date:"Gider Tarihi",category:"Kategori",supplier:"Tedariki",amount:"Tutar",receipt:"Fi",viewReceipt:"Fi Grntle"},tN={history:"lem Gemii",transactions:"ilem bulundu",noHistory:"Henz lem Gemii Yok",noHistoryDesc:"henz fatura veya ilem kayd bulunmuyor.",tip:"pucu:",tipDesc:"Bu mteri iin yeni bir fatura oluturarak ilem gemiini balatabilirsiniz.",createInvoice:"Fatura Olutur",sale:"Sat",completed:"Tamamland",waiting:"Bekliyor",historyPageTitle:"Mteri Gemii",historySubtitle:"{{name}} iin tm gemi ilemler",historyColumns:{name:"lem Ad/No",date:"Tarih",status:"Durum",createdBy:"Oluturan",type:"Tr",description:"Aklama"}},rN={expenseHistory:"Gider Gemii",expensesFound:"gider bulundu",noExpenseHistory:"Henz Gider Gemii Yok",noExpenseHistoryDesc:"henz gider kayd bulunmuyor.",tip:"pucu:",tipDesc:"Bu tedariki iin yeni bir gider oluturarak ilem gemiini balatabilirsiniz.",createExpense:"Gider Olutur",viewExpense:"Gider grntle"},sN={title:"rnler",newProduct:"Yeni rn",search:"rn ara...",filterCategory:"Tm Kategoriler",name:"rn Ad",category:"Kategori",price:"Fiyat",stock:"Stok",sort:"Sralama",status:"Durum",actions:"lemler",noProducts:"Henz rn yok",addFirstProduct:"lk rnnz ekleyin",edit:"Dzenle",delete:"Sil",deleteConfirm:"Bu rn silmek istediinizden emin misiniz?",manageCategories:"Kategorileri Ynet",totalProducts:"Toplam rn",stockValue:"Stok Deeri",totalStock:"Toplam Stok",lowStock:"Dk Stok",activeProductsDesc:"Aktif olarak satlan rn says",totalStockCostDesc:"Tahmini toplam stok maliyeti",totalUnitsDesc:"Depodaki toplam adet",criticalLevelDesc:"Kritik seviyenin altndaki rnler",productCategories:"rn Kategorileri",archivedCategories:"Arivlenmi Kategoriler",showArchived:"Arivlenmileri gster",hideArchived:"Arivlenmileri gizle",activate:"Aktif Et",noArchivedCategories:"Arivlenmi kategori yok",addCategory:"Kategori ekle",categoriesCount:"kategori",allProducts:"Tm rnler",noCategories:"Henz kategori yok.",mainCategoriesTitle:"Ana Kategoriler",subCategories:"Alt Kategoriler",editCategory:"Dzenle",deleteCategory:"Sil",editCategoryTooltip:"Kategoriyi dzenle",mainCategoryEditTooltip:"Ana kategorilerin sadece KDV'si deitirilebilir",generalCategoryCannotDelete:"Genel kategorisi silinemez",mainCategoryCannotDelete:"Ana kategori silinemez",deleteCategoryConfirm:"Bu kategoriyi silmek istediinizden emin misiniz?",deleteCategoryWithProducts:"Bu kategoride {{count}} aktif rn var. nce rnleri baka kategoriye tayn.",cannotArchiveCategoryWithProducts:"Bu kategoride {{count}} rn var. Arivlemeden nce rnleri baka bir kategoriye tayn veya silin.",categoryCannotDeleteProtected:'"{category}" ana kategori olduu iin silinemez.',generalCategoryCannotDeleteAlert:"Genel kategorisi silinemez.",updatePrice:"Fiyat gncelle",assignCategory:"Kategori ata",archive:"Arivle",archiveConfirm:"Bu kategoriyi arivlemek istediinize emin misiniz?",noProductsYet:"Henz rn yok",costPrice:"Maliyet",unit:"Birim",productsCount:"rn",allStock:"Tm stok",lowStockFilter:"Dk stok",outOfStock:"Tkendi",overstock:"Fazla stok",newest:"En yeni",priceHighLow:"Fiyat (Yksek-Dk)",priceLowHigh:"Fiyat (Dk-Yksek)",stockHighLow:"Stok (Yksek-Dk)",stockLowHigh:"Stok (Dk-Yksek)",inStock:"Stokta",critical:"Kritik",depleted:"Tkendi",cost:"Maliyet",minStock:"Min. Stok",view:"Grntle",viewProduct:"rn grntle",mainCategories:{products:"rnler",services:"Hizmetler"},editProduct:"rn Dzenle",enterProductInfo:"rn bilgilerini doldurun ve stok durumunu gncelleyin",productServiceName:"rn/Hizmet Ad",selectFromList:"Listeden rn sein",productsFound:"rn bulundu",createCategoryFirst:"nce yeni bir kategori oluturmanz gerekiyor.",generalInfo:"GENEL BLGLER",priceAndStock:"FYAT VE STOK",notes:"NOTLAR",namePlaceholder:"rn/hizmet ad",unitPlaceholder:"Birim (rn: adet, kg, saat)",descriptionPlaceholder:"rn zellikleri, garanti bilgisi vb.",useCustomTax:"zel KDV oran kullan",customTaxNote:"Bu rn iin farkl bir KDV oran belirleyebilirsiniz. Bo braklrsa kategori KDV'si kullanlr.",categoryTax:"Kategori KDV",salePrice:"Sat fiyat",stockQuantity:"Stok adedi",criticalStock:"Kritik stok",customTaxRate:"zel KDV Oran",taxRatePlaceholder:"18.0",customTaxRateHelper:"Bu rn iin zel KDV oran. Kategori KDV'sini geersiz klar.",noCategoriesFound:"Kategori bulunamad",useCustomTaxRate:"zel KDV oran kullan",description:"Aklama",categoryModal:{titleNew:"Kategori Ekle",titleEdit:"Kategori Dzenle",subtitleNew:"Yeni rn kategorisini kaydedin.",subtitleEdit:"Kategori bilgilerini gncelleyin.",parentLabel:"Ana Kategori",parentHelper:"Bu kategori hangi ana kategoriye ait olacak?",nameLabel:"Kategori ad",namePlaceholder:"rn: Elektronik",taxLabel:"KDV Oran (%)",taxPlaceholder:"rn: 18",taxHelperChildOverrides:"Alt kategori KDV'si varsa ana kategori KDV'sini geersiz klar",taxHelperDefault:"Bu kategorideki rnler iin varsaylan KDV oran",nameRequired:"Kategori ad zorunludur",parentRequired:"Ana kategori seimi zorunludur",taxInvalid:"KDV oran 0-100 arasnda olmaldr",nameExists:"Bu kategori zaten mevcut"}},nN={title:"Hesap Plan",subtitle:"Muhasebe hesap plannz ynetin",newAccount:"Yeni Hesap",search:"Hesap kodu veya adyla ara...",code:"Kod",accountName:"Hesap Ad",type:"Tip",balance:"Bakiye",status:"Durum",actions:"lemler",accountsRegistered:"hesap kaytl",clickToEdit:"Dzenlemek iin hesap ad, kod veya bakiyeye tklayn",addAccountTip:"Yeni hesap eklemek iin yukardaki dmeyi kullann",active:"Aktif",passive:"Pasif",allSummed:"tm topland",accountTypes:{all:"Tm",asset:"Varlk",liability:"Ykmllk",equity:"zkaynaklar",revenue:"Gelir",expense:"Gider"},accountTypesPlural:{asset:"Varlklar",liability:"Ykmllkler",equity:"zkaynaklar",revenue:"Gelirler",expense:"Giderler"},statusLabels:{active:"Aktif",inactive:"Pasif"},tooltips:{editHint:"Dzenlemek iin hesap satrna tklayn"},accountNames:{100:"DNEN VARLIKLAR",101:"Kasa",102:"Bankalar",120:"Alclar",150:"DURAN VARLIKLAR",200:"KISA VADEL YKMLLKLER",201:"Satclar",300:"ZKAYNAKLAR",600:"GELRLER",601:"Sat Gelirleri",602:"Hizmet Gelirleri",700:"GDERLER",701:"Kira Giderleri",702:"Personel Giderleri",703:"Fatura Giderleri"},accountTypeLabels:{asset:"Varlk",liability:"Ykmllk",equity:"zkaynaklar",revenue:"Gelir",expense:"Gider"}},iN={title:"Faturalar",newInvoice:"Yeni Fatura",deleteConfirm:"Bu faturay silmek istediinizden emin misiniz?",deleteSuccess:"Fatura silindi",search:"Fatura numaras veya mteri ara...",filterAll:"Tm Durumlar",invoicesRegistered:"fatura kaytl",inArchive:"arivde",noInvoices:"Henz fatura yok",noInvoicesFound:"Fatura bulunamad",showVoided:"ptal Edilenleri Gster",hideVoided:"ptal Edilenleri Gizle",noInvoicesDesc:"lk faturanz oluturarak balayn.",noInvoicesFoundDesc:"Arama kriterlerinizle eleen fatura yok.",createFirstInvoice:"lk Fatura Olutur",invoiceNumber:"Fatura",customer:"Mteri",date:"Tarih",amount:"Tutar",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",download:"ndir",exportCsv:"CSV Da Aktar",delete:"Sil",viewInvoice:"Faturay grntle",editInvoice:"Faturay Dzenle",createInvoice:"Fatura Olutur",enterInvoiceInfo:"Mteri bilgilerini ve rn detaylarn girin",selectInvoiceType:"Fatura trn sein",newSale:"Yeni Sat",newSaleDescription:"Yeni bir sat kayd oluturup fatura kesin",newSaleNote:"Sat ve fatura otomatik olarak oluturulur",existingSale:"Mevcut Sat",existingSaleDescription:"Daha nce yaplm satlardan birine fatura kesin",existingSaleNote:"Sadece fatura bilgileri dzenlenebilir",returnInvoice:"ade Faturas",returnInvoiceDescription:"Daha nce kesilen bir fatura iin iade/iade faturas oluturun",returnInvoiceNote:"Mevcut faturadan seim yaparak iade oluturulur",invoiceNumberAutoGenerated:"Fatura numaras otomatik oluturulur",invoiceType:"Fatura Tr",productInvoice:"rn Faturas (Normal)",selectInvoiceToReturn:"-- ade edilecek faturay sein --",invoiceToReturn:"ade Edilecek Fatura (zorunlu)",returnInvoiceAutoLoad:" Seilen faturann rnleri otomatik olarak negatif miktarlarla yklenecektir.",issueDate:"Dzenleme Tarihi",dueDate:"Vade Tarihi",customerName:"Mteri Ad",customerSearchPlaceholder:"Mteri ara veya yeni mteri ad girin",productsAndServices:"rn ve Hizmetler",addLine:"Satr Ekle",description:"Aklama",quantity:"Miktar",unitPriceExclVAT:"Birim Fiyat (KDV Hari)",totalInclVAT:"Toplam (KDV Dahil)",notes:"Notlar",notesPlaceholder:"Sat ile ilgili ek notlar",autoGenerated:"Otomatik oluturulacak",statusCompleted:"Tamamland",statusPending:"Bekliyor",statusCancelled:"ptal",enterSaleInfo:"Sat bilgilerini girin",productServiceDescription:"rn veya hizmet aklamas",subtotalExclVAT:"Ara Toplam (KDV Hari)",vat:"KDV",discount:"skonto",grandTotalInclVAT:"Genel Toplam (KDV Dahil)",grandTotalExclVAT:"Genel Toplam (KDV Hari)",createInvoiceFromSale:"Sata Fatura Kes",completeInvoiceInfo:"Fatura bilgilerini tamamlayn",invoiceInfo:"Fatura Bilgileri",invoiceStatus:"Fatura Durumu",invoiceNotes:"Fatura Notlar",invoiceTotals:"Fatura Tutarlar",amountExclTax:"Tutar (KDV Hari)"},aN={title:"Giderler",newExpense:"Yeni Gider",deleteConfirm:"Bu gideri silmek istediinizden emin misiniz?",deleteSuccess:"Gider silindi",deleteError:"Gider silinemedi",search:"Gider aklamas veya tedariki ara...",filterAll:"Tm Durumlar",expensesRegistered:"gider kaytl",noExpenses:"Henz gider yok",noExpensesFound:"Gider bulunamad",noExpensesDesc:"lk giderinizi kaydederek balayn.",noExpensesFoundDesc:"Arama kriterlerinizle eleen gider yok.",createFirstExpense:"lk Gider Olutur",description:"Aklama",supplier:"Tedariki",category:"Kategori",date:"Tarih",amount:"Tutar",status:"Durum",actions:"lemler",view:"Grntle",edit:"Dzenle",download:"ndir",exportCsv:"CSV Da Aktar",delete:"Sil",viewExpense:"Gideri grntle",enterExpenseDetails:"Gider bilgilerini girin",editExpense:"Gideri Dzenle",addExpense:"Gider Ekle",enterExpenseInfo:"Gider bilgilerini girin",expenseNumber:"Gider Numaras",expenseDate:"Gider Tarihi",paymentDate:"deme Tarihi",totalExpense:"Toplam Gider",receiptUrl:"Fi/Fatura URL'si",receiptUrlHelper:"Fi veya fatura grselinin/PDF'inin balantsn ekleyebilirsiniz",descriptionPlaceholder:"Gider aklamas...",supplierPlaceholder:"Tedariki ad yazn..."},oN={descriptionRequired:"Ltfen aklama girin",amountRequired:"Ltfen geerli bir tutar girin",categoryRequired:"Ltfen kategori sein",dueDateRequired:"Ltfen vade tarihi sein",saleDateRequired:"Sat tarihi gereklidir",unitPriceRequired:"Birim fiyat sfrdan byk olmaldr",quantityRequired:"Miktar sfrdan byk olmaldr",customerNameRequired:"Mteri ad gereklidir",customerNotFound:"Mteri sistemde bulunamad. Ltfen listeden sein.",productNameRequired:"rn veya hizmet ad gereklidir",productNotFound:"rn sistemde bulunamad. Ltfen listeden sein.",skuRequired:"SKU zorunlu",validPriceRequired:"Geerli bir fiyat girin",validStockRequired:"Geerli stok adedi girin"},lN={title:"Mteriler",newCustomer:"Yeni Mteri",search:"Mteri ara...",customersRegistered:"mteri kaytl",noCustomers:"Henz mteri yok",noCustomersFound:"Mteri bulunamad",noCustomersDesc:"lk mterinizi ekleyerek balayn.",noCustomersFoundDesc:"Arama kriterlerinizle eleen mteri yok.",createFirstCustomer:"lk Mteri Ekle",name:"Ad",email:"E-posta",phone:"Telefon",totalInvoices:"Toplam Fatura",totalAmount:"Toplam Tutar",actions:"lemler",importCSV:"CSV/Excel e Aktar",downloadTemplate:"ablon ndir",editCustomer:"Mteriyi Dzenle",addCustomer:"Mteri Ekle",selectFromList:"Listeden mteri sein",customersFound:"mteri bulundu",enterCustomerInfo:"Mteri bilgilerini girin",address:"Adres",emailPlaceholder:"musteri@example.com",addressPlaceholder:"Tam adres bilgisi...",taxNumber:"Vergi Numaras",company:"irket Ad",namePlaceholder:"Ahmet Ylmaz",companyPlaceholder:"ABC Teknoloji Ltd.",duplicate:{title:"Ayn E-posta ile Kayt Var",message:"Bu e-posta ({{email}}) ile zaten bir mteri kaytl: {{name}}. Ltfen listeden mevcut kayd sein veya dzenleyin.",openExisting:"Mevcut mteriyi a"},import:{noDataFound:"Dosyada veri bulunamad.",noCustomersFound:"Dosyada aktarlacak mteri bulunamad.",success:"{{count}} mteri baaryla ie aktarld!",error:"e aktarma srasnda hata olutu."}},cN={title:"Tedarikiler",newSupplier:"Yeni Tedariki",search:"Tedariki ara...",suppliersRegistered:"tedariki kaytl",noSuppliers:"Henz tedariki yok",noSuppliersFound:"Tedariki bulunamad",noSuppliersDesc:"lk tedarikinizi ekleyerek balayn.",noSuppliersFoundDesc:"Arama kriterlerinizle eleen tedariki yok.",createFirstSupplier:"lk Tedariki Ekle",name:"Ad",email:"E-posta",phone:"Telefon",totalExpenses:"Toplam Gider",totalAmount:"Toplam Tutar",actions:"lemler",modal:{newTitle:"Yeni Tedariki Ekle",editTitle:"Tedarikiyi Dzenle",subtitle:"Tedariki bilgilerini girin",nameLabel:"Tedariki Ad",companyLabel:"irket Ad",emailLabel:"E-posta",phoneLabel:"Telefon",categoryLabel:"Kategori",taxNumberLabel:"Vergi Numaras",addressLabel:"Adres",namePlaceholder:"ABC Tedarik Ltd.",companyPlaceholder:"ABC Tedarik Ltd. ti.",emailPlaceholder:"info@abctedarik.com",phonePlaceholder:"+90 555 123 45 67",taxNumberPlaceholder:"Vergi Numaras",addressPlaceholder:"Tam adres bilgisi..."}},dN={title:"Banka Hesaplar",newAccount:"Yeni Hesap",search:"Banka ad, hesap ad veya numaras ara...",filterAll:"Tm Hesaplar",accountsRegistered:"hesap kaytl",totalBalance:"Toplam bakiye",noBanks:"Henz banka hesab yok",noBanksFound:"Hesap bulunamad",noBanksDesc:"lk banka hesabnz ekleyerek balayn.",noBanksFoundDesc:"Arama kriterlerinizle eleen hesap yok.",createFirstAccount:"lk Hesap Ekle",bankName:"Banka",accountName:"Hesap Ad",accountNumber:"Hesap No",balance:"Bakiye",status:"Durum",actions:"lemler",editAccount:"Hesab Dzenle",enterAccountInfo:"Banka hesap bilgilerini girin",selectBank:"Banka sein",accountNamePlaceholder:"irket Ad veya Kii Ad",accountType:"Hesap Tr",accountTypes:{checking:"Vadesiz Hesap",savings:"Vadeli Hesap",business:"Ticari Hesap"},ibanAutoFormat:"IBAN otomatik olarak formatlanacaktr",currentBalance:"Mevcut Bakiye",currency:"Para Birimi",accountActive:"Hesap aktif",addAccount:"Hesap Ekle",routingNumber:"Routing Numaras (ABA)",swiftBic:"SWIFT/BIC",branchCode:"ube Kodu",deleteConfirm:"Bu banka hesabn silmek istediinizden emin misiniz?"},uN={title:"Ayarlar",subtitle:"Sistem ve hesap ayarlarnz ynetin",save:"Kaydet",cancel:"ptal",profile:"Profil",company:"irket Bilgileri",system:"Sistem Ayarlar",security:"Gvenlik",data:"Veri Ynetimi",currency:"Para Birimi",language:"Dil",notifications:"Bildirimler",theme:"Tema",success:"Baarl",error:"Hata",saved:"Ayarlar kaydedildi",saveFailed:"Ayarlar kaydedilemedi",companyFields:{officialName:"Resmi irket Ad",brandName:"Fatura/Marka Ad",brandNameHelper:"Bu alan faturada/ekranda marka ad olarak kullanlabilir.",officialNameTooltip:"irket adn yalnzca irket sahibi veya ynetici gncelleyebilir",officialNameOwnerOnly:"Bu alan yalnzca irket sahibi tarafndan deitirilebilir."}},mN={twofa:{reminderTitle:"ki Aamal Dorulamay Etkinletirin",reminderDesc:"Hesabnz daha gl korumak iin 2FA'y etkinletirin.",modalTitle:"Hesabnz Gvenceye Aln",modalMessage:"ki Aamal Dorulama (2FA) hesap gvenliinizi nemli lde artrr. imdi etkinletirmek ister misiniz?",enableNow:"imdi Etkinletir",neverRemind:"Bir daha hatrlatma"}},hN={common:{dataLoadError:"Veriler yklenirken hata olutu"},invoices:{updateSuccess:"Fatura gncellendi",updateError:"Fatura gncellenemedi",createPartialError:"Fatura oluturuldu, ancak sat kayd oluturulamad",createWithSaleSuccess:"Fatura ve sat oluturuldu",cancelSuccess:"Fatura iptal edildi",cancelError:"Fatura iptal edilemedi",restoreSuccess:"Fatura geri yklendi",restoreError:"Fatura geri yklenemedi",createSuccess:"Fatura baaryla oluturuldu"},customers:{updateSuccess:"Mteri gncellendi",createSuccess:"Mteri eklendi",deleteSuccess:"Mteri silindi",deleteError:"Mteri silinemedi"},suppliers:{updateSuccess:"Tedariki gncellendi",createSuccess:"Tedariki eklendi",deleteSuccess:"Tedariki silindi",deleteError:"Tedariki silinemedi"},sales:{customerNotSelected:"Mteri seilmedi! Ltfen geerli bir mteri sein.",insufficientStock:" Yetersiz stok! {{name}} - Mevcut: {{available}}, stenen: {{requested}}",createSuccess:"Sat kaydedildi",updateSuccess:"Sat gncellendi",localSaved:"Sat yerel olarak kaydedildi (offline)",stockUpdateFailed:"Sat kaydedildi ancak stok gncellenemedi",deleteError:"Sat silinemedi",deleteSuccess:"Sat baaryla silindi",customerNotFound:"Mteri bulunamad! Ltfen nce mteri oluturun."},expenses:{updateSuccess:"Gider gncellendi",createSuccess:"Gider eklendi",cancelSuccess:"Gider iptal edildi",cancelError:"Gider iptal edilemedi",statusUpdateSuccess:"Gider durumu gncellendi",restoreSuccess:"Gider geri yklendi",restoreError:"Gider geri yklenemedi"},products:{updateSuccess:"rn gncellendi",createSuccess:"rn eklendi",deleteSuccess:"rn silindi",deleteError:"rn silinemedi",bulkRemoved:"{{count}} rn silindi",bulkNotFound:"Seilen rnler bulunamad",bulkArchived:"{{count}} rn arivlendi",bulkAlreadyArchived:"Seilen rnler zaten arivde",bulkPriceUpdateSaved:"Toplu fiyat gncelleme iin seiminizi kaydettik. Dzenlemeyi rn detaynda yapabilirsiniz."},categories:{added:"{{name}} kategorisi eklendi (KDV: %{{taxRate}})",addError:"Kategori eklenemedi",updateSuccess:"Kategori gncellendi",deleteSuccess:"Kategori silindi",assignmentInfo:"Kategori atamas iin sol paneldeki kategori dzenini kullanabilirsiniz."},bank:{deleteError:"Banka silinemedi"},quotes:{createSuccess:"Teklif oluturuldu",createError:"Teklif oluturulamad"}},fN={invoices:{overdue:{title:"Gecikmi fatura demesi",desc:"{{invoiceNumber}} - {{customerName}} ({{daysOverdue}} gn gecikmi)"},upcoming:{title:"Yaklaan fatura demesi",desc:"{{invoiceNumber}} - {{customerName}} ({{daysLeft}} gn kald)"},created:{title:"Yeni fatura oluturuldu",desc:"{{invoiceNumber}} - {{customerName}} iin fatura hazr."}},expenses:{overdue:{title:"Gecikmi gider demesi",desc:"{{description}} - {{supplierName}} ({{daysOverdue}} gn gecikmi)"},upcoming:{title:"Yaklaan gider demesi",desc:"{{description}} - {{supplierName}} ({{daysLeft}} gn kald)"},created:{title:"Yeni gider kaydedildi",desc:"{{supplierName}} - {{description}}: {{amount}}"}},products:{lowStock:{title:"Dk stok uyars",desc:"{{name}} - Stok seviyesi minimum limitin altnda! ({{stock}}/{{min}})"},outOfStock:{title:"Stok tkendi",desc:"{{name}} - Stok tkendi!"}},quotes:{expired:{title:"Teklif sresi doldu",desc:"{{quoteNumber}} - sre doldu"},dueSoon:{title:"Teklif sresi yaklayor",desc:"{{quoteNumber}} - {{diffDays}} gn kald"}},customers:{created:{title:"Yeni mteri eklendi",desc:"{{name}} sisteme kaydedildi."}},suppliers:{created:{title:"Yeni tedariki eklendi",desc:"{{name}} sisteme kaydedildi."}},sales:{created:{title:"Yeni sat kaydedildi",desc:"{{customerName}} - {{summary}}: {{totalAmount}}"}},plan:{limit:{title:"Plan limiti uyars",invoices:{desc:"Bu ayki fatura limitine yaklayorsunuz ({{used}}/{{limit}})."},expenses:{desc:"Bu ayki gider limitine yaklayorsunuz ({{used}}/{{limit}})."}}}},pN={title:"Satlar",newSale:"Yeni Sat",totalSales:"Toplam Sat",totalSalesCount:"Toplam Sat Adedi",completed:"Tamamland",salesList:"Sat Listesi",salesRegistered:"sat kaytl",search:"Sat numaras, mteri veya rne gre ara...",noSales:"Henz sat yok",noSalesFound:"Sat bulunamad",noSalesDesc:"lk satnz ekleyerek balayn.",noSalesFoundDesc:"Arama kriterlerinizle eleen sat yok.",createFirstSale:"lk Sat Ekle",sale:"Sat",customer:"Mteri",productService:"rn/Hizmet",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler",viewSale:"Sat grntle",editSale:"Sat Dzenle",deleteSale:"Sat sil",deleteConfirm:"Bu sat silmek istediinizden emin misiniz?",createInvoice:"Fatura Olutur",download:"ndir",subtitle:"Sat kaytlarnz ynetin",saleCompleted:"Sat Tamamland!",saleCompletedDesc:"Sat baaryla kaydedildi.",createInvoiceQuestion:"Fatura oluturmak ister misiniz?",autoGenerated:"Otomatik oluturulacak",statusCompleted:"Tamamland",statusPending:"Bekliyor",statusCancelled:"ptal",saleNumber:"Sat No",saleDate:"Sat Tarihi",autoNumberNote:"Numara kaydedilirken otomatik oluturulacak",unitPriceInclVAT:"Birim Fiyat (KDV Dahil)",totalInclVAT:"Toplam (KDV Dahil)",unitPriceExclVAT:"Birim Fiyat (KDV Hari)",totalExclVAT:"Toplam (KDV Hari)",notesPlaceholder:"Sat ile ilgili ek notlar",addSale:"Sat Ekle",saleSummary:"Sat zeti",invoiceWillBeDownloaded:"Fatura oluturulursa, PDF formatnda otomatik olarak indirilecektir.",confirmInvoiceCreation:"Fatura oluturulsun mu?",invoiceWillOpen:"Fatura oluturulduktan sonra grntleme penceresinde alacaktr.",recordOnlySale:"Sadece Sat",recordSaleWithInvoice:"Fatura ile Birlikte",confirmInvoiceAction:"Evet, Olutur",creatingInvoice:"Oluturuluyor...",enterSaleInfo:"Sat bilgilerini girin",selectExistingSale:"Mevcut Sat Se",selectSaleForInvoice:"Fatura oluturmak iin bir sat sein",searchSalesPlaceholder:"Sat numaras, mteri veya rne gre ara...",noInvoiceableSales:"Faturalanabilir sat bulunamad",changeSearchCriteria:"Arama kriterlerinizi deitirmeyi deneyin",allSalesInvoiced:"Tm satlar faturaland",pieces:"adet",saleInfo:"Sat Bilgileri",salesWaitingForInvoice:"Fatura bekleyen sat: {{count}}"},gN={method:"deme Yntemi",cash:"Nakit",card:"Kredi/Banka Kart",transfer:"Havale/EFT",check:"ek"},xN={title:"Raporlar",subtitle:"letmeniz iin detayl analiz raporlar",reportDate:"Rapor Tarihi",overview:"Genel Bak",basicMetrics:"Temel Metrikler",totalIncome:"Toplam Gelir",totalExpense:"Toplam Gider",netProfit:"Net Kar",totalCustomers:"Toplam Mteri",net:"Net",last6MonthsPerformance:"Son 6 ay performans (en yeni  en eski)",financialHealth:"Mali Durum",profitMargin:"Kar Marj",growthRate:"Byme Oran",averageSale:"Ortalama Sat",activeCustomers:"Aktif Mteriler",paymentStatusAnalysis:"deme Durumu Analizi",invoiceStatuses:"Fatura Durumlar",expenseStatuses:"Gider Durumlar",vatAnalysis:"KDV Analizi",vatAnalysisSubtitle:"denmi faturalar zerinden KDV ykmllnz takip edin",currentYearLabel:"Cari Yl ({{year}})",vatYearToDate:"Ylbandan bugne KDV",vatChangeVsLastYear:"{{percent}} geen yla gre ({{lastYear}})",vatThisMonth:"Bu ayki KDV",vatChangeVsPreviousMonth:"{{percent}} geen aya gre ({{previous}})",vatAverageSixMonths:"6 aylk ort. KDV",vatAverageHint:"Son 6 ayda denen KDV'nin hareketli ortalamas",vatMonthlyBreakdown:"Aylk KDV dalm",lastMonthsPerformance:"Son {{count}} ay",noVatData:"Henz KDV verisi yok",revenueAnalysis:"Gelir Analizi",productBasedSales:"rn Bazl Satlar",sales:"sat",avg:"Ort",monthlyRevenueTrend:"Aylk Gelir Trendi",expenseAnalysis:"Gider Analizi",categoryBasedExpenses:"Kategori Bazl Giderler",expenses:"gider",monthlyExpenseTrend:"Aylk Gider Trendi",topSuppliers:"Gidere Gre En ok Tedarikiler",lastExpense:"Son",recentExpenses:"Son Giderler",expenseCategoryDistribution:"Gider Kategori Dalm",customerAnalysis:"Mteri Analizi",topCustomers:"En yi Mteriler",purchases:"alveri",last:"Son",customerStatistics:"Mteri statistikleri",activeCustomersCount:"Aktif Mteriler",revenuePerCustomer:"Mteri Bana Gelir",salesPerCustomer:"Mteri Bana Sat",averagePurchases:"Ortalama Alveri",maxPurchases:"Maksimum Alveri",performanceReports:"Performans Raporlar",kpiDashboard:"KPI Dashboard",increase:"Art",decrease:"Azal",monthlyPerformanceTable:"Aylk Performans Tablosu",total6Months:"Toplam (6 Ay)",totalIncome6Months:"Toplam Gelir (6 Ay)",totalExpense6Months:"Toplam Gider (6 Ay)",netProfit6Months:"Net Kar (6 Ay)",month:"Ay",profit:"Kar",profitMarginPercent:"Kar Marj",expenseRatio:"Gider Oran",expenseEfficiency:"Gider Verimlilii Analizi",expenseCategoryPerformance:"Gider Kategori Performans",noSupplier:"Tedariki Yok",noCustomer:"Mteri Yok",quoteAnalysis:"Teklif Analizi",quoteStatuses:"Teklif Durumlar",totalQuotes:"Toplam Teklif",acceptedRate:"Kabul Oran",averageQuote:"Ortalama Teklif",expiringSoon:"Sresi Yaklaanlar",recentQuotes:"Son Teklifler",daysLeft:"Gn Kald",quotes:"teklif"},yN={totalCredit:"Toplam Alacak",totalDebit:"Toplam Bor",netBalance:"Net Bakiye",entry:{invoicePrefix:"Fatura",expensePrefix:"Gider",salePrefix:"Direkt Sat"}},bN={equipment:"Ekipman",utilities:"Faturalar",rent:"Kira",salaries:"Maalar",personnel:"Personel",supplies:"Malzemeler",marketing:"Pazarlama",travel:"Seyahat",insurance:"Sigorta",taxes:"Vergiler",other:"Dier"},vN={title:"Ariv",subtitle:"Tamamlanm ve gemi kaytlarnz",totalArchive:"Toplam Ariv",archivedInvoices:"Arivlenmi Faturalar",archivedExpenses:"Arivlenmi Giderler",archivedSales:"Arivlenmi Satlar",totalContacts:"Toplam Kiiler",searchPlaceholder:"Arivde ara...",clearFilters:"Filtreleri Temizle",tabs:{all:"Tm",invoices:"Faturalar",expenses:"Giderler",sales:"Satlar",contacts:"Kiiler"},sections:{archivedInvoices:"Arivlenmi Faturalar",archivedExpenses:"Arivlenmi Giderler",archivedSales:"Arivlenmi Satlar",customers:"Mteriler",suppliers:"Tedarikiler",archiveSummary:"Ariv zeti"},empty:{invoices:"Arivlenmi fatura yok",invoicesHelper:"denmi veya gecikmi faturalar burada grnecek",expenses:"Arivlenmi gider yok",expensesHelper:"denmi giderler burada grnecek",sales:"Arivlenmi sat yok",salesHelper:"Tamamlanm satlar burada grnecek",customers:"Mteri bulunamad",suppliers:"Tedariki bulunamad"},table:{invoice:"Fatura",customer:"Mteri",amount:"Tutar",status:"Durum",date:"Tarih",actions:"lemler",expense:"Gider",supplier:"Tedariki",category:"Kategori",sale:"Sat",product:"rn/Hizmet",registered:"Kaytl"},actions:{view:"Grntle",download:"ndir"},summary:{financial:"Mali zet",totalIncome:"Toplam Arivlenmi Gelir",totalExpense:"Toplam Arivlenmi Gider",netArchive:"Net Ariv",recordCounts:"Kayt Saylar"},info:{title:"Ariv Hakknda",description:"Ariv sayfas tamamlanm ilemlerinizi saklar. denmi faturalar, onaylanm giderler ve tamamlanm satlar otomatik olarak burada listelenir. Bu kaytlar salt okunur ve gemi analiz ve denetim amalar iin kullanlabilir."}},wN=JSON.parse(`{"backToApp":"Uygulamaya Geri Dn","contact":{"title":"letiim Bilgileri","email":"E-posta","address":"Adres","addressValue":"Comptario, Fransa","company":"irket","companyValue":"Comptario"},"terms":{"title":"Kullanm artlar","subtitle":"Comptario hizmetlerini kullanrken uymanz gereken artlar ve koullar","lastUpdated":"Son gncelleme: 29 Ekim 2025","sections":{"acceptance":{"title":"artlarn Kabul","content":"Bu hizmeti kullanarak, bu kullanm artlarn kabul etmi saylrsnz. Bu artlar kabul etmiyorsanz, ltfen hizmeti kullanmayn."},"service":{"title":"Hizmet Aklamas","content":"Comptario, iletmeler iin muhasebe ve finansal ynetim zmleri sunan bir SaaS platformudur. Hizmetimiz unlar ierir:","features":{"invoicing":"Fatura oluturma ve ynetimi","expenses":"Gider takibi ve kategorilendirme","reporting":"Finansal raporlar ve analizler","multiTenant":"ok kiracl gvenli veri saklama"}},"responsibilities":{"title":"Kullanc Sorumluluklar","content":"Hizmeti kullanrken aadaki sorumluluklarnz bulunmaktadr:","items":{"accuracy":"Girdiiniz verilerin doruluunu salamak","compliance":"Yerel yasalara ve dzenlemelere uymak","security":"Hesap gvenliinizi korumak","backups":"nemli verilerinizi yedeklemek"}},"dataProtection":{"title":"Veri Koruma","content":"Verilerinizin gvenlii ve gizlilii bizim iin nceliklidir. GDPR ve dier veri koruma dzenlemelerine tam uyum salyoruz."},"liability":{"title":"Sorumluluk Snrlar","content":"Hizmetimizi olduu gibi sunuyoruz. Dolayl zararlar iin sorumlu deiliz. Toplam sorumluluumuz denen cretle snrldr."},"termination":{"title":"Hizmet Sonlandrma","content":"Bu anlamay istediiniz zaman sonlandrabilirsiniz. Hesabnz kapattnzda verileriniz gvenli ekilde silinir."},"changes":{"title":"artlarda Deiiklik","content":"Bu artlar zaman zaman gncelleyebiliriz. nemli deiiklikler iin size bildirimde bulunacaz."}}},"privacy":{"title":"Gizlilik Politikas","subtitle":"Kiisel verilerinizi nasl topladmz, kullandmz ve koruduumuz hakknda","sections":{"introduction":{"title":"Giri","content":"Bu gizlilik politikas, Comptario olarak kiisel verilerinizi nasl ilediimizi aklar. GDPR'ye tam uyum salyoruz."},"dataCollection":{"title":"Topladmz Veriler","personal":{"title":"Kiisel Bilgiler","name":"Ad ve soyadnz","email":"E-posta adresiniz","company":"irket bilgileriniz","phone":"Telefon numaranz (istee bal)"},"business":{"title":" Verileri","invoices":"Fatura ve mteri bilgileri","expenses":"Gider kaytlar","customers":"Mteri veritaban","financial":"Finansal ilem verileri"},"technical":{"title":"Teknik Veriler","ip":"IP adresi ve konum bilgisi","browser":"Tarayc ve cihaz bilgisi","usage":"Hizmet kullanm istatistikleri","cookies":"erezler ve benzeri teknolojiler"}},"dataUse":{"title":"Verileri Nasl Kullanyoruz","service":"Hizmet sunumu ve hesap ynetimi","support":"Mteri destei ve teknik yardm","improvements":"Hizmet gelitirme ve optimizasyon","compliance":"Yasal ykmllklerin yerine getirilmesi","communications":"nemli bildirimlerin gnderilmesi"},"legalBasis":{"title":"Hukuki Dayanak (GDPR)","gdprNote":"GDPR Madde 6 uyarnca veri ileme dayanaklarmz:","contract":{"title":"Szleme","desc":"Hizmet sunumu iin gerekli ilemler"},"legitimate":{"title":"Meru Menfaat","desc":"Hizmet gelitirme ve gvenlik"},"consent":{"title":"Rza","desc":"Pazarlama ve istee bal zellikler"},"legal":{"title":"Yasal Ykmllk","desc":"Vergi ve muhasebe kaytlar"}},"security":{"title":"Veri Gvenlii","content":"Verilerinizi korumak iin en ileri gvenlik nlemlerini kullanyoruz:","measures":{"encryption":"AES-256 ifreleme (aktarm ve depolama)","access":"ok faktrl kimlik dorulama","monitoring":"7/24 gvenlik izleme","backups":"ifrelenmi otomatik yedeklemeler","incident":"Olay mdahale prosedrleri"}},"rights":{"title":"GDPR Haklarnz","access":{"title":"Eriim Hakk","desc":"Hangi verilerimizi ilediimizi renebilirsiniz"},"rectification":{"title":"Dzeltme Hakk","desc":"Yanl verilerin dzeltilmesini isteyebilirsiniz"},"erasure":{"title":"Silme Hakk","desc":"Verilerinizin silinmesini talep edebilirsiniz"},"portability":{"title":"Tanabilirlik Hakk","desc":"Verilerinizi baka platformlara aktarabilirsiniz"},"objection":{"title":"tiraz Hakk","desc":"Belirli ilemlere itiraz edebilirsiniz"}},"retention":{"title":"Veri Saklama","content":"Verilerinizi yasal gereklilikler ve i ihtiyalar dorultusunda saklarz. Hesabnz kapattnzda, verileriniz 30 gn iinde gvenli ekilde silinir."},"transfers":{"title":"Uluslararas Veri Transferleri","content":"Verileriniz ncelikle AB iinde ilenir. AB dna transfer gerektiinde, uygun gvenceler (SCC, Adequacy Decision) kullanlr."},"contact":{"title":"letiim","dpo":"Veri Koruma Sorumlusu","email":"Gizlilik E-postas","address":"Posta Adresi"}}},"cookies":{"title":"erez Politikas","subtitle":"Web sitemizde erezleri nasl kullandmz ve tercihlerinizi nasl ynetebileceiniz","required":"Gerekli","preferences":{"title":"erez Tercihleri","saved":"erez tercihleri kaydedildi!","acceptAll":"Tmn Kabul Et","rejectAll":"Tmn Reddet","savePreferences":"Tercihleri Kaydet"},"types":{"necessary":{"title":"Gerekli erezler","description":"Bu erezler web sitesinin dzgn almas iin gereklidir ve devre d braklamaz.","examples":"Oturum ID, gvenlik token'lar, dil tercihi"},"analytics":{"title":"Analitik erezler","description":"Web sitesinin nasl kullanldn anlamamza yardmc olur ve performans iyiletirmemizi salar.","examples":"Google Analytics, sayfa grntleme istatistikleri"},"marketing":{"title":"Pazarlama erezleri","description":"Size daha alakal reklamlar gstermek iin kullanlr.","examples":"Facebook Pixel, Google Ads erezleri"},"preferences":{"title":"Tercih erezleri","description":"Web sitesinin davrann ve grnmn tercihlerinize gre hatrlar.","examples":"Dil seimi, tema tercihi, blge ayarlar"}},"sections":{"whatAre":{"title":"erezler Nedir?","content":"erezler, web sitesini ziyaret ettiinizde taraycnza kaydedilen kk metin dosyalardr. Web sitesinin sizi tanmasn ve tercihlerinizi hatrlamasn salar."},"howWeUse":{"title":"erezleri Nasl Kullanyoruz?","content":"erezleri web sitesinin ilevselliini salamak, gvenlii artrmak ve kullanc deneyimini iyiletirmek iin kullanyoruz."},"thirdParty":{"title":"nc Taraf erezleri","content":"Baz erezler, web sitemizdeki hizmetleri salayan nc taraf irketler tarafndan ayarlanr:","partners":{"title":" Ortaklarmz","analytics":"Web sitesi analitikleri","payments":"deme ilemleri","support":"Mteri destei"}},"managing":{"title":"erezleri Ynetme","content":"erez tercihlerinizi yukardaki panel zerinden ynetebilir veya tarayc ayarlarnzdan deitirebilirsiniz:","browsers":{"chrome":"Ayarlar > Gizlilik ve gvenlik > erezler","firefox":"Seenekler > Gizlilik ve Gvenlik > erezler","safari":"Tercihler > Gizlilik > erezleri ynet","edge":"Ayarlar > Site izinleri > erezler"}}},"contact":{"title":"letiim","email":"E-posta","cmp":"Onay Ynetim Platformu","cmpNote":"Bu sayfa basit bir onay ynetim arayz salar"}},"dpa":{"title":"Veri leme Szlemesi","subtitle":"GDPR Madde 28 uyarnca veri ileme koullar ve gvenceleri","download":"DPA'y ndir","acceptance":{"title":"DPA Kabul","description":"letme verilerini Comptario'da saklamak iin bu Veri leme Szlemesi'ni kabul etmeniz gerekmektedir.","checkbox":"Veri leme Szlemesi'ni okudum ve kabul ediyorum","button":"DPA'y Kabul Et","confirmed":"DPA baaryla kabul edildi ve kaydedildi!","status":{"accepted":"DPA Kabul Edildi","date":"Kabul Tarihi"}},"sections":{"introduction":{"title":"Giri","content":"Bu Veri leme Szlemesi (DPA), GDPR Madde 28 gereklilikleri uyarnca, Comptario ile mteriler arasndaki veri ileme ilikisini dzenler.","note":{"title":"nemli Not","content":"Bu szleme, mterinin veri sorumlusu, Comptario'nun ise veri ileyicisi olduu durumlar kapsar."}},"definitions":{"title":"Tanmlar","controller":{"title":"Veri Sorumlusu","desc":"Kiisel verilerin ilenme amalarn ve yntemlerini belirleyen mteri"},"processor":{"title":"Veri leyicisi","desc":"Veri sorumlusu adna kiisel verileri ileyen Comptario"},"personalData":{"title":"Kiisel Veri","desc":"Kimlii belirli veya belirlenebilir gerek kiilere ilikin her trl bilgi"}},"processing":{"title":"leme Detaylar","subject":{"title":"leme Konusu","desc":"Muhasebe ve finansal ynetim hizmetleri"},"duration":{"title":"leme Sresi","desc":"Hizmet szlemesi sresince ve sonrasnda yasal saklama sreleri"},"purpose":{"title":"leme Amalar","service":"Comptario hizmetlerinin sunulmas","support":"Teknik destek ve mteri hizmetleri","security":"Veri gvenlii ve sistem korunmas","compliance":"Yasal ykmllklerin yerine getirilmesi"}},"dataCategories":{"title":"Veri Kategorileri","personal":{"title":"Kiisel Veriler","name":"Ad, soyad","email":"E-posta adresi","phone":"Telefon numaras","company":"irket bilgileri"},"technical":{"title":"Teknik Veriler","ip":"IP adresi","logs":"Sistem gnlkleri","usage":"Kullanm verileri","device":"Cihaz bilgileri"}},"security":{"title":"Gvenlik nlemleri","content":"Comptario, kiisel verilerin gvenliini salamak iin aadaki teknik ve organizasyonel nlemleri uygular:","measures":{"technical":{"title":"Teknik nlemler","encryption":"AES-256 ifreleme","access":"ok faktrl kimlik dorulama","monitoring":"Srekli gvenlik izleme"},"organizational":{"title":"Organizasyonel nlemler","training":"Personel gvenlik eitimi","policies":"Veri koruma politikalar","incident":"Olay mdahale prosedrleri"}}},"subprocessors":{"title":"Alt leyiciler","content":"Comptario, belirli hizmetler iin onaylanm alt ileyiciler kullanabilir. Gncel liste aadaki balantda mevcuttur:","list":{"title":"Alt leyici Listesi","desc":"Gncel listeyi grntlemek iin","link":"buraya tklayn"}},"dataSubjectRights":{"title":"Veri Sahibi Haklar","content":"Comptario, veri sorumlusunun veri sahibi haklarna ilikin taleplerine destek olur ve gerekli teknik nlemleri alr."},"dataBreach":{"title":"Veri hlali","content":"Kiisel veri ihlali durumunda Comptario, veri sorumlusunu gecikmeksizin bilgilendirir ve gerekli nlemleri alr.","notification":{"title":"Bildirim Sresi","content":"Veri ihlali tespit edildiinde 72 saat iinde bildirim yaplr"}}},"subprocessors":{"title":"Alt leyiciler Listesi","subtitle":"Comptario hizmetlerinin sunulmasnda kullanlan nc taraf veri ileyicileri ve gvenceleri","lastUpdated":"Son gncelleme: 29 Ekim 2025","currentList":"Mevcut Alt leyiciler","overview":{"title":"Genel Bak","content":"Bu sayfa, Comptario hizmetlerinin sunulmas srasnda kiisel verilerinizi ileyebilecek tm alt ileyicileri listeler. Her alt ileyici GDPR gerekliliklerine uygun olarak seilmi ve szlemeye balanmtr.","notification":{"title":"Deiiklik Bildirimi","content":"Alt ileyici listesindeki deiiklikler iin 30 gn nceden bildirimde bulunulur"}},"list":{"aws":{"purpose":"Bulut altyaps ve veri depolama"},"stripe":{"purpose":"deme ileme ve fatura ynetimi"},"sendgrid":{"purpose":"E-posta gnderimi ve bildirimler"},"intercom":{"purpose":"Mteri destei ve canl sohbet"},"analytics":{"purpose":"Web sitesi analitikleri ve performans izleme"}},"safeguards":{"title":"Gvenceler","adequacyDecision":"AB Yeterlilik Karar","dataTransferAgreement":"Veri Transfer Szlemesi","dataMinimization":"Veri Minimizasyon lkesi"},"dataTransfers":{"title":"Veri Transferleri","content":"AB dna veri transferleri iin aadaki hukuki mekanizmalar kullanyoruz:","mechanisms":{"adequacy":"AB Yeterlilik Kararlar","scc":"Standart Szleme Hkmleri (SCC)","bcr":"Balayc Kurumsal Kurallar (BCR)"}},"monitoring":{"title":"zleme ve Denetim","content":"Alt ileyicilerimizi dzenli olarak izler ve denetleriz:","activities":{"audit":"Yllk gvenlik denetimleri","certification":"ISO 27001, SOC 2 sertifikalar","review":"nc taraf gvenlik deerlendirmeleri"}},"contact":{"title":"letiim","content":"Alt ileyicilerle ilgili sorularnz iin bizimle iletiime geebilirsiniz:","email":"E-posta","notificationPeriod":"Bildirim Sresi","notificationPeriodValue":"Deiiklikler iin 30 gn nceden"}}},"cookie":{"banner":{"title":"erez Tercihleri","description":"Bu web sitesi deneyiminizi iyiletirmek iin erezler kullanr. Hangi erezlerin kullanlacan seebilirsiniz.","acceptAll":"Tmn Kabul Et","rejectAll":"Tmn Reddet","managePreferences":"Tercihleri Ynet","savePreferences":"Tercihleri Kaydet","close":"Kapat"},"modal":{"title":"erez Tercihleri","description":"erez kategorilerini inceleyip tercihlerinizi belirleyebilirsiniz. Her kategorinin aklamasn okuyarak hangi erezlerin kullanlacana karar verebilirsiniz.","necessary":{"title":"Zorunlu erezler","description":"Bu erezler web sitesinin dzgn almas iin gereklidir ve devre d braklamaz. Genellikle giri yapma, form doldurma gibi ilemlerinize yant olarak ayarlanr.","alwaysActive":"Her zaman aktif"},"analytics":{"title":"Analitik erezler","description":"Bu erezler web sitesinin nasl kullanldn anlamamza yardmc olur. Hangi sayfalarn daha ok ziyaret edildii ve kullanclarn sitede nasl gezindii hakknda bilgi toplar.","enabled":"Etkin","disabled":"Devre d"},"marketing":{"title":"Pazarlama erezler","description":"Bu erezler size daha alakal reklamlar gstermek iin kullanlr. Reklam ortaklarmzn ilgi alanlarnz hakknda bir profil oluturmasna yardmc olabilir.","enabled":"Etkin","disabled":"Devre d"},"acceptSelected":"Seilenleri Kabul Et","acceptAll":"Tmn Kabul Et","rejectAll":"Tmn Reddet","cancel":"ptal"},"notice":{"updated":"erez tercihleriniz gncellendi.","saved":"erez tercihleri kaydedildi."},"categories":{"necessary":"Zorunlu","analytics":"Analitik","marketing":"Pazarlama"}},"org":{"members":{"title":"yeler","subtitle":"Organizasyonunuzdaki yeleri ynetin","memberCount":"{{count}} ye","roles":{"OWNER":"Sahip","ADMIN":"Ynetici","MEMBER":"ye"},"inviteButton":"Davet Gnder","status":{"active":"Aktif","pending":"Bekliyor"},"table":{"name":"Ad","email":"E-posta","role":"Rol","lastLogin":"Son Giri","status":"Durum","joinedAt":"Katlma Tarihi","actions":"lemler"},"invite":{"title":"ye Davet Et","button":"Davet Gnder","form":{"email":"E-posta Adresi","emailPlaceholder":"ornek@email.com","role":"Rol","rolePlaceholder":"Rol sein","message":"Davet Mesaj (stee bal)","messagePlaceholder":"Organizasyonumuza katlmanz iin sizi davet ediyoruz..."},"success":"Davet baaryla gnderildi","error":"Davet gnderilirken hata olutu","duplicate":"Bu e-posta adresi zaten davet edilmi","limitReached":"Plan limiti ald. Daha fazla ye davet etmek iin plannz ykseltin."},"remove":{"title":"yeyi kar","message":"{{name}} kiisini organizasyondan karmak istediinizden emin misiniz?","warning":"Bu ilem geri alnamaz.","confirm":"Evet, kar","cancel":"ptal","success":"ye baaryla karld","error":"ye karlrken hata olutu","cannotRemoveOwner":"Sahip rolndeki ye karlamaz"},"validation":{"emailRequired":"E-posta gerekli","emailInvalid":"Geerli bir e-posta adresi girin","emailExists":"Bu e-posta zaten davetli veya ye"},"tryAgain":"Tekrar Dene","organization":"Organizasyon","membersLabel":"yeler","plan":"Plan","youLabel":"Siz","makeAdmin":"Ynetici Yap","makeMember":"ye Yap","limitFull":"Limit Doldu","sending":"Gnderiliyor...","updateRole":{"success":"ye rol gncellendi","error":"Rol gncellenirken hata olutu"},"empty":{"title":"Henz ye yok","subtitle":"lk yenizi davet ederek balayn","action":"ye Davet Et"},"pendingInvites":{"title":"Bekleyen Davetler","count":"{{count}} bekleyen davet","resend":"Tekrar Gnder","cancel":"ptal Et","cancelConfirm":"Bu daveti iptal etmek istediinizden emin misiniz? ({{email}})","resendSuccess":"Davet tekrar gnderildi","cancelSuccess":"Davet iptal edildi","expires":"{{date}} tarihinde sona eriyor"}},"join":{"title":"Organizasyona Katl","subtitle":"{{orgName}} organizasyonuna katlmaya davet edildiniz","invitedBy":"{{name}} tarafndan davet edildiniz","role":"Rol: {{role}}","accept":"Daveti Kabul Et","decline":"Daveti Reddet","expired":{"title":"Davet Sresi Doldu","subtitle":"Bu davet balantsnn sresi dolmu","action":"Yeni davet isteyin"},"invalid":{"title":"Geersiz Davet","subtitle":"Bu davet balants geersiz","action":"Ana sayfaya git"},"success":{"title":"Baarl!","subtitle":"{{orgName}} organizasyonuna baaryla katldnz","action":"Panele Git"},"error":{"title":"Hata","subtitle":"Daveti kabul ederken bir hata olutu","tryAgain":"Tekrar Dene"},"alreadyMember":{"title":"Zaten yesiniz","subtitle":"Bu organizasyonun zaten bir yesisiniz","action":"Panele Git"},"details":{"organizationLabel":"Organizasyon","emailLabel":"Davet edilen e-posta","expiresLabel":"Son geerlilik","roleLabel":"Rol"},"passwordFlow":{"title":"ifre Belirleyin","description":"{{email}} iin hesabnz oluturmak zere bir ifre belirleyin. E-posta dorulamas gerekmez.","passwordLabel":"ifre","passwordPlaceholder":"En az 6 karakter","showPassword":"Gster","hidePassword":"Gizle","submit":"Hesap Olutur ve Katl","submitting":"Kaydediliyor...","toastSuccess":"Davet kabul edildi. Ho geldiniz!"},"loadingState":{"title":"Davet kontrol ediliyor...","subtitle":"Ltfen bekleyin, davet balantnz dorulanyor."},"guestFallback":{"loading":"Geersiz davet veya ykleniyor..."},"emailMismatch":{"title":"Uyar","body":"Bu davet {{inviteEmail}} adresine gnderildi ancak siz {{currentEmail}} ile giri yaptnz.","loginAction":"{{inviteEmail}} ile giri yap","registerAction":"{{inviteEmail}} ile kayt ol"},"accepting":"Katlyor..."}},"admin":{"users":{"updateConfirm":"Bu kullancy gncellemek istediinize emin misiniz?","passwordResetConfirm":"ifre sfrlama e-postas gnderilsin mi?","deactivateConfirm":"Kullancy devre d brakmak istediinize emin misiniz?","activateConfirm":"Kullancy aktifletirmek istediinize emin misiniz?"},"tenants":{"updatePlanConfirm":"{{name}} iin plan '{{plan}}' olarak gncellemek istediinize emin misiniz?","updateStatusConfirm":"{{name}} iin durumu '{{status}}' olarak gncellemek istediinize emin misiniz?","updateNextPaymentConfirm":"{{name}} iin sonraki deme tarihini '{{date}}' olarak gncellemek istediinize emin misiniz?","cancelSubscriptionConfirm":"{{name}} aboneliini iptal etmek istediinize emin misiniz?","dangerDeleteTenantConfirm":"Dikkat! '{{name}}' kiracsn kalc olarak silmek istiyor musunuz? Bu ilem geri alnamaz."},"backups":{"deleteConfirm":"Bu yedei silmek istediinizden emin misiniz?","deleteOlderThanConfirm":"{{days}} gnden eski tm yedekleri silmek istediinizden emin misiniz?"}},"plans":{"limitExceeded":{"title":"Plan limiti ald","invoicesMessage":"Mevcut plannzda maksimum fatura saysna ulatnz. Daha fazla fatura oluturmak iin plannz ykseltin.","expensesMessage":"Mevcut plannzda maksimum gider saysna ulatnz. Daha fazla gider eklemek iin plannz ykseltin."}},"planTab":{"header":{"title":"Plan ve Faturalama","subtitle":"Aboneliinizi, faturalama dnemi ve koltuklar ynetin"},"managePayments":"demeleri Ynet","monthly":"Aylk","yearly":"Yllk","yearlyNote":"","currentPlan":{"label":"Mevcut Plan","seatsInUse":"Kullanmda koltuk","renewalDate":"Yenileme Tarihi","cancellationDate":"ptal Tarihi","cancelAtPeriodEndNotice":"Abonelik dnem sonunda iptal edilecektir."},"changePlan":"Plan Deitir","plans":{"labels":{"professional":"Pro","enterprise":"letme","free":"Balang"},"bullets":{"proIncluded":"3 kullanc dahil","basicAutomations":"Temel otomasyonlar","businessIncluded":"10 kullanc dahil","advancedAutomations":"Gelimi otomasyonlar ve roller","freeLimited":"Snrl faturalar ve zellikler"}},"prices":{"monthly":{"free":"0/ay","pro":"9.90/ay","enterprise":"29.90/ay"}},"configuration":"Yaplandrma","billingCycle":"Faturalama dnemi","seatsAddon":"Ek koltuklar","seatsAddonHelper":"5/koltuk/ay olarak cretlendirilir. Orantlama uygulanr.","costPreview":"Maliyet nizleme","newSubtotal":"Yeni ara toplam","extraSeats":"Ek koltuklar","prorationToday":"Bugnk oranlama","updatePlan":"Plan Gncelle","amountsNote":"Tutarlar bilgilendirme amaldr. Nihai cretler deme admnda gsterilir.","quickSeatActions":"Hzl koltuk ilemleri","add1SeatNow":"1 koltuk ekle ve imdi tahsil et","add5SeatsNow":"5 koltuk ekle ve imdi tahsil et","remove1Seat":"1 koltuk azalt","quickTip":"pucu: Koltuklar faturalama portalndan da ekleyebilirsiniz.","subscriptionStatus":"Abonelik durumu","subscriptionCancelNote":"ptal dnem sonunda geerlidir; o zamana kadar devam ettirebilirsiniz.","cancelAtPeriodEndBtn":"Dnem sonunda iptal et","resumeSubscriptionBtn":"Abonelii devam ettir","history":{"title":"Gemi","loading":"Gemi ykleniyor","empty":"Kayt bulunamad","type":"Tr","plan":"Plan","users":"Kullanc","date":"Tarih","footerNote":"Olaylar belirli aralklarla faturalama salaycsndan senkronize edilir."},"invoices":{"title":"Faturalar","loading":"Faturalar ykleniyor","empty":"Fatura bulunamad","invoiceInfo":"Fatura Bilgileri","invoiceStatus":"Fatura Durumu","invoiceNotes":"Fatura Notlar","invoiceTotals":"Fatura Tutarlar","notesPlaceholder":"Fatura ile ilgili notlar...","amountExclTax":"Tutar (KDV Hari)","filters":{"status":"Durum","all":"Tm","search":"Ara","searchPlaceholder":"Numara veya para birimi","from":"Balang","to":"Biti","exportCsv":"CSV Da Aktar"},"table":{"number":"Numara","date":"Tarih","amount":"Tutar","status":"Durum","actions":"lemler"},"footerNote":"Faturalar faturalama salaycsndan alnr; tutarlar fatura para biriminde gsterilir."}},"pdf":{"invoice":{"title":"FATURA","appSubtitle":"comptario Muhasebe Sistemi","customerInfo":"Mteri Bilgileri","invoiceNumber":"Fatura No","issueDate":"Dzenleme Tarihi","dueDate":"Vade Tarihi","status":"Durum","items":{"description":"Aklama","quantity":"Miktar","unitPrice":"Birim Fiyat","total":"Toplam"},"totals":{"subtotal":"Ara Toplam","tax":"KDV","grandTotal":"Genel Toplam"},"footer":"Bu fatura comptario ile oluturulmutur.","statusLabels":{"paid":"dendi","sent":"Gnderildi","overdue":"Gecikmi","draft":"Taslak"}},"expense":{"title":"GDER BELGES","supplierInfo":"Tedariki Bilgileri","expenseNumber":"Gider No","expenseDate":"Gider Tarihi","paymentDate":"deme Tarihi","status":"Durum","category":"Kategori","details":"Gider Detaylar","totalAmount":"Toplam Gider Tutar","footer":"Bu gider belgesi comptario ile oluturulmutur.","statusLabels":{"draft":"Taslak","approved":"Onayland","paid":"dendi"}},"sale":{"title":"SATI BELGES","customerInfo":"Mteri Bilgileri","saleNumber":"Sat No","saleDate":"Sat Tarihi","status":"Durum","paymentMethod":"deme Yntemi","details":"rn/Hizmet Detaylar","quantity":"Miktar","unitPrice":"Birim Fiyat","totalAmount":"Toplam Sat Tutar","footer":"Bu sat belgesi comptario ile oluturulmutur.","statusLabels":{"completed":"Tamamland","pending":"Bekliyor","cancelled":"ptal"},"paymentMethods":{"cash":"Nakit","card":"Kredi/Banka Kart","transfer":"Havale/EFT","check":"ek"}}}}`),kN={app:Ik,presets:Mk,landing:Rk,footer:zk,auth:Lk,pagination:Ok,fiscalPeriods:Fk,common:Bk,currencies:Uk,header:Vk,dashboard:qk,quickActions:$k,transactions:Hk,alerts:Kk,months:Gk,sidebar:Wk,quotes:Yk,billing:Qk,stats:Zk,status:Xk,invoice:Jk,"expense.details":"Gider Detaylar","expense.information":"Gider Bilgileri","expense.number":"Gider No","expense.date":"Gider Tarihi","expense.category":"Kategori","expense.supplier":"Tedariki","expense.amount":"Tutar","expense.receipt":"Fi","expense.viewReceipt":"Fii Grntle","customer.details":"Mteri Detaylar","customer.personalInfo":"Kiisel Bilgiler","customer.name":"Ad","customer.email":"E-posta","customer.phone":"Telefon","customer.registeredAt":"Kayt Tarihi","customer.companyInfo":"Firma Bilgileri","customer.company":"Firma","customer.taxNumber":"Vergi Numaras","customer.addressInfo":"Adres Bilgileri","customer.quickActions":"Hzl lemler","customer.createInvoice":"Fatura Olutur","customer.viewHistory":"Gemii Grntle",expense:eN,customer:tN,supplier:rN,products:sN,chartOfAccounts:nN,invoices:iN,expenses:aN,validation:oN,customers:lN,suppliers:cN,banks:dN,settings:uN,security:mN,"common.remindMeLater":"Daha Sonra Hatrlat","common.now":"imdi","common.generic":{customer:"Mteri",supplier:"Tedariki",expense:"Gider",quote:"Teklif"},toasts:hN,notifications:fN,sales:pN,payment:gN,reports:xN,ledger:yN,expenseCategories:bN,archive:vN,legal:wN},NN={members:{title:"yeler",subtitle:"Organizasyonunuzdaki yeleri ynetin",memberCount:"{{count}} ye",roles:{OWNER:"Sahip",ADMIN:"Ynetici",MEMBER:"ye"},inviteButton:"Davet Gnder",organization:"Organizasyon",membersLabel:"yeler",plan:"Plan",youLabel:"Siz",makeAdmin:"Ynetici Yap",makeMember:"ye Yap",remove:{title:"yeyi kar",message:"{{name}} kiisini organizasyondan karmak istediinizden emin misiniz?",warning:"Bu ilem geri alnamaz.",confirm:"Evet, kar",cancel:"ptal",success:"ye baaryla karld",error:"ye karlrken hata olutu",cannotRemoveOwner:"Sahip rolndeki ye karlamaz"},updateRole:{success:"ye rol gncellendi",error:"Rol gncellenirken hata olutu"},empty:{title:"Henz ye yok",subtitle:"lk yenizi davet ederek balayn",action:"ye Davet Et"}},join:{title:"Organizasyona Katl",subtitle:"{{orgName}} organizasyonuna katlmaya davet edildiniz",invitedBy:"{{name}} tarafndan davet edildiniz",role:"Rol: {{role}}",accept:"Daveti Kabul Et",decline:"Daveti Reddet",expired:{title:"Davet Sresi Doldu",subtitle:"Bu davet balantsnn sresi dolmu",action:"Yeni davet isteyin"},invalid:{title:"Geersiz Davet",subtitle:"Bu davet balants geersiz",action:"Ana sayfaya git"},success:{title:"Baarl!",subtitle:"{{orgName}} organizasyonuna baaryla katldnz",action:"Panele Git"},error:{title:"Hata",subtitle:"Daveti kabul ederken bir hata olutu",tryAgain:"Tekrar Dene"},alreadyMember:{title:"Zaten yesiniz",subtitle:"Bu organizasyonun zaten bir yesisiniz",action:"Panele Git"}}},jN={org:NN},SN={name:"comptario",subtitle:"Accounting System"},CN={thisMonth:"This Month",lastMonth:"Last Month",thisYear:"This Year",addedThisMonth:"Added This Month",withEmail:"Has Email",withPhone:"Has Phone",withCompany:"Has Company"},AN=JSON.parse(`{"nav.features":"Features","nav.pricing":"Pricing","nav.faq":"FAQ","nav.contact":"Contact","cta.try":"Try for Free","cta.signin":"Sign in","cta.watchDemo":"Watch Demo","hero.title":"Manage your invoices, expenses and quotes from one place.","hero.sub":"Manage invoices, expenses and quotes in a single, simple workspace. Keep your preaccounting organized with multi-currency support (EUR, USD, TRY), categorybased tax tracking, and PDF invoice/quote generation. With shareable quote links, your customers can review quotes online and accept or decline with a single click.","features.title":"Everything you need to stay on top of pre-accounting","features.inv.title":"Invoicing","features.inv.desc":"Numbering, customers, and PDF export.","features.exp.title":"Expenses","features.exp.desc":"File uploads and category-based VAT (e.g., 20% FR, 18% TR).","features.vat.title":"VAT & Tax Summaries","features.vat.desc":"Clear period reports with input/output VAT highlights.","features.fx.title":"Multi-Currency","features.fx.desc":"System currency options: USD, EUR, TRY","receiptUrl":"Receipt/Invoice URL","receiptUrlHelper":"You can add a link to the receipt/invoice image or PDF","exportCsv":"Export CSV","security.items":"EU hosting (placeholder), encryption in transit and at rest, automated backups.","testimonials.title":"What our users say","pricing.title":"Simple pricing","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/mo","pricing.price.pro":"9.90/mo","pricing.price.biz":"29.90/mo","pricing.annualLine.free":"","pricing.annualLine.pro":"Annual prepay: 99/year","pricing.annualLine.biz":"Annual prepay: 299/year","pricing.cta":"Start now","pricing.ctaStarter":"Start for Free","pricing.ctaPro":"Upgrade to Pro","pricing.ctaBusiness":"Choose Business","pricing":{"planNames":{"starter":"Starter","pro":"Pro","business":"Business"}},"pricing.ctaContact":"Contact us","faq.title":"Frequently asked questions","faq.q1":"Can I start for free?","faq.a1":"Yes, the Starter plan lets you issue limited invoices at no cost.","faq.q2":"Does it support VAT?","faq.a2":"Yes, with category-based VAT and simple summaries.","faq.q3":"Are quotes supported?","faq.a3":"Yes. You can prepare quotes and send them via link or PDF.","faq.q4":"Do you support multiple currencies?","faq.a4":"Yes  use EUR, USD or TRY with manual rate input.","faq.q5":"How do I cancel?","faq.a5":"You can cancel anytime from the billing settings.","faq.q6":"Where is my data hosted?","faq.a6":"In the EU (placeholder), with encryption and regular backups.","finalCta.title":"Make pre-accounting simple.","finalCta.cta":"Try for Free","seo.title":"Comptario  Pre-Accounting Software","seo.description":"Comptario helps you manage invoices, expenses and VAT in a simple, secure workspace with multi-currency support and PDF invoice generation.","hero.badge":"Comptario  Pre-Accounting Software","hero.features.pdf":"PDF Invoices and Quotes","hero.features.currency":"MultiCurrency (EUR / USD / TRY)","hero.features.vat":"VAT / Tax Management","hero.mockup.revenue":"Monthly Revenue","hero.mockup.expenses":"Monthly Expenses","hero.mockup.vat":"VAT to Pay","hero.mockup.rate":"Rate","features.subtitle":"Manage your pre-accounting with confidence using our comprehensive set of tools designed for modern businesses.","value.subtitle":"Whether you're just starting out or running an established business, Comptario adapts to your needs.","value.freelancers.title":"For Freelancers","value.freelancers.desc":"Simple invoicing and expense tracking to keep your business organized","value.freelancers.basic":"Basic invoicing","value.freelancers.expense":"Expense management","value.freelancers.tax":"Tax summaries","value.small.title":"For Small Businesses","value.small.desc":"Comprehensive pre-accounting tools that grow with your business","value.small.currency":"Multi-currency support","value.small.customer":"Customer management","value.small.reporting":"Advanced reporting","value.growing.title":"For Growing Companies","value.growing.desc":"Scalable solutions that adapt to your expanding operations","value.growing.team":"Team collaboration","value.growing.api":"Send quotes via link","value.growing.support":"Flexible filtering options","value.cta.title":"Ready to streamline your pre-accounting?","value.cta.subtitle":"Join thousands of businesses who trust Comptario to manage their finances efficiently.","value.cta.trial":"Start Free Trial","value.cta.demo":"Schedule Demo","value.stats.users":"Active Users","value.stats.invoices":"Invoices Generated","value.stats.uptime":"Uptime","security.badge":"Enterprise-Grade Security","finalCta.subtitle":"Join thousands of businesses who have streamlined their pre-accounting with Comptario. Start your free trial today  no credit card required.","finalCta.trial":"Free 30-day trial","finalCta.noSetup":"No setup fees","finalCta.cancel":"Cancel anytime","finalCta.stats.countries":"Countries Served","security.features.hosting.title":"EU Data Hosting","security.features.hosting.desc":"Your data is hosted in secure EU data centers with GDPR compliance","security.features.encryption.title":"End-to-End Encryption","security.features.encryption.desc":"All data is encrypted in transit and at rest using industry-standard protocols","security.features.backups.title":"Automated Backups","security.features.backups.desc":"Daily automated backups ensure your data is always safe and recoverable","security.features.gdpr.title":"GDPR Compliant","security.features.gdpr.desc":"Full compliance with European data protection regulations","security.features.monitoring.title":"24/7 Monitoring","security.features.monitoring.desc":"Continuous security monitoring and threat detection","security.features.uptime.title":"99.9% Uptime","security.features.uptime.desc":"Reliable infrastructure with guaranteed uptime SLA","security.trusted.title":"Trusted by businesses across Europe","security.trusted.gdpr":"Compliant","security.trusted.iso":"Certified","security.trusted.soc":"Type II","security.trusted.ssl":"Encrypted","security.trusted.desc":"Your financial data is protected by the same security standards used by banks and financial institutions. We never share your data with third parties and you maintain full control over your information.","testimonials.subtitle":"Don't just take our word for it. Here's what our users have to say about their experience with Comptario.","testimonials.sarah.content":"Comptario has simplified my invoicing process completely. I can now generate professional invoices in minutes and track my expenses effortlessly.","testimonials.sarah.role":"Freelance Designer","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"The multi-currency feature is a lifesaver for our international clients. VAT calculations are automatic and accurate, saving us hours of manual work.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"As a small business, we needed something simple yet powerful. Comptario gives us everything we need without the complexity of enterprise software.","testimonials.elena.role":"Small Business Owner","testimonials.elena.company":"Local Bakery","testimonials.stats.rating":"Average Rating","testimonials.stats.customers":"Happy Customers","testimonials.stats.countries":"Countries","pricing.subtitle":"Choose the plan that fits your business needs. Start free and upgrade as you grow.","faq.support.title":"Still have questions?","faq.support.desc":"Our support team is here to help you get the most out of Comptario.","faq.support.contact":"Contact Support","faq.support.demo":"Schedule a Demo","pricing.popular":"Most Popular","pricing.plans.starter.desc":"Ideal for freelancers and small projects","pricing.plans.pro.desc":"Ideal for growing businesses","pricing.plans.business.desc":"For established companies with teams","pricing.features.users1":"1 user included","pricing.features.users3":"3 users included","pricing.features.users10":"10 users included","pricing.features.usersUnlimited":"Unlimited users","pricing.features.invoices5":"Up to 5 invoices per month","pricing.features.basicExpense":"Basic expense tracking","pricing.features.expenses5":"Up to 5 expenses per month","pricing.features.bank1":"1 bank account","pricing.features.bankUnlimited":"Unlimited bank accounts","pricing.features.customerSupplier1":"1 customer and 1 supplier","pricing.features.customerSupplierUnlimited":"Unlimited customers and suppliers","pricing.features.unlimitedInvoicesExpenses":"Unlimited invoices and expenses","pricing.features.vat":"Category-based VAT tracking","pricing.features.pdf":"PDF invoices and quotes","pricing.features.emailSupport":"Email support","pricing.features.quotesBasic":"Quote creation and shareable link","pricing.features.quotesAdvanced":"Quotes: viewed/accepted/declined, PDF","pricing.features.quoteTemplate1":"1 quote template","pricing.features.quoteTemplatesUnlimited":"Unlimited quote templates","pricing.features.saveListViews":"Save list views","pricing.features.unlimited":"Unlimited invoices","pricing.features.advancedExpense":"Advanced expense management","pricing.features.multiCurrency":"Multi-currency support","pricing.features.customerMgmt":"Customer management","pricing.features.products":"Product and stock management","pricing.features.reports":"Advanced reports and detailed analytics","pricing.features.prioritySupport":"Priority support","pricing.features.api":"API access","pricing.features.everythingPro":"Everything in Pro","pricing.features.teamCollaboration":"Team collaboration","pricing.features.advancedReporting":"Advanced reporting","pricing.features.whiteLabel":"White-label options","pricing.features.dedicatedSupport":"Dedicated support","pricing.features.customIntegrations":"Custom integrations","pricing.features.noCredit":"No credit card required","pricing.pro.extraUser":"+ each additional user 5/mo","pricing.notes.vatAndCurrency":"Prices exclude VAT.","pricing.notes.cancelAnytime":"Cancel anytime.","pricing.trust":"Trusted by freelancers, agencies, and SMBs.","pricing.questions":"Have questions about our pricing?","pricing.checkFaq":"Check our FAQ","pricing.or":"or","pricing.contactSupport":"contact support","pricing.guarantee":"30-day money-back guarantee on all paid plans","faq.subtitle":"Everything you need to know about Comptario. Can't find the answer you're looking for? Feel free to contact us.","faq.contactUs":"contact us","footer.product":"PRODUCT","footer.company":"COMPANY","footer.support":"SUPPORT","footer.legal":"LEGAL","footer.features":"Features","footer.pricing":"Pricing","footer.security":"Security","footer.api":"API","footer.about":"About","footer.blog":"Blog","footer.careers":"Careers","footer.press":"Press","footer.helpCenter":"Help Center","footer.contactUs":"Contact Us","footer.status":"Status","footer.community":"Community","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.gdpr":"GDPR","footer.cookies":"Cookie Policy","footer.imprint":"Imprint","footer.description":"Simple, secure pre-accounting software for modern businesses. Manage invoices, expenses, and VAT with confidence.","footer.stayUpdated":"Stay updated","footer.updatesDesc":"Get the latest updates on new features and best practices.","footer.email":"support@comptario.com","footer.languages":"Available in 4 languages","footer.gdprCompliant":"GDPR Compliant","footer.emailPlaceholder":"Enter your email","footer.subscribe":"Subscribe","footer.copyright":" {{year}} Comptario. All rights reserved.","footer.madeWith":"Made with  in Europe"}`),EN={terms:"Terms of Service",privacy:"Privacy Policy",cookies:"Cookie Policy"},TN={welcomeTitle:"Welcome",welcomeSubtitle:"Sign in to your account to continue",emailAddress:"Email Address",emailPlaceholder:"name@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password",forgotPasswordHelp:"Enter your email to receive a reset link.",resetEmailSent:"If this email is registered, a password reset link has been sent.",sendResetLink:"Send reset link",resendIn:"You can resend in {{seconds}}s",resetPassword:"Reset Password",resetPasswordHelp:"Set your new password.",newPassword:"New Password",confirmPassword:"Confirm Password",passwordTooShort:"Password must be at least 8 characters",passwordTooWeak:"Please choose a stronger password",passwordMismatch:"Passwords do not match",passwordResetSuccess:"Your password has been updated",updatePassword:"Update Password",signIn:"Sign In",demoAccount:"Demo Account:",email:"Email",or:"or",adminLogin:"Admin Login",noAccount:"Don't have an account?",createFreeAccount:"Create a free account",registerTitle:"Create Account",registerSubtitle:"Create your free account and get started",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",companyName:"Company Name",companyPlaceholder:"Your company (optional)",phone:"Phone",phonePlaceholder:"(optional)",passwordHint:"At least 6 characters",passwordConfirm:"Confirm Password",passwordConfirmPlaceholder:"Re-enter your password",termsText:{prefix:"I accept: ",suffix:""},and:" and ",dataProcessing:"Data Processing Agreement",captchaHint:"Multiple failed login attempts detected - please complete the human verification.",captchaRequired:"Please complete the human verification.",captchaPrompt:"Please complete the human verification before continuing.",captchaVerificationFailed:"We couldn't confirm the human verification. Please try again.",verifyRequiredTitle:"Email verification required",verifyRequiredBody:"We sent a verification link to {{email}}. Please confirm your address to unlock the workspace.",verifyRequiredHint:"Access to accounting actions stays locked until the email is verified.",verifyRequiredAction:"Open verification status",verifyRequiredLogout:"Sign out",verifyYourEmail:"Verify your email",verifySentTo:"Verification link sent to:",verifySent:"We've sent a verification link to your email address.",resend:"Resend",resendCooldown:"For security, a 60 second wait applies",securityVerificationRequired:"Security verification required. Please complete the verification.",emailNotVerified:"Email not verified yet. Please verify your email to continue.",verificationEmailSent:"Verification email sent. Please check your inbox.",resendVerification:"Resend verification email",registerCta:"Create Account",alreadyHaveAccount:"Already have an account?",goToLogin:"Sign in"},_N={back:"Back",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",view:"View",update:"Update",add:"Add",search:"Search",close:"Close",backToHome:"Back to Home",yes:"Yes",no:"No",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",ok:"OK",periodLockedError:"This record cannot be deleted because it belongs to a locked fiscal period",description:"Description",dueDate:"Due Date",startDate:"Start Date",endDate:"End Date",monthlyIncomeExpense:"Monthly Income/Expense",last6MonthsPerformance:"Last 6 months performance (newest  oldest)",allCategories:"All categories",dateRanges:{thisMonth:"This month",last30Days:"Last 30 days",thisYear:"This year"},filters:{status:"Status",filterByStatus:"Filter by status"},actions:{clear:"Clear",view:"View",copyLink:"Copy link",downloadPDF:"Download PDF"},exportCSV:"Export CSV","dateRanges.thisMonth":"This month","dateRanges.last30Days":"Last 30 days","dateRanges.thisYear":"This year","common.total":"Total","common.exportCSV":"Export CSV",modal:{newTitle:"Add New Supplier",editTitle:"Edit Supplier",subtitle:"Enter supplier details",nameLabel:"Supplier Name",companyLabel:"Company Name",emailLabel:"Email",phoneLabel:"Phone",categoryLabel:"Category",taxNumberLabel:"Tax Number",addressLabel:"Address",namePlaceholder:"ABC Supply Ltd.",companyPlaceholder:"ABC Supply Inc.",emailPlaceholder:"info@abcsupply.com",phonePlaceholder:"+1 555 123 4567",taxNumberPlaceholder:"Tax ID",addressPlaceholder:"Full address information..."},"filters.status":"Status","filters.filterByStatus":"Filter by status","actions.clear":"Clear","actions.view":"View","actions.copyLink":"Copy link","actions.downloadPDF":"Download PDF",allStock:"All stocks",newest:"Newest",income:"Income",expense:"Expense",hideChart:"Hide Chart",showChart:"Show Chart",chartHidden:"Chart hidden",incomeLabel:"Income",expenseLabel:"Expense",allStatuses:"All Statuses",allAccounts:"All Accounts",cash:"Cash",card:"Card",transfer:"Transfer",check:"Check",email:"Email",quantity:"Quantity",statusLabel:"Status",status:{paid:"Paid",unpaid:"Unpaid",pending:"Pending",overdue:"Overdue",draft:"Draft",sent:"Sent",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",active:"Active",inactive:"Inactive",viewed:"Viewed",accepted:"Accepted",declined:"Declined",expired:"Expired",invoiced:"Invoiced",created:"Created",refunded:"Refunded"},notes:"Notes"},PN={TRY:"Turkish Lira",USD:"US Dollar",EUR:"Euro",GBP:"British Pound"},DN={newInvoice:"New Invoice",newSale:"New Sale",search:"Search...",language:"Language",notifications:"Notifications",noNotifications:"No new notifications.",settings:"Settings",logout:"Logout"},IN={title:"Dashboard",overview:"Overview",revenue:"Revenue",expense:"Expense",profit:"Profit",unpaidInvoices:"Unpaid Invoices",recentActivity:"Recent Activity",totalRevenue:"Total Revenue",totalExpense:"Total Expense",pendingInvoices:"Pending Invoices",activeCustomers:"Active Customers",vatToPay:"VAT Payable",vatToPaySubtitle:"Paid invoices for the current month",quickActions:"Quick Actions",recentTransactions:"Recent Transactions",quickAccess:"Quick Access",lastTransactions:"Your last {count} transactions",allGood:"All Good!",noAlerts:"No pending tasks or alerts.",viewAll:"View All"},MN={newInvoice:"New Invoice",newInvoiceDesc:"Create customer invoice",newExpense:"New Expense",newExpenseDesc:"Add expense record",newSale:"New Sale",newSaleDesc:"Record sales transaction",newQuote:"New Quote",newQuoteDesc:"Create a quote for a customer",newCustomer:"New Customer",newCustomerDesc:"Add customer information",newProduct:"New Product",newProductDesc:"Add product information",customers:"Customers",suppliers:"Suppliers",banks:"Bank Accounts",products:"Products"},RN={invoice:"Invoice",expense:"Expense",sale:"Sale",paid:"Paid",unpaid:"Unpaid",pending:"Pending",actions:"Actions",transaction:"Transaction",customerDescription:"Customer/Description",amount:"Amount",status:"Status",date:"Date",noTransactions:"No transactions yet"},zN={overdueInvoices:"Overdue Invoices",overdueDesc:"Overdue invoice",dueSoon:"Due Soon",dueSoonDesc:"Due within 7 days",pendingExpenses:"Pending Expenses",pendingExpensesDesc:"Expense awaiting approval",allGood:"All Good!",noAlerts:"No pending tasks or alerts.",attentionRequired:"Attention Required"},LN={short:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},ON={dashboard:"Dashboard",invoices:"Invoices",expenses:"Expenses",customers:"Customers",products:"Products",suppliers:"Suppliers",banks:"Banks",sales:"Sales",quotes:"Quotes",reports:"Reports",accounting:"Accounting",chartOfAccounts:"Chart of Accounts",archive:"Archive",archiveConfirm:"Are you sure you want to archive this category?",organization:"Organization",settings:"Settings",close:"Close"},FN={title:"Quotes",newQuote:"New Quote",comingSoon:"Quotes module base page is ready. Advanced list, statuses, and PDF templates are next.",placeholderDescription:"Creating, sending, public view, and accept/decline flows will live here. Navigation and menu integration are done for now.",search:"Search quotes...",filterAll:"All Statuses",viewModal:{details:"Quote Details"},validUntil:"Valid Until",expiresIn:"(expires in {{days}} days)",expiredOn:"(expired on {{date}})",version:"v{{n}}",confirmAccept:"Are you sure you want to accept this quote?",acceptedThanks:"Thanks, the quote has been accepted.",confirmDecline:"Are you sure you want to decline this quote?",declinedInfo:"The quote has been declined.",duplicateConfirm:"Proceed with duplication?",reviseConfirm:"Do you want to revise this quote? The current version will be archived and a new version will be created.",createConfirm:"Are you sure you want to save this quote?",saveConfirm:"Are you sure you want to save the changes?",actions:{send:"Send",accept:"Accept",decline:"Decline",downloadPdf:"Download PDF",copyLink:"Copy public link",copyPublicLink:"Copy Link",copyPublicLinkSuccess:"Link copied.",resendEmail:"Resend email",revise:"Revise",duplicate:"Duplicate"},editModal:{title:"Edit Quote",subtitle:"Update quote information",quoteNumber:"Quote No"},table:{quote:"Quote",customer:"Customer",amount:"Amount",status:"Status",date:"Date",actions:"Actions"},noQuotes:"No quotes yet",noQuotesDesc:"Start by creating your first quote.",noQuotesFound:"No quotes found",noQuotesFoundDesc:"No quotes match your search criteria.",createFirstQuote:"Create First Quote",view:"View",edit:"Edit",delete:"Delete",statusLabels:{viewed:"Viewed",accepted:"Accepted",declined:"Declined",expired:"Expired",draft:"Draft",sent:"Sent"},createModal:{title:"Create Quote",customer:"Customer",customerPlaceholder:"Enter customer name",currency:"Currency",date:"Issue Date",amount:"Amount",create:"Create"},scopeOfWork:{title:"Scope of Work",placeholder:"Project scope, deliverables, assumptions and exclusions...",note:"This content will be appended to the quote PDF as a new page after the current section and will be visible on the public link."},templates:{title:"Quote Templates",manage:"Manage Templates",manageTitle:"Manage quote templates",list:"Templates",new:"New",newTemplate:"New template",placeholderName:"Template name",apply:"Apply",create:"Create Template",selectPlaceholder:"Select a template",freeHidden:"Templates are hidden on the Starter plan.",proLimit:"You can save up to 1 template on Pro.",requirePlan:"Plan required",manageUpgrade:"Switch to Pro or Business to manage templates.",setDefault:"Default",availableTokens:"Available tokens (click to insert):",defaultBodyHtml:"<h3>Quote Summary</h3><p>Date: [quote.date]  Valid until: [quote.valid_until]</p><p>Dear [client.name] ([client.company]), please find our proposal for the scope below.</p><h4>Scope</h4><ul><li>Item 1</li><li>Item 2</li><li>Item 3</li></ul><h4>Total</h4><p>Total: [quote.total] [quote.currency]</p><h4>Contact</h4><p>[org.name]  [org.email]  [org.phone]  [org.address]</p>"}},BN={subscriptionUpdated:"Subscription updated.",payment:{successTitle:"Payment Successful",cancelledTitle:"Payment Cancelled",cancelledMessage:"Payment cancelled or not completed."},addonAdded:"Additional users added.",portal:{cancelAtPeriodEnd:"Subscription will be cancelled at period end. Date: {{date}}",activeApplied:"Subscription active. Portal changes applied.",synced:"Portal changes synchronized."},redirecting:"Redirecting to payment",interval:{updated:"Billing interval updated."},checkout:{failed:"Failed to create checkout session."},cancelAtPeriodEnd:{confirm:"Subscription will be cancelled at period end. Confirm?"},cancel:{requestedShort:"Cancel at period end set."},resumeCancellation:{confirm:"Cancellation will be removed and subscription will renew. Confirm?",done:"Cancellation removed. Subscription active."}},UN={thisMonth:"this month",all:"all"},VN={paid:"Paid",unpaid:"Unpaid",pending:"Pending",overdue:"Overdue",draft:"Draft",sent:"Sent",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",active:"Active",inactive:"Inactive",viewed:"Viewed",accepted:"Accepted",declined:"Declined",expired:"Expired",invoiced:"Invoiced",created:"Created",refunded:"Refunded"},qN={details:"Invoice Details",downloadPdf:"Download PDF",information:"Invoice Information",type:"Invoice Type",productSale:"Product Sale",serviceSale:"Service Sale",issueDate:"Issue Date",dueDate:"Due Date",customerInfo:"Customer Information",itemsServices:"Items/Services",description:"Description",quantity:"Quantity",unitPrice:"Unit Price",total:"Total",subtotal:"Subtotal",vat:"VAT",grandTotal:"Grand Total",notes:"Notes"},$N={details:"Expense Details",information:"Expense Information",number:"Expense No",date:"Expense Date",category:"Category",supplier:"Supplier",amount:"Amount",receipt:"Receipt",viewReceipt:"View Receipt"},HN={history:"Transaction History",transactions:"transactions found",noHistory:"No Transaction History Yet",noHistoryDesc:"has no invoices or transaction records yet.",tip:"Tip:",tipDesc:"You can start transaction history by creating a new invoice for this customer.",createInvoice:"Create Invoice",sale:"Sale",completed:"Completed",waiting:"Waiting",historyPageTitle:"Customer History",historySubtitle:"All history for {{name}}",historyColumns:{name:"Record / No",date:"Date",status:"Status",createdBy:"Created by",type:"Type",description:"Description"}},KN={expenseHistory:"Expense History",expensesFound:"expenses found",noExpenseHistory:"No Expense History Yet",noExpenseHistoryDesc:"has no expense records yet.",tip:"Tip:",tipDesc:"You can start transaction history by creating a new expense for this supplier.",createExpense:"Create Expense",viewExpense:"View expense"},GN={title:"Products",newProduct:"New Product",search:"Search products...",filterCategory:"All Categories",name:"Product Name",category:"Category",price:"Price",stock:"Stock",sort:"Sort",status:"Status",actions:"Actions",noProducts:"No products yet",addFirstProduct:"Add your first product",edit:"Edit",delete:"Delete",deleteConfirm:"Are you sure you want to delete this product?",manageCategories:"Manage Categories",totalProducts:"Total Products",stockValue:"Stock Value",totalStock:"Total Stock",lowStock:"Low Stock",activeProductsDesc:"Number of actively sold products",totalStockCostDesc:"Estimated total stock cost",totalUnitsDesc:"Total units in warehouse",criticalLevelDesc:"Products below critical level",productCategories:"Product Categories",archivedCategories:"Archived Categories",showArchived:"Show archived",hideArchived:"Hide archived",activate:"Activate",noArchivedCategories:"No archived categories",addCategory:"Add category",categoriesCount:"categories",allProducts:"All products",noCategories:"No categories yet.",mainCategoriesTitle:"Main Categories",subCategories:"Sub Categories",editCategory:"Edit",deleteCategory:"Delete",editCategoryTooltip:"Edit category",mainCategoryEditTooltip:"Only tax rate can be changed for main categories",generalCategoryCannotDelete:"General category cannot be deleted",mainCategoryCannotDelete:"Main category cannot be deleted",deleteCategoryConfirm:"Are you sure you want to delete this category?",deleteCategoryWithProducts:"There are {{count}} active products in this category. Move them to another category first.",cannotArchiveCategoryWithProducts:"This category has {{count}} products. Move or delete them before archiving.",categoryCannotDeleteProtected:`"{category}" cannot be deleted because it's a main category.`,generalCategoryCannotDeleteAlert:"General category cannot be deleted.",updatePrice:"Update price",assignCategory:"Assign category",archive:"Archive",noProductsYet:"No products yet",costPrice:"Cost",unit:"Units",productsCount:"products",allStock:"All stock",lowStockFilter:"Low stock",outOfStock:"Out of stock",overstock:"Overstock",newest:"Newest",priceHighLow:"Price (High-Low)",priceLowHigh:"Price (Low-High)",stockHighLow:"Stock (High-Low)",stockLowHigh:"Stock (Low-High)",inStock:"In Stock",critical:"Critical",depleted:"Depleted",cost:"Cost",minStock:"Min. Stock",view:"View",viewProduct:"View product",mainCategories:{products:"Products",services:"Services"},createCategoryFirst:"You need to create a new category first.",productServiceName:"Product/Service Name",selectFromList:"Select product from list",productsFound:"products found",editProduct:"Edit Product",enterProductInfo:"Fill in product information and update stock status",generalInfo:"GENERAL INFORMATION",priceAndStock:"PRICE AND STOCK",notes:"NOTES",namePlaceholder:"Product/service name",unitPlaceholder:"Unit (e.g: pcs, kg, hour)",descriptionPlaceholder:"Product features, warranty information etc.",useCustomTax:"Use custom VAT rate",customTaxNote:"You can set a different VAT rate for this product. If left blank, category VAT will be used.",categoryTax:"Category VAT",salePrice:"Sale Price",stockQuantity:"Stock Quantity",criticalStock:"Critical Stock",customTaxRate:"Custom Tax Rate",taxRatePlaceholder:"18.0",customTaxRateHelper:"Custom VAT rate for this product. Overrides category VAT.",noCategoriesFound:"No categories found",useCustomTaxRate:"Use custom VAT rate",description:"Description",categoryModal:{titleNew:"Add Category",titleEdit:"Edit Category",subtitleNew:"Save new product category.",subtitleEdit:"Update category details.",parentLabel:"Parent Category",parentHelper:"Which main category will this belong to?",nameLabel:"Category name",namePlaceholder:"e.g., Electronics",taxLabel:"VAT Rate (%)",taxPlaceholder:"e.g., 18",taxHelperChildOverrides:"If subcategory has a VAT rate, it overrides parent VAT.",taxHelperDefault:"Default VAT rate for products in this category.",nameRequired:"Category name is required",parentRequired:"Parent category selection is required",taxInvalid:"VAT rate must be between 0-100",nameExists:"This category already exists"}},WN={title:"Chart of Accounts",subtitle:"Manage your accounting chart of accounts",newAccount:"New Account",search:"Search by account code or name...",code:"Code",accountName:"Account Name",type:"Type",balance:"Balance",status:"Status",actions:"Actions",accountsRegistered:"accounts registered",clickToEdit:"Click on account name, code or balance to edit",addAccountTip:"Use the button above to add a new account",active:"Active",passive:"Inactive",allSummed:"all summed",accountTypes:{all:"All",asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"},accountTypesPlural:{asset:"Assets",liability:"Liabilities",equity:"Equity",revenue:"Revenue",expense:"Expenses"},statusLabels:{active:"Active",inactive:"Inactive"},tooltips:{editHint:"Click on account row to edit"},accountNames:{100:"CURRENT ASSETS",101:"Cash",102:"Banks",120:"Accounts Receivable",150:"FIXED ASSETS",200:"SHORT-TERM LIABILITIES",201:"Accounts Payable",300:"EQUITY",600:"REVENUES",601:"Sales Revenue",602:"Service Revenue",700:"EXPENSES",701:"Rent Expenses",702:"Personnel Expenses",703:"Invoice Expenses"},accountTypeLabels:{asset:"Asset",liability:"Liability",equity:"Equity",revenue:"Revenue",expense:"Expense"}},YN={title:"Invoices",newInvoice:"New Invoice",editInvoice:"Edit Invoice",enterInvoiceInfo:"Enter customer details and product details",deleteConfirm:"Are you sure you want to delete this invoice?",deleteSuccess:"Invoice deleted",search:"Search invoice number or customer...",filterAll:"All Statuses",invoicesRegistered:"invoices registered",inArchive:"in archive",noInvoices:"No invoices yet",noInvoicesFound:"No invoices found",showVoided:"Show Voided",hideVoided:"Hide Voided",noInvoicesDesc:"Start by creating your first invoice.",noInvoicesFoundDesc:"No invoices match your search criteria.",createFirstInvoice:"Create First Invoice",invoiceNumber:"Invoice",customer:"Customer",date:"Date",amount:"Amount",status:"Status",actions:"Actions",view:"View",edit:"Edit",download:"Download",delete:"Delete",viewInvoice:"View invoice",createInvoice:"Create Invoice",selectInvoiceType:"Select invoice type",newSale:"New Sale",newSaleDescription:"Create a new sale record and issue invoice",newSaleNote:"Sale and invoice will be created automatically",existingSale:"Existing Sale",existingSaleDescription:"Issue invoice for a previously made sale",existingSaleNote:"Only invoice information can be edited",returnInvoice:"Return Invoice",returnInvoiceDescription:"Create a return/refund invoice for a previously issued invoice",returnInvoiceNote:"Return will be created by selecting from existing invoices",invoiceNumberAutoGenerated:"Invoice number is auto-generated",invoiceType:"Invoice Type",productInvoice:"Product Invoice (Normal)",selectInvoiceToReturn:"-- Select invoice to return --",invoiceToReturn:"Invoice to Return (required)",returnInvoiceAutoLoad:" Selected invoice products will be automatically loaded with negative quantities.",issueDate:"Issue Date",dueDate:"Due Date",customerName:"Customer Name",customerSearchPlaceholder:"Search customer or enter new customer name",productsAndServices:"Products and Services",addLine:"Add Line",description:"Description",quantity:"Quantity",unitPriceExclVAT:"Unit Price (Excl. VAT)",totalInclVAT:"Total (Incl. VAT)",notes:"Notes",notesPlaceholder:"Additional notes related to the sale",autoGenerated:"Auto generated",statusCompleted:"Completed",statusPending:"Pending",statusCancelled:"Cancelled",enterSaleInfo:"Enter sale information",productServiceDescription:"Product or service description",subtotalExclVAT:"Subtotal (Excl. VAT)",vat:"VAT",discount:"Discount",grandTotalInclVAT:"Grand Total (Incl. VAT)",grandTotalExclVAT:"Grand Total (Excl. VAT)",createInvoiceFromSale:"Create Invoice from Sale",completeInvoiceInfo:"Complete invoice information",invoiceInfo:"Invoice Information",invoiceStatus:"Invoice Status",invoiceNotes:"Invoice Notes",invoiceTotals:"Invoice Totals",amountExclVATLabel:"Amount (Excl. VAT)",amountExclTax:"Amount (Excl. VAT)"},QN={title:"Expenses",newExpense:"New Expense",deleteConfirm:"Are you sure you want to delete this expense?",deleteSuccess:"Expense deleted",deleteError:"Failed to delete expense",search:"Search expense description or supplier...",filterAll:"All Statuses",expensesRegistered:"expenses registered",noExpenses:"No expenses yet",noExpensesFound:"No expenses found",noExpensesDesc:"Start by recording your first expense.",noExpensesFoundDesc:"No expenses match your search criteria.",createFirstExpense:"Create First Expense",description:"Description",supplier:"Supplier",category:"Category",date:"Date",amount:"Amount",status:"Status",actions:"Actions",view:"View",edit:"Edit",download:"Download",delete:"Delete",exportCsv:"Export CSV",viewExpense:"View expense",enterExpenseDetails:"Enter expense details",editExpense:"Edit Expense",enterExpenseInfo:"Enter expense information",expenseNumber:"Expense Number",expenseDate:"Expense Date",paymentDate:"Payment Date",addExpense:"Add Expense",supplierPlaceholder:"Enter supplier name...",descriptionPlaceholder:"Expense description...",totalExpense:"Total Expense",receiptUrl:"Receipt/Invoice URL",receiptUrlHelper:"You can add a link to receipt or invoice image/PDF"},ZN={title:"Customers",newCustomer:"New Customer",search:"Search customers...",customersRegistered:"customers registered",noCustomers:"No customers yet",noCustomersFound:"No customers found",noCustomersDesc:"Start by adding your first customer.",noCustomersFoundDesc:"No customers match your search criteria.",createFirstCustomer:"Add First Customer",name:"Name",email:"Email",phone:"Phone",totalInvoices:"Total Invoices",totalAmount:"Total Amount",actions:"Actions",importCSV:"Import CSV/Excel",downloadTemplate:"Download Template",address:"Address",emailPlaceholder:"customer@example.com",addressPlaceholder:"Complete address information...",addCustomer:"Add Customer",selectFromList:"Select customer from list",customersFound:"customers found",enterCustomerInfo:"Enter customer information",editCustomer:"Edit Customer",taxNumber:"Tax Number",company:"Company Name",namePlaceholder:"John Smith",companyPlaceholder:"ABC Technology Ltd.",duplicate:{title:"Duplicate Email Found",message:"A customer is already registered with this email ({{email}}): {{name}}. Please select or edit the existing record from the list.",openExisting:"Open existing customer"},import:{noDataFound:"No data found in the file.",noCustomersFound:"No customers found to import in the file.",success:"{{count}} customers imported successfully!",error:"An error occurred during import."}},XN={title:"Suppliers",newSupplier:"New Supplier",search:"Search suppliers...",suppliersRegistered:"suppliers registered",noSuppliers:"No suppliers yet",noSuppliersFound:"No suppliers found",noSuppliersDesc:"Start by adding your first supplier.",noSuppliersFoundDesc:"No suppliers match your search criteria.",createFirstSupplier:"Add First Supplier",name:"Name",email:"Email",phone:"Phone",totalExpenses:"Total Expenses",totalAmount:"Total Amount",actions:"Actions",modal:{newTitle:"Add New Supplier",editTitle:"Edit Supplier",subtitle:"Enter supplier details",nameLabel:"Supplier Name",companyLabel:"Company Name",emailLabel:"Email",phoneLabel:"Phone",categoryLabel:"Category",taxNumberLabel:"Tax Number",addressLabel:"Address",namePlaceholder:"ABC Supply Ltd.",companyPlaceholder:"ABC Supply Inc.",emailPlaceholder:"info@abcsupply.com",phonePlaceholder:"+1 555 123 4567",taxNumberPlaceholder:"Tax ID",addressPlaceholder:"Full address information..."}},JN={title:"Bank Accounts",newAccount:"New Account",search:"Search bank name, account name or number...",filterAll:"All Accounts",accountsRegistered:"accounts registered",totalBalance:"Total balance",noBanks:"No bank accounts yet",noBanksFound:"No accounts found",noBanksDesc:"Start by adding your first bank account.",noBanksFoundDesc:"No accounts match your search criteria.",createFirstAccount:"Add First Account",bankName:"Bank",accountName:"Account Name",accountNumber:"Account No",balance:"Balance",status:"Status",actions:"Actions",editAccount:"Edit Account",enterAccountInfo:"Enter bank account information",selectBank:"Select bank",accountNamePlaceholder:"Company Name or Person Name",accountType:"Account Type",accountTypes:{checking:"Checking Account",savings:"Savings Account",business:"Business Account"},ibanAutoFormat:"IBAN will be formatted automatically",currentBalance:"Current Balance",currency:"Currency",accountActive:"Account active",addAccount:"Add Account",routingNumber:"Routing Number (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Branch Code",deleteConfirm:"Are you sure you want to delete this bank account?"},ej={title:"Settings",subtitle:"Manage your system and account settings",save:"Save",cancel:"Cancel",profile:"Profile",company:"Company Information",system:"System Settings",security:"Security",data:"Data Management",currency:"Currency",language:"Language",notifications:"Notifications",theme:"Theme",success:"Success",error:"Error",saved:"Settings saved",saveFailed:"Settings could not be saved",companyFields:{officialName:"Legal Company Name",brandName:"Invoice/Brand Name",brandNameHelper:"This will appear as the brand name on invoices and public screens.",officialNameTooltip:"Only the owner or an admin can update the legal company name",officialNameOwnerOnly:"This field can only be changed by the company owner."}},tj={twofa:{reminderTitle:"Enable Two-Factor Authentication",reminderDesc:"For stronger account protection, please enable 2FA.",modalTitle:"Secure Your Account",modalMessage:"Two-Factor Authentication (2FA) significantly increases your account security. Would you like to enable it now?",enableNow:"Enable Now",neverRemind:"Never remind again"}},rj={common:{dataLoadError:"An error occurred while loading data"},invoices:{updateSuccess:"Invoice updated",updateError:"Invoice could not be updated",createPartialError:"Invoice created, but sale record could not be created",createWithSaleSuccess:"Invoice and sale created",cancelSuccess:"Invoice voided",cancelError:"Invoice could not be voided",restoreSuccess:"Invoice restored",restoreError:"Invoice could not be restored",createSuccess:"Invoice created successfully"},customers:{updateSuccess:"Customer updated",createSuccess:"Customer added",deleteSuccess:"Customer deleted",deleteError:"Customer could not be deleted"},suppliers:{updateSuccess:"Supplier updated",createSuccess:"Supplier added",deleteSuccess:"Supplier deleted",deleteError:"Supplier could not be deleted"},sales:{customerNotSelected:"No customer selected! Please choose a valid customer.",insufficientStock:" Insufficient stock! {{name}} - Available: {{available}}, Requested: {{requested}}",createSuccess:"Sale saved",updateSuccess:"Sale updated",localSaved:"Sale saved locally (offline)",stockUpdateFailed:"Sale saved but stock could not be updated",deleteError:"Sale could not be deleted",deleteSuccess:"Sale deleted successfully",customerNotFound:"Customer not found! Please create a customer first."},expenses:{updateSuccess:"Expense updated",createSuccess:"Expense added",cancelSuccess:"Expense voided",cancelError:"Expense could not be voided",statusUpdateSuccess:"Expense status updated",restoreSuccess:"Expense restored",restoreError:"Expense could not be restored"},products:{updateSuccess:"Product updated",createSuccess:"Product added",deleteSuccess:"Product deleted",deleteError:"Product could not be deleted",bulkRemoved:"{{count}} products removed",bulkNotFound:"Selected products not found",bulkArchived:"{{count}} products archived",bulkAlreadyArchived:"Selected products are already archived",bulkPriceUpdateSaved:"Your selection for bulk price update is saved. You can edit on the product detail."},categories:{added:"Category {{name}} added (VAT: %{{taxRate}})",addError:"Category could not be added",updateSuccess:"Category updated",deleteSuccess:"Category deleted",assignmentInfo:"For category assignment, use the category layout on the left panel."},bank:{deleteError:"Bank account could not be deleted"},quotes:{createSuccess:"Quote created",createError:"Quote could not be created"}},sj={invoices:{overdue:{title:"Overdue invoice payment",desc:"{{invoiceNumber}} - {{customerName}} ({{daysOverdue}} days overdue)"},upcoming:{title:"Upcoming invoice payment",desc:"{{invoiceNumber}} - {{customerName}} ({{daysLeft}} days left)"},created:{title:"New invoice created",desc:"Invoice {{invoiceNumber}} for {{customerName}} is ready."}},expenses:{overdue:{title:"Overdue expense payment",desc:"{{description}} - {{supplierName}} ({{daysOverdue}} days overdue)"},upcoming:{title:"Upcoming expense payment",desc:"{{description}} - {{supplierName}} ({{daysLeft}} days left)"},created:{title:"New expense recorded",desc:"{{supplierName}} - {{description}}: {{amount}}"}},products:{lowStock:{title:"Low stock warning",desc:"{{name}} - Stock below minimum level ({{stock}}/{{min}})"},outOfStock:{title:"Stock depleted",desc:"{{name}} - Stock is depleted!"}},quotes:{expired:{title:"Quote expired",desc:"{{quoteNumber}} - expired"},dueSoon:{title:"Quote expiring soon",desc:"{{quoteNumber}} - {{diffDays}} days left"}},customers:{created:{title:"New customer added",desc:"{{name}} has been registered."}},suppliers:{created:{title:"New supplier added",desc:"{{name}} has been registered."}},sales:{created:{title:"New sale recorded",desc:"{{customerName}} - {{summary}}: {{totalAmount}}"}},plan:{limit:{title:"Plan limit warning",invoices:{desc:"You are nearing this month's invoice limit ({{used}}/{{limit}})."},expenses:{desc:"You are nearing this month's expense limit ({{used}}/{{limit}})."}}}},nj={title:"Sales",newSale:"New Sale",totalSales:"Total Sales",totalSalesCount:"Total Sales Count",completed:"Completed",salesList:"Sales List",salesRegistered:"sales registered",search:"Search by sale number, customer or product...",noSales:"No sales yet",noSalesFound:"No sales found",noSalesDesc:"Start by adding your first sale.",noSalesFoundDesc:"No sales match your search criteria.",createFirstSale:"Add First Sale",sale:"Sale",customer:"Customer",productService:"Product/Service",amount:"Amount",status:"Status",date:"Date",actions:"Actions",viewSale:"View sale",editSale:"Edit sale",deleteSale:"Delete sale",deleteConfirm:"Are you sure you want to delete this sale?",createInvoice:"Create Invoice",download:"Download",subtitle:"Manage your sales records",saleCompleted:"Sale Completed!",saleCompletedDesc:"The sale was successfully recorded.",createInvoiceQuestion:"Would you like to create an invoice?",autoGenerated:"Auto generated",statusCompleted:"Completed",statusPending:"Pending",statusCancelled:"Cancelled",saleNumber:"Sale Number",saleDate:"Sale Date",autoNumberNote:"Number will be generated automatically upon saving",unitPriceInclVAT:"Unit Price (VAT Incl.)",totalInclVAT:"Total (VAT Incl.)",unitPriceExclVAT:"Unit Price (Excl. VAT)",totalExclVAT:"Total (Excl. VAT)",notesPlaceholder:"Additional notes related to the sale",addSale:"Add Sale",enterSaleInfo:"Enter sale information",saleSummary:"Sale Summary",invoiceWillBeDownloaded:"If an invoice is created, it will be automatically downloaded in PDF format.",confirmInvoiceCreation:"Create invoice?",invoiceWillOpen:"The invoice will open in the viewing window after creation.",recordOnlySale:"Record Sale Only",recordSaleWithInvoice:"Record Sale + Invoice",confirmInvoiceAction:"Yes, Create",creatingInvoice:"Creating...",selectExistingSale:"Select Existing Sale",selectSaleForInvoice:"Select a sale to create invoice",searchSalesPlaceholder:"Search by sale number, customer or product...",noInvoiceableSales:"No invoiceable sales found",changeSearchCriteria:"Try changing your search criteria",allSalesInvoiced:"All sales have been invoiced",pieces:"pcs",saleInfo:"Sale Information",salesWaitingForInvoice:"Sales waiting for invoice: {{count}}"},ij={method:"Payment Method",cash:"Cash",card:"Credit/Debit Card",transfer:"Bank Transfer",check:"Check"},aj={title:"Reports",subtitle:"Detailed analysis reports for your business",reportDate:"Report Date",overview:"Overview",basicMetrics:"Basic Metrics",totalIncome:"Total Income",totalExpense:"Total Expense",netProfit:"Net Profit",totalCustomers:"Total Customers",net:"Net",last6MonthsPerformance:"Last 6 months performance (newest  oldest)",financialHealth:"Financial Health",profitMargin:"Profit Margin",growthRate:"Growth Rate",averageSale:"Average Sale",activeCustomers:"Active Customers",paymentStatusAnalysis:"Payment Status Analysis",invoiceStatuses:"Invoice Statuses",expenseStatuses:"Expense Statuses",vatAnalysis:"VAT Analysis",vatAnalysisSubtitle:"Track how much VAT you owe based on paid invoices",currentYearLabel:"Current Year ({{year}})",vatYearToDate:"Year-to-date VAT",vatChangeVsLastYear:"{{percent}} vs last year ({{lastYear}})",vatThisMonth:"VAT this month",vatChangeVsPreviousMonth:"{{percent}} vs previous month ({{previous}})",vatAverageSixMonths:"Avg. VAT (6 months)",vatAverageHint:"Rolling average based on the last 6 months of paid VAT",vatMonthlyBreakdown:"Monthly VAT breakdown",lastMonthsPerformance:"Last {{count}} months",noVatData:"No VAT data yet",revenueAnalysis:"Revenue Analysis",productBasedSales:"Product-Based Sales",sales:"sales",avg:"Avg",monthlyRevenueTrend:"Monthly Revenue Trend",expenseAnalysis:"Expense Analysis",categoryBasedExpenses:"Category-Based Expenses",expenses:"expenses",monthlyExpenseTrend:"Monthly Expense Trend",topSuppliers:"Top Suppliers by Expense",lastExpense:"Last",recentExpenses:"Recent Expenses",expenseCategoryDistribution:"Expense Category Distribution",customerAnalysis:"Customer Analysis",topCustomers:"Top Customers",purchases:"purchases",last:"Last",customerStatistics:"Customer Statistics",activeCustomersCount:"Active Customers",revenuePerCustomer:"Revenue Per Customer",salesPerCustomer:"Sales Per Customer",averagePurchases:"Average Purchases",maxPurchases:"Max Purchases",performanceReports:"Performance Reports",kpiDashboard:"KPI Dashboard",increase:"Increase",decrease:"Decrease",monthlyPerformanceTable:"Monthly Performance Table",total6Months:"Total (6 Months)",totalIncome6Months:"Total Income (6 Months)",totalExpense6Months:"Total Expense (6 Months)",netProfit6Months:"Net Profit (6 Months)",month:"Month",profit:"Profit",profitMarginPercent:"Profit Margin",expenseRatio:"Expense Ratio",expenseEfficiency:"Expense Efficiency Analysis",expenseCategoryPerformance:"Expense Category Performance",noSupplier:"No Supplier",noCustomer:"No Customer",quoteAnalysis:"Quote Analysis",quoteStatuses:"Quote Statuses",totalQuotes:"Total Quotes",acceptedRate:"Acceptance Rate",averageQuote:"Average Quote",expiringSoon:"Expiring Soon",recentQuotes:"Recent Quotes",daysLeft:"Days Left",quotes:"quotes"},oj={equipment:"Equipment",utilities:"Utilities",rent:"Rent",salaries:"Salaries",personnel:"Personnel",supplies:"Supplies",marketing:"Marketing",travel:"Travel",insurance:"Insurance",taxes:"Taxes",other:"Other"},lj={descriptionRequired:"Please enter a description",amountRequired:"Please enter a valid amount",categoryRequired:"Please select a category",dueDateRequired:"Please select a due date",saleDateRequired:"Sale date is required",unitPriceRequired:"Unit price must be greater than zero",quantityRequired:"Quantity must be greater than zero",customerNameRequired:"Customer name is required",customerNotFound:"Customer not found in system. Please select from list.",productNameRequired:"Product or service name is required",productNotFound:"Product not found in system. Please select from list.",skuRequired:"SKU is required",validPriceRequired:"Please enter a valid price",validStockRequired:"Please enter a valid stock quantity"},cj={title:"Archive",subtitle:"Your completed and historical records",totalArchive:"Total Archive",archivedInvoices:"Archived Invoices",archivedExpenses:"Archived Expenses",archivedSales:"Archived Sales",totalContacts:"Total Contacts",searchPlaceholder:"Search in archive...",clearFilters:"Clear Filters",tabs:{all:"All",invoices:"Invoices",expenses:"Expenses",sales:"Sales",contacts:"Contacts"},sections:{archivedInvoices:"Archived Invoices",archivedExpenses:"Archived Expenses",archivedSales:"Archived Sales",customers:"Customers",suppliers:"Suppliers",archiveSummary:"Archive Summary"},empty:{invoices:"No archived invoices",invoicesHelper:"Paid or overdue invoices will appear here",expenses:"No archived expenses",expensesHelper:"Paid expenses will appear here",sales:"No archived sales",salesHelper:"Completed sales will appear here",customers:"No customers found",suppliers:"No suppliers found"},table:{invoice:"Invoice",customer:"Customer",amount:"Amount",status:"Status",date:"Date",actions:"Actions",expense:"Expense",supplier:"Supplier",category:"Category",sale:"Sale",product:"Product/Service",registered:"Registered"},actions:{view:"View",download:"Download"},summary:{financial:"Financial Summary",totalIncome:"Total Archived Income",totalExpense:"Total Archived Expense",netArchive:"Net Archive",recordCounts:"Record Counts"},info:{title:"About Archive",description:"The archive page stores your completed transactions. Paid invoices, approved expenses, and completed sales are automatically listed here. These records are read-only and can be used for historical analysis and audit purposes."}},dj={totalCredit:"Total Credit",totalDebit:"Total Debit",netBalance:"Net Balance",entry:{invoicePrefix:"Invoice",expensePrefix:"Expense",salePrefix:"Direct Sale"}},uj=JSON.parse(`{"terms":{"title":"Terms of Service","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Service Overview","content":"Comptario is a cloud-based pre-accounting software platform designed to help businesses manage their invoices, expenses, and financial operations. The platform offers multi-currency support, automated VAT calculations, and integrated reporting tools."},"section2":{"title":"2. User Accounts and Registration","content":"To use Comptario, you must create an account by providing accurate and complete information. You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."},"section3":{"title":"3. Acceptable Use","content":"You agree to use Comptario only for lawful purposes and in accordance with these Terms. You may not use the service to engage in any illegal activities, violate intellectual property rights, or disrupt the platform's functionality."},"section4":{"title":"4. Data Ownership and Privacy","content":"You retain ownership of all data you input into Comptario. We process your data in accordance with our Privacy Policy and applicable data protection laws, including GDPR. We implement appropriate security measures to protect your information."},"section5":{"title":"5. Service Availability","content":"While we strive to maintain 99.9% uptime, Comptario may experience occasional service interruptions for maintenance, updates, or unforeseen technical issues. We will provide advance notice for planned maintenance whenever possible."},"section6":{"title":"6. Subscription and Billing","content":"Comptario offers various subscription plans with different features and usage limits. Billing is processed automatically according to your chosen plan. You may upgrade, downgrade, or cancel your subscription at any time."},"section7":{"title":"7. Data Backup and Export","content":"We perform regular automated backups of your data. You can export your data at any time in standard formats. Upon account termination, we will retain your data for 90 days before permanent deletion, unless required otherwise by law."},"section8":{"title":"8. Limitation of Liability","content":"Comptario's liability is limited to the amount you have paid for the service in the 12 months preceding any claim. We are not liable for indirect, incidental, or consequential damages."},"section9":{"title":"9. Intellectual Property","content":"The Comptario platform, including its software, design, and content, is protected by intellectual property laws. You are granted a limited license to use the service according to these Terms."},"section10":{"title":"10. Termination","content":"Either party may terminate this agreement at any time. Upon termination, your access to the service will cease, and we will delete your data according to our data retention policy."},"section11":{"title":"11. Governing Law","content":"These Terms are governed by the laws of the European Union and the jurisdiction where Comptario operates. Any disputes will be resolved through binding arbitration."},"section12":{"title":"12. Changes to Terms","content":"We may update these Terms from time to time. We will notify you of significant changes via email or through the platform. Continued use of Comptario after changes constitutes acceptance of the new Terms."}},"privacy":{"title":"Privacy Policy","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Information We Collect","content":"We collect information you provide directly (account details, financial data), information automatically collected (usage data, IP addresses), and information from third parties (payment processors, integrations)."},"section2":{"title":"2. How We Use Your Information","content":"We use your information to provide and improve our services, process payments, communicate with you, ensure security, and comply with legal obligations."},"section3":{"title":"3. Information Sharing","content":"We do not sell or rent your personal information. We may share information with service providers, for legal compliance, or with your explicit consent."},"section4":{"title":"4. Data Security","content":"We implement industry-standard security measures including encryption in transit and at rest, regular security audits, access controls, and secure data centers."},"section5":{"title":"5. Your Rights (GDPR)","content":"Under GDPR, you have rights to access, rectify, erase, restrict processing, data portability, and object to processing of your personal data. You may also withdraw consent and file complaints with supervisory authorities."},"section6":{"title":"6. Data Retention","content":"We retain your data as long as your account is active and for a reasonable period afterward for legal and business purposes. You may request data deletion at any time."},"section7":{"title":"7. International Transfers","content":"Your data is primarily processed within the EU. Any international transfers are protected by appropriate safeguards such as Standard Contractual Clauses."},"section8":{"title":"8. Cookies and Tracking","content":"We use cookies and similar technologies for authentication, preferences, analytics, and security. You can control cookie settings through your browser."},"section9":{"title":"9. Third-Party Services","content":"Our platform may integrate with third-party services. Their privacy practices are governed by their own privacy policies, which we encourage you to review."},"section10":{"title":"10. Children's Privacy","content":"Comptario is not intended for users under 18. We do not knowingly collect personal information from children under 18."},"section11":{"title":"11. Contact Information","content":"For privacy-related questions or to exercise your rights, contact our Data Protection Officer at privacy@comptario.com or through our support portal."}},"cookies":{"title":"Cookie Policy","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. What Are Cookies","content":"Cookies are small text files stored on your device when you visit our website. They help us provide you with a better experience by remembering your preferences and analyzing site usage."},"section2":{"title":"2. Types of Cookies We Use","content":"We use essential cookies (necessary for basic functionality), functional cookies (remember preferences), analytics cookies (understand usage patterns), and security cookies (protect against threats)."},"section3":{"title":"3. Essential Cookies","content":"These cookies are necessary for the website to function properly. They enable core functionality such as user authentication, session management, and security features. These cannot be disabled."},"section4":{"title":"4. Functional Cookies","content":"These cookies remember your preferences and choices to provide enhanced functionality, such as language selection, timezone settings, and user interface customizations."},"section5":{"title":"5. Analytics Cookies","content":"We use analytics cookies to understand how visitors interact with our website. This helps us improve our services and user experience. All analytics data is aggregated and anonymized."},"section6":{"title":"6. Third-Party Cookies","content":"Some cookies are set by third-party services we use, such as analytics providers or payment processors. These are governed by the respective third parties' privacy policies."},"section7":{"title":"7. Cookie Duration","content":"Session cookies are deleted when you close your browser. Persistent cookies remain on your device for a set period or until you delete them manually."},"section8":{"title":"8. Managing Cookies","content":"You can control and manage cookies through your browser settings. You can delete existing cookies and set your browser to accept or reject cookies. Note that disabling cookies may affect website functionality."},"section9":{"title":"9. Cookie Consent","content":"By using our website, you consent to the use of cookies as described in this policy. You can withdraw your consent at any time by adjusting your browser settings."},"section10":{"title":"10. Updates to Cookie Policy","content":"We may update this Cookie Policy from time to time. We will notify you of significant changes by posting the updated policy on our website with a new effective date."}},"dpa":{"title":"Data Processing Addendum (DPA)","lastUpdated":"Last updated: {{date}}","section1":{"title":"1. Definitions and Scope","content":"This Data Processing Addendum (\\"DPA\\") forms part of the Terms of Service between you (\\"Controller\\") and Comptario (\\"Processor\\"). It governs the processing of personal data in accordance with GDPR and other applicable data protection laws."},"section2":{"title":"2. Data Processing Details","content":"Comptario processes personal data only on documented instructions from the Controller, for the purposes of providing the accounting software services, and in accordance with applicable data protection laws."},"section3":{"title":"3. Categories of Data","content":"We process the following categories of personal data: contact information (names, addresses, emails), financial data (invoices, payments, transactions), user account data (login credentials, preferences), and usage data (access logs, analytics)."},"section4":{"title":"4. Data Subject Rights","content":"Comptario assists the Controller in fulfilling data subject rights requests, including access, rectification, erasure, restriction, portability, and objection. We provide necessary tools and cooperation to enable compliance."},"section5":{"title":"5. Security Measures","content":"We implement appropriate technical and organizational measures to ensure data security, including encryption, access controls, regular security assessments, staff training, and incident response procedures."},"section6":{"title":"6. Sub-processors","content":"Comptario may engage sub-processors to assist in providing services. All sub-processors are subject to data protection obligations equivalent to those in this DPA. A current list of sub-processors is available upon request."},"section7":{"title":"7. Data Transfers","content":"Personal data is primarily processed within the EU/EEA. Any transfers to third countries are protected by appropriate safeguards such as Standard Contractual Clauses or adequacy decisions."},"section8":{"title":"8. Data Breach Notification","content":"Comptario will notify the Controller of any personal data breaches without undue delay and within 72 hours of becoming aware of the breach, providing all relevant information for assessment and reporting obligations."},"section9":{"title":"9. Data Protection Impact Assessment","content":"Upon request, Comptario will provide reasonable assistance to the Controller in conducting Data Protection Impact Assessments (DPIAs) and prior consultations with supervisory authorities."},"section10":{"title":"10. Audit and Compliance","content":"Comptario maintains records of processing activities and makes available to the Controller information necessary to demonstrate compliance with data protection obligations, including audit rights subject to confidentiality obligations."},"section11":{"title":"11. Data Return and Deletion","content":"Upon termination of services, Comptario will, at the Controller's choice, return or delete all personal data and existing copies, unless retention is required by applicable law."},"section12":{"title":"12. Liability and Indemnification","content":"Each party's liability is limited to damages directly caused by its breach of this DPA. Comptario will indemnify the Controller against claims resulting from Comptario's breach of its data protection obligations."}},"subprocessors":{"title":"List of Sub-processors","lastUpdated":"Last updated: {{date}}","intro":"Comptario may engage the following sub-processors to assist in providing our services. All sub-processors are subject to strict data protection obligations.","section1":{"title":"1. Cloud Infrastructure Providers","aws":{"name":"Amazon Web Services (AWS)","location":"EU (Frankfurt)","purpose":"Cloud hosting and infrastructure services","safeguards":"AWS GDPR compliance, EU Data Residency"},"digitalocean":{"name":"DigitalOcean","location":"EU (Amsterdam)","purpose":"Additional cloud hosting and backup services","safeguards":"Standard Contractual Clauses, EU hosting"}},"section2":{"title":"2. Payment Processors","stripe":{"name":"Stripe","location":"EU/US","purpose":"Payment processing and subscription management","safeguards":"PCI DSS compliance, Standard Contractual Clauses"},"paypal":{"name":"PayPal","location":"EU/US","purpose":"Alternative payment processing","safeguards":"PCI DSS compliance, Privacy Shield successor"}},"section3":{"title":"3. Communication Services","sendgrid":{"name":"SendGrid (Twilio)","location":"EU/US","purpose":"Transactional email delivery","safeguards":"Standard Contractual Clauses, EU processing"},"intercom":{"name":"Intercom","location":"EU/US","purpose":"Customer support and communication","safeguards":"Standard Contractual Clauses, GDPR compliance"}},"section4":{"title":"4. Analytics and Monitoring","googleanalytics":{"name":"Google Analytics","location":"EU/US","purpose":"Website analytics and performance monitoring","safeguards":"Google Analytics 4 with EU data processing"},"sentry":{"name":"Sentry","location":"EU/US","purpose":"Error monitoring and application performance","safeguards":"Standard Contractual Clauses, data anonymization"}},"section5":{"title":"5. Security Services","cloudflare":{"name":"Cloudflare","location":"Global (EU nodes)","purpose":"CDN, DDoS protection, and security services","safeguards":"EU Data Localization, Standard Contractual Clauses"}},"section6":{"title":"6. Backup and Archive Services","backblaze":{"name":"Backblaze","location":"EU","purpose":"Data backup and archival services","safeguards":"Encryption at rest and in transit, EU hosting"}},"notifications":{"title":"Sub-processor Change Notifications","content":"We will provide 30 days' advance notice of any new sub-processors or changes to existing ones. You may object to such changes, and if we cannot resolve your concerns, you may terminate your agreement with us."},"contact":{"title":"Questions About Sub-processors","content":"If you have questions about our sub-processors or need additional information about data protection safeguards, please contact us at privacy@comptario.com."}},"common":{"backToApp":" Back to App","effectiveDate":"Effective Date","tableOfContents":"Table of Contents","printPage":"Print this page","downloadPdf":"Download PDF","lastUpdated":"Last updated","contactUs":"Contact us at","questionsContact":"If you have any questions about this {{document}}, please contact us at {{email}}.","documentType":{"terms":"Terms of Service","privacy":"Privacy Policy","cookies":"Cookie Policy","dpa":"Data Processing Addendum","subprocessors":"Sub-processors List"},"navigation":{"terms":"Terms","privacy":"Privacy","cookies":"Cookies","dpa":"DPA","subprocessors":"Sub-processors"}}}`),mj={banner:{title:"Cookie Preferences",description:"This website uses cookies to improve your experience. You can choose which cookies to allow.",acceptAll:"Accept All",rejectAll:"Reject All",managePreferences:"Manage Preferences",savePreferences:"Save Preferences",close:"Close"},modal:{title:"Cookie Preferences",description:"You can review cookie categories and set your preferences. Read the description of each category to decide which cookies to allow.",necessary:{title:"Necessary Cookies",description:"These cookies are essential for the website to function properly and cannot be disabled. They are usually set in response to actions like logging in or filling out forms.",alwaysActive:"Always active"},analytics:{title:"Analytics Cookies",description:"These cookies help us understand how the website is used. They collect information about which pages are visited most and how users navigate the site.",enabled:"Enabled",disabled:"Disabled"},marketing:{title:"Marketing Cookies",description:"These cookies are used to show you more relevant ads. They may help our advertising partners build a profile of your interests.",enabled:"Enabled",disabled:"Disabled"},acceptSelected:"Accept Selected",acceptAll:"Accept All",rejectAll:"Reject All",cancel:"Cancel"},notice:{updated:"Your cookie preferences have been updated.",saved:"Cookie preferences saved."},categories:{necessary:"Necessary",analytics:"Analytics",marketing:"Marketing"}},hj={itemsPerPage:"Items per page",previous:"Previous",next:"Next",range:"{{start}}-{{end}} / {{total}}"},fj={title:"Fiscal Periods",subtitle:"Manage your fiscal period settings",newPeriod:"New Period",search:"Search periods...",periodsRegistered:"periods registered",noPeriods:"No fiscal periods yet",noPeriodsFound:"No fiscal periods found",noPeriodsDesc:"Start by creating your first fiscal period.",noPeriodsFoundDesc:"No fiscal periods match your search criteria.",createFirstPeriod:"Create First Fiscal Period",periodName:"Period Name",startDate:"Start Date",endDate:"End Date",status:"Status",actions:"Actions",view:"View",edit:"Edit",lock:"Lock",unlock:"Unlock",delete:"Delete",viewPeriod:"View fiscal period",editPeriod:"Edit Fiscal Period",addPeriod:"Add Fiscal Period",enterPeriodInfo:"Enter fiscal period information",periodNamePlaceholder:"e.g: Year 2024",periodDuration:"period duration",days:"days",locked:"Locked",active:"Active",planned:"Planned",statusLabels:{active:"Active",locked:"Locked",planned:"Planned"},lockPeriod:"Lock fiscal period",unlockPeriod:"Unlock fiscal period",lockConfirm:"Are you sure you want to lock this fiscal period? Locked periods cannot be edited.",unlockConfirm:"Are you sure you want to unlock this fiscal period?",deleteConfirm:"Are you sure you want to delete this fiscal period?",validation:{nameRequired:"Period name is required",startDateRequired:"Start date is required",endDateRequired:"End date is required",endDateAfterStart:"End date must be after start date",periodOverlap:"These dates overlap with an existing period",minimumDuration:"Fiscal period must be at least 1 day"},errors:{createFailed:"Failed to create fiscal period",updateFailed:"Failed to update fiscal period",deleteFailed:"Failed to delete fiscal period",lockFailed:"Failed to lock fiscal period",unlockFailed:"Failed to unlock fiscal period",loadFailed:"Failed to load fiscal periods",periodLocked:"This fiscal period is locked and cannot be modified",periodNotFound:"Fiscal period not found",operationNotAllowed:"This operation is not allowed for locked fiscal period"},success:{created:"Fiscal period created successfully",updated:"Fiscal period updated successfully",deleted:"Fiscal period deleted successfully",locked:"Fiscal period locked successfully",unlocked:"Fiscal period unlocked successfully"},widget:{title:"Fiscal Periods",activePeriod:"Active Period",totalPeriods:"Total Periods",lockedPeriods:"Locked Periods",daysRemaining:"Days Remaining",noActivePeriod:"No active period",periodsOverlapping:"Overlapping periods exist",allPeriodsLocked:"All periods are locked",createActivePeriod:"Create active period",managePeriods:"Manage Periods",warnings:{overlapping:"Some fiscal periods overlap",noActive:"No active fiscal period currently",allLocked:"All fiscal periods are locked"}},filters:{showVoided:"Show voided",hideVoided:"Hide voided",voidedRecords:"voided records"}},pj={members:{title:"Organization Members",subtitle:"Manage your organization members and permissions",search:"Search members...",membersCount:"members",member:"Member",email:"Email",role:"Role",statusLabel:"Status",actions:"Actions",inviteButton:"Send Invitation",sending:"Sending...",table:{name:"Name",email:"Email",role:"Role",lastLogin:"Last Login",joinedAt:"Joined Date",actions:"Actions"},edit:"Edit",cancel:"Cancel",resend:"Resend",makeAdmin:"Make Admin",makeMember:"Make Member",empty:{title:"No members yet",subtitle:"Start by inviting your first team member.",action:"Invite Member"},noMembers:"No members yet",noMembersDesc:"Start by inviting your first team member.",noPendingInvites:"No pending invites",noPendingInvitesDesc:"All invitations have been accepted or expired.",roles:{owner:"Owner",admin:"Administrator",member:"Member",viewer:"Viewer",OWNER:"Owner",ADMIN:"Administrator",MEMBER:"Member"},status:{active:"Active",pending:"Pending",inactive:"Inactive"},permissions:{owner:"Full access to all features and settings",admin:"Full access except billing and organization deletion",member:"Create and edit invoices, expenses, customers",viewer:"View-only access to all data"},confirmRemove:"Are you sure you want to remove this member?",confirmCancel:"Are you sure you want to cancel this invitation?",inviteSuccess:"Invitation sent successfully",inviteError:"Failed to send invitation",removeSuccess:"Member removed successfully",removeError:"Failed to remove member",updateSuccess:"Member updated successfully",updateError:"Failed to update member",validation:{emailRequired:"Email is required",emailInvalid:"Please enter a valid email address",emailExists:"This email is already invited or is a member"},tryAgain:"Try Again",organization:"Organization",membersLabel:"Members",plan:"Plan",youLabel:"You",remove:{title:"Remove Member",message:"Are you sure you want to remove {{name}} from the organization?",warning:"This action cannot be undone.",confirm:"Yes, Remove",cancel:"Cancel",success:"Member removed successfully",error:"Failed to remove member",cannotRemoveOwner:"Owner role cannot be removed"},updateRole:{success:"Member role updated",error:"Failed to update member role"},invite:{title:"Invite Member",button:"Send Invitation",limitReached:"Plan limit reached. Upgrade your plan to invite more members.",success:"Invitation sent successfully",error:"Failed to send invitation",duplicate:"This email is already invited",form:{email:"Email Address",emailPlaceholder:"example@email.com",role:"Role"}},limitFull:"Member limit reached",pendingInvites:{title:"Pending Invitations",count:"{{count}} pending invitations",resend:"Resend",cancel:"Cancel",cancelConfirm:"Are you sure you want to cancel this invite? ({{email}})",expires:"Expires on {{date}}",resendSuccess:"Invitation resent successfully",cancelSuccess:"Invitation cancelled successfully"}},join:{title:"Join Organization",subtitle:"You have been invited to join {{orgName}}",invitedBy:"Invited by {{name}}",role:"Role: {{role}}",accept:"Accept Invitation",decline:"Decline",expired:{title:"Invitation Expired",subtitle:"This invitation link has expired",action:"Request a new invitation"},invalid:{title:"Invalid Invitation",subtitle:"This invitation link is not valid",action:"Go to homepage"},success:{title:"You're In!",subtitle:"You have successfully joined {{orgName}}",action:"Go to dashboard"},error:{title:"Something Went Wrong",subtitle:"We couldn't process your invitation",tryAgain:"Try again"},alreadyMember:{title:"Already a Member",subtitle:"You already belong to this organization",action:"Open dashboard"},details:{organizationLabel:"Organization",emailLabel:"Invited email",expiresLabel:"Expires on",roleLabel:"Role"},passwordFlow:{title:"Set Your Password",description:"Set a password to create your account for {{email}}. Email verification is not required.",passwordLabel:"Password",passwordPlaceholder:"At least 6 characters",showPassword:"Show",hidePassword:"Hide",submit:"Create Account and Join",submitting:"Saving...",toastSuccess:"Invitation accepted. Welcome!"},loadingState:{title:"Checking invitation...",subtitle:"Please wait while we validate your invite."},guestFallback:{loading:"Invalid invite or loading..."},emailMismatch:{title:"Warning",body:"This invite was sent to {{inviteEmail}}, but you are signed in as {{currentEmail}}.",loginAction:"Sign in as {{inviteEmail}}",registerAction:"Register as {{inviteEmail}}"},accepting:"Joining..."}},gj={users:{updateConfirm:"Are you sure you want to update this user?",passwordResetConfirm:"Send password reset email?",deactivateConfirm:"Are you sure you want to deactivate this user?",activateConfirm:"Are you sure you want to activate this user?"},tenants:{updatePlanConfirm:"Are you sure you want to update plan to '{{plan}}' for {{name}}?",updateStatusConfirm:"Are you sure you want to update status to '{{status}}' for {{name}}?",updateNextPaymentConfirm:"Are you sure you want to update next payment date to '{{date}}' for {{name}}?",cancelSubscriptionConfirm:"Are you sure you want to cancel subscription for {{name}}?",dangerDeleteTenantConfirm:"Warning! Do you want to permanently delete tenant '{{name}}'? This action cannot be undone."},backups:{deleteConfirm:"Are you sure you want to delete this backup?",deleteOlderThanConfirm:"Are you sure you want to delete all backups older than {{days}} days?"}},xj={limitExceeded:{title:"Plan limit exceeded",invoicesMessage:"You have reached the maximum number of invoices for your current plan. Upgrade your plan to create more invoices.",expensesMessage:"You have reached the maximum number of expenses for your current plan. Upgrade your plan to add more expenses."}},yj={header:{title:"Plan & Billing",subtitle:"Manage your subscription, billing cycle, and seats"},managePayments:"Manage Payments",monthly:"Monthly",yearly:"Yearly",yearlyNote:"",currentPlan:{label:"Current Plan",seatsInUse:"Seats in use",renewalDate:"Renewal Date",cancellationDate:"Cancellation Date",cancelAtPeriodEndNotice:"Your subscription will be cancelled at period end."},changePlan:"Change Plan",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Starter"},bullets:{proIncluded:"Includes 3 users",basicAutomations:"Basic automations",businessIncluded:"Includes 10 users",advancedAutomations:"Advanced automations & roles",freeLimited:"Limited invoices and features"}},prices:{monthly:{free:"0/mo",pro:"9.90/mo",enterprise:"29.90/mo"}},configuration:"Configuration",billingCycle:"Billing cycle",seatsAddon:"Additional seats",seatsAddonHelper:"Billed at 5/seat/month. Proration applies.",costPreview:"Cost preview",newSubtotal:"New subtotal",extraSeats:"Extra seats",prorationToday:"Proration today",updatePlan:"Update Plan",amountsNote:"Amounts are indicative. Final charges are shown during checkout.",quickSeatActions:"Quick seat actions",add1SeatNow:"Add 1 seat and charge now",add5SeatsNow:"Add 5 seats and charge now",remove1Seat:"Remove 1 seat",quickTip:"Tip: You can also add seats from the billing portal.",subscriptionStatus:"Subscription status",subscriptionCancelNote:"Cancelling takes effect at period end; you can resume anytime until then.",cancelAtPeriodEndBtn:"Cancel at period end",resumeSubscriptionBtn:"Resume subscription",history:{title:"History",loading:"Loading history",empty:"No records found",type:"Type",plan:"Plan",users:"Users",date:"Date",footerNote:"Events are synchronized from the billing provider periodically."},invoices:{title:"Invoices",loading:"Loading invoices",empty:"No invoices found",invoiceInfo:"Invoice Information",invoiceStatus:"Invoice Status",invoiceNotes:"Invoice Notes",invoiceTotals:"Invoice Totals",notesPlaceholder:"Notes about the invoice...",amountExclTax:"Amount (Excl. VAT)",filters:{status:"Status",all:"All",search:"Search",searchPlaceholder:"Number or currency",from:"From",to:"To",exportCsv:"Export CSV"},table:{number:"Number",date:"Date",amount:"Amount",status:"Status",actions:"Actions"},footerNote:"Invoices are fetched from the billing provider; amounts are shown in the billed currency."}},bj={invoice:{title:"INVOICE",appSubtitle:"comptario Accounting System",customerInfo:"Customer Information",invoiceNumber:"Invoice No",issueDate:"Issue Date",dueDate:"Due Date",status:"Status",items:{description:"Description",quantity:"Quantity",unitPrice:"Unit Price",total:"Total"},totals:{subtotal:"Subtotal",tax:"Tax",grandTotal:"Grand Total"},footer:"This invoice was generated with comptario.",statusLabels:{paid:"Paid",sent:"Sent",overdue:"Overdue",draft:"Draft"}},expense:{title:"EXPENSE RECEIPT",supplierInfo:"Supplier Information",expenseNumber:"Expense No",expenseDate:"Expense Date",paymentDate:"Payment Date",status:"Status",category:"Category",details:"Expense Details",totalAmount:"Total Expense Amount",footer:"This expense receipt was generated with comptario.",statusLabels:{draft:"Draft",approved:"Approved",paid:"Paid"}},sale:{title:"SALES RECEIPT",customerInfo:"Customer Information",saleNumber:"Sale No",saleDate:"Sale Date",status:"Status",paymentMethod:"Payment Method",details:"Product/Service Details",quantity:"Quantity",unitPrice:"Unit Price",totalAmount:"Total Sale Amount",footer:"This sales receipt was generated with comptario.",statusLabels:{completed:"Completed",pending:"Pending",cancelled:"Cancelled"},paymentMethods:{cash:"Cash",card:"Card",transfer:"Transfer",check:"Check"}},planTab:{header:{title:"Plan & Billing",subtitle:"Manage your subscription, billing cycle, and seats"},managePayments:"Manage Payments",monthly:"Monthly",yearly:"Yearly",yearlyNote:"",currentPlan:{label:"Current Plan",seatsInUse:"Seats in use",renewalDate:"Renewal Date",cancellationDate:"Cancellation Date",cancelAtPeriodEndNotice:"Your subscription will be cancelled at period end."},changePlan:"Change Plan",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Starter"},bullets:{proIncluded:"Includes 3 users",basicAutomations:"Basic automations",businessIncluded:"Includes 10 users",advancedAutomations:"Advanced automations & roles",freeLimited:"Limited invoices and features"}},prices:{monthly:{free:"0/mo",pro:"9.90/mo",enterprise:"29.90/mo"}},configuration:"Configuration",billingCycle:"Billing cycle",seatsAddon:"Additional seats",seatsAddonHelper:"Billed at 5/seat/month. Proration applies.",costPreview:"Cost preview",newSubtotal:"New subtotal",extraSeats:"Extra seats",prorationToday:"Proration today",updatePlan:"Update Plan",amountsNote:"Amounts are indicative. Final charges are shown during checkout.",quickSeatActions:"Quick seat actions",add1SeatNow:"Add 1 seat and charge now",add5SeatsNow:"Add 5 seats and charge now",remove1Seat:"Remove 1 seat",quickTip:"Tip: You can also add seats from the billing portal.",subscriptionStatus:"Subscription status",subscriptionCancelNote:"Cancelling takes effect at period end; you can resume anytime until then.",cancelAtPeriodEndBtn:"Cancel at period end",resumeSubscriptionBtn:"Resume subscription",history:{title:"History",loading:"Loading history",empty:"No records found",type:"Type",plan:"Plan",users:"Users",date:"Date",footerNote:"Events are synchronized from the billing provider periodically."},invoices:{title:"Invoices",loading:"Loading invoices",empty:"No invoices found",filters:{status:"Status",all:"All",search:"Search",searchPlaceholder:"Number or currency",from:"From",to:"To",exportCsv:"Export CSV"},table:{number:"Number",date:"Date",amount:"Amount",status:"Status",actions:"Actions"},footerNote:"Invoices are fetched from the billing provider; amounts are shown in the billed currency."}}},vj={app:SN,presets:CN,landing:AN,footer:EN,auth:TN,common:_N,currencies:PN,header:DN,dashboard:IN,quickActions:MN,transactions:RN,alerts:zN,months:LN,sidebar:ON,quotes:FN,billing:BN,stats:UN,status:VN,invoice:qN,"expense.details":"Expense Details","expense.information":"Expense Information","expense.number":"Expense No","expense.date":"Expense Date","expense.category":"Category","expense.supplier":"Supplier","expense.amount":"Amount","expense.receipt":"Receipt","expense.viewReceipt":"View Receipt","customer.details":"Customer Details","customer.personalInfo":"Personal Information","customer.name":"Name","customer.email":"Email","customer.phone":"Phone","customer.registeredAt":"Registered Date","customer.companyInfo":"Company Information","customer.company":"Company","customer.taxNumber":"Tax Number","customer.addressInfo":"Address Information","customer.quickActions":"Quick Actions","customer.createInvoice":"Create Invoice","customer.viewHistory":"View History",expense:$N,customer:HN,supplier:KN,products:GN,chartOfAccounts:WN,invoices:YN,expenses:QN,customers:ZN,suppliers:XN,banks:JN,settings:ej,security:tj,"common.remindMeLater":"Remind Me Later","common.now":"Now","common.generic":{customer:"Customer",supplier:"Supplier",expense:"Expense",quote:"Quote"},toasts:rj,notifications:sj,sales:nj,payment:ij,reports:aj,expenseCategories:oj,validation:lj,archive:cj,ledger:dj,legal:uj,cookie:mj,pagination:hj,fiscalPeriods:fj,org:pj,admin:gj,plans:xj,planTab:yj,pdf:bj},wj={itemsPerPage:"Elemente pro Seite",previous:"Zurck",next:"Weiter",range:"{{start}}-{{end}} / {{total}}"},kj={users:{updateConfirm:"Sind Sie sicher, dass Sie diesen Benutzer aktualisieren mchten?",passwordResetConfirm:"E-Mail zum Zurcksetzen des Passworts senden?",deactivateConfirm:"Mchten Sie diesen Benutzer wirklich deaktivieren?",activateConfirm:"Mchten Sie diesen Benutzer wirklich aktivieren?"},tenants:{updatePlanConfirm:"Mchten Sie den Plan fr {{name}} wirklich auf '{{plan}}' aktualisieren?",updateStatusConfirm:"Mchten Sie den Status fr {{name}} wirklich auf '{{status}}' aktualisieren?",updateNextPaymentConfirm:"Mchten Sie das nchste Zahlungsdatum fr {{name}} wirklich auf '{{date}}' aktualisieren?",cancelSubscriptionConfirm:"Mchten Sie das Abonnement fr {{name}} wirklich kndigen?",dangerDeleteTenantConfirm:"Achtung! Mchten Sie den Mandanten '{{name}}' dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden."},backups:{deleteConfirm:"Mchten Sie dieses Backup wirklich lschen?",deleteOlderThanConfirm:"Mchten Sie alle Backups lschen, die lter als {{days}} Tage sind?",modal:{newTitle:"Neuen Lieferanten hinzufgen",editTitle:"Lieferanten bearbeiten",subtitle:"Lieferantendaten eingeben",nameLabel:"Lieferantenname",companyLabel:"Firmenname",emailLabel:"E-Mail","footer.product":"PRODUKT","footer.company":"UNTERNEHMEN","footer.support":"SUPPORT","footer.legal":"RECHTLICHES","footer.features":"Funktionen","footer.pricing":"Preise","footer.security":"Sicherheit","footer.api":"API","footer.about":"ber uns","footer.blog":"Blog","footer.careers":"Karriere","footer.press":"Presse","footer.helpCenter":"Hilfezentrum","footer.contactUs":"Kontakt","footer.status":"Status","footer.community":"Community","footer.privacy":"Datenschutzrichtlinie","footer.terms":"Nutzungsbedingungen","footer.gdpr":"DSGVO","footer.cookies":"Cookie-Richtlinie","footer.imprint":"Impressum","footer.description":"Einfache, sichere Software fr die Vorkontenfhrung moderner Unternehmen. Verwalten Sie Rechnungen, Ausgaben und MwSt. zuverlssig.","footer.stayUpdated":"Aktuell bleiben","footer.updatesDesc":"Erhalten Sie Neuigkeiten zu neuen Funktionen und Best Practices.","footer.email":"support@comptario.com","footer.languages":"Verfgbar in 4 Sprachen","footer.gdprCompliant":"DSGVO-konform","footer.emailPlaceholder":"E-Mail eingeben","footer.subscribe":"Abonnieren","footer.copyright":" {{year}} Comptario. Alle Rechte vorbehalten.","footer.madeWith":"Mit  in Europa entwickelt",phoneLabel:"Telefon",categoryLabel:"Kategorie",taxNumberLabel:"Steuernummer",addressLabel:"Adresse",namePlaceholder:"ABC Versorgung GmbH",companyPlaceholder:"ABC Versorgung GmbH",emailPlaceholder:"info@abcversorgung.de",phonePlaceholder:"+49 170 1234567",taxNumberPlaceholder:"Steuernummer",addressPlaceholder:"Vollstndige Adressinformationen..."}}},Nj={limitExceeded:{title:"Planlimit berschritten",invoicesMessage:"Sie haben die maximale Anzahl an Rechnungen fr Ihren aktuellen Plan erreicht. Aktualisieren Sie Ihren Plan, um weitere Rechnungen zu erstellen.",expensesMessage:"Sie haben die maximale Anzahl an Ausgaben fr Ihren aktuellen Plan erreicht. Aktualisieren Sie Ihren Plan, um weitere Ausgaben hinzuzufgen."}},jj={subscriptionUpdated:"Abo aktualisiert.",payment:{successTitle:"Zahlung erfolgreich",cancelledTitle:"Zahlung abgebrochen",cancelledMessage:"Zahlung storniert oder nicht abgeschlossen."},addonAdded:"Zustzliche Benutzer hinzugefgt.",portal:{cancelAtPeriodEnd:"Abo endet am Periodenende. Datum: {{date}}",activeApplied:"Abo aktiv. Portalnderungen angewendet.",synced:"Portalnderungen synchronisiert."},redirecting:"Weiterleitung zur Zahlung",interval:{updated:"Abrechnungszeitraum aktualisiert."},checkout:{failed:"Erstellung der Checkout-Sitzung fehlgeschlagen."},cancelAtPeriodEnd:{confirm:"Abo wird zum Periodenende gekndigt. Besttigen?"},cancel:{requestedShort:"Kndigung zum Periodenende gesetzt."},resumeCancellation:{confirm:"Kndigung wird entfernt und das Abo wird verlngert. Besttigen?",done:"Kndigung entfernt. Abo aktiv."}},Sj={name:"comptario",subtitle:"Buchhaltungssystem"},Cj={thisMonth:"Dieser Monat",lastMonth:"Letzter Monat",thisYear:"Dieses Jahr",addedThisMonth:"Diesen Monat hinzugefgt",withEmail:"E-Mail vorhanden",withPhone:"Telefon vorhanden",withCompany:"Mit Firma"},Aj=JSON.parse(`{"nav.features":"Funktionen","nav.pricing":"Preise","nav.faq":"FAQ","nav.contact":"Kontakt","cta.try":"Kostenlos testen","cta.signin":"Anmelden","cta.watchDemo":"Demo ansehen","hero.title":"Verwalten Sie Rechnungen, Ausgaben und Angebote an einem Ort.","hero.sub":"Verwalten Sie Rechnungen, Ausgaben und Angebote in einem einzigen, einfachen Arbeitsbereich. Halten Sie Ihre Vorbuchhaltung organisiert mit Untersttzung mehrerer Whrungen (EUR, USD, TRY), kategoriebasierter Steuerverfolgung und PDFRechnungs/Angebotserstellung. Mit teilbaren Angebotslinks knnen Ihre Kunden Angebote online prfen und mit einem Klick annehmen oder ablehnen.","hero.features.pdf":"PDFRechnungen und Angebote","hero.features.currency":"Mehrere Whrungen (EUR / USD / TRY)","hero.features.vat":"MwSt. / Steuerverwaltung","features.title":"Alles, was Sie fr die Vorbuchhaltung bentigen","features.inv.title":"Rechnungsstellung","features.inv.desc":"Nummerierung, Kunden und PDF-Export.","features.exp.title":"Ausgaben","features.exp.desc":"Datei-Uploads und kategoriebasierte Mehrwertsteuer (z.B. 20% FR, 18% TR).","features.vat.title":"Mehrwertsteuer- und Steuerzusammenfassungen","features.vat.desc":"Klare Periodenberichte mit Vorsteuer-/Umsatzsteuer-Highlights.","features.fx.title":"Mehrere Whrungen","features.fx.desc":"Systemwhrungsoptionen: USD, EUR, TRY","value.title":"Skaliert von Freiberuflern bis zu KMUs","security.title":"Sicherheit & Compliance","security.items":"EU-Hosting (Platzhalter), Verschlsselung bei bertragung und Ruhezustand, automatische Backups.","testimonials.title":"Was unsere Benutzer sagen","pricing.title":"Einfache Preisgestaltung","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/Monat","pricing.price.pro":"9.90/Monat","pricing.price.biz":"29.90/Monat","pricing.annualLine.free":"","pricing.annualLine.pro":"Jhrlich: 99/Jahr","pricing.annualLine.biz":"Jhrlich: 299/Jahr","pricing.cta":"Jetzt starten","pricing.ctaStarter":"Kostenlos starten","pricing.ctaPro":"Zu Pro wechseln","pricing.ctaBusiness":"Business whlen","pricing.ctaContact":"Kontaktieren Sie uns","pricing.features.users1":"1 Benutzer inklusive","pricing.features.users3":"3 Benutzer inklusive","pricing.features.users10":"10 Benutzer inklusive","pricing.pro.extraUser":"+ jeder weitere Benutzer 5/Monat","pricing.features.invoices5":"Bis zu 5 Rechnungen pro Monat","pricing.features.expenses5":"Bis zu 5 Ausgaben pro Monat","pricing.features.vat":"Kategoriebasierte MwSt.-Verfolgung","pricing.features.pdf":"PDF-Rechnungen und -Angebote","pricing.features.quoteTemplate1":"1 Angebotsvorlage","pricing.features.unlimitedInvoicesExpenses":"Unbegrenzte Rechnungen und Ausgaben","pricing.features.customerSupplierUnlimited":"Unbegrenzte Kunden und Lieferanten","pricing.features.quotesBasic":"Angebotserstellung und teilbarer Link","pricing.features.quotesAdvanced":"Angebote: gesehen/akzeptiert/abgelehnt, PDF","pricing.features.products":"Produkt- und Lagerverwaltung","pricing.features.reports":"Erweiterte Berichte und detaillierte Analysen","pricing.features.quoteTemplatesUnlimited":"Unbegrenzte Angebotsvorlagen","pricing.features.saveListViews":"Listenansichten speichern","pricing.features.everythingPro":"Alles in Pro","pricing.features.dedicatedSupport":"Priorisierter Support","pricing.notes.vatAndCurrency":"Preise exkl. MwSt.","pricing.notes.cancelAnytime":"Jederzeit kndbar.","pricing":{"subtitle":"Whlen Sie den passenden Tarif. Starten Sie kostenlos und wachsen Sie mit.","popular":"Am beliebtesten","planNames":{"starter":"Starter","pro":"Pro","business":"Business"},"plans":{"starter":{"desc":"Ideal fr Freiberufler und kleine Projekte"},"pro":{"desc":"Ideal fr wachsende Unternehmen"},"business":{"desc":"Fr etablierte Unternehmen mit Teams"}},"features":{"users1":"1 Nutzer inklusive","users3":"3 Nutzer inklusive","users10":"10 Nutzer inklusive","usersUnlimited":"Unbegrenzte Nutzer","invoices5":"Bis zu 5 Rechnungen pro Monat","basicExpense":"Einfache Ausgabenverfolgung","expenses5":"Bis zu 5 Ausgaben pro Monat","bank1":"1 Bankkonto","bankUnlimited":"Unbegrenzte Bankkonten","customerSupplier1":"1 Kunde und 1 Lieferant","customerSupplierUnlimited":"Unbegrenzte Kunden und Lieferanten","unlimitedInvoicesExpenses":"Unbegrenzte Rechnungen und Ausgaben","vat":"Kategorienbasierte UStErfassung","pdf":"PDFRechnungen und Angebote","emailSupport":"EMailSupport","quotesBasic":"Angebotserstellung und teilbarer Link","quotesAdvanced":"Angebote: angesehen/angenommen/abgelehnt, PDF","quoteTemplate1":"1 Angebotsvorlage","quoteTemplatesUnlimited":"Unbegrenzte Angebotsvorlagen","saveListViews":"Listenansichten speichern","unlimited":"Unbegrenzte Rechnungen","advancedExpense":"Erweiterte Ausgabenverwaltung","multiCurrency":"MehrwhrungsSupport","customerMgmt":"Kundenverwaltung","products":"Produkt und Lagerverwaltung","reports":"Erweiterte Berichte und Analysen","prioritySupport":"Priorisierter Support","api":"APIZugriff","everythingPro":"Alles aus Pro","teamCollaboration":"TeamZusammenarbeit","advancedReporting":"Erweitertes Reporting","whiteLabel":"WhiteLabelOptionen","dedicatedSupport":"Dedizierter Support","customIntegrations":"Individuelle Integrationen","noCredit":"Keine Kreditkarte erforderlich"},"trust":"Beliebt bei Freiberuflern, Agenturen und KMU.","questions":"Fragen zu unseren Preisen?","checkFaq":"Zur FAQ","or":"oder","contactSupport":"Support kontaktieren","guarantee":"30Tage GeldzurckGarantie fr alle kostenpflichtigen Tarife","title":"Einfache Preisgestaltung","cta":"Jetzt starten","ctaStarter":"Kostenlos starten","ctaPro":"Zu Pro wechseln","ctaBusiness":"Business whlen","annualLine":{"pro":"Jahresvorauszahlung: 99/Jahr","biz":"Jahresvorauszahlung: 299/Jahr"},"notes":{"vatAndCurrency":"Preise exkl. MwSt.","cancelAnytime":"Jederzeit kndbar."},"pro":{"extraUser":"+ jeder weitere Nutzer 5/Monat"}},"faq":{"title":"Hufig gestellte Fragen","support":{"title":"Noch Fragen?","desc":"Unser Support hilft Ihnen, das Beste aus Comptario herauszuholen.","contact":"Support kontaktieren","demo":"Demo vereinbaren"},"subtitle":"Alles, was Sie ber Comptario wissen mssen. Keine Antwort gefunden? Kontaktieren Sie uns.","contactUs":"kontaktieren Sie uns","q1":"Kann ich kostenlos starten?","a1":"Ja, mit dem StarterPlan knnen Sie eine begrenzte Anzahl an Rechnungen kostenlos erstellen.","q2":"Gibt es MwSt.-Untersttzung?","a2":"Ja, mit kategoriebasierter Mehrwertsteuer und bersichtlichen Zusammenfassungen.","q3":"Werden Angebote untersttzt?","a3":"Ja. Sie knnen Angebote erstellen und per Link oder als PDF versenden.","q4":"Untersttzen Sie mehrere Whrungen?","a4":"Ja  EUR, USD oder TRY mit manueller Kurseingabe.","q5":"Wie kann ich kndigen?","a5":"Sie knnen jederzeit in den Abrechnungseinstellungen kndigen.","q6":"Wo werden meine Daten gehostet?","a6":"In der EU (Platzhalter), mit Verschlsselung und regelmigen Backups."},"faq.title":"Frequently asked questions","faq.q1":"Can I start for free?","faq.a1":"Yes, the Starter plan lets you issue limited invoices at no cost.","faq.q2":"Does it support VAT?","faq.a2":"Yes, with category-based VAT and simple summaries.","faq.q3":"Are quotes supported?","faq.a3":"Quotes are coming soon  not enabled yet.","faq.q4":"Do you support multiple currencies?","faq.a4":"Yes, EUR and TRY with manual rate input.","faq.q5":"How do I cancel?","faq.a5":"You can cancel anytime from the billing settings.","faq.q6":"Where is my data hosted?","faq.a6":"In the EU (placeholder), with encryption and regular backups.","finalCta.title":"Make pre-accounting simple.","finalCta.cta":"Try for Free","seo.title":"Comptario  Pre-Accounting Software","seo.description":"Comptario helps you manage invoices, expenses and VAT in a simple, secure workspace with multi-currency support and PDF invoice generation.","hero.badge":"Comptario  Pre-Accounting Software","hero.mockup.revenue":"Monthly Revenue","hero.mockup.expenses":"Monthly Expenses","hero.mockup.vat":"VAT to Pay","hero.mockup.rate":"Rate","features.subtitle":"Manage your pre-accounting with confidence using our comprehensive set of tools designed for modern businesses.","value.subtitle":"Whether you're just starting out or running an established business, Comptario adapts to your needs.","value.freelancers.title":"Fr Freiberufler","value.freelancers.desc":"Einfaches Rechnungsstellen und AusgabenTracking, um Ihr Geschft organisiert zu halten","value.freelancers.basic":"Einfache Rechnungsstellung","value.freelancers.expense":"Ausgabenverwaltung","value.freelancers.tax":"Steuerbersichten","value.small.title":"Fr kleine Unternehmen","value.small.desc":"Umfassende Werkzeuge fr die Vorkontenfhrung, die mit Ihrem Unternehmen mitwachsen","value.small.currency":"MehrwhrungsSupport","value.small.customer":"Kundenverwaltung","value.small.reporting":"Erweiterte Berichte","value.growing.title":"Fr wachsende Unternehmen","value.growing.desc":"Skalierbare Lsungen, die sich Ihren wachsenden Ablufen anpassen","value.growing.team":"TeamZusammenarbeit","value.growing.api":"Angebote per Link versenden","value.growing.support":"Flexible Filteroptionen","value.cta.title":"Ready to streamline your pre-accounting?","value.cta.subtitle":"Join thousands of businesses who trust Comptario to manage their finances efficiently.","value.cta.trial":"Start Free Trial","value.cta.demo":"Schedule Demo","value.stats.users":"Active Users","value.stats.invoices":"Invoices Generated","value.stats.uptime":"Uptime","security.badge":"Enterprise-Grade Security","finalCta.subtitle":"Join thousands of businesses who have streamlined their pre-accounting with Comptario. Start your free trial today  no credit card required.","finalCta.trial":"Free 30-day trial","finalCta.noSetup":"No setup fees","finalCta.cancel":"Cancel anytime","finalCta.stats.countries":"Countries Served","security.features.hosting.title":"EU Data Hosting","security.features.hosting.desc":"Your data is hosted in secure EU data centers with GDPR compliance","security.features.encryption.title":"End-to-End Encryption","security.features.encryption.desc":"All data is encrypted in transit and at rest using industry-standard protocols","security.features.backups.title":"Automated Backups","security.features.backups.desc":"Daily automated backups ensure your data is always safe and recoverable","security.features.gdpr.title":"GDPR Compliant","security.features.gdpr.desc":"Full compliance with European data protection regulations","security.features.monitoring.title":"24/7 Monitoring","security.features.monitoring.desc":"Continuous security monitoring and threat detection","security.features.uptime.title":"99.9% Uptime","security.features.uptime.desc":"Reliable infrastructure with guaranteed uptime SLA","security.trusted.title":"Trusted by businesses across Europe","security.trusted.gdpr":"Compliant","security.trusted.iso":"Certified","security.trusted.soc":"Type II","security.trusted.ssl":"Encrypted","security.trusted.desc":"Your financial data is protected by the same security standards used by banks and financial institutions. We never share your data with third parties and you maintain full control over your information.","testimonials.subtitle":"Don't just take our word for it. Here's what our users have to say about their experience with Comptario.","testimonials.sarah.content":"Comptario has simplified my invoicing process completely. I can now generate professional invoices in minutes and track my expenses effortlessly.","testimonials.sarah.role":"Freelance Designer","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"The multi-currency feature is a lifesaver for our international clients. VAT calculations are automatic and accurate, saving us hours of manual work.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"As a small business, we needed something simple yet powerful. Comptario gives us everything we need without the complexity of enterprise software.","testimonials.elena.role":"Small Business Owner","testimonials.elena.company":"Local Bakery","testimonials.stats.rating":"Average Rating","testimonials.stats.customers":"Happy Customers","testimonials.stats.countries":"Countries","pricing.subtitle":"Choose the plan that fits your business needs. Start free and upgrade as you grow.","faq.support.title":"Still have questions?","faq.support.desc":"Our support team is here to help you get the most out of Comptario.","faq.support.contact":"Contact Support","faq.support.demo":"Schedule a Demo","pricing.popular":"Most Popular","pricing.plans.starter.desc":"Ideal for freelancers and small projects","pricing.plans.pro.desc":"Ideal for growing businesses","pricing.plans.business.desc":"For established companies with teams","pricing.features.usersUnlimited":"Unlimited users","pricing.features.basicExpense":"Basic expense tracking","pricing.features.bank1":"1 bank account","pricing.features.bankUnlimited":"Unlimited bank accounts","pricing.features.customerSupplier1":"1 customer and 1 supplier","pricing.features.emailSupport":"Email support","pricing.features.unlimited":"Unlimited invoices","pricing.features.advancedExpense":"Advanced expense management","pricing.features.multiCurrency":"Multi-currency support","pricing.features.customerMgmt":"Customer management","pricing.features.prioritySupport":"Priority support","pricing.features.api":"API access","pricing.features.teamCollaboration":"Team collaboration","pricing.features.advancedReporting":"Advanced reporting","pricing.features.whiteLabel":"White-label options","pricing.features.customIntegrations":"Custom integrations","pricing.features.noCredit":"No credit card required","pricing.trust":"Trusted by freelancers, agencies, and SMBs.","pricing.questions":"Have questions about our pricing?","pricing.checkFaq":"Check our FAQ","pricing.or":"or","pricing.contactSupport":"contact support","pricing.guarantee":"30-day money-back guarantee on all paid plans","faq.subtitle":"Everything you need to know about Comptario. Can't find the answer you're looking for? Feel free to contact us.","faq.contactUs":"contact us","nav":{"faq":"FAQ","features":"Funktionen","pricing":"Preise","contact":"Kontakt"},"finalCta":{"title":"Vereinfachen Sie Ihre Vorkontenfhrung.","cta":"Kostenlos testen","subtitle":"Tausende Unternehmen haben ihre Vorkontenfhrung mit Comptario vereinfacht. Starten Sie jetzt  keine Kreditkarte erforderlich.","trial":"30 Tage kostenlos","noSetup":"Keine Einrichtungsgebhren","cancel":"Jederzeit kndbar","stats":{"countries":"Lnder"}},"seo":{"title":"Comptario  Software fr Vorkontenfhrung","description":"Comptario hilft Ihnen, Rechnungen, Ausgaben und Mehrwertsteuer in einer einfachen und sicheren Umgebung zu verwalten  mit MehrwhrungsSupport und PDFRechnungen."},"hero":{"badge":"Comptario  Software fr Vorkontenfhrung","mockup":{"revenue":"Monatlicher Umsatz","expenses":"Monatliche Ausgaben","vat":"Umsatzsteuer fllig","rate":"Kurs"},"title":"Verwalten Sie Rechnungen, Ausgaben und Angebote an einem Ort.","sub":"Verwalten Sie Rechnungen, Ausgaben und Angebote in einem einfachen, zentralen Workspace. Behalten Sie Ihre Vorkontenfhrung mit MehrwhrungsSupport (EUR, USD, TRY), kategoriebasierter UStErfassung und PDFRechnungen/Angeboten im Griff. ber teilbare Angebotslinks knnen Kunden online prfen und mit einem Klick annehmen oder ablehnen.","features":{"pdf":"PDFRechnungen und Angebote","currency":"Mehrere Whrungen (EUR / USD / TRY)","vat":"MwSt. / Steuerverwaltung"}},"features":{"subtitle":"Verwalten Sie Ihre Vorkontenfhrung mit einem umfassenden Set an Werkzeugen fr moderne Unternehmen.","title":"Alles, was Sie fr die Vorkontenfhrung brauchen","inv":{"title":"Rechnungsstellung","desc":"Nummerierung, Kunden, PDFExport und EMailVersand."},"exp":{"title":"Ausgaben","desc":"DateiUploads, OCR (bald), kategoriebasierte USt (z.B. 20% FR, 18% TR)."},"vat":{"title":"MwSt. & Steuerbersichten","desc":"Klare Periodenberichte mit Hervorhebung von Ein/AusgangsUSt."},"fx":{"title":"Mehrere Whrungen","desc":"Systemwhrungsoptionen: USD, EUR, TRY"}},"value":{"subtitle":"Ob Grnder oder etabliertes Unternehmen  Comptario passt sich Ihren Bedrfnissen an.","freelancers":{"title":"Fr Freiberufler","desc":"Einfache Rechnungsstellung und Ausgabenerfassung fr mehr Ordnung","basic":"Einfache Rechnungsstellung","expense":"Ausgabenverwaltung","tax":"Steuerbersichten"},"small":{"title":"Fr kleine Unternehmen","desc":"Umfassende Tools fr die Vorkontenfhrung, die mitwachsen","currency":"MehrwhrungsSupport","customer":"Kundenverwaltung","reporting":"Erweiterte Berichte"},"growing":{"title":"Fr wachsende Unternehmen","desc":"Skalierbare Lsungen, die sich Ihren wachsenden Ablufen anpassen","team":"TeamZusammenarbeit","api":"Angebote per Link versenden","support":"Flexible Filteroptionen"},"cta":{"title":"Bereit, Ihre Vorkontenfhrung zu optimieren?","subtitle":"Schlieen Sie sich tausenden Unternehmen an, die Comptario vertrauen.","trial":"Kostenlose Testphase starten","demo":"Demo vereinbaren"},"stats":{"users":"Aktive Nutzer","invoices":"Erstellte Rechnungen","uptime":"Verfgbarkeit"},"title":"Skaliert von Freiberuflern bis KMU"},"security":{"badge":"Sicherheit in Unternehmensqualitt","features":{"hosting":{"title":"Datenhosting in der EU","desc":"Ihre Daten werden in sicheren, DSGVOkonformen Rechenzentren in der EU gehostet"},"encryption":{"title":"EndtoEndVerschlsselung","desc":"Alle Daten sind whrend der bertragung und im Ruhezustand verschlsselt"},"backups":{"title":"Automatisierte Backups","desc":"Tgliche Backups sorgen fr Sicherheit und Wiederherstellbarkeit"},"gdpr":{"title":"DSGVOkonform","desc":"Vollstndige Einhaltung der europischen Datenschutzvorschriften"},"monitoring":{"title":"24/7berwachung","desc":"Kontinuierliche Sicherheitsberwachung und Bedrohungserkennung"},"uptime":{"title":"99,9 % Verfgbarkeit","desc":"Zuverlssige Infrastruktur mit garantiertem SLA"}},"trusted":{"title":"Vertraut von Unternehmen in ganz Europa","gdpr":"Konform","iso":"Zertifiziert","soc":"Typ II","ssl":"Verschlsselt","desc":"Ihre Finanzdaten sind durch Sicherheitsstandards wie bei Banken geschtzt. Wir teilen Ihre Daten nie und Sie behalten die volle Kontrolle."},"title":"Sicherheit und Compliance","items":"EUHosting (Platzhalter), Verschlsselung bei bertragung und im Ruhezustand, automatische Backups."},"testimonials":{"subtitle":"Verlassen Sie sich nicht nur auf unser Wort. Das sagen unsere Nutzer.","sarah":{"content":"Comptario hat meine Rechnungsstellung stark vereinfacht. Professionelle Rechnungen in Minuten und mheloses AusgabenTracking.","role":"Freiberufliche Designerin","company":"Design Studio Pro"},"marcus":{"content":"Der MehrwhrungsSupport ist fr unsere internationalen Kunden unverzichtbar. Die UStBerechnungen sind automatisch und przise.","role":"CEO","company":"Tech Solutions GmbH"},"elena":{"content":"Als kleines Unternehmen brauchten wir etwas Einfaches, aber Leistungsstarkes. Comptario bietet alles Ntige ohne EnterpriseKomplexitt.","role":"Kleinunternehmerin","company":"Lokale Bckerei"},"stats":{"rating":"Durchschnittliche Bewertung","customers":"Zufriedene Kunden","countries":"Lnder"},"title":"Was unsere Nutzer sagen"},"footer":{"product":"PRODUKT","company":"UNTERNEHMEN","support":"SUPPORT","legal":"RECHTLICHES","features":"Funktionen","pricing":"Preise","security":"Sicherheit","api":"API","about":"ber uns","blog":"Blog","careers":"Karriere","press":"Presse","helpCenter":"HilfeCenter","contactUs":"Kontakt","status":"Status","community":"Community","privacy":"Datenschutz","terms":"Nutzungsbedingungen","gdpr":"DSGVO","cookies":"Cookies","imprint":"Impressum","description":"Einfache, sichere Software fr Vorkontenfhrung. Verwalten Sie Rechnungen, Ausgaben und USt mit Vertrauen.","stayUpdated":"Bleiben Sie auf dem Laufenden","updatesDesc":"Erhalten Sie Updates zu neuen Funktionen und Best Practices.","languages":"In 4 Sprachen verfgbar","gdprCompliant":"DSGVOkonform","emailPlaceholder":"EMail eingeben","subscribe":"Abonnieren","madeWith":"Mit  in Europa entwickelt"}}`),Ej={terms:"Nutzungsbedingungen",privacy:"Datenschutzrichtlinie",cookies:"Cookie-Richtlinie"},Tj={header:{title:"Plan & Abrechnung",subtitle:"Abonnement, Abrechnungszeitraum und Sitzpltze verwalten"},managePayments:"Zahlungen verwalten",monthly:"Monatlich",yearly:"Jhrlich",yearlyNote:"",currentPlan:{label:"Aktueller Plan",seatsInUse:"Verwendete Sitzpltze",renewalDate:"Verlngerungsdatum",cancellationDate:"Kndigungsdatum",cancelAtPeriodEndNotice:"Ihr Abonnement wird zum Periodenende gekndigt."},changePlan:"Plan ndern",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Kostenlos"},bullets:{proIncluded:"3 Benutzer inklusive",basicAutomations:"Basis-Automatisierungen",businessIncluded:"10 Benutzer inklusive",advancedAutomations:"Erweiterte Automatisierungen & Rollen",freeLimited:"Begrenzte Rechnungen und Funktionen"}},prices:{monthly:{free:"0/Monat",pro:"9.90/Monat",enterprise:"29.90/Monat"}},configuration:"Konfiguration",billingCycle:"Abrechnungszyklus",seatsAddon:"Zustzliche Sitzpltze",seatsAddonHelper:"5/Sitz/Monat. Anteilige Berechnung wird angewendet.",costPreview:"Kostenbersicht",newSubtotal:"Neuer Zwischensaldo",extraSeats:"Zustzliche Sitzpltze",prorationToday:"Heutige anteilige Berechnung",updatePlan:"Plan aktualisieren",amountsNote:"Betrge sind Richtwerte. Endpreise erscheinen whrend des Bezahlvorgangs.",quickSeatActions:"Schnelle Sitzplatzaktionen",add1SeatNow:"1 Sitz hinzufgen und jetzt berechnen",add5SeatsNow:"5 Sitze hinzufgen und jetzt berechnen",remove1Seat:"1 Sitz entfernen",quickTip:"Tipp: Sitze knnen auch im Abrechnungsportal hinzugefgt werden.",subscriptionStatus:"Abonnementstatus",subscriptionCancelNote:"Kndigung greift zum Periodenende; bis dahin lsst sich fortsetzen.",cancelAtPeriodEndBtn:"Zum Periodenende kndigen",resumeSubscriptionBtn:"Abonnement fortsetzen",history:{title:"Verlauf",loading:"Verlauf wird geladen",empty:"Keine Eintrge",type:"Typ",plan:"Tarif",users:"Benutzer",date:"Datum",footerNote:"Ereignisse werden periodisch vom Abrechnungsanbieter synchronisiert."},invoices:{title:"Rechnungen",loading:"Rechnungen werden geladen",empty:"Keine Rechnungen",filters:{status:"Status",all:"Alle",search:"Suchen",searchPlaceholder:"Nummer oder Whrung",from:"Von",to:"Bis",exportCsv:"Als CSV exportieren"},table:{number:"Nummer",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen"},footerNote:"Rechnungen werden vom Abrechnungsanbieter abgerufen; Betrge werden in der Rechnungswhrung angezeigt."}},_j={welcomeTitle:"Willkommen",welcomeSubtitle:"Melden Sie sich an, um fortzufahren",emailAddress:"E-Mail-Adresse",emailPlaceholder:"name@beispiel.com",password:"Passwort",passwordPlaceholder:"",rememberMe:"Angemeldet bleiben",forgotPassword:"Passwort vergessen",forgotPasswordHelp:"Geben Sie Ihre E-Mail ein; falls ein Konto existiert, senden wir einen Link zum Zurcksetzen.",resetEmailSent:"Falls ein Konto existiert, wurde eine E-Mail zum Zurcksetzen gesendet.",resetPassword:"Passwort zurcksetzen",resetPasswordHelp:"Legen Sie Ihr neues Passwort fest.",newPassword:"Neues Passwort",confirmPassword:"Passwort besttigen",passwordTooShort:"Das Passwort muss mindestens 8 Zeichen lang sein",passwordTooWeak:"Bitte whlen Sie ein strkeres Passwort",passwordMismatch:"Passwrter stimmen nicht berein",passwordResetSuccess:"Ihr Passwort wurde aktualisiert",updatePassword:"Passwort aktualisieren",signIn:"Anmelden",demoAccount:"Demo-Konto:",email:"E-Mail",or:"oder",adminLogin:"Admin-Anmeldung",noAccount:"Noch kein Konto?",createFreeAccount:"Kostenloses Konto erstellen",registerTitle:"Konto erstellen",registerSubtitle:"Erstellen Sie Ihr kostenloses Konto und starten Sie",fullName:"Vollstndiger Name",fullNamePlaceholder:"Geben Sie Ihren vollstndigen Namen ein",companyName:"Firmenname",companyPlaceholder:"Ihre Firma (optional)",phone:"Telefon",phonePlaceholder:"(optional)",passwordHint:"Mindestens 6 Zeichen",passwordConfirm:"Passwort besttigen",passwordConfirmPlaceholder:"Passwort erneut eingeben",termsText:{prefix:"Ich akzeptiere: ",suffix:""},and:" und ",dataProcessing:"Datenverarbeitungsvereinbarung",captchaHint:"Mehrere fehlgeschlagene Anmeldeversuche erkannt - bitte schlieen Sie die Sicherheitsberprfung ab.",captchaRequired:"Bitte schlieen Sie die Menschlichkeitsprfung ab.",captchaPrompt:"Bitte schlieen Sie die Menschlichkeitsprfung ab, bevor Sie fortfahren.",captchaVerificationFailed:"Die Menschlichkeitsprfung konnte nicht besttigt werden. Bitte versuchen Sie es erneut.",verifyRequiredTitle:"E-Mail-Besttigung erforderlich",verifyRequiredBody:"Wir haben einen Besttigungslink an {{email}} gesendet. Besttige deine Adresse, um fortzufahren.",verifyRequiredHint:"Ohne besttigte E-Mail bleiben alle Aktionen im System gesperrt.",verifyRequiredAction:"Besttigungsstatus ffnen",verifyRequiredLogout:"Abmelden",verifyYourEmail:"Besttigen Sie Ihre E-Mail",verifySentTo:"Wir haben einen Besttigungslink gesendet an:",verifySent:"Wir haben einen Besttigungslink an Ihre E-Mail-Adresse gesendet.",resend:"Erneut senden",resendCooldown:"Aus Sicherheitsgrnden gilt eine Wartezeit von 60 Sekunden",securityVerificationRequired:"Sicherheitsberprfung erforderlich. Bitte schlieen Sie die Verifizierung ab.",emailNotVerified:"E-Mail noch nicht verifiziert. Bitte besttigen Sie Ihre E-Mail, bevor Sie sich anmelden.",verificationEmailSent:"Besttigungs-E-Mail gesendet. Bitte prfen Sie Ihr Postfach.",resendVerification:"Besttigungs-E-Mail erneut senden",registerCta:"Konto erstellen",alreadyHaveAccount:"Bereits ein Konto?",goToLogin:"Anmelden",sendResetLink:"Link zum Zurcksetzen senden",resendIn:"Sie knnen erneut senden in {{seconds}}s"},Pj={save:"Speichern",cancel:"Abbrechen",confirm:"Besttigen",delete:"Lschen",edit:"Bearbeiten",view:"Ansehen",update:"Aktualisieren",add:"Hinzufgen",search:"Suchen",close:"Schlieen",back:"Zurck",backToHome:"Zurck zur Startseite",yes:"Ja",no:"Nein",loading:"Laden...",error:"Fehler",success:"Erfolg",warning:"Warnung",ok:"OK",periodLockedError:"Dieser Datensatz kann nicht gelscht werden, da er zu einem gesperrten Geschftsjahr gehrt",description:"Beschreibung",dueDate:"Flligkeitsdatum",startDate:"Startdatum",endDate:"Enddatum",monthlyIncomeExpense:"Monatliches Einkommen/Ausgaben",last6MonthsPerformance:"Leistung der letzten 6 Monate (neueste  lteste)",allCategories:"Alle Kategorien",dateRanges:{thisMonth:"Dieser Monat",last30Days:"Letzte 30 Tage",thisYear:"Dieses Jahr"},filters:{status:"Status",filterByStatus:"Nach Status filtern"},actions:{clear:"Lschen",view:"Ansehen",copyLink:"Link kopieren",downloadPDF:"PDF herunterladen"},exportCSV:"Als CSV exportieren","dateRanges.thisMonth":"Dieser Monat","dateRanges.last30Days":"Letzte 30 Tage","dateRanges.thisYear":"Dieses Jahr","common.total":"Gesamt","common.exportCSV":"Als CSV exportieren","filters.status":"Status","filters.filterByStatus":"Nach Status filtern","actions.clear":"Lschen","actions.view":"Ansehen","actions.copyLink":"Link kopieren","actions.downloadPDF":"PDF herunterladen",allStock:"Alle Lagerbestnde",newest:"Neueste",income:"Einkommen",expense:"Ausgaben",hideChart:"Diagramm Ausblenden",showChart:"Diagramm Anzeigen",chartHidden:"Diagramm ausgeblendet",incomeLabel:"Einkommen",expenseLabel:"Ausgaben",allStatuses:"Alle Status",allAccounts:"Alle Konten",cash:"Bargeld",card:"Karte",transfer:"berweisung",check:"Scheck",email:"E-Mail",quantity:"Menge",statusLabel:"Status",status:{pending:"Ausstehend",approved:"Genehmigt",paid:"Bezahlt",rejected:"Abgelehnt"},notes:"Notizen",modal:{newTitle:"Add New Supplier",editTitle:"Edit Supplier",subtitle:"Enter supplier details",nameLabel:"Supplier Name",companyLabel:"Company Name",emailLabel:"Email",phoneLabel:"Phone",categoryLabel:"Category",taxNumberLabel:"Tax Number",addressLabel:"Address",namePlaceholder:"ABC Supply Ltd.",companyPlaceholder:"ABC Supply Inc.",emailPlaceholder:"info@abcsupply.com",phonePlaceholder:"+1 555 123 4567",taxNumberPlaceholder:"Tax ID",addressPlaceholder:"Full address information..."}},Dj={TRY:"Trkische Lira",USD:"US-Dollar",EUR:"Euro",GBP:"Britisches Pfund"},Ij={newInvoice:"Neue Rechnung",newSale:"Neuer Verkauf",search:"Suchen...",language:"Sprache",notifications:"Benachrichtigungen",noNotifications:"Keine neuen Benachrichtigungen.",settings:"Einstellungen",logout:"Abmelden"},Mj={title:"Dashboard",overview:"bersicht",revenue:"Einnahmen",expense:"Ausgaben",profit:"Gewinn",unpaidInvoices:"Unbezahlte Rechnungen",recentActivity:"Letzte Aktivitten",totalRevenue:"Gesamteinnahmen",totalExpense:"Gesamtausgaben",pendingInvoices:"Ausstehende Rechnungen",activeCustomers:"Aktive Kunden",vatToPay:"Fllige MwSt.",vatToPaySubtitle:"Basierend auf bezahlten Rechnungen dieses Monats",quickActions:"Schnellaktionen",recentTransactions:"Letzte Transaktionen",quickAccess:"Schnellzugriff",lastTransactions:"Ihre letzten {count} Transaktionen",allGood:"Alles in Ordnung!",noAlerts:"Keine ausstehenden Aufgaben oder Benachrichtigungen.",viewAll:"Alle Anzeigen"},Rj={newInvoice:"Neue Rechnung",newInvoiceDesc:"Kundenrechnung erstellen",newExpense:"Neue Ausgabe",newExpenseDesc:"Ausgabendatensatz hinzufgen",newSale:"Neuer Verkauf",newSaleDesc:"Verkaufstransaktion erfassen",newQuote:"Neues Angebot",newQuoteDesc:"Angebot fr einen Kunden erstellen",newCustomer:"Neuer Kunde",newCustomerDesc:"Kundeninformationen hinzufgen",newProduct:"Neues Produkt",newProductDesc:"Produktinformationen hinzufgen",customers:"Kunden",suppliers:"Lieferanten",banks:"Bankkonten",products:"Produkte"},zj={invoice:"Rechnung",expense:"Ausgabe",sale:"Verkauf",paid:"Bezahlt",unpaid:"Unbezahlt",pending:"Ausstehend",actions:"Aktionen",transaction:"Transaktion",customerDescription:"Kunde/Beschreibung",amount:"Betrag",status:"Status",date:"Datum",noTransactions:"Noch keine Transaktionen"},Lj={overdueInvoices:"berfllige Rechnungen",overdueDesc:"berfllige Rechnung",dueSoon:"Demnchst Fllig",dueSoonDesc:"Fllig innerhalb von 7 Tagen",pendingExpenses:"Ausstehende Ausgaben",pendingExpensesDesc:"Ausgabe wartet auf Genehmigung",allGood:"Alles in Ordnung!",noAlerts:"Keine ausstehenden Aufgaben oder Benachrichtigungen.",attentionRequired:"Aufmerksamkeit Erforderlich"},Oj="Leistung der letzten 6 Monate (neueste  lteste)",Fj={short:{jan:"Jan",feb:"Feb",mar:"Mr",apr:"Apr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dez"}},Bj={dashboard:"Dashboard",invoices:"Rechnungen",expenses:"Ausgaben",customers:"Kunden",products:"Produkte",suppliers:"Lieferanten",banks:"Banken",sales:"Verkufe",quotes:"Angebote",reports:"Berichte",accounting:"Buchhaltung",chartOfAccounts:"Kontenplan",archive:"Archiv",organization:"Organisation",settings:"Einstellungen",close:"Schlieen",archiveConfirm:"Mchten Sie diese Kategorie wirklich archivieren?"},Uj={title:"Angebote",newQuote:"Neues Angebot",comingSoon:"Basis-Seite des Angebotsmoduls ist bereit. Erweiterte Liste, Status und PDF-Vorlagen folgen.",placeholderDescription:"Erstellen, Senden, ffentliche Ansicht und Annehmen/Ablehnen-Flows werden hier sein. Navigation und Men-Integration sind vorerst erledigt.",search:"Angebote suchen...",filterAll:"Alle Status",validUntil:"Gltig bis",expiresIn:"(luft in {{days}} Tagen ab)",expiredOn:"(abgelaufen am {{date}})",version:"v{{n}}",confirmAccept:"Sind Sie sicher, dass Sie dieses Angebot annehmen mchten?",acceptedThanks:"Danke, das Angebot wurde angenommen.",confirmDecline:"Sind Sie sicher, dass Sie dieses Angebot ablehnen mchten?",declinedInfo:"Das Angebot wurde abgelehnt.",createConfirm:"Mchten Sie dieses Angebot wirklich speichern?",saveConfirm:"Mchten Sie die nderungen wirklich speichern?",duplicateConfirm:"Mit der Duplizierung fortfahren?",reviseConfirm:"Mchten Sie dieses Angebot berarbeiten? Die aktuelle Version wird archiviert und eine neue Version wird erstellt.",viewModal:{details:"Angebotsdetails"},actions:{send:"Senden",accept:"Annehmen",decline:"Ablehnen",downloadPdf:"PDF Herunterladen",copyLink:"ffentlichen Link kopieren",copyPublicLink:"Link kopieren",copyPublicLinkSuccess:"Link kopiert.",resendEmail:"E-Mail erneut senden",revise:"berarbeiten",duplicate:"Duplizieren"},editModal:{title:"Angebot bearbeiten",subtitle:"Angebotsinformationen aktualisieren",quoteNumber:"Angebots-Nr."},table:{quote:"Angebot",customer:"Kunde",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen"},noQuotes:"Noch keine Angebote",noQuotesDesc:"Beginnen Sie mit der Erstellung Ihres ersten Angebots.",noQuotesFound:"Keine Angebote gefunden",noQuotesFoundDesc:"Keine Angebote entsprechen Ihren Suchkriterien.",createFirstQuote:"Erstes Angebot Erstellen",view:"Ansehen",edit:"Bearbeiten",delete:"Lschen",statusLabels:{viewed:"Angesehen",accepted:"Angenommen",declined:"Abgelehnt",expired:"Abgelaufen",draft:"Entwurf",sent:"Gesendet"},createModal:{title:"Angebot Erstellen",customer:"Kunde",customerPlaceholder:"Kundennamen eingeben",currency:"Whrung",date:"Ausstellungsdatum",validUntil:"Gltig bis",amount:"Betrag",create:"Erstellen"},scopeOfWork:{title:"Leistungsumfang",placeholder:"Projektumfang, Liefergegenstnde, Annahmen und Ausschlsse...",note:"Dieser Inhalt wird nach dem aktuellen Abschnitt als neue Seite an das Angebots-PDF angehngt und ist im ffentlichen Link sichtbar."},templates:{title:"Angebotsvorlagen",manage:"Vorlagen verwalten",manageTitle:"Angebotsvorlagen verwalten",list:"Vorlagen",new:"Neu",newTemplate:"Neue Vorlage",placeholderName:"Vorlagenname",apply:"Anwenden",create:"Vorlage erstellen",selectPlaceholder:"Vorlage auswhlen",freeHidden:"Vorlagen sind im Starter-Tarif ausgeblendet.",proLimit:"Im Pro-Tarif knnen Sie bis zu 1 Vorlage speichern.",requirePlan:"Plan erforderlich",manageUpgrade:"Zu Pro oder Business wechseln, um Vorlagen zu verwalten.",setDefault:"Standard",availableTokens:"Verfgbare Platzhalter (zum Einfgen klicken):",defaultBodyHtml:"<h3>Angebotszusammenfassung</h3><p>Datum: [quote.date]  Gltig bis: [quote.valid_until]</p><p>Sehr geehrte/r [client.name] ([client.company]), nachfolgend unser Angebot zum beschriebenen Umfang.</p><h4>Umfang</h4><ul><li>Punkt 1</li><li>Punkt 2</li><li>Punkt 3</li></ul><h4>Gesamt</h4><p>Gesamt: [quote.total] [quote.currency]</p><h4>Kontakt</h4><p>[org.name]  [org.email]  [org.phone]  [org.address]</p>"}},Vj={thisMonth:"diesen Monat",all:"alle"},qj={paid:"Bezahlt",unpaid:"Unbezahlt",pending:"Ausstehend",overdue:"berfllig",draft:"Entwurf",sent:"Gesendet",approved:"Genehmigt",rejected:"Abgelehnt",cancelled:"Storniert",completed:"Abgeschlossen",active:"Aktiv",inactive:"Inaktiv",viewed:"Angesehen",accepted:"Akzeptiert",declined:"Abgelehnt",expired:"Abgelaufen",invoiced:"Fakturiert",created:"Erstellt",refunded:"Erstattet"},$j={details:"Rechnungsdetails",downloadPdf:"PDF Herunterladen",information:"Rechnungsinformationen",type:"Rechnungstyp",productSale:"Produktverkauf",serviceSale:"Dienstleistungsverkauf",issueDate:"Ausstellungsdatum",dueDate:"Flligkeitsdatum",customerInfo:"Kundeninformationen",itemsServices:"Artikel/Dienstleistungen",description:"Beschreibung",quantity:"Menge",unitPrice:"Stckpreis",total:"Gesamt",subtotal:"Zwischensumme",vat:"MwSt",grandTotal:"Gesamtsumme",notes:"Notizen"},Hj={details:"Ausgabendetails",information:"Ausgabeninformationen",number:"Ausgaben-Nr",date:"Ausgabendatum",category:"Kategorie",supplier:"Lieferant",amount:"Betrag",receipt:"Beleg",viewReceipt:"Beleg Anzeigen"},Kj={history:"Transaktionsverlauf",transactions:"Transaktionen gefunden",noHistory:"Noch Kein Transaktionsverlauf",noHistoryDesc:"hat noch keine Rechnungen oder Transaktionsdatenstze.",tip:"Tipp:",tipDesc:"Sie knnen den Transaktionsverlauf starten, indem Sie eine neue Rechnung fr diesen Kunden erstellen.",createInvoice:"Rechnung Erstellen",sale:"Verkauf",completed:"Abgeschlossen",waiting:"Wartend",historyPageTitle:"Kundenverlauf",historySubtitle:"Gesamter Verlauf fr {{name}}",historyColumns:{name:"Eintrag / Nr.",date:"Datum",status:"Status",createdBy:"Erstellt von",type:"Typ",description:"Beschreibung"}},Gj={expenseHistory:"Ausgabenverlauf",expensesFound:"Ausgaben gefunden",noExpenseHistory:"Noch Kein Ausgabenverlauf",noExpenseHistoryDesc:"hat noch keine Ausgabendatenstze.",tip:"Tipp:",tipDesc:"Sie knnen den Transaktionsverlauf starten, indem Sie eine neue Ausgabe fr diesen Lieferanten erstellen.",createExpense:"Ausgabe Erstellen",viewExpense:"Ausgabe anzeigen"},Wj={title:"Produkte",newProduct:"Neues Produkt",search:"Produkte suchen...",filterCategory:"Alle Kategorien",name:"Produktname",category:"Kategorie",price:"Preis",stock:"Bestand",sort:"Sortierung",status:"Status",actions:"Aktionen",noProducts:"Noch keine Produkte",addFirstProduct:"Fgen Sie Ihr erstes Produkt hinzu",edit:"Bearbeiten",delete:"Lschen",deleteConfirm:"Sind Sie sicher, dass Sie dieses Produkt lschen mchten?",manageCategories:"Kategorien Verwalten",totalProducts:"Produkte Gesamt",stockValue:"Lagerwert",totalStock:"Gesamtbestand",lowStock:"Niedriger Bestand",activeProductsDesc:"Anzahl aktiv verkaufter Produkte",totalStockCostDesc:"Geschtzte Gesamtlagerkosten",totalUnitsDesc:"Gesamteinheiten im Lager",criticalLevelDesc:"Produkte unter kritischem Niveau",productCategories:"Produktkategorien",archivedCategories:"Archivierte Kategorien",showArchived:"Archivierte anzeigen",hideArchived:"Archivierte ausblenden",activate:"Aktivieren",noArchivedCategories:"Keine archivierten Kategorien",addCategory:"Kategorie hinzufgen",categoriesCount:"Kategorien",allProducts:"Alle Produkte",noCategories:"Noch keine Kategorien.",mainCategoriesTitle:"Hauptkategorien",subCategories:"Unterkategorien",editCategory:"Bearbeiten",deleteCategory:"Lschen",editCategoryTooltip:"Kategorie bearbeiten",mainCategoryEditTooltip:"Nur Steuersatz kann fr Hauptkategorien gendert werden",generalCategoryCannotDelete:"Allgemeine Kategorie kann nicht gelscht werden",mainCategoryCannotDelete:"Hauptkategorie kann nicht gelscht werden",deleteCategoryConfirm:"Sind Sie sicher, dass Sie diese Kategorie lschen mchten?",deleteCategoryWithProducts:"In dieser Kategorie gibt es {{count}} aktive Produkte. Verschieben Sie sie zuerst in eine andere Kategorie.",categoryCannotDeleteProtected:'"{category}" kann nicht gelscht werden, da es eine Hauptkategorie ist.',generalCategoryCannotDeleteAlert:"Allgemeine Kategorie kann nicht gelscht werden.",updatePrice:"Preis aktualisieren",assignCategory:"Kategorie zuweisen",archive:"Archivieren",noProductsYet:"Noch keine Produkte",costPrice:"Kosten",unit:"Einheit",productsCount:"Produkte",allStock:"Alle Bestnde",lowStockFilter:"Niedriger Bestand",outOfStock:"Nicht vorrtig",overstock:"berbestand",newest:"Neueste",priceHighLow:"Preis (Hoch-Niedrig)",priceLowHigh:"Preis (Niedrig-Hoch)",stockHighLow:"Bestand (Hoch-Niedrig)",stockLowHigh:"Bestand (Niedrig-Hoch)",inStock:"Auf Lager",critical:"Kritisch",depleted:"Aufgebraucht",cost:"Kosten",minStock:"Mind. Bestand",view:"Anzeigen",viewProduct:"Produkt anzeigen",mainCategories:{products:"Produkte",services:"Dienstleistungen"},createCategoryFirst:"Sie mssen zuerst eine neue Kategorie erstellen.",productServiceName:"Produkt-/Dienstleistungsname",selectFromList:"Produkt aus Liste auswhlen",productsFound:"Produkte gefunden",editProduct:"Produkt Bearbeiten",enterProductInfo:"Produktinformationen ausfllen und Lagerstatus aktualisieren",generalInfo:"ALLGEMEINE INFORMATIONEN",priceAndStock:"PREIS UND LAGER",notes:"NOTIZEN",namePlaceholder:"Produkt-/Dienstleistungsname",unitPlaceholder:"Einheit (z.B: Stk, kg, Stunde)",descriptionPlaceholder:"Produkteigenschaften, Garantieinformationen usw.",useCustomTax:"Benutzerdefinierten MwSt-Satz verwenden",customTaxNote:"Sie knnen einen anderen MwSt-Satz fr dieses Produkt festlegen. Wenn leer gelassen, wird die Kategorie-MwSt verwendet.",categoryTax:"Kategorie MwSt",salePrice:"Verkaufspreis",stockQuantity:"Lagerbestand",criticalStock:"Kritischer Bestand",customTaxRate:"Benutzerdefinierter Steuersatz",taxRatePlaceholder:"18,0",customTaxRateHelper:"Benutzerdefinierter MwSt-Satz fr dieses Produkt. berschreibt Kategorie-MwSt.",noCategoriesFound:"Keine Kategorien gefunden",useCustomTaxRate:"Benutzerdefinierten MwSt-Satz verwenden",description:"Beschreibung",categoryModal:{titleNew:"Kategorie hinzufgen",titleEdit:"Kategorie bearbeiten",subtitleNew:"Neue Produktkategorie speichern.",subtitleEdit:"Kategoriedetails aktualisieren.",parentLabel:"bergeordnete Kategorie",parentHelper:"Zu welcher Hauptkategorie gehrt dies?",nameLabel:"Kategoriename",namePlaceholder:"Z. B.: Elektronik",taxLabel:"MwSt-Satz (%)",taxPlaceholder:"Z. B.: 18",taxHelperChildOverrides:"Hat die Unterkategorie einen Steuersatz, berschreibt sie die bergeordnete MwSt.",taxHelperDefault:"Standard-MwSt-Satz fr Produkte in dieser Kategorie.",nameRequired:"Kategoriename ist erforderlich",parentRequired:"Auswahl der bergeordneten Kategorie ist erforderlich",taxInvalid:"MwSt-Satz muss zwischen 0-100 liegen",nameExists:"Diese Kategorie existiert bereits"},cannotArchiveCategoryWithProducts:"Diese Kategorie enthlt {{count}} Produkte. Verschieben oder lschen Sie sie vor dem Archivieren."},Yj={title:"Kontenplan",subtitle:"Verwalten Sie Ihren Buchhaltungskontenplan",newAccount:"Neues Konto",search:"Nach Kontocode oder Name suchen...",code:"Code",accountName:"Kontoname",type:"Typ",balance:"Saldo",status:"Status",actions:"Aktionen",accountsRegistered:"Konten registriert",clickToEdit:"Klicken Sie auf Kontoname, Code oder Saldo zum Bearbeiten",addAccountTip:"Verwenden Sie die Schaltflche oben, um ein neues Konto hinzuzufgen",active:"Aktiv",passive:"Inaktiv",allSummed:"alle summiert",accountTypes:{all:"Alle",asset:"Vermgen",liability:"Verbindlichkeit",equity:"Eigenkapital",revenue:"Erls",expense:"Ausgabe"},accountTypesPlural:{asset:"Vermgenswerte",liability:"Verbindlichkeiten",equity:"Eigenkapital",revenue:"Erlse",expense:"Ausgaben"},statusLabels:{active:"Aktiv",inactive:"Inaktiv"},tooltips:{editHint:"Klicken Sie auf die Kontozeile zum Bearbeiten"},accountNames:{100:"UMLAUFVERMGEN",101:"Kasse",102:"Banken",120:"Forderungen",150:"ANLAGEVERMGEN",200:"KURZFRISTIGE VERBINDLICHKEITEN",201:"Verbindlichkeiten aus Lieferungen",300:"EIGENKAPITAL",600:"ERLSE",601:"Umsatzerlse",602:"Dienstleistungserlse",700:"AUFWENDUNGEN",701:"Mietaufwendungen",702:"Personalaufwendungen",703:"Rechnungsaufwendungen"},accountTypeLabels:{asset:"Vermgen",liability:"Verbindlichkeit",equity:"Eigenkapital",revenue:"Erls",expense:"Aufwand"}},Qj={title:"Rechnungen",newInvoice:"Neue Rechnung",editInvoice:"Rechnung Bearbeiten",enterInvoiceInfo:"Geben Sie Kundendaten und Produktdetails ein",deleteConfirm:"Sind Sie sicher, dass Sie diese Rechnung lschen mchten?",deleteSuccess:"Rechnung gelscht",search:"Rechnungsnummer oder Kunde suchen...",filterAll:"Alle Status",invoicesRegistered:"Rechnungen registriert",inArchive:"im Archiv",noInvoices:"Noch keine Rechnungen",noInvoicesFound:"Keine Rechnungen gefunden",showVoided:"Stornierte Anzeigen",hideVoided:"Stornierte Ausblenden",noInvoicesDesc:"Beginnen Sie mit Ihrer ersten Rechnung.",noInvoicesFoundDesc:"Keine Rechnungen entsprechen Ihren Suchkriterien.",createFirstInvoice:"Erste Rechnung Erstellen",invoiceNumber:"Rechnung",customer:"Kunde",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen",view:"Anzeigen",edit:"Bearbeiten",download:"Herunterladen",delete:"Lschen",viewInvoice:"Rechnung anzeigen",createInvoice:"Rechnung Erstellen",selectInvoiceType:"Rechnungstyp auswhlen",newSale:"Neuer Verkauf",newSaleDescription:"Neuen Verkaufsdatensatz erstellen und Rechnung ausstellen",newSaleNote:"Verkauf und Rechnung werden automatisch erstellt",existingSale:"Bestehender Verkauf",existingSaleDescription:"Rechnung fr einen bereits gettigten Verkauf ausstellen",existingSaleNote:"Nur Rechnungsinformationen knnen bearbeitet werden",returnInvoice:"Gutschrift",returnInvoiceDescription:"Erstellen Sie eine Rckgabe-/Gutschrift fr eine bereits ausgestellte Rechnung",returnInvoiceNote:"Rckgabe wird durch Auswahl aus bestehenden Rechnungen erstellt",invoiceNumberAutoGenerated:"Rechnungsnummer wird automatisch generiert",invoiceType:"Rechnungsart",productInvoice:"Produktrechnung (Normal)",selectInvoiceToReturn:"-- Rechnung fr Rckgabe auswhlen --",invoiceToReturn:"Rechnung fr Rckgabe (erforderlich)",returnInvoiceAutoLoad:" Ausgewhlte Rechnungsprodukte werden automatisch mit negativen Mengen geladen.",issueDate:"Rechnungsdatum",dueDate:"Flligkeitsdatum",customerName:"Kundenname",customerSearchPlaceholder:"Kunde suchen oder neuen Kundennamen eingeben",productsAndServices:"Produkte und Dienstleistungen",addLine:"Zeile hinzufgen",description:"Beschreibung",quantity:"Menge",unitPriceExclVAT:"Einzelpreis (ohne MwSt.)",totalInclVAT:"Gesamt (inkl. MwSt.)",notes:"Notizen",notesPlaceholder:"Zustzliche Notizen zum Verkauf",autoGenerated:"Automatisch generiert",statusCompleted:"Abgeschlossen",statusPending:"Ausstehend",statusCancelled:"Storniert",enterSaleInfo:"Verkaufsinformationen eingeben",productServiceDescription:"Produkt- oder Servicebeschreibung",subtotalExclVAT:"Zwischensumme (ohne MwSt.)",vat:"MwSt.",discount:"Rabatt",grandTotalInclVAT:"Gesamtsumme (inkl. MwSt.)",grandTotalExclVAT:"Gesamtsumme (ohne MwSt.)",createInvoiceFromSale:"Rechnung aus Verkauf Erstellen",completeInvoiceInfo:"Rechnungsinformationen vervollstndigen",invoiceInfo:"Rechnungsinformationen",invoiceStatus:"Rechnungsstatus",invoiceNotes:"Rechnungsnotizen",invoiceTotals:"Rechnungsbetrge",amountExclTax:"Betrag (ohne MwSt.)"},Zj={title:"Ausgaben",newExpense:"Neue Ausgabe",deleteConfirm:"Sind Sie sicher, dass Sie diese Ausgabe lschen mchten?",deleteSuccess:"Ausgabe gelscht",deleteError:"Ausgabe konnte nicht gelscht werden",search:"Ausgabenbeschreibung oder Lieferant suchen...",filterAll:"Alle Status",expensesRegistered:"Ausgaben registriert",noExpenses:"Noch keine Ausgaben",noExpensesFound:"Keine Ausgaben gefunden",noExpensesDesc:"Beginnen Sie mit Ihrer ersten Ausgabe.",noExpensesFoundDesc:"Keine Ausgaben entsprechen Ihren Suchkriterien.",createFirstExpense:"Erste Ausgabe Erstellen",description:"Beschreibung",supplier:"Lieferant",category:"Kategorie",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen",view:"Anzeigen",edit:"Bearbeiten",download:"Herunterladen",delete:"Lschen",viewExpense:"Ausgabe anzeigen",enterExpenseDetails:"Ausgabedetails eingeben",editExpense:"Ausgabe Bearbeiten",enterExpenseInfo:"Ausgabeinformationen eingeben",expenseNumber:"Ausgabennummer",expenseDate:"Ausgabendatum",paymentDate:"Zahlungsdatum",addExpense:"Ausgabe Hinzufgen",supplierPlaceholder:"Lieferantennamen eingeben...",descriptionPlaceholder:"Ausgabenbeschreibung...",totalExpense:"Gesamtausgabe",receiptUrl:"Beleg/Rechnung URL",receiptUrlHelper:"Sie knnen einen Link zu Beleg- oder Rechnungsbild/PDF hinzufgen",exportCsv:"Als CSV exportieren"},Xj={title:"Kunden",newCustomer:"Neuer Kunde",search:"Kunden suchen...",customersRegistered:"Kunden registriert",noCustomers:"Noch keine Kunden",noCustomersFound:"Keine Kunden gefunden",noCustomersDesc:"Beginnen Sie mit Ihrem ersten Kunden.",noCustomersFoundDesc:"Keine Kunden entsprechen Ihren Suchkriterien.",createFirstCustomer:"Ersten Kunden Hinzufgen",name:"Name",email:"E-Mail",phone:"Telefon",totalInvoices:"Rechnungen Gesamt",totalAmount:"Gesamtbetrag",actions:"Aktionen",importCSV:"CSV/Excel Importieren",downloadTemplate:"Vorlage Herunterladen",address:"Adresse",emailPlaceholder:"kunde@example.com",addressPlaceholder:"Vollstndige Adressinformationen...",addCustomer:"Kunde Hinzufgen",selectFromList:"Kunde aus Liste auswhlen",customersFound:"Kunden gefunden",enterCustomerInfo:"Kundeninformationen eingeben",editCustomer:"Kunde Bearbeiten",taxNumber:"Steuernummer",company:"Firmenname",namePlaceholder:"Max Mustermann",companyPlaceholder:"ABC Technologie GmbH",import:{noDataFound:"Keine Daten in der Datei gefunden.",noCustomersFound:"Keine Kunden zum Importieren in der Datei gefunden.",success:"{{count}} Kunden erfolgreich importiert!",error:"Fehler beim Import aufgetreten."},duplicate:{title:"Doppelte EMail gefunden",message:"Ein Kunde ist bereits mit dieser EMail ({{email}}) registriert: {{name}}. Bitte whlen oder bearbeiten Sie den bestehenden Eintrag.",openExisting:"Bestehenden Kunden ffnen"}},Jj={title:"Lieferanten",newSupplier:"Neuer Lieferant",search:"Lieferanten suchen...",suppliersRegistered:"Lieferanten registriert",noSuppliers:"Noch keine Lieferanten",noSuppliersFound:"Keine Lieferanten gefunden",noSuppliersDesc:"Beginnen Sie mit Ihrem ersten Lieferanten.",noSuppliersFoundDesc:"Keine Lieferanten entsprechen Ihren Suchkriterien.",createFirstSupplier:"Ersten Lieferanten Hinzufgen",name:"Name",email:"E-Mail",phone:"Telefon",totalExpenses:"Ausgaben Gesamt",totalAmount:"Gesamtbetrag",actions:"Aktionen",modal:{newTitle:"Neuen Lieferanten hinzufgen",editTitle:"Lieferanten bearbeiten",subtitle:"Lieferantendaten eingeben",nameLabel:"Lieferantenname",companyLabel:"Firmenname",emailLabel:"E-Mail",phoneLabel:"Telefon",categoryLabel:"Kategorie",taxNumberLabel:"Steuernummer",addressLabel:"Adresse",namePlaceholder:"ABC Versorgung GmbH",companyPlaceholder:"ABC Versorgung GmbH",emailPlaceholder:"info@abcversorgung.de",phonePlaceholder:"+49 170 1234567",taxNumberPlaceholder:"Steuernummer",addressPlaceholder:"Vollstndige Adressinformationen..."}},eS={title:"Bankkonten",newAccount:"Neues Konto",search:"Bankname, Kontoname oder Nummer suchen...",filterAll:"Alle Konten",accountsRegistered:"Konten registriert",totalBalance:"Gesamtsaldo",noBanks:"Noch keine Bankkonten",noBanksFound:"Keine Konten gefunden",noBanksDesc:"Beginnen Sie mit Ihrem ersten Bankkonto.",noBanksFoundDesc:"Keine Konten entsprechen Ihren Suchkriterien.",createFirstAccount:"Erstes Konto Hinzufgen",bankName:"Bank",accountName:"Kontoname",accountNumber:"Konto-Nr.",balance:"Saldo",status:"Status",actions:"Aktionen",editAccount:"Konto Bearbeiten",enterAccountInfo:"Bankkontoinformationen eingeben",selectBank:"Bank auswhlen",accountNamePlaceholder:"Firmenname oder Personenname",accountType:"Kontotyp",accountTypes:{checking:"Girokonto",savings:"Sparbuch",business:"Geschftskonto"},ibanAutoFormat:"IBAN wird automatisch formatiert",currentBalance:"Aktueller Saldo",currency:"Whrung",accountActive:"Konto aktiv",addAccount:"Konto Hinzufgen",routingNumber:"Routing-Nummer (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Filialcode",deleteConfirm:"Mchten Sie dieses Bankkonto wirklich lschen?"},tS={title:"Einstellungen",subtitle:"Verwalten Sie Ihre System- und Kontoeinstellungen",save:"Speichern",cancel:"Abbrechen",profile:"Profil",company:"Unternehmensinformationen",system:"Systemeinstellungen",security:"Sicherheit",data:"Datenverwaltung",currency:"Whrung",language:"Sprache",notifications:"Benachrichtigungen",theme:"Thema",success:"Erfolg",error:"Fehler",saved:"Einstellungen gespeichert",saveFailed:"Einstellungen konnten nicht gespeichert werden",companyFields:{officialName:"Rechtlicher Firmenname",brandName:"Rechnungs-/Markenname",brandNameHelper:"Dieser Name erscheint als Markenname auf Rechnungen und ffentlichen Ansichten.",officialNameTooltip:"Nur der Inhaber oder ein Admin kann den rechtlichen Firmennamen aktualisieren",officialNameOwnerOnly:"Dieses Feld kann nur vom Firmeninhaber gendert werden."}},rS={title:"Verkufe",newSale:"Neuer Verkauf",totalSales:"Gesamtumsatz",totalSalesCount:"Gesamtanzahl Verkufe",completed:"Abgeschlossen",salesList:"Verkaufsliste",salesRegistered:"Verkufe registriert",search:"Nach Verkaufsnummer, Kunde oder Produkt suchen...",noSales:"Noch keine Verkufe",noSalesFound:"Keine Verkufe gefunden",noSalesDesc:"Beginnen Sie mit Ihrem ersten Verkauf.",noSalesFoundDesc:"Keine Verkufe entsprechen Ihren Suchkriterien.",createFirstSale:"Ersten Verkauf Hinzufgen",sale:"Verkauf",customer:"Kunde",productService:"Produkt/Dienstleistung",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen",viewSale:"Verkauf anzeigen",editSale:"Verkauf bearbeiten",deleteSale:"Verkauf lschen",deleteConfirm:"Sind Sie sicher, dass Sie diesen Verkauf lschen mchten?",createInvoice:"Rechnung Erstellen",download:"Herunterladen",subtitle:"Verwalten Sie Ihre Verkaufsaufzeichnungen",saleCompleted:"Verkauf Abgeschlossen!",saleCompletedDesc:"Der Verkauf wurde erfolgreich erfasst.",createInvoiceQuestion:"Mchten Sie eine Rechnung erstellen?",autoGenerated:"Automatisch generiert",statusCompleted:"Abgeschlossen",statusPending:"Ausstehend",statusCancelled:"Storniert",saleNumber:"Verkaufsnummer",saleDate:"Verkaufsdatum",autoNumberNote:"Nummer wird beim Speichern automatisch generiert",unitPriceInclVAT:"Einzelpreis (MwSt. inkl.)",totalInclVAT:"Gesamt (MwSt. inkl.)",unitPriceExclVAT:"Einzelpreis (ohne MwSt.)",totalExclVAT:"Gesamt (ohne MwSt.)",notesPlaceholder:"Zustzliche Notizen zum Verkauf",addSale:"Verkauf hinzufgen",enterSaleInfo:"Verkaufsinformationen eingeben",saleSummary:"Verkaufszusammenfassung",invoiceWillBeDownloaded:"Wenn eine Rechnung erstellt wird, wird sie automatisch im PDF-Format heruntergeladen.",confirmInvoiceCreation:"Rechnung erstellen?",invoiceWillOpen:"Die Rechnung wird nach der Erstellung im Anzeigefenster geffnet.",recordOnlySale:"Nur Verkauf erfassen",recordSaleWithInvoice:"Verkauf mit Rechnung",confirmInvoiceAction:"Ja, erstellen",creatingInvoice:"Wird erstellt...",selectExistingSale:"Vorhandenen Verkauf Auswhlen",selectSaleForInvoice:"Verkauf fr Rechnung auswhlen",searchSalesPlaceholder:"Nach Verkaufsnummer, Kunde oder Produkt suchen...",noInvoiceableSales:"Keine abrechenbaren Verkufe gefunden",changeSearchCriteria:"Versuchen Sie, Ihre Suchkriterien zu ndern",allSalesInvoiced:"Alle Verkufe wurden abgerechnet",pieces:"Stk",saleInfo:"Verkaufsinformationen",salesWaitingForInvoice:"Auf Rechnung wartende Verkufe: {{count}}"},sS={twofa:{reminderTitle:"Zwei-Faktor-Authentifizierung aktivieren",reminderDesc:"Aktivieren Sie 2FA fr besseren Kontoschutz.",modalTitle:"Sichern Sie Ihr Konto",modalMessage:"Die Zwei-Faktor-Authentifizierung (2FA) erhht die Kontosicherheit erheblich. Mchten Sie sie jetzt aktivieren?",enableNow:"Jetzt Aktivieren",neverRemind:"Nie wieder erinnern"}},nS={common:{dataLoadError:"Beim Laden der Daten ist ein Fehler aufgetreten"},invoices:{updateSuccess:"Rechnung aktualisiert",updateError:"Rechnung konnte nicht aktualisiert werden",createPartialError:"Rechnung erstellt, aber Verkauf konnte nicht erstellt werden",createWithSaleSuccess:"Rechnung und Verkauf erstellt",cancelSuccess:"Rechnung storniert",cancelError:"Rechnung konnte nicht storniert werden",restoreSuccess:"Rechnung wiederhergestellt",restoreError:"Rechnung konnte nicht wiederhergestellt werden",createSuccess:"Rechnung erfolgreich erstellt"},customers:{updateSuccess:"Kunde aktualisiert",createSuccess:"Kunde hinzugefgt",deleteSuccess:"Kunde gelscht",deleteError:"Kunde konnte nicht gelscht werden"},suppliers:{updateSuccess:"Lieferant aktualisiert",createSuccess:"Lieferant hinzugefgt",deleteSuccess:"Lieferant gelscht",deleteError:"Lieferant konnte nicht gelscht werden"},sales:{customerNotSelected:"Kein Kunde ausgewhlt! Bitte whlen Sie einen gltigen Kunden.",insufficientStock:" Unzureichender Bestand! {{name}} - Verfgbar: {{available}}, Angefordert: {{requested}}",createSuccess:"Verkauf gespeichert",updateSuccess:"Verkauf aktualisiert",localSaved:"Verkauf lokal gespeichert (offline)",stockUpdateFailed:"Verkauf gespeichert, aber Bestand konnte nicht aktualisiert werden",deleteError:"Verkauf konnte nicht gelscht werden",deleteSuccess:"Verkauf erfolgreich gelscht",customerNotFound:"Kunde nicht gefunden! Bitte erstellen Sie zuerst einen Kunden."},expenses:{updateSuccess:"Ausgabe aktualisiert",createSuccess:"Ausgabe hinzugefgt",cancelSuccess:"Ausgabe storniert",cancelError:"Ausgabe konnte nicht storniert werden",statusUpdateSuccess:"Ausgabenstatus aktualisiert",restoreSuccess:"Ausgabe wiederhergestellt",restoreError:"Ausgabe konnte nicht wiederhergestellt werden"},products:{updateSuccess:"Produkt aktualisiert",createSuccess:"Produkt hinzugefgt",deleteSuccess:"Produkt gelscht",deleteError:"Produkt konnte nicht gelscht werden",bulkRemoved:"{{count}} Produkte entfernt",bulkNotFound:"Ausgewhlte Produkte nicht gefunden",bulkArchived:"{{count}} Produkte archiviert",bulkAlreadyArchived:"Ausgewhlte Produkte sind bereits archiviert",bulkPriceUpdateSaved:"Ihre Auswahl fr die Massenpreisaktualisierung wurde gespeichert. Bearbeiten Sie dies in der Produktdetailansicht."},categories:{added:"Kategorie {{name}} hinzugefgt (MwSt.: %{{taxRate}})",addError:"Kategorie konnte nicht hinzugefgt werden",updateSuccess:"Kategorie aktualisiert",deleteSuccess:"Kategorie gelscht",assignmentInfo:"Fr die Kategoriezuteilung verwenden Sie das Kategoriemen im linken Bereich."},bank:{deleteError:"Bank konnte nicht gelscht werden"},quotes:{createSuccess:"Angebot erstellt",createError:"Angebot konnte nicht erstellt werden"}},iS={invoices:{overdue:{title:"berfllige Rechnungszahlung",desc:"{{invoiceNumber}} - {{customerName}} ({{daysOverdue}} Tage berfllig)"},upcoming:{title:"Bevorstehende Rechnungszahlung",desc:"{{invoiceNumber}} - {{customerName}} ({{daysLeft}} Tage verbleiben)"},created:{title:"Neue Rechnung erstellt",desc:"Rechnung {{invoiceNumber}} fr {{customerName}} ist bereit."}},expenses:{overdue:{title:"berfllige Ausgaben-Zahlung",desc:"{{description}} - {{supplierName}} ({{daysOverdue}} Tage berfllig)"},upcoming:{title:"Bevorstehende Ausgaben-Zahlung",desc:"{{description}} - {{supplierName}} ({{daysLeft}} Tage verbleiben)"},created:{title:"Neue Ausgabe erfasst",desc:"{{supplierName}} - {{description}}: {{amount}}"}},products:{lowStock:{title:"Niedriger Lagerbestand",desc:"{{name}} - Bestand unter Mindestniveau ({{stock}}/{{min}})"},outOfStock:{title:"Bestand aufgebraucht",desc:"{{name}} - Bestand aufgebraucht!"}},quotes:{expired:{title:"Angebot abgelaufen",desc:"{{quoteNumber}} - abgelaufen"},dueSoon:{title:"Angebot luft bald ab",desc:"{{quoteNumber}} - {{diffDays}} Tage verbleiben"}},customers:{created:{title:"Neuer Kunde hinzugefgt",desc:"{{name}} wurde registriert."}},suppliers:{created:{title:"Neuer Lieferant hinzugefgt",desc:"{{name}} wurde registriert."}},sales:{created:{title:"Neuer Verkauf erfasst",desc:"{{customerName}} - {{summary}}: {{totalAmount}}"}},plan:{limit:{title:"Planlimit Warnung",invoices:{desc:"Sie nhern sich dem monatlichen Rechnungs-Limit ({{used}}/{{limit}})."},expenses:{desc:"Sie nhern sich dem monatlichen Ausgaben-Limit ({{used}}/{{limit}})."}}}},aS={method:"Zahlungsmethode",cash:"Bargeld",card:"Kredit-/Bankkarte",transfer:"berweisung",check:"Scheck"},oS={title:"Berichte",subtitle:"Detaillierte Analyseberichte fr Ihr Unternehmen",reportDate:"Berichtsdatum",overview:"berblick",basicMetrics:"Grundlegende Metriken",totalIncome:"Gesamteinkommen",totalExpense:"Gesamtausgaben",netProfit:"Nettogewinn",totalCustomers:"Gesamtkunden",net:"Netto",financialHealth:"Finanzielle Gesundheit",profitMargin:"Gewinnmarge",growthRate:"Wachstumsrate",averageSale:"Durchschnittlicher Verkauf",activeCustomers:"Aktive Kunden",paymentStatusAnalysis:"Zahlungsstatusanalyse",invoiceStatuses:"Rechnungsstatus",expenseStatuses:"Ausgabenstatus",vatAnalysis:"MwSt.-Analyse",vatAnalysisSubtitle:"Verfolgen Sie Ihre Mehrwertsteuerpflicht basierend auf bezahlten Rechnungen",currentYearLabel:"Laufendes Jahr ({{year}})",vatYearToDate:"MwSt. seit Jahresbeginn",vatChangeVsLastYear:"{{percent}} vs. Vorjahr ({{lastYear}})",vatThisMonth:"MwSt. diesen Monat",vatChangeVsPreviousMonth:"{{percent}} vs. Vormonat ({{previous}})",vatAverageSixMonths:"Durchschn. MwSt. (6 Monate)",vatAverageHint:"Gleitender Durchschnitt der letzten 6 Monate bezahlter MwSt.",vatMonthlyBreakdown:"Monatliche MwSt.-Aufschlsselung",lastMonthsPerformance:"Letzte {{count}} Monate",noVatData:"Noch keine MwSt.-Daten",revenueAnalysis:"Umsatzanalyse",productBasedSales:"Produktbasierte Verkufe",sales:"Verkufe",avg:"",monthlyRevenueTrend:"Monatlicher Umsatztrend",expenseAnalysis:"Ausgabenanalyse",categoryBasedExpenses:"Kategoriebasierte Ausgaben",expenses:"Ausgaben",monthlyExpenseTrend:"Monatlicher Ausgabentrend",topSuppliers:"Top-Lieferanten nach Ausgaben",lastExpense:"Letzte",recentExpenses:"Letzte Ausgaben",expenseCategoryDistribution:"Ausgabenkategorieverteilung",customerAnalysis:"Kundenanalyse",topCustomers:"Top-Kunden",purchases:"Einkufe",last:"Letzte",customerStatistics:"Kundenstatistiken",activeCustomersCount:"Aktive Kunden",revenuePerCustomer:"Umsatz pro Kunde",salesPerCustomer:"Verkufe pro Kunde",averagePurchases:"Durchschnittliche Einkufe",maxPurchases:"Maximale Einkufe",performanceReports:"Leistungsberichte",kpiDashboard:"KPI-Dashboard",increase:"Zunahme",decrease:"Abnahme",monthlyPerformanceTable:"Monatliche Leistungstabelle",total6Months:"Gesamt (6 Monate)",totalIncome6Months:"Gesamteinkommen (6 Monate)",totalExpense6Months:"Gesamtausgaben (6 Monate)",netProfit6Months:"Nettogewinn (6 Monate)",month:"Monat",profit:"Gewinn",profitMarginPercent:"Gewinnmarge",expenseRatio:"Ausgabenverhltnis",expenseEfficiency:"Ausgabeneffizienzanalyse",expenseCategoryPerformance:"Ausgabenkategorieleistung",noSupplier:"Kein Lieferant",noCustomer:"Kein Kunde",last6MonthsPerformance:"Leistung der letzten 6 Monate (neueste  lteste)",quoteAnalysis:"Angebotsanalyse",quoteStatuses:"Angebotsstatus",totalQuotes:"Gesamtangebote",acceptedRate:"Akzeptanzrate",averageQuote:"Durchschnittliches Angebot",expiringSoon:"Bald ablaufend",recentQuotes:"Aktuelle Angebote",daysLeft:"Verbleibende Tage",quotes:"Angebote"},lS={totalCredit:"Gesamtgutschrift",totalDebit:"Gesamtbelastung",netBalance:"Nettosaldo",entry:{invoicePrefix:"Rechnung",expensePrefix:"Ausgabe",salePrefix:"Direktverkauf"}},cS={equipment:"Ausrstung",utilities:"Versorgungsunternehmen",rent:"Miete",salaries:"Gehlter",personnel:"Personal",supplies:"Verbrauchsmaterialien",marketing:"Marketing",travel:"Reisen",insurance:"Versicherung",taxes:"Steuern",other:"Andere"},dS={title:"Archiv",subtitle:"Ihre abgeschlossenen und historischen Aufzeichnungen",totalArchive:"Gesamtarchiv",archivedInvoices:"Archivierte Rechnungen",archivedExpenses:"Archivierte Ausgaben",archivedSales:"Archivierte Verkufe",totalContacts:"Gesamtkontakte",searchPlaceholder:"Im Archiv suchen...",clearFilters:"Filter Lschen",tabs:{all:"Alle",invoices:"Rechnungen",expenses:"Ausgaben",sales:"Verkufe",contacts:"Kontakte"},sections:{archivedInvoices:"Archivierte Rechnungen",archivedExpenses:"Archivierte Ausgaben",archivedSales:"Archivierte Verkufe",customers:"Kunden",suppliers:"Lieferanten",archiveSummary:"Archivzusammenfassung"},empty:{invoices:"Keine archivierten Rechnungen",invoicesHelper:"Bezahlte oder berfllige Rechnungen erscheinen hier",expenses:"Keine archivierten Ausgaben",expensesHelper:"Bezahlte Ausgaben erscheinen hier",sales:"Keine archivierten Verkufe",salesHelper:"Abgeschlossene Verkufe erscheinen hier",customers:"Keine Kunden gefunden",suppliers:"Keine Lieferanten gefunden"},table:{invoice:"Rechnung",customer:"Kunde",amount:"Betrag",status:"Status",date:"Datum",actions:"Aktionen",expense:"Ausgabe",supplier:"Lieferant",category:"Kategorie",sale:"Verkauf",product:"Produkt/Dienstleistung",registered:"Registriert"},actions:{view:"Ansehen",download:"Herunterladen"},summary:{financial:"Finanzielle Zusammenfassung",totalIncome:"Gesamtarchiviertes Einkommen",totalExpense:"Gesamtarchivierte Ausgaben",netArchive:"Nettoarchiv",recordCounts:"Datensatzanzahl"},info:{title:"ber Archiv",description:"Die Archivseite speichert Ihre abgeschlossenen Transaktionen. Bezahlte Rechnungen, genehmigte Ausgaben und abgeschlossene Verkufe werden hier automatisch aufgelistet. Diese Aufzeichnungen sind schreibgeschtzt und knnen fr historische Analysen und Prfungszwecke verwendet werden."}},uS={required:"Dieses Feld ist erforderlich",invalidEmail:"Ungltige E-Mail-Adresse",invalidPhone:"Ungltige Telefonnummer",minLength:"Mindestlnge {{min}} Zeichen",maxLength:"Maximale Lnge {{max}} Zeichen",invalidNumber:"Ungltige Nummer",categoryRequired:"Bitte whlen Sie eine Kategorie",dueDateRequired:"Bitte whlen Sie ein Flligkeitsdatum",saleDateRequired:"Verkaufsdatum ist erforderlich",unitPriceRequired:"Einzelpreis muss grer als null sein",quantityRequired:"Menge muss grer als null sein",customerNameRequired:"Kundenname ist erforderlich",customerNotFound:"Kunde im System nicht gefunden. Bitte aus der Liste whlen.",productNameRequired:"Produkt- oder Dienstleistungsname ist erforderlich",productNotFound:"Produkt im System nicht gefunden. Bitte aus der Liste whlen.",skuRequired:"SKU ist erforderlich",validPriceRequired:"Bitte geben Sie einen gltigen Preis ein",validStockRequired:"Bitte geben Sie eine gltige Lagermenge ein",descriptionRequired:"Bitte geben Sie eine Beschreibung ein",amountRequired:"Bitte geben Sie einen gltigen Betrag ein"},mS=JSON.parse('{"terms":{"title":"Allgemeine Geschftsbedingungen","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Service-bersicht","content":"Comptario ist eine cloudbasierte Vorbuchhaltungs-Software-Plattform, die Unternehmen dabei hilft, ihre Rechnungen, Ausgaben und finanziellen Operationen zu verwalten. Die Plattform bietet Multi-Whrungsuntersttzung, automatisierte MwSt-Berechnungen und integrierte Berichtstools."},"section2":{"title":"2. Benutzerkonten und Registrierung","content":"Um Comptario zu nutzen, mssen Sie ein Konto erstellen, indem Sie genaue und vollstndige Informationen bereitstellen. Sie sind verantwortlich fr die Vertraulichkeit Ihrer Kontoanmeldedaten und fr alle Aktivitten, die unter Ihrem Konto stattfinden."},"section3":{"title":"3. Akzeptable Nutzung","content":"Sie stimmen zu, Comptario nur fr rechtmige Zwecke und in bereinstimmung mit diesen Bedingungen zu verwenden. Sie drfen den Service nicht fr illegale Aktivitten, Verletzung von Urheberrechten oder Strung der Plattformfunktionalitt verwenden."},"section4":{"title":"4. Dateneigentum und Datenschutz","content":"Sie behalten das Eigentum an allen Daten, die Sie in Comptario eingeben. Wir verarbeiten Ihre Daten in bereinstimmung mit unserer Datenschutzrichtlinie und geltenden Datenschutzgesetzen, einschlielich GDPR. Wir implementieren angemessene Sicherheitsmanahmen zum Schutz Ihrer Informationen."},"section5":{"title":"5. Service-Verfgbarkeit","content":"Whrend wir uns bemhen, 99,9% Betriebszeit aufrechtzuerhalten, kann Comptario gelegentlich Service-Unterbrechungen fr Wartung, Updates oder unvorhergesehene technische Probleme erleben. Wir werden im Voraus ber geplante Wartungsarbeiten informieren, wann immer mglich."},"section6":{"title":"6. Abonnement und Abrechnung","content":"Comptario bietet verschiedene Abonnementplne mit unterschiedlichen Funktionen und Nutzungslimits. Die Abrechnung wird automatisch entsprechend Ihrem gewhlten Plan verarbeitet. Sie knnen Ihr Abonnement jederzeit upgraden, downgraden oder kndigen."},"section7":{"title":"7. Datensicherung und Export","content":"Wir fhren regelmige automatisierte Backups Ihrer Daten durch. Sie knnen Ihre Daten jederzeit in Standardformaten exportieren. Bei Kontokndigung behalten wir Ihre Daten 90 Tage lang, bevor sie dauerhaft gelscht werden, es sei denn, das Gesetz verlangt etwas anderes."},"section8":{"title":"8. Haftungsbeschrnkung","content":"Comptarios Haftung ist auf den Betrag beschrnkt, den Sie fr den Service in den 12 Monaten vor einem Anspruch bezahlt haben. Wir haften nicht fr indirekte, zufllige oder Folgeschden."},"section9":{"title":"9. Geistiges Eigentum","content":"Die Comptario-Plattform, einschlielich ihrer Software, ihres Designs und ihrer Inhalte, ist durch Gesetze zum geistigen Eigentum geschtzt. Ihnen wird eine begrenzte Lizenz zur Nutzung des Services gem diesen Bedingungen gewhrt."},"section10":{"title":"10. Kndigung","content":"Jede Partei kann diese Vereinbarung jederzeit kndigen. Bei Kndigung wird Ihr Zugang zum Service eingestellt und wir werden Ihre Daten gem unserer Datenaufbewahrungsrichtlinie lschen."},"section11":{"title":"11. Geltendes Recht","content":"Diese Bedingungen unterliegen den Gesetzen der Europischen Union und der Gerichtsbarkeit, wo Comptario ttig ist. Alle Streitigkeiten werden durch verbindliche Schiedsverfahren gelst."},"section12":{"title":"12. nderungen der Bedingungen","content":"Wir knnen diese Bedingungen von Zeit zu Zeit aktualisieren. Wir werden Sie ber wichtige nderungen per E-Mail oder ber die Plattform benachrichtigen. Die fortgesetzte Nutzung von Comptario nach nderungen stellt die Annahme der neuen Bedingungen dar."}},"privacy":{"title":"Datenschutzrichtlinie","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Informationen, die wir sammeln","content":"Wir sammeln Informationen, die Sie direkt bereitstellen (Kontodetails, Finanzdaten), automatisch gesammelte Informationen (Nutzungsdaten, IP-Adressen) und Informationen von Dritten (Zahlungsabwickler, Integrationen)."},"section2":{"title":"2. Wie wir Ihre Informationen verwenden","content":"Wir verwenden Ihre Informationen, um unsere Services bereitzustellen und zu verbessern, Zahlungen zu verarbeiten, mit Ihnen zu kommunizieren, Sicherheit zu gewhrleisten und rechtliche Verpflichtungen zu erfllen."},"section3":{"title":"3. Informationsaustausch","content":"Wir verkaufen oder vermieten Ihre persnlichen Informationen nicht. Wir knnen Informationen mit Serviceanbietern teilen, fr rechtliche Compliance oder mit Ihrer ausdrcklichen Zustimmung."},"section4":{"title":"4. Datensicherheit","content":"Wir implementieren branchenbliche Sicherheitsmanahmen einschlielich Verschlsselung bei bertragung und Speicherung, regelmige Sicherheitsaudits, Zugriffskontrollen und sichere Rechenzentren."},"section5":{"title":"5. Ihre Rechte (GDPR)","content":"Unter GDPR haben Sie Rechte auf Zugang, Berichtigung, Lschung, Beschrnkung der Verarbeitung, Datenportabilitt und Widerspruch gegen die Verarbeitung Ihrer persnlichen Daten. Sie knnen auch die Einwilligung widerrufen und Beschwerden bei Aufsichtsbehrden einreichen."},"section6":{"title":"6. Datenaufbewahrung","content":"Wir bewahren Ihre Daten so lange auf, wie Ihr Konto aktiv ist und fr einen angemessenen Zeitraum danach fr rechtliche und geschftliche Zwecke. Sie knnen jederzeit die Lschung von Daten anfordern."},"section7":{"title":"7. Internationale bertragungen","content":"Ihre Daten werden hauptschlich innerhalb der EU verarbeitet. Alle internationalen bertragungen sind durch angemessene Schutzmanahmen wie Standardvertragsklauseln geschtzt."},"section8":{"title":"8. Cookies und Tracking","content":"Wir verwenden Cookies und hnliche Technologien fr Authentifizierung, Einstellungen, Analytik und Sicherheit. Sie knnen Cookie-Einstellungen ber Ihren Browser steuern."},"section9":{"title":"9. Drittanbieter-Services","content":"Unsere Plattform kann mit Drittanbieter-Services integriert werden. Ihre Datenschutzpraktiken unterliegen ihren eigenen Datenschutzrichtlinien, die wir Ihnen empfehlen zu berprfen."},"section10":{"title":"10. Datenschutz fr Kinder","content":"Comptario ist nicht fr Nutzer unter 18 Jahren bestimmt. Wir sammeln wissentlich keine persnlichen Informationen von Kindern unter 18 Jahren."},"section11":{"title":"11. Kontaktinformationen","content":"Fr datenschutzbezogene Fragen oder zur Ausbung Ihrer Rechte kontaktieren Sie unseren Datenschutzbeauftragten unter privacy@comptario.com oder ber unser Support-Portal."}},"cookies":{"title":"Cookie-Richtlinie","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Was sind Cookies","content":"Cookies sind kleine Textdateien, die auf Ihrem Gert gespeichert werden, wenn Sie unsere Website besuchen. Sie helfen uns, Ihnen ein besseres Erlebnis zu bieten, indem sie sich an Ihre Prferenzen erinnern und die Website-Nutzung analysieren."},"section2":{"title":"2. Arten von Cookies, die wir verwenden","content":"Wir verwenden essenzielle Cookies (notwendig fr grundlegende Funktionalitt), funktionale Cookies (erinnern sich an Prferenzen), Analytik-Cookies (verstehen Nutzungsmuster) und Sicherheits-Cookies (Schutz vor Bedrohungen)."},"section3":{"title":"3. Essenzielle Cookies","content":"Diese Cookies sind notwendig, damit die Website ordnungsgem funktioniert. Sie ermglichen Kernfunktionalitten wie Benutzerauthentifizierung, Sitzungsverwaltung und Sicherheitsfeatures. Diese knnen nicht deaktiviert werden."},"section4":{"title":"4. Funktionale Cookies","content":"Diese Cookies erinnern sich an Ihre Prferenzen und Auswahlen, um erweiterte Funktionalitt zu bieten, wie Sprachauswahl, Zeitzoneneinstellungen und Benutzeroberflchen-Anpassungen."},"section5":{"title":"5. Analytik-Cookies","content":"Wir verwenden Analytik-Cookies, um zu verstehen, wie Besucher mit unserer Website interagieren. Dies hilft uns, unsere Services und Benutzererfahrung zu verbessern. Alle Analytikdaten werden aggregiert und anonymisiert."},"section6":{"title":"6. Drittanbieter-Cookies","content":"Einige Cookies werden von Drittanbieter-Services gesetzt, die wir verwenden, wie Analytik-Anbieter oder Zahlungsabwickler. Diese unterliegen den jeweiligen Datenschutzrichtlinien der Drittanbieter."},"section7":{"title":"7. Cookie-Dauer","content":"Sitzungs-Cookies werden gelscht, wenn Sie Ihren Browser schlieen. Dauerhafte Cookies bleiben fr einen festgelegten Zeitraum auf Ihrem Gert oder bis Sie sie manuell lschen."},"section8":{"title":"8. Cookies verwalten","content":"Sie knnen Cookies ber Ihre Browser-Einstellungen steuern und verwalten. Sie knnen bestehende Cookies lschen und Ihren Browser so einstellen, dass er Cookies akzeptiert oder ablehnt. Beachten Sie, dass das Deaktivieren von Cookies die Website-Funktionalitt beeintrchtigen kann."},"section9":{"title":"9. Cookie-Zustimmung","content":"Durch die Nutzung unserer Website stimmen Sie der Verwendung von Cookies zu, wie in dieser Richtlinie beschrieben. Sie knnen Ihre Zustimmung jederzeit widerrufen, indem Sie Ihre Browser-Einstellungen anpassen."},"section10":{"title":"10. Aktualisierungen der Cookie-Richtlinie","content":"Wir knnen diese Cookie-Richtlinie von Zeit zu Zeit aktualisieren. Wir werden Sie ber wichtige nderungen benachrichtigen, indem wir die aktualisierte Richtlinie mit einem neuen Gltigkeitsdatum auf unserer Website verffentlichen."}},"dpa":{"title":"Datenverarbeitungsvereinbarung (DPA)","lastUpdated":"Zuletzt aktualisiert: {{date}}","section1":{"title":"1. Definitionen und Geltungsbereich","content":"Diese Datenverarbeitungsvereinbarung (\\"DPA\\") ist Teil der Nutzungsbedingungen zwischen Ihnen (\\"Verantwortlicher\\") und Comptario (\\"Auftragsverarbeiter\\"). Sie regelt die Verarbeitung personenbezogener Daten in bereinstimmung mit GDPR und anderen anwendbaren Datenschutzgesetzen."},"section2":{"title":"2. Einzelheiten der Datenverarbeitung","content":"Comptario verarbeitet personenbezogene Daten nur auf dokumentierte Anweisungen des Verantwortlichen, fr die Zwecke der Bereitstellung der Buchhaltungssoftware-Services und in bereinstimmung mit geltenden Datenschutzgesetzen."},"section3":{"title":"3. Datenkategorien","content":"Wir verarbeiten die folgenden Kategorien personenbezogener Daten: Kontaktinformationen (Namen, Adressen, E-Mails), Finanzdaten (Rechnungen, Zahlungen, Transaktionen), Benutzerkontodaten (Anmeldedaten, Prferenzen) und Nutzungsdaten (Zugriffsprotokolle, Analytik)."},"section4":{"title":"4. Rechte der betroffenen Personen","content":"Comptario untersttzt den Verantwortlichen bei der Erfllung von Antrgen betroffener Personen, einschlielich Zugang, Berichtigung, Lschung, Einschrnkung, Portabilitt und Widerspruch. Wir stellen notwendige Tools und Kooperation zur Verfgung, um Compliance zu ermglichen."},"section5":{"title":"5. Sicherheitsmanahmen","content":"Wir implementieren angemessene technische und organisatorische Manahmen zur Gewhrleistung der Datensicherheit, einschlielich Verschlsselung, Zugriffskontrollen, regelmige Sicherheitsbewertungen, Mitarbeiterschulungen und Incident-Response-Verfahren."},"section6":{"title":"6. Unterauftragsverarbeiter","content":"Comptario kann Unterauftragsverarbeiter einsetzen, um bei der Bereitstellung von Services zu helfen. Alle Unterauftragsverarbeiter unterliegen Datenschutzverpflichtungen, die denen in dieser DPA entsprechen. Eine aktuelle Liste der Unterauftragsverarbeiter ist auf Anfrage verfgbar."},"section7":{"title":"7. Datenbertragungen","content":"Personenbezogene Daten werden hauptschlich innerhalb der EU/EWR verarbeitet. Alle bertragungen in Drittlnder sind durch angemessene Schutzmanahmen wie Standardvertragsklauseln oder Angemessenheitsbeschlsse geschtzt."},"section8":{"title":"8. Benachrichtigung bei Datenschutzverletzungen","content":"Comptario wird den Verantwortlichen ber alle Verletzungen des Schutzes personenbezogener Daten unverzglich und binnen 72 Stunden nach Bekanntwerden der Verletzung benachrichtigen und alle relevanten Informationen fr die Beurteilung und Meldepflichten bereitstellen."},"section9":{"title":"9. Datenschutz-Folgenabschtzung","content":"Auf Anfrage wird Comptario angemessene Untersttzung beim Verantwortlichen bei der Durchfhrung von Datenschutz-Folgenabschtzungen (DSFA) und vorherigen Konsultationen mit Aufsichtsbehrden leisten."},"section10":{"title":"10. Prfung und Compliance","content":"Comptario fhrt Aufzeichnungen ber Verarbeitungsttigkeiten und stellt dem Verantwortlichen Informationen zur Verfgung, die notwendig sind, um die Einhaltung von Datenschutzverpflichtungen zu demonstrieren, einschlielich Prfungsrechten vorbehaltlich Vertraulichkeitsverpflichtungen."},"section11":{"title":"11. Datenrckgabe und Lschung","content":"Bei Beendigung der Services wird Comptario nach Wahl des Verantwortlichen alle personenbezogenen Daten und bestehende Kopien zurckgeben oder lschen, es sei denn, die Aufbewahrung ist nach geltendem Recht erforderlich."},"section12":{"title":"12. Haftung und Entschdigung","content":"Die Haftung jeder Partei ist auf Schden beschrnkt, die direkt durch ihre Verletzung dieser DPA verursacht wurden. Comptario wird den Verantwortlichen gegen Ansprche entschdigen, die aus Comptarios Verletzung seiner Datenschutzverpflichtungen resultieren."}},"subprocessors":{"title":"Liste der Unterauftragsverarbeiter","lastUpdated":"Zuletzt aktualisiert: {{date}}","intro":"Comptario kann die folgenden Unterauftragsverarbeiter einsetzen, um bei der Bereitstellung unserer Services zu helfen. Alle Unterauftragsverarbeiter unterliegen strengen Datenschutzverpflichtungen.","section1":{"title":"1. Cloud-Infrastruktur-Anbieter","aws":{"name":"Amazon Web Services (AWS)","location":"EU (Frankfurt)","purpose":"Cloud-Hosting und Infrastrukturdienste","safeguards":"AWS GDPR-Compliance, EU-Datenresidenz"},"digitalocean":{"name":"DigitalOcean","location":"EU (Amsterdam)","purpose":"Zustzliche Cloud-Hosting und Backup-Services","safeguards":"Standardvertragsklauseln, EU-Hosting"}},"section2":{"title":"2. Zahlungsabwickler","stripe":{"name":"Stripe","location":"EU/US","purpose":"Zahlungsabwicklung und Abonnementverwaltung","safeguards":"PCI DSS-Compliance, Standardvertragsklauseln"},"paypal":{"name":"PayPal","location":"EU/US","purpose":"Alternative Zahlungsabwicklung","safeguards":"PCI DSS-Compliance, Privacy Shield-Nachfolger"}},"section3":{"title":"3. Kommunikationsdienste","sendgrid":{"name":"SendGrid (Twilio)","location":"EU/US","purpose":"Transaktions-E-Mail-Zustellung","safeguards":"Standardvertragsklauseln, EU-Verarbeitung"},"intercom":{"name":"Intercom","location":"EU/US","purpose":"Kundensupport und Kommunikation","safeguards":"Standardvertragsklauseln, GDPR-Compliance"}},"section4":{"title":"4. Analytik und berwachung","googleanalytics":{"name":"Google Analytics","location":"EU/US","purpose":"Website-Analytik und Leistungsberwachung","safeguards":"Google Analytics 4 mit EU-Datenverarbeitung"},"sentry":{"name":"Sentry","location":"EU/US","purpose":"Fehlerberwachung und Anwendungsleistung","safeguards":"Standardvertragsklauseln, Datenanonymisierung"}},"section5":{"title":"5. Sicherheitsdienste","cloudflare":{"name":"Cloudflare","location":"Global (EU-Knoten)","purpose":"CDN, DDoS-Schutz und Sicherheitsdienste","safeguards":"EU-Datenlokalisierung, Standardvertragsklauseln"}},"section6":{"title":"6. Backup- und Archivdienste","backblaze":{"name":"Backblaze","location":"EU","purpose":"Datensicherung und Archivierungsdienste","safeguards":"Verschlsselung in Ruhe und bei bertragung, EU-Hosting"}},"notifications":{"title":"Benachrichtigungen ber nderungen bei Unterauftragsverarbeitern","content":"Wir werden 30 Tage im Voraus ber neue Unterauftragsverarbeiter oder nderungen bei bestehenden informieren. Sie knnen gegen solche nderungen Einspruch erheben, und falls wir Ihre Bedenken nicht lsen knnen, knnen Sie Ihre Vereinbarung mit uns kndigen."},"contact":{"title":"Fragen zu Unterauftragsverarbeitern","content":"Wenn Sie Fragen zu unseren Unterauftragsverarbeitern haben oder zustzliche Informationen ber Datenschutzschutzmanahmen bentigen, kontaktieren Sie uns bitte unter privacy@comptario.com."}},"common":{"backToApp":" Zurck zur App","effectiveDate":"Gltigkeitsdatum","tableOfContents":"Inhaltsverzeichnis","printPage":"Diese Seite drucken","downloadPdf":"PDF herunterladen","lastUpdated":"Zuletzt aktualisiert","contactUs":"Kontaktieren Sie uns unter","questionsContact":"Wenn Sie Fragen zu diesen {{document}} haben, kontaktieren Sie uns bitte unter {{email}}.","documentType":{"terms":"Allgemeine Geschftsbedingungen","privacy":"Datenschutzrichtlinie","cookies":"Cookie-Richtlinie","dpa":"Datenverarbeitungsvereinbarung","subprocessors":"Unterauftragsverarbeiter-Liste"},"navigation":{"terms":"AGB","privacy":"Datenschutz","cookies":"Cookies","dpa":"AVV","subprocessors":"Unterauftragsverarbeiter"}}}'),hS={banner:{title:"Cookie-Einstellungen",description:"Diese Website verwendet Cookies, um Ihre Erfahrung zu verbessern. Sie knnen whlen, welche Cookies zugelassen werden sollen.",acceptAll:"Alle akzeptieren",rejectAll:"Alle ablehnen",managePreferences:"Einstellungen verwalten",savePreferences:"Einstellungen speichern",close:"Schlieen"},modal:{title:"Cookie-Einstellungen",description:"Sie knnen Cookie-Kategorien berprfen und Ihre Prferenzen festlegen. Lesen Sie die Beschreibung jeder Kategorie, um zu entscheiden, welche Cookies zugelassen werden sollen.",necessary:{title:"Notwendige Cookies",description:"Diese Cookies sind fr das ordnungsgeme Funktionieren der Website unerlsslich und knnen nicht deaktiviert werden. Sie werden normalerweise als Reaktion auf Aktionen wie Anmelden oder Ausfllen von Formularen gesetzt.",alwaysActive:"Immer aktiv"},analytics:{title:"Analyse-Cookies",description:"Diese Cookies helfen uns zu verstehen, wie die Website genutzt wird. Sie sammeln Informationen darber, welche Seiten am hufigsten besucht werden und wie Benutzer auf der Website navigieren.",enabled:"Aktiviert",disabled:"Deaktiviert"},marketing:{title:"Marketing-Cookies",description:"Diese Cookies werden verwendet, um Ihnen relevantere Anzeigen zu zeigen. Sie knnen unseren Werbepartnern helfen, ein Profil Ihrer Interessen zu erstellen.",enabled:"Aktiviert",disabled:"Deaktiviert"},acceptSelected:"Ausgewhlte akzeptieren",acceptAll:"Alle akzeptieren",rejectAll:"Alle ablehnen",cancel:"Abbrechen"},notice:{updated:"Ihre Cookie-Einstellungen wurden aktualisiert.",saved:"Cookie-Einstellungen gespeichert."},categories:{necessary:"Notwendig",analytics:"Analyse",marketing:"Marketing"}},fS={title:"Geschftsjahre",subtitle:"Verwalten Sie Ihre Geschftsjahr-Einstellungen",newPeriod:"Neue Periode",search:"Perioden suchen...",periodsRegistered:"Perioden registriert",noPeriods:"Noch keine Geschftsjahre",noPeriodsFound:"Keine Geschftsjahre gefunden",noPeriodsDesc:"Beginnen Sie mit der Erstellung Ihres ersten Geschftsjahrs.",noPeriodsFoundDesc:"Keine Geschftsjahre entsprechen Ihren Suchkriterien.",createFirstPeriod:"Erstes Geschftsjahr erstellen",periodName:"Periodenname",startDate:"Startdatum",endDate:"Enddatum",status:"Status",actions:"Aktionen",view:"Ansehen",edit:"Bearbeiten",lock:"Sperren",unlock:"Entsperren",delete:"Lschen",viewPeriod:"Geschftsjahr ansehen",editPeriod:"Geschftsjahr bearbeiten",addPeriod:"Geschftsjahr hinzufgen",enterPeriodInfo:"Geschftsjahr-Informationen eingeben",periodNamePlaceholder:"z.B.: Jahr 2024",periodDuration:"Periodendauer",days:"Tage",locked:"Gesperrt",active:"Aktiv",planned:"Geplant",statusLabels:{active:"Aktiv",locked:"Gesperrt",planned:"Geplant"},lockPeriod:"Geschftsjahr sperren",unlockPeriod:"Geschftsjahr entsperren",lockConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr sperren mchten? Gesperrte Perioden knnen nicht bearbeitet werden.",unlockConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr entsperren mchten?",deleteConfirm:"Sind Sie sicher, dass Sie dieses Geschftsjahr lschen mchten?",validation:{nameRequired:"Periodenname ist erforderlich",startDateRequired:"Startdatum ist erforderlich",endDateRequired:"Enddatum ist erforderlich",endDateAfterStart:"Enddatum muss nach dem Startdatum liegen",periodOverlap:"Diese Daten berschneiden sich mit einer bestehenden Periode",minimumDuration:"Geschftsjahr muss mindestens 1 Tag dauern"},errors:{createFailed:"Geschftsjahr konnte nicht erstellt werden",updateFailed:"Geschftsjahr konnte nicht aktualisiert werden",deleteFailed:"Geschftsjahr konnte nicht gelscht werden",lockFailed:"Geschftsjahr konnte nicht gesperrt werden",unlockFailed:"Geschftsjahr konnte nicht entsperrt werden",loadFailed:"Geschftsjahre konnten nicht geladen werden",periodLocked:"Dieses Geschftsjahr ist gesperrt und kann nicht gendert werden",periodNotFound:"Geschftsjahr nicht gefunden",operationNotAllowed:"Diese Operation ist fr gesperrte Geschftsjahre nicht erlaubt"},success:{created:"Geschftsjahr erfolgreich erstellt",updated:"Geschftsjahr erfolgreich aktualisiert",deleted:"Geschftsjahr erfolgreich gelscht",locked:"Geschftsjahr erfolgreich gesperrt",unlocked:"Geschftsjahr erfolgreich entsperrt"},widget:{title:"Geschftsjahre",activePeriod:"Aktive Periode",totalPeriods:"Gesamte Perioden",lockedPeriods:"Gesperrte Perioden",daysRemaining:"Verbleibende Tage",noActivePeriod:"Keine aktive Periode",periodsOverlapping:"berschneidende Perioden vorhanden",allPeriodsLocked:"Alle Perioden sind gesperrt",createActivePeriod:"Aktive Periode erstellen",managePeriods:"Perioden verwalten",warnings:{overlapping:"Einige Geschftsjahre berschneiden sich",noActive:"Derzeit kein aktives Geschftsjahr",allLocked:"Alle Geschftsjahre sind gesperrt"}},filters:{showVoided:"Stornierte anzeigen",hideVoided:"Stornierte ausblenden",voidedRecords:"stornierte Datenstze"}},pS={members:{title:"Organisationsmitglieder",subtitle:"Verwalten Sie Ihre Organisationsmitglieder und Berechtigungen",search:"Mitglieder suchen...",membersCount:"Mitglieder",member:"Mitglied",email:"E-Mail",role:"Rolle",statusLabel:"Status",actions:"Aktionen",inviteButton:"Einladung senden",sending:"Wird gesendet...",table:{name:"Name",email:"E-Mail",role:"Rolle",lastLogin:"Letzte Anmeldung",joinedAt:"Beitrittsdatum",actions:"Aktionen"},edit:"Bearbeiten",cancel:"Abbrechen",resend:"Erneut senden",makeAdmin:"Zum Administrator machen",makeMember:"Zum Mitglied machen",empty:{title:"Noch keine Mitglieder",subtitle:"Laden Sie Ihr erstes Teammitglied ein.",action:"Mitglied einladen"},noMembers:"Noch keine Mitglieder",noMembersDesc:"Laden Sie Ihr erstes Teammitglied ein.",noPendingInvites:"Keine ausstehenden Einladungen",noPendingInvitesDesc:"Alle Einladungen wurden angenommen oder sind abgelaufen.",roles:{owner:"Inhaber",admin:"Administrator",member:"Mitglied",viewer:"Betrachter",OWNER:"Inhaber",ADMIN:"Administrator",MEMBER:"Mitglied"},status:{active:"Aktiv",pending:"Ausstehend",inactive:"Inaktiv"},permissions:{owner:"Vollzugriff auf alle Funktionen und Einstellungen",admin:"Vollzugriff auer Abrechnung und Organisationslschung",member:"Rechnungen, Ausgaben, Kunden erstellen und bearbeiten",viewer:"Nur-Lese-Zugriff auf alle Daten"},confirmRemove:"Sind Sie sicher, dass Sie dieses Mitglied entfernen mchten?",confirmCancel:"Sind Sie sicher, dass Sie diese Einladung stornieren mchten?",inviteSuccess:"Einladung erfolgreich gesendet",inviteError:"Einladung konnte nicht gesendet werden",removeSuccess:"Mitglied erfolgreich entfernt",removeError:"Mitglied konnte nicht entfernt werden",updateSuccess:"Mitglied erfolgreich aktualisiert",updateError:"Mitglied konnte nicht aktualisiert werden",validation:{emailRequired:"E-Mail ist erforderlich",emailInvalid:"Bitte geben Sie eine gltige E-Mail-Adresse ein",emailExists:"Diese E-Mail ist bereits eingeladen oder ist bereits Mitglied"},tryAgain:"Erneut Versuchen",organization:"Organisation",membersLabel:"Mitglieder",plan:"Tarif",youLabel:"Sie",limitFull:"Limit erreicht",invite:{title:"Mitglied einladen",button:"Einladung senden",limitReached:"Plan-Limit erreicht. Upgraden Sie Ihren Plan, um weitere Mitglieder einzuladen.",success:"Einladung erfolgreich gesendet",error:"Einladung konnte nicht gesendet werden",duplicate:"Diese E-Mail ist bereits eingeladen",form:{email:"E-Mail-Adresse",emailPlaceholder:"beispiel@email.com",role:"Rolle"}},pendingInvites:{title:"Ausstehende Einladungen",count:"{{count}} ausstehende Einladungen",resend:"Erneut senden",cancel:"Abbrechen",cancelConfirm:"Sind Sie sicher, dass Sie diese Einladung stornieren mchten? ({{email}})",expires:"Luft ab am {{date}}",resendSuccess:"Einladung erneut gesendet",cancelSuccess:"Einladung storniert"},remove:{title:"Mitglied Entfernen",message:"Sind Sie sicher, dass Sie {{name}} aus der Organisation entfernen mchten?",warning:"Diese Aktion kann nicht rckgngig gemacht werden.",confirm:"Ja, Entfernen",cancel:"Abbrechen",success:"Mitglied erfolgreich entfernt",error:"Mitglied konnte nicht entfernt werden",cannotRemoveOwner:"Inhaber kann nicht entfernt werden"},updateRole:{success:"Mitgliedsrolle aktualisiert",error:"Mitgliedsrolle konnte nicht aktualisiert werden"}},join:{title:"Organisation beitreten",subtitle:"Du wurdest eingeladen, {{orgName}} beizutreten",invitedBy:"Eingeladen von {{name}}",role:"Rolle: {{role}}",accept:"Einladung annehmen",decline:"Ablehnen",expired:{title:"Einladung abgelaufen",subtitle:"Dieser Einladungslink ist abgelaufen",action:"Neue Einladung anfordern"},invalid:{title:"Ungltige Einladung",subtitle:"Dieser Einladungslink ist ungltig",action:"Zur Startseite"},success:{title:"Willkommen!",subtitle:"Du bist {{orgName}} erfolgreich beigetreten",action:"Zum Dashboard"},error:{title:"Fehler",subtitle:"Beim Annehmen der Einladung ist ein Fehler aufgetreten",tryAgain:"Erneut versuchen"},alreadyMember:{title:"Bereits Mitglied",subtitle:"Du bist bereits Mitglied dieser Organisation",action:"Zum Dashboard"},details:{organizationLabel:"Organisation",emailLabel:"Eingeladene E-Mail",expiresLabel:"Luft ab",roleLabel:"Rolle"},passwordFlow:{title:"Passwort festlegen",description:"Lege ein Passwort fr dein Konto fr {{email}} fest. Eine E-Mail-Besttigung ist nicht erforderlich.",passwordLabel:"Passwort",passwordPlaceholder:"Mindestens 6 Zeichen",showPassword:"Anzeigen",hidePassword:"Ausblenden",submit:"Konto erstellen und beitreten",submitting:"Wird gespeichert...",toastSuccess:"Einladung akzeptiert. Willkommen!"},loadingState:{title:"Einladung wird berprft...",subtitle:"Bitte warten, whrend wir deine Einladung validieren."},guestFallback:{loading:"Ungltige Einladung oder wird geladen..."},emailMismatch:{title:"Warnung",body:"Diese Einladung wurde an {{inviteEmail}} gesendet, du bist jedoch als {{currentEmail}} angemeldet.",loginAction:"Als {{inviteEmail}} anmelden",registerAction:"Als {{inviteEmail}} registrieren"},accepting:"Beitritt luft..."}},gS={invoice:{title:"RECHNUNG",appSubtitle:"comptario Buchhaltungssystem",customerInfo:"Kundendaten",invoiceNumber:"Rechnungs-Nr.",issueDate:"Ausstellungsdatum",dueDate:"Flligkeitsdatum",status:"Status",items:{description:"Beschreibung",quantity:"Menge",unitPrice:"Einzelpreis",total:"Summe"},totals:{subtotal:"Zwischensumme",tax:"MwSt.",grandTotal:"Gesamtsumme"},footer:"Diese Rechnung wurde mit comptario erstellt.",statusLabels:{paid:"Bezahlt",sent:"Gesendet",overdue:"berfllig",draft:"Entwurf"}},expense:{title:"AUSGABENBELEG",supplierInfo:"Lieferantendaten",expenseNumber:"Ausgaben-Nr.",expenseDate:"Ausgabedatum",paymentDate:"Zahlungsdatum",status:"Status",category:"Kategorie",details:"Ausgabendetails",totalAmount:"Gesamtausgabenbetrag",footer:"Dieser Ausgabenbeleg wurde mit comptario erstellt.",statusLabels:{draft:"Entwurf",approved:"Genehmigt",paid:"Bezahlt"}},sale:{title:"VERKAUFSBELEG",customerInfo:"Kundendaten",saleNumber:"Verkaufs-Nr.",saleDate:"Verkaufsdatum",status:"Status",paymentMethod:"Zahlungsmethode",details:"Produkt-/Leistungsdetails",quantity:"Menge",unitPrice:"Einzelpreis",totalAmount:"Gesamtverkaufsbetrag",footer:"Dieser Verkaufsbeleg wurde mit comptario erstellt.",statusLabels:{completed:"Abgeschlossen",pending:"Ausstehend",cancelled:"Storniert"},paymentMethods:{cash:"Bar",card:"Karte",transfer:"berweisung",check:"Scheck"}},planTab:{header:{title:"Plan & Abrechnung",subtitle:"Abonnement, Abrechnungszeitraum und Sitzpltze verwalten"},managePayments:"Zahlungen verwalten",monthly:"Monatlich",yearly:"Jhrlich",yearlyNote:"",currentPlan:{label:"Aktueller Plan",seatsInUse:"Verwendete Sitzpltze",renewalDate:"Verlngerungsdatum",cancellationDate:"Kndigungsdatum",cancelAtPeriodEndNotice:"Ihr Abonnement wird zum Periodenende gekndigt."},changePlan:"Plan ndern",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Starter"},bullets:{proIncluded:"3 Benutzer inklusive",basicAutomations:"Basis-Automatisierungen",businessIncluded:"10 Benutzer inklusive",advancedAutomations:"Erweiterte Automatisierungen & Rollen",freeLimited:"Begrenzte Rechnungen und Funktionen"}},prices:{monthly:{free:"0/Monat",pro:"9.90/Monat",enterprise:"29.90/Monat"}},configuration:"Konfiguration",billingCycle:"Abrechnungszyklus",seatsAddon:"Zustzliche Sitzpltze",seatsAddonHelper:"5/Sitz/Monat. Anteilige Berechnung wird angewendet.",costPreview:"Kostenbersicht",newSubtotal:"Neuer Zwischensaldo",extraSeats:"Zustzliche Sitzpltze",prorationToday:"Heutige anteilige Berechnung",updatePlan:"Plan aktualisieren",amountsNote:"Betrge sind Richtwerte. Endpreise erscheinen whrend des Bezahlvorgangs.",quickSeatActions:"Schnelle Sitzplatzaktionen",add1SeatNow:"1 Sitz hinzufgen und jetzt berechnen",add5SeatsNow:"5 Sitze hinzufgen und jetzt berechnen",remove1Seat:"1 Sitz entfernen",quickTip:"Tipp: Sitze knnen auch im Abrechnungsportal hinzugefgt werden.",subscriptionStatus:"Abonnementstatus",subscriptionCancelNote:"Kndigung greift zum Periodenende; bis dahin lsst sich fortsetzen.",cancelAtPeriodEndBtn:"Zum Periodenende kndigen",resumeSubscriptionBtn:"Abonnement fortsetzen",history:{title:"Verlauf",loading:"Verlauf wird geladen",empty:"Keine Eintrge",type:"Typ",plan:"Plan",users:"Benutzer",date:"Datum",footerNote:"Ereignisse werden periodisch vom Abrechnungsanbieter synchronisiert."},invoices:{title:"Rechnungen",loading:"Rechnungen werden geladen",empty:"Keine Rechnungen",filters:{status:"Status",all:"Alle",search:"Suchen",searchPlaceholder:"Nummer oder Whrung",from:"Von",to:"Bis",exportCsv:"Als CSV exportieren"},table:{number:"Nummer",date:"Datum",amount:"Betrag",status:"Status",actions:"Aktionen"},footerNote:"Rechnungen werden vom Abrechnungsanbieter abgerufen; Betrge werden in der Rechnungswhrung angezeigt."}}},xS={pagination:wj,admin:kj,plans:Nj,billing:jj,app:Sj,presets:Cj,landing:Aj,footer:Ej,planTab:Tj,auth:_j,common:Pj,currencies:Dj,header:Ij,dashboard:Mj,quickActions:Rj,transactions:zj,alerts:Lj,last6MonthsPerformance:Oj,months:Fj,sidebar:Bj,quotes:Uj,stats:Vj,status:qj,invoice:$j,"expense.details":"Ausgabendetails","expense.information":"Ausgabeninformationen","expense.number":"Ausgaben-Nr","expense.date":"Ausgabendatum","expense.category":"Kategorie","expense.supplier":"Lieferant","expense.amount":"Betrag","expense.receipt":"Beleg","expense.viewReceipt":"Beleg Anzeigen","customer.details":"Kundendetails","customer.personalInfo":"Persnliche Informationen","customer.name":"Name","customer.email":"E-Mail","customer.phone":"Telefon","customer.registeredAt":"Registrierungsdatum","customer.companyInfo":"Unternehmensinformationen","customer.company":"Firma","customer.taxNumber":"Steuernummer","customer.addressInfo":"Adressinformationen","customer.quickActions":"Schnelle Aktionen","customer.createInvoice":"Rechnung Erstellen","customer.viewHistory":"Verlauf Anzeigen",expense:Hj,customer:Kj,supplier:Gj,products:Wj,chartOfAccounts:Yj,invoices:Qj,expenses:Zj,customers:Xj,suppliers:Jj,banks:eS,settings:tS,sales:rS,security:sS,"common.remindMeLater":"Spter Erinnern","common.now":"Jetzt","common.generic":{customer:"Kunde",supplier:"Lieferant",expense:"Ausgabe",quote:"Angebot"},toasts:nS,notifications:iS,payment:aS,reports:oS,ledger:lS,expenseCategories:cS,archive:dS,validation:uS,legal:mS,cookie:hS,fiscalPeriods:fS,org:pS,pdf:gS},yS={itemsPerPage:"lments par page",previous:"Prcdent",next:"Suivant",range:"{{start}}-{{end}} / {{total}}"},bS={name:"comptario",subtitle:"Systme de Comptabilit"},vS={thisMonth:"Ce mois-ci",lastMonth:"Mois dernier",thisYear:"Cette anne",addedThisMonth:"Ajouts ce mois-ci",withEmail:"E-mail prsent",withPhone:"Tlphone prsent",withCompany:" une entreprise"},wS=JSON.parse(`{"nav.features":"Fonctionnalits","nav.pricing":"Tarifs","nav.faq":"FAQ","nav.contact":"Contact","cta.try":"Essayer gratuitement","cta.signin":"Se connecter","cta.watchDemo":"Regarder la dmo","hero.title":"Grez factures, dpenses et devis depuis un seul endroit.","hero.sub":"Grez vos factures, dpenses et devis dans un espace de travail simple et unique. Gardez votre prcomptabilit organise grce au support multidevises (EUR, USD, TRY), au suivi des taxes par catgorie et  la gnration de factures/devis PDF. Avec des liens de devis partageables, vos clients peuvent consulter les devis en ligne et les accepter ou les refuser en un clic.","hero.features.pdf":"Factures et devis PDF","hero.features.currency":"Multidevises (EUR / USD / TRY)","hero.features.vat":"Gestion TVA / Taxes","features.title":"Tout ce dont vous avez besoin pour matriser la pr-comptabilit","features.inv.title":"Facturation","features.inv.desc":"Numrotation, clients et export PDF.","features.exp.title":"Dpenses","features.exp.desc":"Tlchargement de fichiers et TVA par catgorie (ex. 20% FR, 18% TR).","features.vat.title":"Rsums TVA et Taxes","features.vat.desc":"Rapports de priode clairs avec mise en vidence TVA collecte/dductible.","features.fx.title":"Multi-Devises","features.fx.desc":"Options de devise systme : USD, EUR, TRY","value.title":"volue des freelances aux PME","security.title":"Scurit et Conformit","security.items":"Hbergement UE (placeholder), chiffrement en transit et au repos, sauvegardes automatiques.","testimonials.title":"Ce que disent nos utilisateurs","pricing.title":"Tarification simple","pricing.starter":"Starter","pricing.pro":"Pro","pricing.business":"Business","pricing.price.free":"0/mois","pricing.price.pro":"9.90/mois","pricing.price.biz":"29.90/mois","pricing.annualLine.free":"","pricing.annualLine.pro":"Paiement annuel : 99/an","pricing.annualLine.biz":"Paiement annuel : 299/an","pricing.cta":"Commencer","pricing.ctaStarter":"Commencer gratuitement","pricing.ctaPro":"Passer  Pro","pricing.ctaBusiness":"Choisir loffre Business","pricing.ctaContact":"Contactez-nous","pricing.notes.vatAndCurrency":"Les prix sentendent hors TVA.","pricing.notes.cancelAnytime":"Rsiliable  tout moment.","pricing":{"subtitle":"Choisissez loffre adapte  vos besoins. Commencez gratuitement et voluez ensuite.","popular":"La plus populaire","planNames":{"starter":"Starter","pro":"Pro","business":"Business"},"plans":{"starter":{"desc":"Idal pour freelances et petits projets"},"pro":{"desc":"Idal pour les entreprises en croissance"},"business":{"desc":"Pour les socits tablies avec quipes"}},"features":{"users1":"1 utilisateur inclus","users3":"3 utilisateurs inclus","users10":"10 utilisateurs inclus","usersUnlimited":"Utilisateurs illimits","invoices5":"Jusqu 5 factures par mois","basicExpense":"Suivi basique des dpenses","expenses5":"Jusqu 5 dpenses par mois","bank1":"1 compte bancaire","bankUnlimited":"Comptes bancaires illimits","customerSupplier1":"1 client et 1 fournisseur","customerSupplierUnlimited":"Clients et fournisseurs illimits","unlimitedInvoicesExpenses":"Factures et dpenses illimites","vat":"Suivi de TVA par catgorie","pdf":"Factures et devis PDF","emailSupport":"Support par email","quotesBasic":"Cration de devis et lien partageable","quotesAdvanced":"Devis : vu/accept/refus, PDF","quoteTemplate1":"1 modle de devis","quoteTemplatesUnlimited":"Modles de devis illimits","saveListViews":"Enregistrer des vues de listes","unlimited":"Factures illimites","advancedExpense":"Gestion avance des dpenses","multiCurrency":"Prise en charge multidevises","customerMgmt":"Gestion des clients","products":"Gestion des produits et des stocks","reports":"Rapports avancs et analyses dtailles","prioritySupport":"Support prioritaire","api":"Accs API","everythingPro":"Tout ce qui est dans Pro","teamCollaboration":"Collaboration dquipe","advancedReporting":"Reporting avanc","whiteLabel":"Options en marque blanche","dedicatedSupport":"Support ddi","customIntegrations":"Intgrations personnalises","noCredit":"Sans carte bancaire"},"pro":{"extraUser":"+ chaque utilisateur supplmentaire 5/mois"},"trust":"Plbiscit par des freelances, agences et PME.","questions":"Des questions sur nos tarifs ?","checkFaq":"Voir la FAQ","or":"ou","contactSupport":"contacter le support","guarantee":"Garantie satisfait ou rembours 30 jours sur toutes les offres payantes","title":"Tarification simple","cta":"Commencer maintenant","ctaStarter":"Commencer gratuitement","ctaPro":"Passer  Pro","ctaBusiness":"Choisir Business","annualLine":{"pro":"Paiement annuel : 99/an","biz":"Paiement annuel : 299/an"},"notes":{"vatAndCurrency":"Les prix s'entendent hors TVA.","cancelAnytime":"Vous pouvez rsilier  tout moment."}},"faq.title":"Frequently asked questions","faq.q1":"Can I start for free?","faq.a1":"Yes, the Starter plan lets you issue limited invoices at no cost.","faq.q2":"Does it support VAT?","faq.a2":"Yes, with category-based VAT and simple summaries.","faq.q3":"Are quotes supported?","faq.a3":"Quotes are coming soon  not enabled yet.","faq.q4":"Do you support multiple currencies?","faq.a4":"Yes, EUR and TRY with manual rate input.","faq.q5":"How do I cancel?","faq.a5":"You can cancel anytime from the billing settings.","faq.q6":"Where is my data hosted?","faq.a6":"In the EU (placeholder), with encryption and regular backups.","finalCta.title":"Make pre-accounting simple.","finalCta.cta":"Try for Free","seo.title":"Comptario  Pre-Accounting Software","seo.description":"Comptario helps you manage invoices, expenses and VAT in a simple, secure workspace with multi-currency support and PDF invoice generation.","hero.badge":"Comptario  Pre-Accounting Software","hero.mockup.revenue":"Monthly Revenue","hero.mockup.expenses":"Monthly Expenses","hero.mockup.vat":"VAT to Pay","hero.mockup.rate":"Rate","features.subtitle":"Manage your pre-accounting with confidence using our comprehensive set of tools designed for modern businesses.","value.subtitle":"Whether you're just starting out or running an established business, Comptario adapts to your needs.","value.freelancers.title":"Pour les freelances","value.freelancers.desc":"Facturation simple et suivi des dpenses pour garder votre activit organise","value.freelancers.basic":"Facturation de base","value.freelancers.expense":"Gestion des dpenses","value.freelancers.tax":"Rcapitulatif des taxes","value.small.title":"Pour les petites entreprises","value.small.desc":"Des outils de prcomptabilit complets qui voluent avec votre activit","value.small.currency":"Prise en charge multidevises","value.small.customer":"Gestion clientle","value.small.reporting":"Rapports avancs","value.growing.title":"Pour les entreprises en croissance","value.growing.desc":"Des solutions volutives qui sadaptent  vos oprations en expansion","value.growing.team":"Collaboration dquipe","value.growing.api":"Envoi de devis via lien","value.growing.support":"Options de filtrage flexibles","value.cta.title":"Ready to streamline your pre-accounting?","value.cta.subtitle":"Join thousands of businesses who trust Comptario to manage their finances efficiently.","value.cta.trial":"Start Free Trial","value.cta.demo":"Schedule Demo","value.stats.users":"Active Users","value.stats.invoices":"Invoices Generated","value.stats.uptime":"Uptime","security.badge":"Enterprise-Grade Security","finalCta.subtitle":"Join thousands of businesses who have streamlined their pre-accounting with Comptario. Start your free trial today  no credit card required.","finalCta.trial":"Free 30-day trial","finalCta.noSetup":"No setup fees","finalCta.cancel":"Cancel anytime","finalCta.stats.countries":"Countries Served","security.features.hosting.title":"EU Data Hosting","security.features.hosting.desc":"Your data is hosted in secure EU data centers with GDPR compliance","security.features.encryption.title":"End-to-End Encryption","security.features.encryption.desc":"All data is encrypted in transit and at rest using industry-standard protocols","security.features.backups.title":"Automated Backups","security.features.backups.desc":"Daily automated backups ensure your data is always safe and recoverable","security.features.gdpr.title":"GDPR Compliant","security.features.gdpr.desc":"Full compliance with European data protection regulations","security.features.monitoring.title":"24/7 Monitoring","security.features.monitoring.desc":"Continuous security monitoring and threat detection","security.features.uptime.title":"99.9% Uptime","security.features.uptime.desc":"Reliable infrastructure with guaranteed uptime SLA","security.trusted.title":"Trusted by businesses across Europe","security.trusted.gdpr":"Compliant","security.trusted.iso":"Certified","security.trusted.soc":"Type II","security.trusted.ssl":"Encrypted","security.trusted.desc":"Your financial data is protected by the same security standards used by banks and financial institutions. We never share your data with third parties and you maintain full control over your information.","testimonials.subtitle":"Don't just take our word for it. Here's what our users have to say about their experience with Comptario.","testimonials.sarah.content":"Comptario has simplified my invoicing process completely. I can now generate professional invoices in minutes and track my expenses effortlessly.","testimonials.sarah.role":"Freelance Designer","testimonials.sarah.company":"Design Studio Pro","testimonials.marcus.content":"The multi-currency feature is a lifesaver for our international clients. VAT calculations are automatic and accurate, saving us hours of manual work.","testimonials.marcus.role":"CEO","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"As a small business, we needed something simple yet powerful. Comptario gives us everything we need without the complexity of enterprise software.","testimonials.elena.role":"Small Business Owner","testimonials.elena.company":"Local Bakery","testimonials.stats.rating":"Average Rating","testimonials.stats.customers":"Happy Customers","testimonials.stats.countries":"Countries","pricing.subtitle":"Choose the plan that fits your business needs. Start free and upgrade as you grow.","faq.support.title":"Still have questions?","faq.support.desc":"Our support team is here to help you get the most out of Comptario.","faq.support.contact":"Contact Support","faq.support.demo":"Schedule a Demo","pricing.popular":"Most Popular","pricing.plans.starter.desc":"Ideal for freelancers and small projects","pricing.plans.pro.desc":"Ideal for growing businesses","pricing.plans.business.desc":"For established companies with teams","pricing.features.users1":"1 user included","pricing.features.users3":"3 users included","pricing.features.users10":"10 users included","pricing.features.usersUnlimited":"Unlimited users","pricing.features.invoices5":"Up to 5 invoices per month","pricing.features.basicExpense":"Basic expense tracking","pricing.features.expenses5":"Up to 5 expenses per month","pricing.features.bank1":"1 bank account","pricing.features.bankUnlimited":"Unlimited bank accounts","pricing.features.customerSupplier1":"1 customer and 1 supplier","pricing.features.customerSupplierUnlimited":"Unlimited customers and suppliers","pricing.features.unlimitedInvoicesExpenses":"Unlimited invoices and expenses","pricing.features.vat":"Category-based VAT tracking","pricing.features.pdf":"PDF invoices and quotes","pricing.features.emailSupport":"Email support","pricing.features.quotesBasic":"Quote creation and shareable link","pricing.features.quotesAdvanced":"Quotes: viewed/accepted/declined, PDF","pricing.features.quoteTemplate1":"1 quote template","pricing.features.quoteTemplatesUnlimited":"Unlimited quote templates","pricing.features.saveListViews":"Save list views","pricing.features.unlimited":"Unlimited invoices","pricing.features.advancedExpense":"Advanced expense management","pricing.features.multiCurrency":"Multi-currency support","pricing.features.customerMgmt":"Customer management","pricing.features.products":"Product and stock management","pricing.features.reports":"Advanced reports and detailed analytics","pricing.features.prioritySupport":"Priority support","pricing.features.api":"API access","pricing.features.everythingPro":"Everything in Pro","pricing.features.teamCollaboration":"Team collaboration","pricing.features.advancedReporting":"Advanced reporting","pricing.features.whiteLabel":"White-label options","pricing.features.dedicatedSupport":"Dedicated support","pricing.features.customIntegrations":"Custom integrations","pricing.features.noCredit":"No credit card required","pricing.pro.extraUser":"+ each additional user 5/mo","pricing.trust":"Trusted by freelancers, agencies, and SMBs.","pricing.questions":"Have questions about our pricing?","pricing.checkFaq":"Check our FAQ","pricing.or":"or","pricing.contactSupport":"contact support","pricing.guarantee":"30-day money-back guarantee on all paid plans","faq.subtitle":"Everything you need to know about Comptario. Can't find the answer you're looking for? Feel free to contact us.","faq.contactUs":"contact us","footer.product":"PRODUCT","footer.company":"COMPANY","footer.support":"SUPPORT","footer.legal":"LEGAL","footer.features":"Features","footer.pricing":"Pricing","footer.security":"Security","footer.api":"API","footer.about":"About","footer.blog":"Blog","footer.careers":"Careers","footer.press":"Press","footer.helpCenter":"Help Center","footer.contactUs":"Contact Us","footer.status":"Status","footer.community":"Community","footer.privacy":"Privacy Policy","footer.terms":"Terms of Service","footer.gdpr":"GDPR","footer.cookies":"Cookie Policy","footer.imprint":"Imprint","footer.description":"Simple, secure pre-accounting software for modern businesses. Manage invoices, expenses, and VAT with confidence.","footer.stayUpdated":"Stay updated","footer.updatesDesc":"Get the latest updates on new features and best practices.","footer.email":"support@comptario.com","footer.languages":"Available in 4 languages","footer.gdprCompliant":"GDPR Compliant","footer.emailPlaceholder":"Enter your email","footer.subscribe":"Subscribe","footer.copyright":" {{year}} Comptario. All rights reserved.","footer.madeWith":"Made with  in Europe","nav":{"faq":"FAQ","contact":"Contact","features":"Fonctionnalits","pricing":"Tarifs"},"faq":{"title":"Foire aux questions","q1":"Puis-je commencer gratuitement ?","a1":"Oui, le plan Starter vous permet dmettre un nombre limit de factures gratuitement.","q2":"La TVA est-elle prise en charge ?","a2":"Oui, avec une gestion de TVA par catgorie et des rcapitulatifs simples.","q3":"Les devis sont-ils pris en charge ?","a3":"Oui. Vous pouvez prparer des devis et les envoyer par lien ou PDF.","q4":"Grez-vous plusieurs devises ?","a4":"Oui  EUR, USD ou TRY avec saisie manuelle du taux.","q5":"Comment rsilier ?","a5":"Vous pouvez rsilier  tout moment depuis les paramtres de facturation.","q6":"O mes donnes sont-elles hberges ?","a6":"Dans lUE (indication), avec chiffrement et sauvegardes rgulires.","support":{"title":"Encore des questions ?","desc":"Notre quipe dassistance est l pour vous aider  tirer le meilleur parti de Comptario.","contact":"Contacter le support","demo":"Planifier une dmo"},"subtitle":"Tout ce quil faut savoir sur Comptario. Vous ne trouvez pas la rponse ? Contacteznous.","contactUs":"nous contacter"},"finalCta":{"title":"Simplifiez votre prcomptabilit.","cta":"Essayer gratuitement","subtitle":"Rejoignez des milliers dentreprises qui ont simplifi leur prcomptabilit avec Comptario. Commencez votre essai gratuit  sans carte bancaire.","trial":"Essai gratuit 30 jours","noSetup":"Aucun frais dinstallation","cancel":"Rsiliation  tout moment","stats":{"countries":"Pays servis"}},"seo":{"title":"Comptario  Logiciel de prcomptabilit","description":"Comptario vous aide  grer factures, dpenses et TVA dans un espace simple et scuris, avec prise en charge multidevises et gnration de factures PDF."},"hero":{"badge":"Comptario  Logiciel de prcomptabilit","mockup":{"revenue":"Revenu mensuel","expenses":"Dpenses mensuelles","vat":"TVA  payer","rate":"Taux"},"title":"Grez vos factures, dpenses et devis au mme endroit.","sub":"Grez factures, dpenses et devis dans un espace simple et unique. Organisez votre prcomptabilit avec la prise en charge multidevises (EUR, USD, TRY), le suivi de TVA par catgorie et la gnration de factures/devis PDF. Grce aux liens partageables, vos clients peuvent consulter et accepter ou refuser en un clic.","features":{"pdf":"Factures et devis PDF","currency":"Multidevises (EUR / USD / TRY)","vat":"TVA / Gestion des taxes"}},"features":{"subtitle":"Grez votre prcomptabilit en toute confiance grce  un ensemble doutils complets conus pour les entreprises modernes.","title":"Tout ce quil vous faut pour la prcomptabilit","inv":{"title":"Facturation","desc":"Numrotation, clients, export PDF et envoi par email."},"exp":{"title":"Dpenses","desc":"Tlversement de fichiers, OCR (bientt), TVA par catgorie (ex. 20% FR, 18% TR)."},"vat":{"title":"TVA & rcapitulatifs fiscaux","desc":"Rapports de priode clairs avec mise en avant de la TVA collecte/dductible."},"fx":{"pricing.ctaContact":"Bize ulan","faq":{"title":"Questions frquentes","subtitle":"Tout ce quil faut savoir sur Comptario. Vous ne trouvez pas la rponse recherche ? Nhsitez pas  nous contacter.","contactUs":"nous contacter","q1":"Puisje commencer gratuitement ?","a1":"Oui, loffre Starter permet dmettre un nombre limit de factures gratuitement.","q2":"La TVA estelle prise en charge ?","a2":"Oui, avec TVA par catgorie et rsums clairs.","q3":"Les devis sontils pris en charge ?","a3":"Oui. Vous pouvez prparer des devis et les envoyer par lien ou PDF.","q4":"Prise en charge de plusieurs devises ?","a4":"Oui  EUR, USD ou TRY avec saisie manuelle du taux.","q5":"Comment rsilier ?","a5":"Vous pouvez rsilier  tout moment depuis les paramtres de facturation.","q6":"O mes donnes sontelles hberges ?","a6":"Dans lUE (indication), avec chiffrement et sauvegardes rgulires.","support":{"title":"Encore des questions ?","desc":"Notre support vous aide  tirer le meilleur parti de Comptario.","contact":"Contacter le support"}},"title":"MultiDevises","desc":"Options de devise systme : USD, EUR, TRY"}},"value":{"subtitle":"Que vous dbutiez ou que vous dirigiez une entreprise tablie, Comptario sadapte  vos besoins.","freelancers":{"title":"Pour les freelances","desc":"Facturation simple et suivi des dpenses pour garder votre activit organise","basic":"Facturation de base","expense":"Gestion des dpenses","tax":"Rcapitulatif des taxes"},"small":{"title":"Pour les petites entreprises","desc":"Des outils de prcomptabilit complets qui voluent avec votre activit","currency":"Prise en charge multidevises","customer":"Gestion clientle","reporting":"Rapports avancs"},"growing":{"title":"Pour les entreprises en croissance","desc":"Des solutions volutives qui sadaptent  vos oprations en expansion","team":"Collaboration dquipe","api":"Envoi de devis via lien","support":"Options de filtrage flexibles"},"cta":{"title":"Prt  fluidifier votre prcomptabilit ?","subtitle":"Rejoignez des milliers dentreprises qui font confiance  Comptario pour grer leurs finances efficacement.","trial":"Dmarrer lessai gratuit","demo":"Planifier une dmo"},"stats":{"users":"Utilisateurs actifs","invoices":"Factures gnres","uptime":"Disponibilit"},"title":"Sadapte des freelances aux PME"},"security":{"badge":"Scurit de niveau entreprise","features":{"hosting":{"title":"Hbergement des donnes dans lUE","desc":"Vos donnes sont hberges dans des centres de donnes scuriss et conformes au RGPD"},"encryption":{"title":"Chiffrement de bout en bout","desc":"Toutes les donnes sont chiffres en transit et au repos selon les normes du secteur"},"backups":{"title":"Sauvegardes automatises","desc":"Des sauvegardes quotidiennes garantissent la scurit et la rcupration de vos donnes"},"gdpr":{"title":"Conforme RGPD","desc":"Conformit complte aux rglementations europennes en matire de protection des donnes"},"monitoring":{"title":"Surveillance 24/7","desc":"Surveillance continue de la scurit et dtection des menaces"},"uptime":{"title":"Disponibilit 99,9 %","desc":"Infrastructure fiable avec SLA de disponibilit garanti"}},"trusted":{"title":"Plbiscit par des entreprises  travers lEurope","gdpr":"Conforme","iso":"Certifi","soc":"Type II","ssl":"Chiffr","desc":"Vos donnes financires sont protges par les mmes standards de scurit que ceux des banques. Nous ne partageons jamais vos donnes et vous en gardez le contrle total."},"title":"Scurit et conformit","items":"Hbergement UE (provisoire), chiffrement en transit et au repos, sauvegardes automatiques."},"testimonials":{"subtitle":"Ne nous croyez pas sur parole. Voici lavis de nos utilisateurs.","sarah":{"content":"Comptario a compltement simplifi ma facturation. Je gnre des factures professionnelles en quelques minutes et je suis mes dpenses sans effort.","role":"Designer freelance","company":"Design Studio Pro"},"marcus":{"content":"La fonctionnalit multidevises est essentielle pour nos clients internationaux. Les calculs de TVA sont automatiques et prcis, nous faisant gagner des heures.","role":"PDG","company":"Tech Solutions GmbH"},"elena":{"content":"PME, nous voulions un outil simple mais puissant. Comptario nous apporte tout ce dont nous avons besoin sans la complexit des logiciels dentreprise.","role":"Grante de petite entreprise","company":"Boulangerie locale"},"stats":{"rating":"Note moyenne","customers":"Clients satisfaits","countries":"Pays"},"title":"Ce que disent nos utilisateurs"},"footer":{"product":"PRODUIT","company":"ENTREPRISE","support":"ASSISTANCE","legal":"JURIDIQUE","features":"Fonctionnalits","pricing":"Tarifs","security":"Scurit","api":"API","about":" propos","blog":"Blog","careers":"Carrires","press":"Presse","helpCenter":"Centre daide","contactUs":"Nous contacter","status":"Statut","community":"Communaut","privacy":"Confidentialit","terms":"Conditions","gdpr":"RGPD","cookies":"Cookies","imprint":"Mentions lgales","description":"Logiciel de prcomptabilit simple et scuris pour les entreprises modernes. Grez factures, dpenses et TVA en toute confiance.","stayUpdated":"Restez inform","updatesDesc":"Recevez les dernires nouveauts et bonnes pratiques.","languages":"Disponible en 4 langues","gdprCompliant":"Conforme au RGPD","emailPlaceholder":"Entrez votre email","subscribe":"Sabonner","madeWith":"Fait avec  en Europe"}}`),kS={header:{title:"Abonnement et Facturation",subtitle:"Grez votre abonnement, priode de facturation et siges"},managePayments:"Grer les paiements",monthly:"Mensuel",yearly:"Annuel",yearlyNote:"",currentPlan:{label:"Offre actuelle",seatsInUse:"Siges utiliss",renewalDate:"Date de renouvellement",cancellationDate:"Date dannulation",cancelAtPeriodEndNotice:"Votre abonnement sera annul en fin de priode."},changePlan:"Changer doffre",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Gratuit"},bullets:{proIncluded:"3 utilisateurs inclus",basicAutomations:"Automatisations de base",businessIncluded:"10 utilisateurs inclus",advancedAutomations:"Automatisations avances et rles",freeLimited:"Fonctionnalits et factures limites"}},prices:{monthly:{free:"0/mois",pro:"9.90/mois",enterprise:"29.90/mois"}},configuration:"Configuration",modal:{newTitle:"Ajouter un Fournisseur",editTitle:"Modifier le Fournisseur",subtitle:"Saisissez les informations du fournisseur",nameLabel:"Nom du Fournisseur",companyLabel:"Nom de la Socit",emailLabel:"E-mail",phoneLabel:"Tlphone",categoryLabel:"Catgorie",taxNumberLabel:"Numro Fiscal",addressLabel:"Adresse",namePlaceholder:"ABC Fourniture SARL",companyPlaceholder:"ABC Fourniture SAS",emailPlaceholder:"info@abcfourniture.com",phonePlaceholder:"+33 6 12 34 56 78",taxNumberPlaceholder:"Numro fiscal",addressPlaceholder:"Informations compltes d'adresse..."},billingCycle:"Cycle de facturation",seatsAddon:"Siges supplmentaires",seatsAddonHelper:"Facturs 5/sige/mois. Proratisation applique.",costPreview:"Aperu des cots",newSubtotal:"Nouveau sous-total",extraSeats:"Siges supplmentaires",prorationToday:"Proratisation aujourdhui",updatePlan:"Mettre  jour loffre",amountsNote:"Les montants sont indicatifs. Les frais finaux sont affichs au paiement.",quickSeatActions:"Actions rapides sur les siges",add1SeatNow:"Ajouter 1 sige et encaisser maintenant",add5SeatsNow:"Ajouter 5 siges et encaisser maintenant",remove1Seat:"Retirer 1 sige",quickTip:"Astuce : vous pouvez aussi ajouter des siges depuis le portail de facturation.",subscriptionStatus:"Statut de labonnement",subscriptionCancelNote:"Lannulation prend effet en fin de priode ; vous pouvez reprendre avant.",cancelAtPeriodEndBtn:"Annuler en fin de priode",resumeSubscriptionBtn:"Reprendre labonnement",history:{title:"Historique",loading:"Chargement de lhistorique",empty:"Aucun enregistrement",type:"Type",plan:"Offre",users:"Utilisateurs",date:"Date",footerNote:"Les vnements sont synchroniss priodiquement depuis le prestataire de facturation."},invoices:{title:"Factures",loading:"Chargement des factures",empty:"Aucune facture",filters:{status:"Statut",all:"Tous",search:"Rechercher",searchPlaceholder:"Numro ou devise",from:"De",to:"",exportCsv:"Exporter CSV"},table:{number:"Numro",date:"Date",amount:"Montant",status:"Statut",statusValues:{pending:"En attente",approved:"Approuv",paid:"Pay",rejected:"Rejet"},actions:"Actions"},footerNote:"Les factures sont rcupres depuis le prestataire ; les montants sont affichs dans la devise de facturation."}},NS={welcomeTitle:"Bienvenue",welcomeSubtitle:"Connectez-vous pour continuer",emailAddress:"Adresse e-mail",emailPlaceholder:"nom@exemple.com",password:"Mot de passe",passwordPlaceholder:"",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oubli",forgotPasswordHelp:"Entrez votre adresse e-mail ; si un compte existe, nous enverrons un lien de rinitialisation.",resetEmailSent:"Si un compte existe, un e-mail de rinitialisation a t envoy.",resetPassword:"Rinitialiser le mot de passe",resetPasswordHelp:"Dfinissez votre nouveau mot de passe.",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le mot de passe",passwordTooShort:"Le mot de passe doit comporter au moins 8 caractres",passwordTooWeak:"Veuillez choisir un mot de passe plus fort",passwordMismatch:"Les mots de passe ne correspondent pas",passwordResetSuccess:"Votre mot de passe a t mis  jour",updatePassword:"Mettre  jour le mot de passe",signIn:"Se connecter",demoAccount:"Compte dmo :",email:"E-mail",or:"ou",adminLogin:"Connexion admin",noAccount:"Pas de compte ?",createFreeAccount:"Crer un compte gratuit",registerTitle:"Crer un compte",registerSubtitle:"Crez votre compte gratuit et commencez",fullName:"Nom complet",fullNamePlaceholder:"Entrez votre nom complet",companyName:"Nom de l'entreprise",companyPlaceholder:"Votre entreprise (optionnel)",phone:"Tlphone",phonePlaceholder:"(optionnel)",passwordHint:"Au moins 6 caractres",passwordConfirm:"Confirmer le mot de passe",passwordConfirmPlaceholder:"Saisissez  nouveau votre mot de passe",termsText:{prefix:"J'accepte : ",suffix:""},and:" et ",dataProcessing:"Accord de traitement des donnes",captchaHint:"Plusieurs tentatives de connexion choues dtectes - veuillez terminer la vrification humaine.",captchaRequired:"Veuillez terminer la vrification humaine.",captchaPrompt:"Veuillez terminer la vrification humaine avant de continuer.",captchaVerificationFailed:"La vrification humaine n'a pas pu tre confirme. Veuillez ressayer.",verifyRequiredTitle:"Vrification de le-mail requise",verifyRequiredBody:"Nous avons envoy un lien de vrification  {{email}}. Confirmez votre adresse pour continuer.",verifyRequiredHint:"Laccs aux fonctionnalits reste bloqu tant que ladresse nest pas vrifie.",verifyRequiredAction:"Afficher ltat de vrification",verifyRequiredLogout:"Se dconnecter",verifyYourEmail:"Vrifiez votre e-mail",verifySentTo:"Nous avons envoy un lien de vrification :",verifySent:"Nous avons envoy un lien de vrification  votre adresse e-mail.",resend:"Renvoyer",resendCooldown:"Par scurit, un dlai de 60 secondes sapplique",securityVerificationRequired:"Vrification de scurit requise. Merci de finaliser la vrification.",emailNotVerified:"E-mail non vrifi. Veuillez confirmer votre adresse e-mail avant de continuer.",verificationEmailSent:"E-mail de vrification envoy. Merci de consulter votre bote de rception.",resendVerification:"Renvoyer l'e-mail de vrification",registerCta:"Crer un compte",alreadyHaveAccount:"Vous avez dj un compte ?",goToLogin:"Se connecter",sendResetLink:"Envoyer le lien de rinitialisation",resendIn:"Vous pouvez renvoyer dans {{seconds}}s"},jS={save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",view:"Voir",update:"Mettre  jour",add:"Ajouter",search:"Rechercher",close:"Fermer",back:"Retour",backToHome:"Retour  l'accueil",confirm:"Confirmation",yes:"Oui",no:"Non",loading:"Chargement...",error:"Erreur",success:"Succs",warning:"Avertissement",ok:"OK",now:"Maintenant",periodLockedError:"Cet enregistrement ne peut pas tre supprim car il appartient  une priode fiscale verrouille",description:"Description",dueDate:"Date d'chance",startDate:"Date de dbut",endDate:"Date de fin",monthlyIncomeExpense:"Revenus/Dpenses Mensuels",last6MonthsPerformance:"Performance des 6 derniers mois (plus rcent  plus ancien)",allCategories:"Toutes les catgories",dateRanges:{thisMonth:"Ce mois-ci",last30Days:"30 derniers jours",thisYear:"Cette anne"},filters:{status:"Statut",filterByStatus:"Filtrer par statut"},actions:{templates:{title:"Modles de devis",manage:"Grer les modles",manageTitle:"Grer les modles de devis",list:"Modles",new:"Nouveau",newTemplate:"Nouveau modle",placeholderName:"Nom du modle",apply:"Appliquer",create:"Crer un modle",selectPlaceholder:"Slectionnez un modle",freeHidden:"Les modles sont masqus dans loffre Starter.",proLimit:"Vous pouvez enregistrer jusqu 1 modle dans Pro.",requirePlan:"Offre requise",manageUpgrade:"Passez  Pro ou Business pour grer les modles.",setDefault:"Par dfaut",availableTokens:"Jetons disponibles (cliquer pour insrer) :"},clear:"Effacer",view:"Voir",copyLink:"Copier le lien",downloadPDF:"Tlcharger le PDF"},exportCSV:"Exporter en CSV","dateRanges.thisMonth":"Ce mois-ci","dateRanges.last30Days":"30 derniers jours","dateRanges.thisYear":"Cette anne","common.total":"Total","common.exportCSV":"Exporter en CSV","filters.status":"Statut","filters.filterByStatus":"Filtrer par statut","actions.clear":"Effacer","actions.view":"Voir","actions.copyLink":"Copier le lien","actions.downloadPDF":"Tlcharger le PDF",allStock:"Tous les stocks",newest:"Plus rcent",income:"Revenu",expense:"Dpense",hideChart:"Masquer le Graphique",showChart:"Afficher le Graphique",chartHidden:"Graphique masqu",incomeLabel:"Revenu",expenseLabel:"Dpense",allStatuses:"Tous les Statuts",allAccounts:"Tous les Comptes",cash:"Espces",card:"Carte",transfer:"Virement",check:"Chque",email:"E-mail",quantity:"Quantit",status:{pending:"En attente",approved:"Approuv",paid:"Pay",rejected:"Refus"},notes:"Notes",generic:{customer:"Client",supplier:"Fournisseur",expense:"Dpense",quote:"Devis"},modal:{newTitle:"Ajouter un fournisseur",editTitle:"Modifier le fournisseur",subtitle:"Saisissez les informations du fournisseur",nameLabel:"Nom du fournisseur",companyLabel:"Raison sociale",emailLabel:"Email",phoneLabel:"Tlphone",categoryLabel:"Catgorie",taxNumberLabel:"N fiscal",addressLabel:"Adresse",namePlaceholder:"ABC Supply SARL",companyPlaceholder:"ABC Supply SA",emailPlaceholder:"info@abcsupply.com",phonePlaceholder:"+33 1 23 45 67 89",taxNumberPlaceholder:"N fiscal",addressPlaceholder:"Adresse complte..."},statusLabel:"Statut",common:{total:"Total",cancel:"Annuler",update:"Mettre  jour",edit:"Modifier"},remindMeLater:"Me le rappeler plus tard"},SS={TRY:"Livre Turque",USD:"Dollar Amricain",EUR:"Euro",GBP:"Livre Sterling"},CS={newInvoice:"Nouvelle Facture",newSale:"Nouvelle Vente",search:"Rechercher...",language:"Langue",notifications:"Notifications",noNotifications:"Aucune nouvelle notification.",settings:"Paramtres",logout:"Dconnexion"},AS={title:"Tableau de bord",overview:"Vue d'ensemble",revenue:"Revenus",expense:"Dpenses",profit:"Bnfice",unpaidInvoices:"Factures impayes",recentActivity:"Activit rcente",totalRevenue:"Total des Revenus",totalExpense:"Total des Dpenses",pendingInvoices:"Factures en Attente",activeCustomers:"Clients Actifs",vatToPay:"TVA  payer",vatToPaySubtitle:"Bas sur les factures payes ce mois-ci",quickActions:"Actions Rapides",recentTransactions:"Transactions Rcentes",quickAccess:"Accs Rapide",lastTransactions:"Vos {count} dernires transactions",allGood:"Tout va bien!",noAlerts:"Aucune tche ou alerte en attente.",viewAll:"Tout voir"},ES={newInvoice:"Nouvelle Facture",newInvoiceDesc:"Crer une facture client",newExpense:"Nouvelle Dpense",newExpenseDesc:"Ajouter un enregistrement de dpense",newSale:"Nouvelle Vente",newSaleDesc:"Enregistrer une transaction de vente",newQuote:"Nouveau Devis",newQuoteDesc:"Crer un devis pour un client",newCustomer:"Nouveau Client",newCustomerDesc:"Ajouter des informations client",newProduct:"Nouveau Produit",newProductDesc:"Ajouter des informations produit",customers:"Clients",suppliers:"Fournisseurs",banks:"Comptes Bancaires",products:"Produits"},TS={invoice:"Facture",expense:"Dpense",sale:"Vente",paid:"Pay",unpaid:"Impay",pending:"En Attente",actions:"Actions",transaction:"Transaction",customerDescription:"Client/Description",amount:"Montant",status:"Statut",date:"Date",noTransactions:"Aucune transaction pour le moment"},_S={overdueInvoices:"Factures en Retard",overdueDesc:"Facture en retard",dueSoon:"chance Proche",dueSoonDesc:"chance dans 7 jours",pendingExpenses:"Dpenses en Attente",pendingExpensesDesc:"Dpense en attente d'approbation",allGood:"Tout va bien!",noAlerts:"Aucune tche ou alerte en attente.",attentionRequired:"Attention Requise"},PS={short:{jan:"Jan",feb:"Fv",mar:"Mars",apr:"Avr",may:"Mai",jun:"Juin",jul:"Juil",aug:"Ao",sep:"Sept",oct:"Oct",nov:"Nov",dec:"Dc"}},DS={dashboard:"Tableau de Bord",invoices:"Factures",expenses:"Dpenses",customers:"Clients",products:"Produits",suppliers:"Fournisseurs",banks:"Banques",sales:"Ventes",quotes:"Devis",reports:"Rapports",accounting:"Comptabilit",chartOfAccounts:"Plan Comptable",archive:"Archives",organization:"Organisation",settings:"Paramtres",close:"Fermer",archiveConfirm:"Voulezvous vraiment archiver cette catgorie?"},IS={title:"Devis",newQuote:"Nouveau Devis",comingSoon:"La page de base du module Devis est prte. Liste avance, statuts et modles PDF  venir.",placeholderDescription:"La cration, l'envoi, la page publique et les flux d'acceptation/refus seront ici. L'intgration de la navigation et du menu est en place.",search:"Rechercher des devis...",filterAll:"Tous les Statuts",viewModal:{details:"Dtails du devis"},validUntil:"Valable jusqu'au",expiresIn:"(expire dans {{days}} jours)",expiredOn:"(expir le {{date}})",version:"v{{n}}",confirmAccept:"tes-vous sr de vouloir accepter ce devis ?",acceptedThanks:"Merci, le devis a t accept.",confirmDecline:"tes-vous sr de vouloir refuser ce devis ?",declinedInfo:"Le devis a t refus.",createConfirm:"tes-vous sr de vouloir enregistrer ce devis ?",saveConfirm:"tes-vous sr de vouloir enregistrer les modifications ?",duplicateConfirm:"Voulez-vous continuer l'opration de duplication ?",reviseConfirm:"Voulez-vous rviser ce devis ? La version actuelle sera archive et une nouvelle version sera cre.",actions:{send:"Envoyer",accept:"Accepter",decline:"Refuser",downloadPdf:"Tlcharger PDF",copyLink:"Copier le lien public",copyPublicLink:"Copier le lien",copyPublicLinkSuccess:"Lien copi.",resendEmail:"Renvoyer l'e-mail",revise:"Rviser",duplicate:"Dupliquer"},editModal:{title:"Modifier le devis",subtitle:"Mettez  jour les informations du devis",quoteNumber:"N de devis"},table:{quote:"Devis",customer:"Client",amount:"Montant",status:"Statut",date:"Date",actions:"Actions"},noQuotes:"Aucun devis pour le moment",noQuotesDesc:"Commencez par crer votre premier devis.",noQuotesFound:"Aucun devis trouv",noQuotesFoundDesc:"Aucun devis ne correspond  vos critres de recherche.",createFirstQuote:"Crer le Premier Devis",view:"Voir",edit:"Modifier",delete:"Supprimer",statusLabels:{viewed:"Vu",accepted:"Accept",declined:"Refus",expired:"Expir",draft:"Brouillon",sent:"Envoy"},createModal:{title:"Crer un Devis",customer:"Client",customerPlaceholder:"Saisir le nom du client",currency:"Devise",date:"Date d'mission",amount:"Montant",create:"Crer"},scopeOfWork:{title:"Porte des travaux",placeholder:"Primtre du projet, livrables, hypothses et exclusions...",note:"Ce contenu sera ajout au PDF du devis en tant que nouvelle page aprs la section actuelle et sera visible sur le lien public."},templates:{title:"Modles de devis",manage:"Grer les modles",manageTitle:"Grer les modles de devis",list:"Modles",new:"Nouveau",newTemplate:"Nouveau modle",placeholderName:"Nom du modle",apply:"Appliquer",create:"Crer un modle",selectPlaceholder:"Slectionnez un modle",freeHidden:"Les modles sont masqus dans loffre Starter.",proLimit:"Vous pouvez enregistrer jusqu 1 modle dans Pro.",requirePlan:"Offre requise",manageUpgrade:"Passez  Pro ou Business pour grer les modles.",setDefault:"Par dfaut",availableTokens:"Jetons disponibles (cliquer pour insrer) :",defaultBodyHtml:"<h3>Rcapitulatif du devis</h3><p>Date : [quote.date]  Valable jusqu'au : [quote.valid_until]</p><p>Bonjour [client.name] ([client.company]), veuillez trouver notre proposition cidessous.</p><h4>Primtre</h4><ul><li>lment 1</li><li>lment 2</li><li>lment 3</li></ul><h4>Total</h4><p>Total : [quote.total] [quote.currency]</p><h4>Contact</h4><p>[org.name]  [org.email]  [org.phone]  [org.address]</p>"}},MS={subscriptionUpdated:"Abonnement mis  jour.",payment:{successTitle:"Paiement russi",cancelledTitle:"Paiement annul",cancelledMessage:"Paiement annul ou non termin."},addonAdded:"Utilisateurs supplmentaires ajouts.",portal:{cancelAtPeriodEnd:"Labonnement sera annul  la fin de la priode. Date : {{date}}",activeApplied:"Abonnement actif. Modifications du portail appliques.",synced:"Modifications du portail synchronises."},redirecting:"Redirection vers lcran de paiement",interval:{updated:"Priode de facturation mise  jour."},checkout:{failed:"chec de cration de la session de paiement."},cancelAtPeriodEnd:{confirm:"Labonnement sera annul  la fin de la priode. Confirmer ?"},cancel:{requestedShort:"Annulation en fin de priode dfinie."},resumeCancellation:{confirm:"Lannulation sera retire et labonnement sera renouvel. Confirmer ?",done:"Annulation retire. Abonnement actif."}},RS={thisMonth:"ce mois",all:"tout"},zS="Statut",LS={paid:"Pay",unpaid:"Impay",pending:"En Attente",overdue:"En Retard",draft:"Brouillon",sent:"Envoy",approved:"Approuv",rejected:"Rejet",cancelled:"Annul",completed:"Termin",active:"Actif",inactive:"Inactif",viewed:"Consult",accepted:"Accept",declined:"Dclin",expired:"Expir",invoiced:"Factur",created:"Cr",refunded:"Rembours"},OS={details:"Dtails de la Facture",downloadPdf:"Tlcharger PDF",information:"Informations de Facture",type:"Type de Facture",productSale:"Vente de Produit",serviceSale:"Vente de Service",issueDate:"Date d'mission",dueDate:"Date d'chance",customerInfo:"Informations Client",itemsServices:"Articles/Services",description:"Description",quantity:"Quantit",unitPrice:"Prix Unitaire",total:"Total",subtotal:"Sous-total",vat:"TVA",grandTotal:"Total Gnral",notes:"Notes"},FS={details:"Dtails de la Dpense",information:"Informations de Dpense",number:"N Dpense",date:"Date de Dpense",category:"Catgorie",supplier:"Fournisseur",amount:"Montant",receipt:"Reu",viewReceipt:"Voir le Reu"},BS={history:"Historique des Transactions",transactions:"transactions trouves",noHistory:"Pas Encore d'Historique",noHistoryDesc:"n'a pas encore de factures ou d'enregistrements de transactions.",tip:"Conseil:",tipDesc:"Vous pouvez commencer l'historique des transactions en crant une nouvelle facture pour ce client.",createInvoice:"Crer une Facture",sale:"Vente",completed:"Termin",waiting:"En Attente",historyPageTitle:"Historique Client",historySubtitle:"Tout l'historique pour {{name}}",historyColumns:{name:"Enregistrement / N",date:"Date",status:"Statut",createdBy:"Cr par",type:"Type",description:"Description"}},US={expenseHistory:"Historique des Dpenses",expensesFound:"dpenses trouves",noExpenseHistory:"Pas Encore d'Historique de Dpenses",noExpenseHistoryDesc:"n'a pas encore d'enregistrements de dpenses.",tip:"Conseil:",tipDesc:"Vous pouvez commencer l'historique des transactions en crant une nouvelle dpense pour ce fournisseur.",createExpense:"Crer une Dpense",viewExpense:"Voir la dpense"},VS={title:"Produits",newProduct:"Nouveau Produit",search:"Rechercher des produits...",filterCategory:"Toutes les Catgories",name:"Nom du Produit",category:"Catgorie",price:"Prix",stock:"Stock",sort:"Tri",status:"Statut",actions:"Actions",noProducts:"Aucun produit pour le moment",addFirstProduct:"Ajoutez votre premier produit",edit:"Modifier",delete:"Supprimer",deleteConfirm:"tes-vous sr de vouloir supprimer ce produit ?",manageCategories:"Grer les Catgories",totalProducts:"Total Produits",stockValue:"Valeur du Stock",totalStock:"Stock Total",lowStock:"Stock Faible",activeProductsDesc:"Nombre de produits activement vendus",totalStockCostDesc:"Cot total estim du stock",totalUnitsDesc:"Total d'units en entrept",criticalLevelDesc:"Produits en dessous du niveau critique",productCategories:"Catgories de Produits",archivedCategories:"Catgories archives",showArchived:"Afficher archivs",hideArchived:"Masquer archivs",activate:"Activer",noArchivedCategories:"Aucune catgorie archive",addCategory:"Ajouter catgorie",categoriesCount:"catgories",allProducts:"Tous les produits",noCategories:"Aucune catgorie pour le moment.",mainCategoriesTitle:"Catgories principales",subCategories:"Sous-catgories",editCategory:"Modifier",deleteCategory:"Supprimer",editCategoryTooltip:"Modifier la catgorie",mainCategoryEditTooltip:"Seul le taux de taxe peut tre modifi pour les catgories principales",generalCategoryCannotDelete:"La catgorie gnrale ne peut pas tre supprime",mainCategoryCannotDelete:"La catgorie principale ne peut pas tre supprime",deleteCategoryConfirm:"tes-vous sr de vouloir supprimer cette catgorie?",deleteCategoryWithProducts:"Cette catgorie contient {{count}} produits actifs. Dplacez-les d'abord vers une autre catgorie.",categoryCannotDeleteProtected:`"{category}" ne peut pas tre supprime car c'est une catgorie principale.`,generalCategoryCannotDeleteAlert:"La catgorie gnrale ne peut pas tre supprime.",updatePrice:"Mettre  jour le prix",assignCategory:"Assigner une catgorie",archive:"Archiver",noProductsYet:"Aucun produit pour le moment",costPrice:"Cot",unit:"Unit",productsCount:"produits",allStock:"Tous les stocks",lowStockFilter:"Stock faible",outOfStock:"Rupture de stock",overstock:"Surstock",newest:"Plus rcent",priceHighLow:"Prix (Haut-Bas)",priceLowHigh:"Prix (Bas-Haut)",stockHighLow:"Stock (Haut-Bas)",stockLowHigh:"Stock (Bas-Haut)",inStock:"En Stock",critical:"Critique",depleted:"puis",cost:"Cot",minStock:"Stock Min.",view:"Voir",viewProduct:"Voir le produit",mainCategories:{products:"Produits",services:"Services"},createCategoryFirst:"Vous devez d'abord crer une nouvelle catgorie.",productServiceName:"Nom Produit/Service",selectFromList:"Slectionner produit dans la liste",productsFound:"produits trouvs",editProduct:"Modifier Produit",enterProductInfo:"Remplir les informations produit et mettre  jour le statut stock",generalInfo:"INFORMATIONS GNRALES",priceAndStock:"PRIX ET STOCK",notes:"Notes",namePlaceholder:"Nom du produit/service",unitPlaceholder:"Unit (ex: pcs, kg, heure)",descriptionPlaceholder:"Caractristiques produit, informations garantie etc.",useCustomTax:"Utiliser taux TVA personnalis",customTaxNote:"Vous pouvez dfinir un taux de TVA diffrent pour ce produit. Si laiss vide, la TVA de catgorie sera utilise.",categoryTax:"TVA Catgorie",salePrice:"Prix de Vente",stockQuantity:"Quantit Stock",criticalStock:"Stock Critique",customTaxRate:"Taux TVA Personnalis",taxRatePlaceholder:"18,0",customTaxRateHelper:"Taux de TVA personnalis pour ce produit. Remplace la TVA de catgorie.",noCategoriesFound:"Aucune catgorie trouve",useCustomTaxRate:"Utiliser taux TVA personnalis",description:"Description",categoryModal:{titleNew:"Ajouter une Catgorie",titleEdit:"Modifier la Catgorie",subtitleNew:"Enregistrer une nouvelle catgorie de produit.",subtitleEdit:"Mettre  jour les dtails de la catgorie.",parentLabel:"Catgorie parente",parentHelper:" quelle catgorie principale cela appartiendra-t-il ?",nameLabel:"Nom de la catgorie",namePlaceholder:"Ex : lectronique",taxLabel:"Taux de TVA (%)",taxPlaceholder:"Ex : 18",taxHelperChildOverrides:"Si la sous-catgorie a une TVA, elle remplace la TVA parente.",taxHelperDefault:"Taux de TVA par dfaut pour les produits de cette catgorie.",nameRequired:"Le nom de la catgorie est requis",parentRequired:"La slection de la catgorie parente est obligatoire",taxInvalid:"Le taux de TVA doit tre entre 0 et 100",nameExists:"Cette catgorie existe dj"},cannotArchiveCategoryWithProducts:"Cette catgorie contient {{count}} produits. Dplacezles ou supprimezles avant larchivage."},qS={title:"Plan Comptable",subtitle:"Grez votre plan comptable",newAccount:"Nouveau Compte",search:"Rechercher par code ou nom de compte...",code:"Code",accountName:"Nom du Compte",type:"Type",balance:"Solde",status:"Statut",actions:"Actions",accountsRegistered:"comptes enregistrs",clickToEdit:"Cliquez sur le nom, le code ou le solde du compte pour modifier",addAccountTip:"Utilisez le bouton ci-dessus pour ajouter un nouveau compte",active:"Actif",passive:"Inactif",allSummed:"tout additionn",accountTypes:{all:"Tous",asset:"Actif",liability:"Passif",equity:"Capitaux propres",revenue:"Revenus",expense:"Dpense"},accountTypesPlural:{asset:"Actifs",liability:"Passifs",equity:"Capitaux propres",revenue:"Revenus",expense:"Dpenses"},statusLabels:{active:"Actif",inactive:"Inactif"},tooltips:{editHint:"Cliquez sur la ligne du compte pour modifier",toggleStatus:"Cliquer pour changer le statut",addSubAccount:"Ajouter un sous-compte",deleteAccount:"Supprimer le compte"},deleteConfirm:"tes-vous sr de vouloir supprimer ce compte ?",accountNames:{100:"ACTIFS CIRCULANTS",101:"Caisse",102:"Banques",120:"Clients",150:"ACTIFS IMMOBILISS",200:"PASSIFS  COURT TERME",201:"Fournisseurs",300:"CAPITAUX PROPRES",600:"PRODUITS",601:"Produits des Ventes",602:"Produits des Services",700:"CHARGES",701:"Charges de Loyer",702:"Charges de Personnel",703:"Charges de Factures"},accountTypeLabels:{asset:"Actif",liability:"Passif",equity:"Capitaux propres",revenue:"Produit",expense:"Charge"}},$S={title:"Factures",newInvoice:"Nouvelle Facture",editInvoice:"Modifier la Facture",enterInvoiceInfo:"Saisissez les informations client et les dtails des produits",deleteConfirm:"tes-vous sr de vouloir supprimer cette facture ?",deleteSuccess:"Facture supprime",search:"Rechercher numro de facture ou client...",filterAll:"Tous les Statuts",invoicesRegistered:"factures enregistres",inArchive:"dans l'archive",noInvoices:"Aucune facture pour le moment",noInvoicesFound:"Aucune facture trouve",showVoided:"Afficher Annules",hideVoided:"Masquer Annules",noInvoicesDesc:"Commencez par crer votre premire facture.",noInvoicesFoundDesc:"Aucune facture ne correspond  vos critres de recherche.",createFirstInvoice:"Crer la Premire Facture",invoiceNumber:"Facture",customer:"Client",date:"Date",amount:"Montant",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",download:"Tlcharger",delete:"Supprimer",viewInvoice:"Voir la facture",createInvoice:"Crer une Facture",selectInvoiceType:"Slectionner le type de facture",newSale:"Nouvelle Vente",newSaleDescription:"Crer un nouveau dossier de vente et mettre une facture",newSaleNote:"La vente et la facture seront cres automatiquement",existingSale:"Vente Existante",existingSaleDescription:"mettre une facture pour une vente dj effectue",existingSaleNote:"Seules les informations de facturation peuvent tre modifies",returnInvoice:"Facture de Retour",returnInvoiceDescription:"Crez une facture de retour/remboursement pour une facture prcdemment mise",returnInvoiceNote:"Le retour sera cr en slectionnant parmi les factures existantes",notes:"Notes",notesPlaceholder:"Notes supplmentaires lies  la vente",autoGenerated:"Gnr automatiquement",statusCompleted:"Termin",statusPending:"En attente",statusCancelled:"Annul",enterSaleInfo:"Saisir les informations de vente",productServiceDescription:"Description du produit ou service",subtotalExclVAT:"Sous-total (HT)",vat:"TVA",discount:"Remise",grandTotalInclVAT:"Total Gnral (TTC)",grandTotalExclVAT:"Total Gnral (HT)",createInvoiceFromSale:"Crer Facture  partir de Vente",completeInvoiceInfo:"Complter les informations de facturation",invoiceNumberAutoGenerated:"Le numro de facture est gnr automatiquement",invoiceType:"Type de Facture",productInvoice:"Facture de Produit (Normal)",selectInvoiceToReturn:"-- Slectionner la facture  retourner --",invoiceToReturn:"Facture  Retourner (obligatoire)",returnInvoiceAutoLoad:" Les produits de la facture slectionne seront automatiquement chargs avec des quantits ngatives.",issueDate:"Date d'mission",dueDate:"Date d'chance",customerName:"Nom du Client",customerSearchPlaceholder:"Rechercher un client ou entrer le nom d'un nouveau client",productsAndServices:"Produits et Services",addLine:"Ajouter une Ligne",description:"Description",quantity:"Quantit",unitPriceExclVAT:"Prix Unitaire (HT)",totalInclVAT:"Total (TTC)",invoiceInfo:"Informations de Facturation",invoiceStatus:"Statut de la Facture",invoiceNotes:"Notes de Facture",invoiceTotals:"Montants de la Facture",amountExclTax:"Montant (HT)"},HS={title:"Dpenses",newExpense:"Nouvelle Dpense",deleteConfirm:"tes-vous sr de vouloir supprimer cette dpense ?",deleteSuccess:"Dpense supprime",deleteError:"Impossible de supprimer la dpense",search:"Rechercher description de dpense ou fournisseur...",filterAll:"Tous les Statuts",expensesRegistered:"dpenses enregistres",noExpenses:"Aucune dpense pour le moment",noExpensesFound:"Aucune dpense trouve",noExpensesDesc:"Commencez par enregistrer votre premire dpense.",noExpensesFoundDesc:"Aucune dpense ne correspond  vos critres de recherche.",createFirstExpense:"Crer la Premire Dpense",description:"Description",supplier:"Fournisseur",category:"Catgorie",date:"Date",amount:"Montant",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",download:"Tlcharger",delete:"Supprimer",viewExpense:"Voir la dpense",enterExpenseDetails:"Entrez les dtails de la dpense",editExpense:"Modifier la Dpense",enterExpenseInfo:"Entrez les informations de la dpense",expenseNumber:"Numro de Dpense",expenseDate:"Date de Dpense",paymentDate:"Date de Paiement",addExpense:"Ajouter une Dpense",supplierPlaceholder:"Entrez le nom du fournisseur...",descriptionPlaceholder:"Description de la dpense...",totalExpense:"Dpense Totale",receiptUrl:"URL du Reu/Facture",receiptUrlHelper:"Vous pouvez ajouter un lien vers l'image/PDF du reu ou de la facture",exportCsv:"Exporter CSV"},KS={title:"Clients",newCustomer:"Nouveau Client",search:"Rechercher des clients...",customersRegistered:"clients enregistrs",noCustomers:"Aucun client pour le moment",noCustomersFound:"Aucun client trouv",noCustomersDesc:"Commencez par ajouter votre premier client.",noCustomersFoundDesc:"Aucun client ne correspond  vos critres de recherche.",createFirstCustomer:"Ajouter le Premier Client",name:"Nom",email:"E-mail",phone:"Tlphone",totalInvoices:"Total Factures",totalAmount:"Montant Total",actions:"Actions",importCSV:"Importer CSV/Excel",downloadTemplate:"Tlcharger Modle",address:"Adresse",emailPlaceholder:"client@example.com",addressPlaceholder:"Informations compltes de l'adresse...",addCustomer:"Ajouter Client",selectFromList:"Slectionner client dans la liste",customersFound:"clients trouvs",enterCustomerInfo:"Saisir les informations client",editCustomer:"Modifier le Client",taxNumber:"Numro de TVA",company:"Nom de l'Entreprise",namePlaceholder:"Jean Dupont",companyPlaceholder:"Technologie ABC Ltd.",import:{noDataFound:"Aucune donne trouve dans le fichier.",noCustomersFound:"Aucun client  importer trouv dans le fichier.",success:"{{count}} clients imports avec succs!",error:"Une erreur s'est produite lors de l'importation."},duplicate:{title:"Email en double trouv",message:"Un client est dj enregistr avec cet email ({{email}}) : {{name}}. Veuillez slectionner ou modifier l'enregistrement existant.",openExisting:"Ouvrir le client existant"}},GS={title:"Fournisseurs",newSupplier:"Nouveau Fournisseur",search:"Rechercher des fournisseurs...",suppliersRegistered:"fournisseurs enregistrs",noSuppliers:"Aucun fournisseur pour le moment",noSuppliersFound:"Aucun fournisseur trouv",noSuppliersDesc:"Commencez par ajouter votre premier fournisseur.",noSuppliersFoundDesc:"Aucun fournisseur ne correspond  vos critres de recherche.",createFirstSupplier:"Ajouter le Premier Fournisseur",name:"Nom",email:"E-mail",phone:"Tlphone",totalExpenses:"Total Dpenses",totalAmount:"Montant Total",actions:"Actions",modal:{newTitle:"Ajouter un Fournisseur",editTitle:"Modifier le Fournisseur",subtitle:"Saisissez les informations du fournisseur",nameLabel:"Nom du Fournisseur",companyLabel:"Nom de la Socit",emailLabel:"E-mail",phoneLabel:"Tlphone",categoryLabel:"Catgorie",taxNumberLabel:"Numro Fiscal",addressLabel:"Adresse",namePlaceholder:"ABC Fourniture SARL",companyPlaceholder:"ABC Fourniture SAS",emailPlaceholder:"info@abcfourniture.com",phonePlaceholder:"+33 6 12 34 56 78",taxNumberPlaceholder:"Numro fiscal",addressPlaceholder:"Informations compltes d'adresse..."}},WS={title:"Comptes Bancaires",newAccount:"Nouveau Compte",search:"Rechercher nom de banque, nom de compte ou numro...",filterAll:"Tous les Comptes",accountsRegistered:"comptes enregistrs",totalBalance:"Solde total",noBanks:"Aucun compte bancaire pour le moment",noBanksFound:"Aucun compte trouv",noBanksDesc:"Commencez par ajouter votre premier compte bancaire.",noBanksFoundDesc:"Aucun compte ne correspond  vos critres de recherche.",createFirstAccount:"Ajouter le Premier Compte",bankName:"Banque",accountName:"Nom du Compte",accountNumber:"N de Compte",balance:"Solde",status:"Statut",actions:"Actions",editAccount:"Modifier le Compte",enterAccountInfo:"Saisir les informations du compte bancaire",selectBank:"Slectionner la banque",accountNamePlaceholder:"Nom de l'Entreprise ou Nom de la Personne",accountType:"Type de Compte",accountTypes:{checking:"Compte Courant",savings:"Compte d'pargne",business:"Compte Professionnel"},ibanAutoFormat:"L'IBAN sera format automatiquement",currentBalance:"Solde Actuel",currency:"Devise",accountActive:"Compte actif",addAccount:"Ajouter Compte",routingNumber:"Numro de routage (ABA)",swiftBic:"SWIFT/BIC",branchCode:"Code Agence",deleteConfirm:"Voulezvous vraiment supprimer ce compte bancaire?"},YS={title:"Paramtres",subtitle:"Grez vos paramtres systme et compte",save:"Enregistrer",cancel:"Annuler",profile:"Profil",company:"Informations de l'Entreprise",system:"Paramtres Systme",security:"Scurit",data:"Gestion des Donnes",currency:"Devise",language:"Langue",notifications:"Notifications",theme:"Thme",success:"Succs",error:"Erreur",saved:"Paramtres enregistrs",saveFailed:"Les paramtres n'ont pas pu tre enregistrs",companyFields:{officialName:"Nom Lgal de l'Entreprise",brandName:"Nom de Facture/Marque",brandNameHelper:"Ce nom apparatra comme nom de marque sur les factures et les crans publics.",officialNameTooltip:"Seul le propritaire ou un administrateur peut mettre  jour le nom lgal",officialNameOwnerOnly:"Ce champ ne peut tre modifi que par le propritaire de l'entreprise."}},QS={title:"Ventes",newSale:"Nouvelle Vente",totalSales:"Total des Ventes",totalSalesCount:"Nombre Total de Ventes",security:{twofa:{reminderTitle:"Activez l'authentification  deux facteurs",reminderDesc:"Activez la 2FA pour mieux protger votre compte.",modalTitle:"Scurisez votre compte",modalMessage:"L'authentification  deux facteurs (2FA) augmente considrablement la scurit de votre compte. Voulez-vous l'activer maintenant ?",enableNow:"Activer maintenant",neverRemind:"Ne plus rappeler"}},"common.remindMeLater":"Me le rappeler plus tard",notifications:{invoices:{overdue:{title:"Paiement facture en retard",desc:"{{invoiceNumber}} - {{customerName}} ({{daysOverdue}} jours de retard)"},upcoming:{title:"Paiement facture  venir",desc:"{{invoiceNumber}} - {{customerName}} ({{daysLeft}} jours restants)"},created:{title:"Nouvelle facture cre",desc:"Facture {{invoiceNumber}} pour {{customerName}} prte."}},expenses:{overdue:{title:"Paiement dpense en retard",desc:"{{description}} - {{supplierName}} ({{daysOverdue}} jours de retard)"},upcoming:{title:"Paiement dpense  venir",desc:"{{description}} - {{supplierName}} ({{daysLeft}} jours restants)"},created:{title:"Nouvelle dpense enregistre",desc:"{{supplierName}} - {{description}} : {{amount}}"}},products:{lowStock:{title:"Stock faible",desc:"{{name}} - stock sous le minimum ({{stock}}/{{min}})"},outOfStock:{title:"Rupture de stock",desc:"{{name}} - stock puis !"}},quotes:{expired:{title:"Devis expir",desc:"{{quoteNumber}} - expir"},dueSoon:{title:"Devis bientt expir",desc:"{{quoteNumber}} - {{diffDays}} jours restants"}},customers:{created:{title:"Nouveau client ajout",desc:"{{name}} a t enregistr."}},suppliers:{created:{title:"Nouveau fournisseur ajout",desc:"{{name}} a t enregistr."}},sales:{created:{title:"Nouvelle vente enregistre",desc:"{{customerName}} - {{summary}} : {{totalAmount}}"}},plan:{limit:{title:"Alerte limite de forfait",invoices:{desc:"Vous approchez de la limite mensuelle de factures ({{used}}/{{limit}})."},expenses:{desc:"Vous approchez de la limite mensuelle de dpenses ({{used}}/{{limit}})."}}}},completed:"Termines",salesList:"Liste des Ventes",salesRegistered:"ventes enregistres",search:"Rechercher par numro de vente, client ou produit...",noSales:"Aucune vente pour le moment",noSalesFound:"Aucune vente trouve",noSalesDesc:"Commencez par ajouter votre premire vente.",noSalesFoundDesc:"Aucune vente ne correspond  vos critres de recherche.",createFirstSale:"Ajouter la Premire Vente",sale:"Vente",customer:"Client",productService:"Produit/Service",amount:"Montant",status:"Statut",date:"Date",actions:"Actions",viewSale:"Voir la vente",editSale:"Modifier la vente",deleteSale:"Supprimer la vente",deleteConfirm:"tes-vous sr de vouloir supprimer cette vente?",createInvoice:"Crer une Facture",download:"Tlcharger",subtitle:"Grez vos enregistrements de ventes",saleCompleted:"Vente Termine!",saleCompletedDesc:"La vente a t enregistre avec succs.",createInvoiceQuestion:"Souhaitez-vous crer une facture?",autoGenerated:"Gnr automatiquement",statusCompleted:"Termin",statusPending:"En attente",statusCancelled:"Annul",saleNumber:"N de Vente",saleDate:"Date de Vente",autoNumberNote:"Le numro sera gnr automatiquement lors de l'enregistrement",unitPriceInclVAT:"Prix Unitaire (TTC)",totalInclVAT:"Total (TTC)",unitPriceExclVAT:"Prix Unitaire (HT)",totalExclVAT:"Total (HT)",notesPlaceholder:"Notes supplmentaires lies  la vente",addSale:"Ajouter Vente",enterSaleInfo:"Saisir les informations de vente",saleSummary:"Rsum de la Vente",invoiceWillBeDownloaded:"Si une facture est cre, elle sera automatiquement tlcharge au format PDF.",confirmInvoiceCreation:"Crer une facture?",invoiceWillOpen:"La facture s'ouvrira dans la fentre de visualisation aprs sa cration.",recordOnlySale:"Uniquement la vente",recordSaleWithInvoice:"Vente avec facture",confirmInvoiceAction:"Oui, crer",creatingInvoice:"Cration...",selectExistingSale:"Slectionner une Vente Existante",selectSaleForInvoice:"Slectionnez une vente pour crer une facture",searchSalesPlaceholder:"Rechercher par numro de vente, client ou produit...",noInvoiceableSales:"Aucune vente facturable trouve",changeSearchCriteria:"Essayez de modifier vos critres de recherche",allSalesInvoiced:"Toutes les ventes ont t factures",pieces:"pcs",saleInfo:"Informations de Vente",salesWaitingForInvoice:"Ventes en attente de facturation : {{count}}"},ZS={method:"Mthode de Paiement",cash:"Espces",card:"Carte Bancaire",transfer:"Virement",check:"Chque"},XS={title:"Rapports",subtitle:"Rapports d'analyse dtaills de votre entreprise",reportDate:"Date du Rapport",overview:"Vue d'Ensemble",basicMetrics:"Mtriques de Base",totalIncome:"Revenu Total",totalExpense:"Dpense Totale",netProfit:"Bnfice Net",totalCustomers:"Total Clients",net:"Net",financialHealth:"Sant Financire",profitMargin:"Marge Bnficiaire",growthRate:"Taux de Croissance",averageSale:"Vente Moyenne",activeCustomers:"Clients Actifs",paymentStatusAnalysis:"Analyse du Statut de Paiement",invoiceStatuses:"Statuts des Factures",expenseStatuses:"Statuts des Dpenses",vatAnalysis:"Analyse TVA",vatAnalysisSubtitle:"Suivez la TVA due sur vos factures payes",currentYearLabel:"Anne en cours ({{year}})",vatYearToDate:"TVA cumule depuis le dbut de l'anne",vatChangeVsLastYear:"{{percent}} vs anne prcdente ({{lastYear}})",vatThisMonth:"TVA ce mois-ci",vatChangeVsPreviousMonth:"{{percent}} vs mois prcdent ({{previous}})",vatAverageSixMonths:"TVA moy. (6 mois)",vatAverageHint:"Moyenne glissante des 6 derniers mois de TVA paye",vatMonthlyBreakdown:"Rpartition mensuelle de la TVA",lastMonthsPerformance:"{{count}} derniers mois",noVatData:"Aucune donne TVA pour le moment",revenueAnalysis:"Analyse des Revenus",productBasedSales:"Ventes par Produit",sales:"ventes",avg:"Moy",monthlyRevenueTrend:"Tendance des Revenus Mensuels",expenseAnalysis:"Analyse des Dpenses",categoryBasedExpenses:"Dpenses par Catgorie",expenses:"dpenses",monthlyExpenseTrend:"Tendance des Dpenses Mensuelles",topSuppliers:"Principaux Fournisseurs par Dpense",lastExpense:"Dernier",recentExpenses:"Dpenses Rcentes",expenseCategoryDistribution:"Distribution des Catgories de Dpenses",customerAnalysis:"Analyse des Clients",topCustomers:"Meilleurs Clients",purchases:"achats",last:"Dernier",customerStatistics:"Statistiques des Clients",activeCustomersCount:"Clients Actifs",revenuePerCustomer:"Revenu par Client",salesPerCustomer:"Ventes par Client",averagePurchases:"Achats Moyens",maxPurchases:"Achats Maximum",performanceReports:"Rapports de Performance",kpiDashboard:"Tableau de Bord KPI",increase:"Augmentation",decrease:"Diminution",monthlyPerformanceTable:"Tableau de Performance Mensuelle",total6Months:"Total (6 Mois)",totalIncome6Months:"Revenu Total (6 Mois)",totalExpense6Months:"Dpenses Totales (6 Mois)",netProfit6Months:"Bnfice Net (6 Mois)",month:"Mois",profit:"Bnfice",profitMarginPercent:"Marge Bnficiaire",expenseRatio:"Ratio de Dpenses",expenseEfficiency:"Analyse de l'Efficacit des Dpenses",expenseCategoryPerformance:"Performance des Catgories de Dpenses",noSupplier:"Aucun Fournisseur",noCustomer:"Aucun Client",last6MonthsPerformance:"Performances des 6derniers mois (du plus rcent au plus ancien)",quoteAnalysis:"Analyse des Devis",quoteStatuses:"Statuts des Devis",totalQuotes:"Total Devis",acceptedRate:"Taux d'Acceptation",averageQuote:"Devis Moyen",expiringSoon:"Expire Bientt",recentQuotes:"Devis Rcents",daysLeft:"Jours Restants",quotes:"devis"},JS={totalCredit:"Crdit Total",totalDebit:"Dbit Total",netBalance:"Solde Net",entry:{invoicePrefix:"Facture",expensePrefix:"Dpense",salePrefix:"Vente Directe"}},e4={equipment:"quipement",utilities:"Services publics",rent:"Loyer",salaries:"Salaires",personnel:"Personnel",supplies:"Fournitures",marketing:"Marketing",travel:"Voyage",insurance:"Assurance",taxes:"Taxes",other:"Autre"},t4={title:"Archive",subtitle:"Vos enregistrements termins et historiques",totalArchive:"Archive Totale",archivedInvoices:"Factures Archives",archivedExpenses:"Dpenses Archives",archivedSales:"Ventes Archives",totalContacts:"Contacts Totaux",searchPlaceholder:"Rechercher dans l'archive...",clearFilters:"Effacer les Filtres",tabs:{all:"Tout",invoices:"Factures",expenses:"Dpenses",sales:"Ventes",contacts:"Contacts"},sections:{archivedInvoices:"Factures Archives",archivedExpenses:"Dpenses Archives",archivedSales:"Ventes Archives",customers:"Clients",suppliers:"Fournisseurs",archiveSummary:"Rsum de l'Archive"},empty:{invoices:"Aucune facture archive",invoicesHelper:"Les factures payes ou en retard apparatront ici",expenses:"Aucune dpense archive",expensesHelper:"Les dpenses payes apparatront ici",sales:"Aucune vente archive",salesHelper:"Les ventes termines apparatront ici",customers:"Aucun client trouv",suppliers:"Aucun fournisseur trouv"},table:{invoice:"Facture",customer:"Client",amount:"Montant",status:"Statut",date:"Date",actions:"Actions",expense:"Dpense",supplier:"Fournisseur",category:"Catgorie",sale:"Vente",product:"Produit/Service",registered:"Enregistr"},actions:{view:"Voir",download:"Tlcharger"},summary:{financial:"Rsum Financier",totalIncome:"Revenu Archiv Total",totalExpense:"Dpenses Archives Totales",netArchive:"Archive Nette",recordCounts:"Nombre d'Enregistrements"},info:{title:" Propos de l'Archive",description:"La page d'archive stocke vos transactions termines. Les factures payes, les dpenses approuves et les ventes termines sont automatiquement listes ici. Ces enregistrements sont en lecture seule et peuvent tre utiliss pour l'analyse historique et  des fins d'audit."}},r4={required:"Ce champ est requis",invalidEmail:"Adresse e-mail invalide",invalidPhone:"Numro de tlphone invalide",minLength:"Longueur minimale {{min}} caractres",maxLength:"Longueur maximale {{max}} caractres",invalidNumber:"Numro invalide",categoryRequired:"Veuillez slectionner une catgorie",dueDateRequired:"Veuillez slectionner une date d'chance",saleDateRequired:"La date de vente est requise",unitPriceRequired:"Le prix unitaire doit tre suprieur  zro",quantityRequired:"La quantit doit tre suprieure  zro",customerNameRequired:"Le nom du client est requis",customerNotFound:"Client non trouv dans le systme. Veuillez slectionner dans la liste.",productNameRequired:"Le nom du produit ou service est requis",productNotFound:"Produit non trouv dans le systme. Veuillez slectionner dans la liste.",skuRequired:"SKU est requis",validPriceRequired:"Veuillez entrer un prix valide",validStockRequired:"Veuillez entrer une quantit de stock valide",descriptionRequired:"Veuillez saisir une description",amountRequired:"Veuillez saisir un montant valide"},s4=JSON.parse(`{"terms":{"title":"Conditions d'utilisation","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Prsentation du service","content":"Comptario est une plateforme logicielle de pr-comptabilit base sur le cloud conue pour aider les entreprises  grer leurs factures, dpenses et oprations financires. La plateforme offre un support multi-devises, des calculs de TVA automatiss et des outils de reporting intgrs."},"section2":{"title":"2. Comptes utilisateur et inscription","content":"Pour utiliser Comptario, vous devez crer un compte en fournissant des informations exactes et compltes. Vous tes responsable du maintien de la confidentialit de vos identifiants de compte et de toutes les activits qui se produisent sous votre compte."},"section3":{"title":"3. Utilisation acceptable","content":"Vous acceptez d'utiliser Comptario uniquement  des fins lgales et conformment  ces Conditions. Vous ne pouvez pas utiliser le service pour vous engager dans des activits illgales, violer les droits de proprit intellectuelle ou perturber la fonctionnalit de la plateforme."},"section4":{"title":"4. Proprit des donnes et confidentialit","content":"Vous conservez la proprit de toutes les donnes que vous saisissez dans Comptario. Nous traitons vos donnes conformment  notre Politique de Confidentialit et aux lois applicables sur la protection des donnes, y compris le RGPD. Nous mettons en place des mesures de scurit appropries pour protger vos informations."},"section5":{"title":"5. Disponibilit du service","content":"Bien que nous nous efforcions de maintenir un temps de fonctionnement de 99,9%, Comptario peut connatre des interruptions de service occasionnelles pour la maintenance, les mises  jour ou des problmes techniques imprvus. Nous fournirons un pravis pour la maintenance planifie chaque fois que possible."},"section6":{"title":"6. Abonnement et facturation","content":"Comptario propose divers plans d'abonnement avec diffrentes fonctionnalits et limites d'utilisation. La facturation est traite automatiquement selon votre plan choisi. Vous pouvez mettre  niveau, rtrograder ou annuler votre abonnement  tout moment."},"section7":{"title":"7. Sauvegarde et exportation des donnes","content":"Nous effectuons des sauvegardes automatises rgulires de vos donnes. Vous pouvez exporter vos donnes  tout moment dans des formats standard.  la rsiliation du compte, nous conserverons vos donnes pendant 90 jours avant la suppression permanente, sauf si la loi l'exige autrement."},"section8":{"title":"8. Limitation de responsabilit","content":"La responsabilit de Comptario est limite au montant que vous avez pay pour le service dans les 12 mois prcdant toute rclamation. Nous ne sommes pas responsables des dommages indirects, accessoires ou conscutifs."},"section9":{"title":"9. Proprit intellectuelle","content":"La plateforme Comptario, y compris son logiciel, sa conception et son contenu, est protge par les lois sur la proprit intellectuelle. Une licence limite vous est accorde pour utiliser le service selon ces Conditions."},"section10":{"title":"10. Rsiliation","content":"Chaque partie peut rsilier cet accord  tout moment.  la rsiliation, votre accs au service cessera et nous supprimerons vos donnes selon notre politique de conservation des donnes."},"section11":{"title":"11. Droit applicable","content":"Ces Conditions sont rgies par les lois de l'Union europenne et la juridiction o Comptario opre. Tous les litiges seront rsolus par arbitrage contraignant."},"section12":{"title":"12. Modifications des conditions","content":"Nous pouvons mettre  jour ces Conditions de temps  autre. Nous vous informerons des changements importants par e-mail ou via la plateforme. L'utilisation continue de Comptario aprs les changements constitue l'acceptation des nouvelles Conditions."}},"privacy":{"title":"Politique de confidentialit","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Informations que nous collectons","content":"Nous collectons les informations que vous fournissez directement (dtails de compte, donnes financires), les informations collectes automatiquement (donnes d'utilisation, adresses IP) et les informations de tiers (processeurs de paiement, intgrations)."},"section2":{"title":"2. Comment nous utilisons vos informations","content":"Nous utilisons vos informations pour fournir et amliorer nos services, traiter les paiements, communiquer avec vous, assurer la scurit et respecter les obligations lgales."},"section3":{"title":"3. Partage d'informations","content":"Nous ne vendons ni ne louons vos informations personnelles. Nous pouvons partager des informations avec des prestataires de services, pour la conformit lgale ou avec votre consentement explicite."},"section4":{"title":"4. Scurit des donnes","content":"Nous mettons en place des mesures de scurit standard de l'industrie, y compris le chiffrement en transit et au repos, des audits de scurit rguliers, des contrles d'accs et des centres de donnes scuriss."},"section5":{"title":"5. Vos droits (RGPD)","content":"Sous le RGPD, vous avez le droit d'accder, de rectifier, d'effacer, de restreindre le traitement, de portabilit des donnes et de vous opposer au traitement de vos donnes personnelles. Vous pouvez galement retirer votre consentement et dposer des plaintes auprs des autorits de contrle."},"section6":{"title":"6. Conservation des donnes","content":"Nous conservons vos donnes tant que votre compte est actif et pendant une priode raisonnable par la suite  des fins lgales et commerciales. Vous pouvez demander la suppression des donnes  tout moment."},"section7":{"title":"7. Transferts internationaux","content":"Vos donnes sont principalement traites au sein de l'UE. Tous les transferts internationaux sont protgs par des garanties appropries telles que les Clauses Contractuelles Types."},"section8":{"title":"8. Cookies et suivi","content":"Nous utilisons des cookies et des technologies similaires pour l'authentification, les prfrences, l'analytique et la scurit. Vous pouvez contrler les paramtres des cookies via votre navigateur."},"section9":{"title":"9. Services tiers","content":"Notre plateforme peut s'intgrer avec des services tiers. Leurs pratiques de confidentialit sont rgies par leurs propres politiques de confidentialit, que nous vous encourageons  examiner."},"section10":{"title":"10. Confidentialit des enfants","content":"Comptario n'est pas destin aux utilisateurs de moins de 18 ans. Nous ne collectons pas sciemment d'informations personnelles d'enfants de moins de 18 ans."},"section11":{"title":"11. Informations de contact","content":"Pour les questions lies  la confidentialit ou pour exercer vos droits, contactez notre Dlgu  la Protection des Donnes  privacy@comptario.com ou via notre portail de support."}},"cookies":{"title":"Politique de cookies","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Que sont les cookies","content":"Les cookies sont de petits fichiers texte stocks sur votre appareil lorsque vous visitez notre site web. Ils nous aident  vous offrir une meilleure exprience en se souvenant de vos prfrences et en analysant l'utilisation du site."},"section2":{"title":"2. Types de cookies que nous utilisons","content":"Nous utilisons des cookies essentiels (ncessaires pour la fonctionnalit de base), des cookies fonctionnels (se souviennent des prfrences), des cookies d'analyse (comprennent les modles d'utilisation) et des cookies de scurit (protection contre les menaces)."},"section3":{"title":"3. Cookies essentiels","content":"Ces cookies sont ncessaires au bon fonctionnement du site web. Ils permettent des fonctionnalits de base telles que l'authentification utilisateur, la gestion de session et les fonctionnalits de scurit. Ils ne peuvent pas tre dsactivs."},"section4":{"title":"4. Cookies fonctionnels","content":"Ces cookies se souviennent de vos prfrences et choix pour fournir des fonctionnalits amliores, telles que la slection de langue, les paramtres de fuseau horaire et les personnalisations d'interface utilisateur."},"section5":{"title":"5. Cookies d'analyse","content":"Nous utilisons des cookies d'analyse pour comprendre comment les visiteurs interagissent avec notre site web. Cela nous aide  amliorer nos services et l'exprience utilisateur. Toutes les donnes d'analyse sont agrges et anonymises."},"section6":{"title":"6. Cookies tiers","content":"Certains cookies sont dfinis par des services tiers que nous utilisons, tels que les fournisseurs d'analyse ou les processeurs de paiement. Ceux-ci sont rgis par les politiques de confidentialit respectives des tiers."},"section7":{"title":"7. Dure des cookies","content":"Les cookies de session sont supprims lorsque vous fermez votre navigateur. Les cookies persistants restent sur votre appareil pendant une priode dfinie ou jusqu' ce que vous les supprimiez manuellement."},"section8":{"title":"8. Gestion des cookies","content":"Vous pouvez contrler et grer les cookies via les paramtres de votre navigateur. Vous pouvez supprimer les cookies existants et configurer votre navigateur pour accepter ou rejeter les cookies. Notez que la dsactivation des cookies peut affecter la fonctionnalit du site web."},"section9":{"title":"9. Consentement aux cookies","content":"En utilisant notre site web, vous consentez  l'utilisation de cookies comme dcrit dans cette politique. Vous pouvez retirer votre consentement  tout moment en ajustant les paramtres de votre navigateur."},"section10":{"title":"10. Mises  jour de la politique de cookies","content":"Nous pouvons mettre  jour cette Politique de Cookies de temps  autre. Nous vous informerons des changements importants en publiant la politique mise  jour sur notre site web avec une nouvelle date d'entre en vigueur."}},"dpa":{"title":"Accord de traitement des donnes (DPA)","lastUpdated":"Dernire mise  jour : {{date}}","section1":{"title":"1. Dfinitions et porte","content":"Cet Accord de Traitement des Donnes (\\"DPA\\") fait partie des Conditions d'Utilisation entre vous (\\"Responsable du traitement\\") et Comptario (\\"Sous-traitant\\"). Il rgit le traitement des donnes personnelles conformment au RGPD et autres lois applicables sur la protection des donnes."},"section2":{"title":"2. Dtails du traitement des donnes","content":"Comptario traite les donnes personnelles uniquement sur instructions documentes du Responsable du traitement, aux fins de fournir les services de logiciel comptable, et conformment aux lois applicables sur la protection des donnes."},"section3":{"title":"3. Catgories de donnes","content":"Nous traitons les catgories suivantes de donnes personnelles : informations de contact (noms, adresses, e-mails), donnes financires (factures, paiements, transactions), donnes de compte utilisateur (identifiants de connexion, prfrences) et donnes d'utilisation (journaux d'accs, analyse)."},"section4":{"title":"4. Droits des personnes concernes","content":"Comptario aide le Responsable du traitement  satisfaire les demandes de droits des personnes concernes, y compris l'accs, la rectification, l'effacement, la restriction, la portabilit et l'objection. Nous fournissons les outils ncessaires et la coopration pour permettre la conformit."},"section5":{"title":"5. Mesures de scurit","content":"Nous mettons en place des mesures techniques et organisationnelles appropries pour assurer la scurit des donnes, y compris le chiffrement, les contrles d'accs, les valuations de scurit rgulires, la formation du personnel et les procdures de rponse aux incidents."},"section6":{"title":"6. Sous-traitants ultrieurs","content":"Comptario peut engager des sous-traitants ultrieurs pour aider  fournir des services. Tous les sous-traitants ultrieurs sont soumis  des obligations de protection des donnes quivalentes  celles de ce DPA. Une liste actuelle des sous-traitants ultrieurs est disponible sur demande."},"section7":{"title":"7. Transferts de donnes","content":"Les donnes personnelles sont principalement traites au sein de l'UE/EEE. Tous les transferts vers des pays tiers sont protgs par des garanties appropries telles que les Clauses Contractuelles Types ou les dcisions d'adquation."},"section8":{"title":"8. Notification de violation de donnes","content":"Comptario notifiera le Responsable du traitement de toute violation de donnes personnelles sans dlai injustifi et dans les 72 heures aprs avoir pris connaissance de la violation, fournissant toutes les informations pertinentes pour l'valuation et les obligations de signalement."},"section9":{"title":"9. Analyse d'impact sur la protection des donnes","content":"Sur demande, Comptario fournira une assistance raisonnable au Responsable du traitement pour effectuer des Analyses d'Impact sur la Protection des Donnes (AIPD) et des consultations pralables avec les autorits de contrle."},"section10":{"title":"10. Audit et conformit","content":"Comptario maintient des registres des activits de traitement et met  disposition du Responsable du traitement les informations ncessaires pour dmontrer la conformit aux obligations de protection des donnes, y compris les droits d'audit soumis aux obligations de confidentialit."},"section11":{"title":"11. Retour et suppression des donnes","content":" la fin des services, Comptario, au choix du Responsable du traitement, retournera ou supprimera toutes les donnes personnelles et copies existantes, sauf si la conservation est requise par la loi applicable."},"section12":{"title":"12. Responsabilit et indemnisation","content":"La responsabilit de chaque partie est limite aux dommages directement causs par sa violation de ce DPA. Comptario indemnisera le Responsable du traitement contre les rclamations rsultant de la violation par Comptario de ses obligations de protection des donnes."}},"subprocessors":{"title":"Liste des sous-traitants ultrieurs","lastUpdated":"Dernire mise  jour : {{date}}","intro":"Comptario peut engager les sous-traitants ultrieurs suivants pour aider  fournir nos services. Tous les sous-traitants ultrieurs sont soumis  des obligations strictes de protection des donnes.","section1":{"title":"1. Fournisseurs d'infrastructure cloud","aws":{"name":"Amazon Web Services (AWS)","location":"UE (Francfort)","purpose":"Services d'hbergement cloud et d'infrastructure","safeguards":"Conformit RGPD AWS, Rsidence de donnes UE"},"digitalocean":{"name":"DigitalOcean","location":"UE (Amsterdam)","purpose":"Services d'hbergement cloud et de sauvegarde supplmentaires","safeguards":"Clauses Contractuelles Types, hbergement UE"}},"section2":{"title":"2. Processeurs de paiement","stripe":{"name":"Stripe","location":"UE/US","purpose":"Traitement des paiements et gestion des abonnements","safeguards":"Conformit PCI DSS, Clauses Contractuelles Types"},"paypal":{"name":"PayPal","location":"UE/US","purpose":"Traitement de paiement alternatif","safeguards":"Conformit PCI DSS, successeur Privacy Shield"}},"section3":{"title":"3. Services de communication","sendgrid":{"name":"SendGrid (Twilio)","location":"UE/US","purpose":"Livraison d'e-mails transactionnels","safeguards":"Clauses Contractuelles Types, traitement UE"},"intercom":{"name":"Intercom","location":"UE/US","purpose":"Support client et communication","safeguards":"Clauses Contractuelles Types, conformit RGPD"}},"section4":{"title":"4. Services d'analyse et de surveillance","googleanalytics":{"name":"Google Analytics","location":"UE/US","purpose":"Analyse de site web et surveillance des performances","safeguards":"Google Analytics 4 avec traitement de donnes UE"},"sentry":{"name":"Sentry","location":"UE/US","purpose":"Surveillance des erreurs et performances d'application","safeguards":"Clauses Contractuelles Types, anonymisation des donnes"}},"section5":{"title":"5. Services de scurit","cloudflare":{"name":"Cloudflare","location":"Global (nuds UE)","purpose":"CDN, protection DDoS et services de scurit","safeguards":"Localisation des donnes UE, Clauses Contractuelles Types"}},"section6":{"title":"6. Services de sauvegarde et d'archivage","backblaze":{"name":"Backblaze","location":"UE","purpose":"Services de sauvegarde et d'archivage de donnes","safeguards":"Chiffrement au repos et en transit, hbergement UE"}},"notifications":{"title":"Notifications de changement de sous-traitants ultrieurs","content":"Nous fournirons un pravis de 30 jours pour tout nouveau sous-traitant ultrieur ou changement aux existants. Vous pouvez vous opposer  de tels changements, et si nous ne pouvons pas rsoudre vos proccupations, vous pouvez rsilier votre accord avec nous."},"contact":{"title":"Questions sur les sous-traitants ultrieurs","content":"Si vous avez des questions sur nos sous-traitants ultrieurs ou avez besoin d'informations supplmentaires sur les garanties de protection des donnes, veuillez nous contacter  privacy@comptario.com."}},"common":{"backToApp":" Retour  l'app","effectiveDate":"Date d'entre en vigueur","tableOfContents":"Table des matires","printPage":"Imprimer cette page","downloadPdf":"Tlcharger PDF","lastUpdated":"Dernire mise  jour","contactUs":"Contactez-nous ","questionsContact":"Si vous avez des questions sur ces {{document}}, veuillez nous contacter  {{email}}.","documentType":{"terms":"Conditions d'utilisation","privacy":"Politique de confidentialit","cookies":"Politique de cookies","dpa":"Accord de traitement des donnes","subprocessors":"Liste des sous-traitants ultrieurs"},"navigation":{"terms":"Conditions","privacy":"Confidentialit","cookies":"Cookies","dpa":"ATD","subprocessors":"Sous-traitants"}}}`),n4={banner:{title:"Prfrences de cookies",description:"Ce site web utilise des cookies pour amliorer votre exprience. Vous pouvez choisir quels cookies autoriser.",acceptAll:"Tout accepter",rejectAll:"Tout rejeter",managePreferences:"Grer les prfrences",savePreferences:"Enregistrer les prfrences",close:"Fermer"},modal:{title:"Prfrences de cookies",description:"Vous pouvez examiner les catgories de cookies et dfinir vos prfrences. Lisez la description de chaque catgorie pour dcider quels cookies autoriser.",necessary:{title:"Cookies ncessaires",description:"Ces cookies sont essentiels au bon fonctionnement du site web et ne peuvent pas tre dsactivs. Ils sont gnralement dfinis en rponse  des actions comme la connexion ou le remplissage de formulaires.",alwaysActive:"Toujours actif"},analytics:{title:"Cookies analytiques",description:"Ces cookies nous aident  comprendre comment le site web est utilis. Ils collectent des informations sur les pages les plus visites et comment les utilisateurs naviguent sur le site.",enabled:"Activ",disabled:"Dsactiv"},marketing:{title:"Cookies marketing",description:"Ces cookies sont utiliss pour vous montrer des publicits plus pertinentes. Ils peuvent aider nos partenaires publicitaires  crer un profil de vos intrts.",enabled:"Activ",disabled:"Dsactiv"},acceptSelected:"Accepter la slection",acceptAll:"Tout accepter",rejectAll:"Tout rejeter",cancel:"Annuler"},notice:{updated:"Vos prfrences de cookies ont t mises  jour.",saved:"Prfrences de cookies enregistres."},categories:{necessary:"Ncessaires",analytics:"Analytiques",marketing:"Marketing"}},i4={title:"Priodes Fiscales",subtitle:"Grez vos paramtres de priode fiscale",newPeriod:"Nouvelle Priode",search:"Rechercher des priodes...",periodsRegistered:"priodes enregistres",noPeriods:"Aucune priode fiscale encore",noPeriodsFound:"Aucune priode fiscale trouve",noPeriodsDesc:"Commencez par crer votre premire priode fiscale.",noPeriodsFoundDesc:"Aucune priode fiscale ne correspond  vos critres de recherche.",createFirstPeriod:"Crer la Premire Priode Fiscale",periodName:"Nom de la Priode",startDate:"Date de Dbut",endDate:"Date de Fin",status:"Statut",actions:"Actions",view:"Voir",edit:"Modifier",lock:"Verrouiller",unlock:"Dverrouiller",delete:"Supprimer",viewPeriod:"Voir la priode fiscale",editPeriod:"Modifier la Priode Fiscale",addPeriod:"Ajouter une Priode Fiscale",enterPeriodInfo:"Entrez les informations de la priode fiscale",periodNamePlaceholder:"ex: Anne 2024",periodDuration:"dure de la priode",days:"jours",locked:"Verrouille",active:"Actif",planned:"Planifie",statusLabels:{active:"Actif",locked:"Verrouille",planned:"Planifie"},lockPeriod:"Verrouiller la priode fiscale",unlockPeriod:"Dverrouiller la priode fiscale",lockConfirm:"tes-vous sr de vouloir verrouiller cette priode fiscale ? Les priodes verrouilles ne peuvent pas tre modifies.",unlockConfirm:"tes-vous sr de vouloir dverrouiller cette priode fiscale ?",deleteConfirm:"tes-vous sr de vouloir supprimer cette priode fiscale ?",validation:{nameRequired:"Le nom de la priode est requis",startDateRequired:"La date de dbut est requise",endDateRequired:"La date de fin est requise",endDateAfterStart:"La date de fin doit tre postrieure  la date de dbut",periodOverlap:"Ces dates se chevauchent avec une priode existante",minimumDuration:"La priode fiscale doit durer au moins 1 jour"},errors:{createFailed:"chec de la cration de la priode fiscale",updateFailed:"chec de la mise  jour de la priode fiscale",deleteFailed:"chec de la suppression de la priode fiscale",lockFailed:"chec du verrouillage de la priode fiscale",unlockFailed:"chec du dverrouillage de la priode fiscale",loadFailed:"chec du chargement des priodes fiscales",periodLocked:"Cette priode fiscale est verrouille et ne peut pas tre modifie",periodNotFound:"Priode fiscale introuvable",operationNotAllowed:"Cette opration n'est pas autorise pour une priode fiscale verrouille"},success:{created:"Priode fiscale cre avec succs",updated:"Priode fiscale mise  jour avec succs",deleted:"Priode fiscale supprime avec succs",locked:"Priode fiscale verrouille avec succs",unlocked:"Priode fiscale dverrouille avec succs"},widget:{title:"Priodes Fiscales",activePeriod:"Priode Active",totalPeriods:"Total des Priodes",lockedPeriods:"Priodes Verrouilles",daysRemaining:"Jours Restants",noActivePeriod:"Aucune priode active",periodsOverlapping:"Priodes qui se chevauchent",allPeriodsLocked:"Toutes les priodes sont verrouilles",createActivePeriod:"Crer une priode active",managePeriods:"Grer les Priodes",warnings:{overlapping:"Certaines priodes fiscales se chevauchent",noActive:"Aucune priode fiscale active actuellement",allLocked:"Toutes les priodes fiscales sont verrouilles"}},filters:{showVoided:"Afficher les annuls",hideVoided:"Masquer les annuls",voidedRecords:"enregistrements annuls"}},a4={members:{title:"Membres de l'Organisation",subtitle:"Grez vos membres d'organisation et leurs permissions",search:"Rechercher des membres...",membersCount:"membres",member:"Membre",email:"Email",role:"Rle",statusLabel:"Statut",actions:"Actions",inviteButton:"Envoyer l'Invitation",sending:"Envoi en cours...",table:{name:"Nom",email:"Email",role:"Rle",lastLogin:"Dernire connexion",joinedAt:"Date d'Adhsion",actions:"Actions"},edit:"Modifier",cancel:"Annuler",resend:"Renvoyer",makeAdmin:"Faire Administrateur",makeMember:"Faire Membre",empty:{title:"Aucun membre pour le moment",subtitle:"Commencez par inviter votre premier membre d'quipe.",action:"Inviter un Membre"},noMembers:"Aucun membre pour le moment",noMembersDesc:"Commencez par inviter votre premier membre d'quipe.",noPendingInvites:"Aucune invitation en attente",noPendingInvitesDesc:"Toutes les invitations ont t acceptes ou ont expir.",roles:{owner:"Propritaire",admin:"Administrateur",member:"Membre",viewer:"Observateur",OWNER:"Propritaire",ADMIN:"Administrateur",MEMBER:"Membre"},status:{active:"Actif",pending:"En attente",inactive:"Inactif"},permissions:{owner:"Accs complet  toutes les fonctionnalits et paramtres",admin:"Accs complet sauf facturation et suppression d'organisation",member:"Crer et modifier les factures, dpenses, clients",viewer:"Accs en lecture seule  toutes les donnes"},confirmRemove:"tes-vous sr de vouloir supprimer ce membre ?",confirmCancel:"tes-vous sr de vouloir annuler cette invitation ?",inviteSuccess:"Invitation envoye avec succs",inviteError:"chec de l'envoi de l'invitation",removeSuccess:"Membre supprim avec succs",removeError:"chec de la suppression du membre",updateSuccess:"Membre mis  jour avec succs",updateError:"chec de la mise  jour du membre",validation:{emailRequired:"L'email est requis",emailInvalid:"Veuillez entrer une adresse email valide",emailExists:"Cet email est dj invit ou est dj membre"},tryAgain:"Ressayer",organization:"Organisation",membersLabel:"Membres",plan:"Offre",youLabel:"Vous",limitFull:"Limite atteinte",invite:{title:"Inviter un Membre",button:"Envoyer l'Invitation",limitReached:"Limite du plan atteinte. Amliorez votre plan pour inviter plus de membres.",success:"Invitation envoye avec succs",error:"chec de l'envoi de l'invitation",duplicate:"Cet email est dj invit",form:{email:"Adresse Email",emailPlaceholder:"exemple@email.com",role:"Rle"}},pendingInvites:{title:"Invitations en attente",count:"{{count}} invitations en attente",resend:"Renvoyer",cancel:"Annuler",expires:"Expire le {{date}}",cancelConfirm:"Voulezvous annuler cette invitation?",resendSuccess:"Invitation renvoye avec succs",cancelSuccess:"Invitation annule avec succs"},remove:{title:"Retirer le Membre",message:"tes-vous sr de vouloir retirer {{name}} de l'organisation ?",warning:"Cette action est irrversible.",confirm:"Oui, Retirer",cancel:"Annuler",success:"Membre retir avec succs",error:"chec du retrait du membre",cannotRemoveOwner:"Le propritaire ne peut pas tre retir"},updateRole:{success:"Rle du membre mis  jour",error:"chec de la mise  jour du rle du membre"}},join:{title:"Rejoindre l'organisation",subtitle:"Vous avez t invit  rejoindre {{orgName}}",invitedBy:"Invit par {{name}}",role:"Rle : {{role}}",accept:"Accepter l'invitation",decline:"Refuser",expired:{title:"Invitation expire",subtitle:"Ce lien d'invitation a expir",action:"Demander une nouvelle invitation"},invalid:{title:"Invitation invalide",subtitle:"Ce lien d'invitation n'est pas valide",action:"Aller  l'accueil"},success:{title:"Bienvenue !",subtitle:"Vous avez rejoint {{orgName}} avec succs",action:"Ouvrir le tableau de bord"},error:{title:"Erreur",subtitle:"Une erreur est survenue pendant l'acceptation",tryAgain:"Ressayer"},alreadyMember:{title:"Dj membre",subtitle:"Vous faites dj partie de cette organisation",action:"Aller au tableau de bord"},details:{organizationLabel:"Organisation",emailLabel:"E-mail invit",expiresLabel:"Expire le",roleLabel:"Rle"},passwordFlow:{title:"Dfinissez votre mot de passe",description:"Dfinissez un mot de passe pour crer votre compte pour {{email}}. Aucune vrification par e-mail n'est requise.",passwordLabel:"Mot de passe",passwordPlaceholder:"Au moins 6 caractres",showPassword:"Afficher",hidePassword:"Masquer",submit:"Crer le compte et rejoindre",submitting:"Enregistrement...",toastSuccess:"Invitation accepte. Bienvenue !"},loadingState:{title:"Vrification de l'invitation...",subtitle:"Merci de patienter pendant la validation de votre invitation."},guestFallback:{loading:"Invitation invalide ou chargement en cours..."},emailMismatch:{title:"Avertissement",body:"Cette invitation a t envoye  {{inviteEmail}}, mais vous tes connect en tant que {{currentEmail}}.",loginAction:"Se connecter en tant que {{inviteEmail}}",registerAction:"S'inscrire en tant que {{inviteEmail}}"},accepting:"Rejoindre..."}},o4={invoice:{title:"FACTURE",appSubtitle:"Systme Comptable comptario",customerInfo:"Informations Client",invoiceNumber:"N de Facture",issueDate:"Date dmission",dueDate:"Date dchance",status:"Statut",items:{description:"Description",quantity:"Quantit",unitPrice:"Prix Unitaire",total:"Total"},totals:{subtotal:"Sous-total",tax:"TVA",grandTotal:"Total Gnral"},footer:"Cette facture a t gnre avec comptario.",statusLabels:{paid:"Paye",sent:"Envoye",overdue:"En retard",draft:"Brouillon"}},expense:{title:"JUSTIFICATIF DE DPENSE",supplierInfo:"Informations Fournisseur",expenseNumber:"N de Dpense",expenseDate:"Date de Dpense",paymentDate:"Date de Paiement",status:"Statut",category:"Catgorie",details:"Dtails de la Dpense",totalAmount:"Montant Total des Dpenses",footer:"Ce justificatif a t gnr avec comptario.",statusLabels:{draft:"Brouillon",approved:"Approuve",paid:"Paye"}},sale:{title:"JUSTIFICATIF DE VENTE",customerInfo:"Informations Client",saleNumber:"N de Vente",saleDate:"Date de Vente",status:"Statut",paymentMethod:"Moyen de Paiement",details:"Dtails du Produit/Service",quantity:"Quantit",unitPrice:"Prix Unitaire",totalAmount:"Montant Total de la Vente",footer:"Ce justificatif de vente a t gnr avec comptario.",statusLabels:{completed:"Termin",pending:"En attente",cancelled:"Annul"},paymentMethods:{cash:"Espces",card:"Carte",transfer:"Virement",check:"Chque"}},planTab:{header:{title:"Abonnement et Facturation",subtitle:"Grez votre abonnement, priode de facturation et siges"},managePayments:"Grer les paiements",monthly:"Mensuel",yearly:"Annuel",yearlyNote:"",currentPlan:{label:"Offre actuelle",seatsInUse:"Siges utiliss",renewalDate:"Date de renouvellement",cancellationDate:"Date dannulation",cancelAtPeriodEndNotice:"Votre abonnement sera annul en fin de priode."},changePlan:"Changer doffre",plans:{labels:{professional:"Pro",enterprise:"Business",free:"Gratuit"},bullets:{proIncluded:"3 utilisateurs inclus",basicAutomations:"Automatisations de base",businessIncluded:"10 utilisateurs inclus",advancedAutomations:"Automatisations avances et rles",freeLimited:"Fonctionnalits et factures limites"}},prices:{monthly:{free:"0/mois",pro:"9.90/mois",enterprise:"29.90/mois"}},configuration:"Configuration",billingCycle:"Cycle de facturation",seatsAddon:"Siges supplmentaires",seatsAddonHelper:"Facturs 5/sige/mois. Proratisation applique.",costPreview:"Aperu des cots",newSubtotal:"Nouveau sous-total",extraSeats:"Siges supplmentaires",prorationToday:"Proratisation aujourdhui",updatePlan:"Mettre  jour loffre",amountsNote:"Les montants sont indicatifs. Les frais finaux sont affichs au paiement.",quickSeatActions:"Actions rapides sur les siges",add1SeatNow:"Ajouter 1 sige et encaisser maintenant",add5SeatsNow:"Ajouter 5 siges et encaisser maintenant",remove1Seat:"Retirer 1 sige",quickTip:"Astuce : vous pouvez aussi ajouter des siges depuis le portail de facturation.",subscriptionStatus:"Statut de labonnement",subscriptionCancelNote:"Lannulation prend effet en fin de priode ; vous pouvez reprendre avant.",cancelAtPeriodEndBtn:"Annuler en fin de priode",resumeSubscriptionBtn:"Reprendre labonnement",history:{title:"Historique",loading:"Chargement de lhistorique",empty:"Aucun enregistrement",type:"Type",plan:"Offre",users:"Utilisateurs",date:"Date",footerNote:"Les vnements sont synchroniss priodiquement depuis le prestataire de facturation."},invoices:{title:"Factures",loading:"Chargement des factures",empty:"Aucune facture",filters:{status:"Statut",all:"Tous",search:"Rechercher",searchPlaceholder:"Numro ou devise",from:"De",to:"",exportCsv:"Exporter CSV"},table:{number:"Numro",date:"Date",amount:"Montant",status:"Statut",actions:"Actions"},footerNote:"Les factures sont rcupres depuis le prestataire ; les montants sont affichs dans la devise de facturation."}}},l4={twofa:{reminderTitle:"Activer lauthentification  deux facteurs",reminderDesc:"Pour une meilleure scurit, activez lA2F.",modalTitle:"Scurisez votre compte",modalMessage:"Lauthentification  deux facteurs (A2F) renforce considrablement la scurit de votre compte. Voulezvous lactiver maintenant?",enableNow:"Activer maintenant",neverRemind:"Ne plus rappeler"}},c4={common:{dataLoadError:"Erreur lors du chargement des donnes"},invoices:{updateSuccess:"Facture mise  jour",updateError:"La facture na pas pu tre mise  jour",createPartialError:"Facture cre, mais la vente na pas pu tre cre",createWithSaleSuccess:"Facture et vente cres",cancelSuccess:"Facture annule",cancelError:"La facture na pas pu tre annule",restoreSuccess:"Facture restaure",restoreError:"La facture na pas pu tre restaure",createSuccess:"Facture cre avec succs"},customers:{updateSuccess:"Client mis  jour",createSuccess:"Client ajout",deleteSuccess:"Client supprim",deleteError:"Le client na pas pu tre supprim"},suppliers:{updateSuccess:"Fournisseur mis  jour",createSuccess:"Fournisseur ajout",deleteSuccess:"Fournisseur supprim",deleteError:"Le fournisseur na pas pu tre supprim"},sales:{customerNotSelected:"Aucun client slectionn. Veuillez choisir un client valide.",insufficientStock:" Stock insuffisant! {{name}} - Disponible : {{available}}, Demand : {{requested}}",createSuccess:"Vente enregistre",updateSuccess:"Vente mise  jour",localSaved:"Vente enregistre localement (hors ligne)",stockUpdateFailed:"Vente enregistre mais le stock na pas pu tre mis  jour",deleteError:"La vente na pas pu tre supprime",deleteSuccess:"Vente supprime",customerNotFound:"Client introuvable. Veuillez dabord crer un client."},expenses:{updateSuccess:"Dpense mise  jour",createSuccess:"Dpense ajoute",cancelSuccess:"Dpense annule",cancelError:"La dpense na pas pu tre annule",statusUpdateSuccess:"Statut de dpense mis  jour",restoreSuccess:"Dpense restaure",restoreError:"La dpense na pas pu tre restaure"},products:{updateSuccess:"Produit mis  jour",createSuccess:"Produit ajout",deleteSuccess:"Produit supprim",deleteError:"Le produit na pas pu tre supprim",bulkRemoved:"{{count}} produits supprims",bulkNotFound:"Produits slectionns introuvables",bulkArchived:"{{count}} produits archivs",bulkAlreadyArchived:"Les produits slectionns sont dj archivs",bulkPriceUpdateSaved:"Votre slection pour la mise  jour de prix a t enregistre. Modifiezla sur la fiche produit."},categories:{added:"Catgorie {{name}} ajoute (TVA: %{{taxRate}})",addError:"La catgorie na pas pu tre ajoute",updateSuccess:"Catgorie mise  jour",deleteSuccess:"Catgorie supprime",assignmentInfo:"Pour lassignation, utilisez la mise en page des catgories  gauche."},bank:{deleteError:"Le compte bancaire na pas pu tre supprim"},quotes:{createSuccess:"Devis cr",createError:"Le devis na pas pu tre cr"}},d4={invoices:{overdue:{title:"Paiement de facture en retard",desc:"{{invoiceNumber}} - {{customerName}} ({{daysOverdue}} jours de retard)"},upcoming:{title:"Paiement de facture  venir",desc:"{{invoiceNumber}} - {{customerName}} ({{daysLeft}} jours restants)"},created:{title:"Nouvelle facture cre",desc:"Facture {{invoiceNumber}} pour {{customerName}} prte."}},expenses:{overdue:{title:"Paiement de dpense en retard",desc:"{{description}} - {{supplierName}} ({{daysOverdue}} jours de retard)"},upcoming:{title:"Paiement de dpense  venir",desc:"{{description}} - {{supplierName}} ({{daysLeft}} jours restants)"},created:{title:"Nouvelle dpense enregistre",desc:"{{supplierName}} - {{description}} : {{amount}}"}},products:{lowStock:{title:"Alerte stock faible",desc:"{{name}} - Stock sous le minimum ({{stock}}/{{min}})"},outOfStock:{title:"Rupture de stock",desc:"{{name}} - Stock puis!"}},quotes:{expired:{title:"Devis expir",desc:"{{quoteNumber}} - expir"},dueSoon:{title:"Devis bientt expir",desc:"{{quoteNumber}} - {{diffDays}} jours restants"}},customers:{created:{title:"Nouveau client ajout",desc:"{{name}} a t enregistr."}},suppliers:{created:{title:"Nouveau fournisseur ajout",desc:"{{name}} a t enregistr."}},sales:{created:{title:"Nouvelle vente enregistre",desc:"{{customerName}} - {{summary}} : {{totalAmount}}"}},plan:{limit:{title:"Alerte de limite dabonnement",invoices:{desc:"Vous approchez de la limite de factures du mois ({{used}}/{{limit}})."},expenses:{desc:"Vous approchez de la limite de dpenses du mois ({{used}}/{{limit}})."}}}},u4={users:{updateConfirm:"tesvous sr de vouloir mettre  jour cet utilisateur?",passwordResetConfirm:"Rinitialiser le mot de passe de cet utilisateur?",deactivateConfirm:"Dsactiver cet utilisateur?",activateConfirm:"Activer cet utilisateur?"},tenants:{updatePlanConfirm:"Mettre  jour labonnement de ce locataire?",updateStatusConfirm:"Mettre  jour le statut de ce locataire?",updateNextPaymentConfirm:"Mettre  jour la prochaine date de paiement?",cancelSubscriptionConfirm:"Rsilier labonnement  la fin de la priode?",dangerDeleteTenantConfirm:"Supprimer dfinitivement ce locataire?"},backups:{deleteConfirm:"Supprimer cette sauvegarde?",deleteOlderThanConfirm:"Supprimer les sauvegardes plus anciennes que la date choisie?"}},m4={limitExceeded:{title:"Limite du forfait dpasse",invoicesMessage:"Vous avez dpass la limite de factures de ce mois.",expensesMessage:"Vous avez dpass la limite de dpenses de ce mois."}},h4={pagination:yS,app:bS,presets:vS,landing:wS,planTab:kS,"testimonials.marcus.role":"PDG","testimonials.marcus.company":"Tech Solutions GmbH","testimonials.elena.content":"En tant que petite entreprise, nous avions besoin de quelque chose de simple mais puissant. Comptario nous donne tout ce dont nous avons besoin sans la complexit des logiciels d'entreprise.","testimonials.elena.role":"Propritaire de Petite Entreprise","testimonials.elena.company":"Boulangerie Locale","testimonials.stats.rating":"Note Moyenne","testimonials.stats.customers":"Clients Satisfaits","testimonials.stats.countries":"Pays","pricing.subtitle":"Choisissez le plan qui correspond aux besoins de votre entreprise. Commencez gratuitement et mettez  niveau au fur et  mesure de votre croissance.","faq.support.title":"Vous avez encore des questions?","faq.support.desc":"Notre quipe de support est l pour vous aider  tirer le meilleur parti de Comptario.","faq.support.contact":"Contacter le Support","faq.support.demo":"Planifier une Dmo","pricing.popular":"Le Plus Populaire","pricing.plans.starter.desc":"Idal pour les freelances et petits projets","pricing.plans.pro.desc":"Idal pour les entreprises en croissance","pricing.plans.business.desc":"Pour les entreprises tablies avec quipes","pricing.features.users1":"1 utilisateur inclus","pricing.features.users3":"3 utilisateurs inclus","pricing.features.users10":"10 utilisateurs inclus","pricing.features.usersUnlimited":"Utilisateurs illimits","pricing.features.invoices5":"Jusqu 5 factures par mois","pricing.features.basicExpense":"Suivi de dpenses de base","pricing.features.expenses5":"Jusqu 5 dpenses par mois","pricing.features.bank1":"1 compte bancaire","pricing.features.bankUnlimited":"Comptes bancaires illimits","pricing.features.customerSupplier1":"1 client et 1 fournisseur","pricing.features.customerSupplierUnlimited":"Clients et fournisseurs illimits","pricing.features.unlimitedInvoicesExpenses":"Factures et dpenses illimites","pricing.features.vat":"Suivi TVA par catgorie","pricing.features.pdf":"Factures et devis en PDF","pricing.features.emailSupport":"Support par e-mail","pricing.features.quotesBasic":"Cration de devis et lien partageable","pricing.features.quotesAdvanced":"Devis : vu/accept/refus, PDF","pricing.features.quoteTemplate1":"1 modle de devis","pricing.features.quoteTemplatesUnlimited":"Modles de devis illimits","pricing.features.saveListViews":"Enregistrer des vues de liste","pricing.features.unlimited":"Factures illimites","pricing.features.advancedExpense":"Gestion avance des dpenses","pricing.features.multiCurrency":"Support multi-devises","pricing.features.customerMgmt":"Gestion client","pricing.features.products":"Gestion des produits et stocks","pricing.features.reports":"Rapports avancs et analyses dtailles","pricing.features.prioritySupport":"Support prioritaire","pricing.features.api":"Accs API","pricing.features.everythingPro":"Toutes les fonctionnalits de Pro","pricing.features.teamCollaboration":"Collaboration quipe","pricing.features.advancedReporting":"Rapports avancs","pricing.features.whiteLabel":"Options marque blanche","pricing.features.dedicatedSupport":"Support prioritaire","pricing.features.customIntegrations":"Intgrations personnalises","pricing.features.noCredit":"Aucune carte de crdit requise","pricing.pro.extraUser":"+ chaque utilisateur supplmentaire 5/mois","pricing.questions":"Vous avez des questions sur nos tarifs?","pricing.checkFaq":"Consultez notre FAQ","pricing.or":"ou","pricing.contactSupport":"contactez le support","pricing.guarantee":"Garantie de remboursement de 30 jours sur tous les plans payants","faq.subtitle":"Tout ce que vous devez savoir sur Comptario. Vous ne trouvez pas la rponse que vous cherchez? N'hsitez pas  nous contacter.","faq.contactUs":"nous contacter","footer.product":"PRODUIT","footer.company":"ENTREPRISE","footer.support":"SUPPORT","footer.legal":"LGAL","footer.features":"Fonctionnalits","footer.pricing":"Tarifs","footer.security":"Scurit","footer.api":"API","footer.about":" propos","footer.blog":"Blog","footer.careers":"Carrires","footer.press":"Presse","footer.helpCenter":"Centre d'aide","footer.contactUs":"Nous contacter","footer.status":"Statut","footer.community":"Communaut","footer.privacy":"Politique de confidentialit","footer.terms":"Conditions d'utilisation","footer.gdpr":"GDPR","footer.cookies":"Politique de cookies","footer.imprint":"Mentions lgales","footer.description":"Logiciel de pr-comptabilit simple et scuris pour les entreprises modernes. Grez factures, dpenses et TVA en toute confiance.","footer.stayUpdated":"Restez inform","footer.updatesDesc":"Recevez les dernires mises  jour sur les nouvelles fonctionnalits et les meilleures pratiques.","footer.email":"support@comptario.com","footer.languages":"Disponible en 4 langues","footer.gdprCompliant":"Conforme GDPR","footer.emailPlaceholder":"Entrez votre e-mail","footer.subscribe":"S'abonner","footer.copyright":" {{year}} Comptario. Tous droits rservs.","footer.madeWith":"Fait avec  en Europe",auth:NS,common:jS,currencies:SS,header:CS,dashboard:AS,quickActions:ES,transactions:TS,alerts:_S,months:PS,sidebar:DS,quotes:IS,billing:MS,stats:RS,statusLabel:zS,status:LS,invoice:OS,"expense.details":"Dtails de la Dpense","expense.information":"Informations de Dpense","expense.number":"N Dpense","expense.date":"Date de Dpense","expense.category":"Catgorie","expense.supplier":"Fournisseur","expense.amount":"Montant","expense.receipt":"Reu","expense.viewReceipt":"Voir le Reu","customer.details":"Dtails du Client","customer.personalInfo":"Informations Personnelles","customer.name":"Nom","customer.email":"E-mail","customer.phone":"Tlphone","customer.registeredAt":"Date dinscription","customer.companyInfo":"Informations sur lEntreprise","customer.company":"Socit","customer.taxNumber":"Numro Fiscal","customer.addressInfo":"Informations dAdresse","customer.quickActions":"Actions Rapides","customer.createInvoice":"Crer une Facture","customer.viewHistory":"Voir lHistorique",expense:FS,customer:BS,supplier:US,products:VS,chartOfAccounts:qS,invoices:$S,expenses:HS,customers:KS,suppliers:GS,banks:WS,settings:YS,sales:QS,payment:ZS,reports:XS,ledger:JS,expenseCategories:e4,archive:t4,validation:r4,legal:s4,cookie:n4,fiscalPeriods:i4,org:a4,pdf:o4,security:l4,"common.remindMeLater":"Remind Me Later","common.now":"Now","common.generic":{customer:"Customer",supplier:"Supplier",expense:"Expense",quote:"Quote"},toasts:c4,notifications:d4,admin:u4,plans:m4},f4="Kullanm Klavuzu",p4="Comptario Yardm Merkezi",g4="Bu klavuz, Comptario ile fatura, gider ve temel muhasebe ilerinizi adm adm yapmanza yardm eder. Aadaki blmlerden, aradnz konuya hzlca gidebilirsiniz. Her blm ksa admlar, kk ipular ve grsel odakl aklamalar ierir.",x4={tip:"pucu"},y4=[{id:"overview",title:"Genel Bak"},{id:"getting-started",title:"Balang (Kayt, Giri, Dil/Para Birimi)"},{id:"customers",title:"Mteriler"},{id:"suppliers",title:"Tedarikiler"},{id:"products",title:"rnler ve Kategoriler"},{id:"invoices",title:"Faturalar"},{id:"expenses",title:"Giderler"},{id:"sales",title:"Satlar"},{id:"bank",title:"Banka Hesaplar"},{id:"reports",title:"Raporlar ve Defter"},{id:"settings",title:"Ayarlar"},{id:"users",title:"Kullanclar, Roller ve Davetler"},{id:"plan-limits",title:"Plan Limitleri"},{id:"period-lock",title:"Dnem Kilidi"},{id:"security-backup",title:"Gvenlik ve Yedekleme"},{id:"faq-contact",title:"SSS ve letiim"}],b4={title:"Balang (Kayt, Giri, Dil/Para Birimi)",steps:["st men veya sayfalardaki cretsiz Deneme dmesine tklayn.","E-posta ve ifre belirleyip hesabnz oluturun. Mevcutta hesabnz varsa Giri yapn.","Dil tercihlerini sa stteki dil mensnden ayarlayn. Para Birimi ayar ise Ayarlar  Sistem  Para Birimi altndadr.","Profil ayarlarnzdan iletme bilgilerinizi (nvan, vergi no, adres) girin; bu bilgiler faturalarnzda kullanlr."],tipKeyboard:"Klavye ile hzl gezinmek iin",tipAfter:"tularna basarak Ayarlar'a gidebilirsiniz."},v4={title:"Mteriler",items:["Sol menden Mteriler sayfasn an.","Yeni Mteri ile hzlca mteri ekleyin veya CSV/Excel ie aktarma ile toplu ykleyin.","Mteri kartnda gemi faturalar, bakiyeyi ve iletiim bilgilerini grntleyin."]},w4={title:"Tedarikiler",desc:"Giderlerinizi ilikilendirmek iin tedariki kartlar oluturun. e aktarma ve dzenleme admlar, mteriler ile ayndr."},k4={title:"rnler ve Kategoriler",desc:"Stok ve hizmetlerinizi ynetin. Kategori bazl KDV oran tanmlayabilir, rn baznda zel KDV ile zerine yazabilirsiniz.",items:["Yeni rn ekleyin, barkod/sku ve fiyat bilgilerinizle kaydedin.","Stok seviyeleri iin minimum stok (reorder level) belirleyin; dk stok uyarlar aln.","Kategori ve rn KDV ynetimi ile faturalarda otomatik KDV hesaplatn."]},N4={title:"Faturalar",steps:["Yeni Fatura ile mteri ve kalemleri sein; rnler otomatik vergi oranyla gelir.","Vade tarihi, notlar ve iskonto ekleyin; PDF nizleme ve e-posta gnderimi yapn.","deme durumu ve iade/iptal ilemlerini fatura zerinden takip edin."]},j4={title:"Giderler",desc:"Giderleri tedariki, tutar, tarih ve durum bilgisi ile kaydedin. Vade yaklanca bildirim aln; dnem kilidi aktifse dzenlemeler engellenir."},S4={title:"Satlar",desc:"Faturalardan otomatik, ayrca manuel sat oluturabilirsiniz. oklu kalemli satlar desteklenir; stok dm otomatik yaplr."},C4={title:"Banka Hesaplar",desc:"Banka hesaplarnz takip edin. cretsiz planda 1 hesap, st planlarda snrszdr. Hesap eklerken ad ve IBAN bilgisi girin."},A4={title:"Raporlar ve Defter",desc:"Gelir-Gider zetleri, Genel Muhasebe ve defter grnmleri ile dnem bazl analizler oluturun. Excel/PDF da aktarma mevcuttur."},E4={title:"Ayarlar",items:["Profil ve firma bilgileri (logo, adres, vergi bilgileri)","Para birimi, dil ve KDV/stopaj varsaylanlar","Yedek alma ve veri ie/da aktarma"]},T4={title:"Kullanclar, Roller ve Davetler",desc:"oklu kullanc destei ile organizasyonunuza ekip arkadalarnz davet edin. Roller ve eriim kstlar plannza gre uygulanr."},_4={title:"Plan Limitleri",desc:"cretsiz planda temel kullanm (r. snrl fatura/gider, 1 banka hesab) bulunur. Pro ve Business planlarda limitler ykselir veya kalkar. Limit amnda aklayc uyarlar grrsnz."},P4={title:"Dnem Kilidi",desc:"Kapanm dnemlerde kayt deiiklii engellenir. Bu sayede rapor btnl korunur. htiya halinde kilitli dnemi amadan dzeltme yaplamaz."},D4={title:"Gvenlik ve Yedekleme",items:["Verileriniz gvenli altyapda tutulur; TLS ile ifreleme, gnlk yedek ve izleme uygulanr.","Test ortam iin veritaban/dosya uyarlamalar yaplmtr; retim PostgreSQL kullanr.","erez ve gizlilik politikalarmz buradan inceleyin."],cookiesText:"buradan"},I4={title:"SSS ve letiim",text:"Yantn bulamadnz bir konu mu var? Bize support@comptario.com adresinden ulan."},M4={sidebarTitle:f4,pageTitle:p4,overviewDesc:g4,labels:x4,sections:y4,gettingStarted:b4,customers:v4,suppliers:w4,products:k4,invoices:N4,expenses:j4,sales:S4,bank:C4,reports:A4,settings:E4,users:T4,planLimits:_4,periodLock:P4,securityBackup:D4,faq:I4},R4="User Guide",z4="Comptario Help Center",L4="This guide helps you complete invoicing, expenses, and basic accounting tasks step by step. Jump directly to a topic from the menu. Each section includes short steps, tips, and clear explanations.",O4={tip:"Tip"},F4=[{id:"overview",title:"Overview"},{id:"getting-started",title:"Getting Started (Sign Up, Sign In, Language/Currency)"},{id:"customers",title:"Customers"},{id:"suppliers",title:"Suppliers"},{id:"products",title:"Products & Categories"},{id:"invoices",title:"Invoices"},{id:"expenses",title:"Expenses"},{id:"sales",title:"Sales"},{id:"bank",title:"Bank Accounts"},{id:"reports",title:"Reports & Ledger"},{id:"settings",title:"Settings"},{id:"users",title:"Users, Roles & Invites"},{id:"plan-limits",title:"Plan Limits"},{id:"period-lock",title:"Period Lock"},{id:"security-backup",title:"Security & Backups"},{id:"faq-contact",title:"FAQ & Contact"}],B4={title:"Getting Started (Sign Up, Sign In, Language/Currency)",steps:["Click the Try for Free button in the header or on the page.","Create your account with email and password. If you already have one, sign in.","Set your Language from the top-right language menu. Currency is under Settings  System  Currency.","Enter your business details (name, tax no, address) in Profile; these will appear on invoices."],tipKeyboard:"Quick navigation:",tipAfter:"to go to Settings."},U4={title:"Customers",items:["Open the Customers page from the sidebar.","Add a customer or import via CSV/Excel.","See past invoices, balance, and contact details on the customer card."]},V4={title:"Suppliers",desc:"Create supplier cards to link expenses. Import and editing steps are the same as customers."},q4={title:"Products & Categories",desc:"Manage stock and services. Define category-level VAT, override per product if needed.",items:["Add new products with SKU and price.","Set minimum stock levels and get low-stock alerts.","Auto-VAT on invoices via category/product settings."]},$4={title:"Invoices",steps:["Create invoice with customer and line items; products bring their VAT rate.","Add due date, notes, discounts; preview PDF and send by email.","Track payment status and void/return operations."]},H4={title:"Expenses",desc:"Record supplier, amount, date, and status. Get reminders near due date; edits are blocked when period lock is active."},K4={title:"Sales",desc:"Sales are auto-created from invoices; you can also add manual sales. Multi-line sales are supported; stock decreases automatically."},G4={title:"Bank Accounts",desc:"Track bank accounts. Free plan: 1 account; upper plans: unlimited. Provide name and IBAN when adding."},W4={title:"Reports & Ledger",desc:"View income/expense summaries and general ledger. Export to Excel/PDF."},Y4={title:"Settings",items:["Profile and company info (logo, address, tax info)","Currency, language, and VAT/withholding defaults","Backup and data import/export"]},Q4={title:"Users, Roles & Invites",desc:"Invite teammates to your organization. Roles and access limits depend on your plan."},Z4={title:"Plan Limits",desc:"Free plan has basic usage (e.g., limited invoices/expenses, 1 bank account). Pro/Business raise or remove limits. Clear messages appear on limit errors."},X4={title:"Period Lock",desc:"Edits in closed periods are blocked, preserving report integrity. Open the period to make corrections if necessary."},J4={title:"Security & Backups",items:["Your data is secured with TLS, daily backups, and monitoring.","Tests use adjusted storage; production uses PostgreSQL.","Review our cookies and privacy policies here."],cookiesText:"here"},e3={title:"FAQ & Contact",text:"Cant find an answer? Reach us at support@comptario.com."},t3={sidebarTitle:R4,pageTitle:z4,overviewDesc:L4,labels:O4,sections:F4,gettingStarted:B4,customers:U4,suppliers:V4,products:q4,invoices:$4,expenses:H4,sales:K4,bank:G4,reports:W4,settings:Y4,users:Q4,planLimits:Z4,periodLock:X4,securityBackup:J4,faq:e3},r3="Benutzerhandbuch",s3="Comptario Hilfe-Center",n3="Dieser Leitfaden hilft Ihnen Schritt fr Schritt bei Rechnungen, Ausgaben und grundlegenden Buchhaltungsaufgaben. Springen Sie ber das Men direkt zu einem Thema. Jede Sektion enthlt kurze Schritte, Tipps und klare Erklrungen.",i3={tip:"Tipp"},a3=[{id:"overview",title:"berblick"},{id:"getting-started",title:"Erste Schritte (Registrierung, Anmeldung, Sprache/Whrung)"},{id:"customers",title:"Kunden"},{id:"suppliers",title:"Lieferanten"},{id:"products",title:"Produkte & Kategorien"},{id:"invoices",title:"Rechnungen"},{id:"expenses",title:"Ausgaben"},{id:"sales",title:"Verkufe"},{id:"bank",title:"Bankkonten"},{id:"reports",title:"Berichte & Hauptbuch"},{id:"settings",title:"Einstellungen"},{id:"users",title:"Benutzer, Rollen & Einladungen"},{id:"plan-limits",title:"Planlimits"},{id:"period-lock",title:"Periodensperre"},{id:"security-backup",title:"Sicherheit & Backups"},{id:"faq-contact",title:"FAQ & Kontakt"}],o3={title:"Erste Schritte (Registrierung, Anmeldung, Sprache/Whrung)",steps:["Klicken Sie auf den Button Kostenlos testen im Header oder auf der Seite.","Erstellen Sie ein Konto mit EMail und Passwort. Wenn Sie bereits eines haben, melden Sie sich an.","Stellen Sie die Sprache ber das Sprachmen oben rechts ein. Die Whrung finden Sie unter Einstellungen  System  Whrung.","Geben Sie in Ihrem Profil Unternehmensdaten (Name, Steuernr., Adresse) ein; diese erscheinen auf Ihren Rechnungen."],tipKeyboard:"Schnellnavigation:",tipAfter:"um zu den Einstellungen zu gelangen."},l3={title:"Kunden",items:["ffnen Sie die Seite Kunden in der Seitenleiste.","Fgen Sie einen Kunden hinzu oder importieren Sie per CSV/Excel.","Sehen Sie frhere Rechnungen, Salden und Kontaktdaten in der Kundenkarte."]},c3={title:"Lieferanten",desc:"Erstellen Sie Lieferantenkarten, um Ausgaben zuzuordnen. Import und Bearbeitung entsprechen den Schritten bei Kunden."},d3={title:"Produkte & Kategorien",desc:"Verwalten Sie Lager und Dienstleistungen. Definieren Sie KategorienMwSt. und berschreiben Sie sie ggf. pro Produkt.",items:["Neue Produkte mit SKU und Preis hinzufgen.","Mindestlagerbestand festlegen und NiedrigBestandHinweise erhalten.","Automatische MwSt. in Rechnungen per Kategorie/ProduktEinstellungen."]},u3={title:"Rechnungen",steps:["Erstellen Sie eine Rechnung mit Kunde und Positionen; Produkte bringen ihren MwSt.-Satz mit.","Fgen Sie Flligkeitsdatum, Notizen, Rabatte hinzu; PDFVorschau und Versand per EMail.","Verfolgen Sie Zahlungsstatus sowie Storno-/Rckgabevorgnge."]},m3={title:"Ausgaben",desc:"Erfassen Sie Lieferant, Betrag, Datum und Status. Erinnerungen nahe Flligkeit; Bearbeitung gesperrt, wenn Periodensperre aktiv ist."},h3={title:"Verkufe",desc:"Verkufe werden automatisch aus Rechnungen erzeugt; manuelle Verkufe sind mglich. Mehrzeilige Verkufe untersttzt; Lager wird automatisch vermindert."},f3={title:"Bankkonten",desc:"Verfolgen Sie Bankkonten. FreePlan: 1 Konto; hhere Plne: unbegrenzt. Beim Hinzufgen Name und IBAN angeben."},p3={title:"Berichte & Hauptbuch",desc:"Einnahmen-/Ausgabenbersichten und Hauptbuch ansehen. Export nach Excel/PDF."},g3={title:"Einstellungen",items:["Profil- und Firmendaten (Logo, Adresse, Steuern)","Whrung, Sprache, MwSt./EinbehaltVoreinstellungen","Backups und DatenImport/Export"]},x3={title:"Benutzer, Rollen & Einladungen",desc:"Laden Sie Teammitglieder in Ihre Organisation ein. Rollen und Zugriffe hngen von Ihrem Plan ab."},y3={title:"Planlimits",desc:"Der FreePlan erlaubt grundlegende Nutzung (z.B. begrenzte Rechnungen/Ausgaben, 1 Bankkonto). Pro/Business erhhen oder entfernen Limits. Bei Limitfehlern erscheinen klare Hinweise."},b3={title:"Periodensperre",desc:"Bearbeitungen in geschlossenen Perioden sind gesperrt  BerichtsIntegritt bleibt erhalten. ffnen Sie die Periode fr Korrekturen."},v3={title:"Sicherheit & Backups",items:["Ihre Daten sind mit TLS, tglichen Backups und Monitoring abgesichert.","Tests nutzen angepasste Speicher; Produktion nutzt PostgreSQL.","Unsere Cookie und Datenschutzrichtlinien hier einsehen."],cookiesText:"hier"},w3={title:"FAQ & Kontakt",text:"Keine Antwort gefunden? Schreiben Sie uns an support@comptario.com."},k3={sidebarTitle:r3,pageTitle:s3,overviewDesc:n3,labels:i3,sections:a3,gettingStarted:o3,customers:l3,suppliers:c3,products:d3,invoices:u3,expenses:m3,sales:h3,bank:f3,reports:p3,settings:g3,users:x3,planLimits:y3,periodLock:b3,securityBackup:v3,faq:w3},N3="Guide d'utilisation",j3="Centre d'aide Comptario",S3="Ce guide vous aide pas  pas pour la facturation, les dpenses et les tches comptables de base. Accdez directement  un sujet via le menu. Chaque section inclut des tapes courtes, des astuces et des explications claires.",C3={tip:"Astuce"},A3=[{id:"overview",title:"Aperu"},{id:"getting-started",title:"Premiers pas (Inscription, Connexion, Langue/Devise)"},{id:"customers",title:"Clients"},{id:"suppliers",title:"Fournisseurs"},{id:"products",title:"Produits & Catgories"},{id:"invoices",title:"Factures"},{id:"expenses",title:"Dpenses"},{id:"sales",title:"Ventes"},{id:"bank",title:"Comptes bancaires"},{id:"reports",title:"Rapports & Grand livre"},{id:"settings",title:"Paramtres"},{id:"users",title:"Utilisateurs, Rles & Invitations"},{id:"plan-limits",title:"Limites du plan"},{id:"period-lock",title:"Verrouillage de priode"},{id:"security-backup",title:"Scurit & Sauvegardes"},{id:"faq-contact",title:"FAQ & Contact"}],E3={title:"Premiers pas (Inscription, Connexion, Langue/Devise)",steps:["Cliquez sur le bouton Essai gratuit dans l'entte ou sur la page.","Crez votre compte avec email et mot de passe. Si vous en avez dj un, connectezvous.","Dfinissez la langue via le menu en haut  droite. La devise se rgle dans Paramtres  Systme  Devise.","Renseignez vos informations d'entreprise (nom, n fiscal, adresse) dans le profil; elles apparatront sur les factures."],tipKeyboard:"Navigation rapide :",tipAfter:"pour aller aux Paramtres."},T3={title:"Clients",items:["Ouvrez la page Clients depuis la barre latrale.","Ajoutez un client ou importez via CSV/Excel.","Consultez les anciennes factures, le solde et les coordonnes depuis la fiche client."]},_3={title:"Fournisseurs",desc:"Crez des fiches fournisseurs pour lier les dpenses. Import et dition identiques  ceux des clients."},P3={title:"Produits & Catgories",desc:"Grez stocks et services. Dfinissez la TVA au niveau des catgories et, si besoin, surchargez par produit.",items:["Ajoutez de nouveaux produits avec SKU et prix.","Dfinissez un stock minimum et recevez des alertes de stock faible.","TVA automatique sur les factures via les rglages catgorie/produit."]},D3={title:"Factures",steps:["Crez une facture avec client et lignes; les produits apportent leur taux de TVA.","Ajoutez l'chance, des notes, remises; aperu PDF et envoi par email.","Suivez l'tat de paiement et les oprations d'annulation/retour."]},I3={title:"Dpenses",desc:"Enregistrez fournisseur, montant, date et statut. Rappels proches de l'chance; modifications bloques si la priode est verrouille."},M3={title:"Ventes",desc:"Les ventes sont cres automatiquement depuis les factures; vous pouvez aussi en ajouter manuellement. Ventes multilignes prises en charge; dcrment de stock automatique."},R3={title:"Comptes bancaires",desc:"Suivez vos comptes bancaires. Plan gratuit : 1 compte; plans suprieurs : illimit. Fournissez nom et IBAN lors de l'ajout."},z3={title:"Rapports & Grand livre",desc:"Affichez les rsums revenus/dpenses et le grand livre. Export Excel/PDF."},L3={title:"Paramtres",items:["Profil et infos socit (logo, adresse, infos fiscales)","Devise, langue, et valeurs par dfaut TVA/retenues","Sauvegardes et import/export de donnes"]},O3={title:"Utilisateurs, Rles & Invitations",desc:"Invitez vos collgues dans votre organisation. Rles et accs selon votre plan."},F3={title:"Limites du plan",desc:"Le plan gratuit permet un usage de base (ex. factures/dpenses limites, 1 compte bancaire). Pro/Business augmentent ou suppriment les limites. Messages clairs en cas de dpassement."},B3={title:"Verrouillage de priode",desc:"Les modifications sont bloques dans les priodes cltures pour prserver l'intgrit des rapports. Ouvrez la priode pour corriger si ncessaire."},U3={title:"Scurit & Sauvegardes",items:["Vos donnes sont protges via TLS, sauvegardes quotidiennes et monitoring.","Les tests utilisent un stockage adapt; la production utilise PostgreSQL.","Consultez ici notre politique de cookies et de confidentialit."],cookiesText:"ici"},V3={title:"FAQ & Contact",text:"Vous ne trouvez pas la rponse ? Contacteznous  support@comptario.com."},q3={sidebarTitle:N3,pageTitle:j3,overviewDesc:S3,labels:C3,sections:A3,gettingStarted:E3,customers:T3,suppliers:_3,products:P3,invoices:D3,expenses:I3,sales:M3,bank:R3,reports:z3,settings:L3,users:O3,planLimits:F3,periodLock:B3,securityBackup:U3,faq:V3},$3="Sistem Durumu",H3="Gncel alma durumu ve hizmet bileenleri",K3="Tm sistemler alyor",G3="Son gncelleme: {{time}}",W3={api:"Uygulama API",database:"Veritaban",email:"E-posta Servisi",pdf:"PDF Oluturma",storage:"Dosya Depolama"},Y3={operational:"alr durumda",degraded:"Ksmi kesinti",outage:"Kesinti"},Q3={title:"Olaylar",none:"Son 90 gnde olay yok."},Z3={title:"Sorun mu gryorsunuz?",text:"Bir sorun fark ederseniz ltfen destek ekibimizle iletiime gein:",email:"support@comptario.com adresinden bize yazn"},X3="Beklemede",J3="Onayland",e6="dendi",t6="Reddedildi",r6={title:$3,subtitle:H3,allOperational:K3,lastUpdated:G3,components:W3,status:Y3,incidents:Q3,contact:Z3,pending:X3,approved:J3,paid:e6,rejected:t6},s6="System Status",n6="Current operational status and service components",i6="All systems operational",a6="Last updated: {{time}}",o6={api:"Application API",database:"Database",email:"Email Service",pdf:"PDF Rendering",storage:"File Storage"},l6={operational:"Operational",degraded:"Degraded",outage:"Outage"},c6={title:"Incidents",none:"No incidents in the last 90 days."},d6={title:"Seeing an issue?",text:"If you notice a problem, please contact our support team:",email:"Email us at support@comptario.com"},u6="Pending",m6="Approved",h6="Paid",f6="Rejected",p6={title:s6,subtitle:n6,allOperational:i6,lastUpdated:a6,components:o6,status:l6,incidents:c6,contact:d6,pending:u6,approved:m6,paid:h6,rejected:f6},g6="Systemstatus",x6="Aktueller Betriebsstatus und Dienstkomponenten",y6="Alle Systeme in Betrieb",b6="Zuletzt aktualisiert: {{time}}",v6={api:"Anwendungs-API",database:"Datenbank",email:"E-Mail-Dienst",pdf:"PDF-Erstellung",storage:"Dateispeicher"},w6={operational:"Betriebsbereit",degraded:"Eingeschrnkt",outage:"Ausfall"},k6={title:"Vorflle",none:"Keine Vorflle in den letzten 90 Tagen."},N6={title:"Problem bemerkt?",text:"Wenn Sie ein Problem feststellen, kontaktieren Sie bitte unser Support-Team:",email:"Schreiben Sie uns an support@comptario.com"},j6="Ausstehend",S6="Genehmigt",C6="Bezahlt",A6="Abgelehnt",E6="Unbezahlt",T6="berfllig",_6="Entwurf",P6="Gesendet",D6="Storniert",I6="Abgeschlossen",M6="Aktiv",R6="Inaktiv",z6="Angesehen",L6="Akzeptiert",O6="Abgelehnt",F6="Abgelaufen",B6="Fakturiert",U6="Erstellt",V6="Erstattet",q6={title:g6,subtitle:x6,allOperational:y6,lastUpdated:b6,components:v6,status:w6,incidents:k6,contact:N6,pending:j6,approved:S6,paid:C6,rejected:A6,unpaid:E6,overdue:T6,draft:_6,sent:P6,cancelled:D6,completed:I6,active:M6,inactive:R6,viewed:z6,accepted:L6,declined:O6,expired:F6,invoiced:B6,created:U6,refunded:V6},$6="Statut du systme",H6="Statut oprationnel actuel et composants du service",K6="Tous les systmes sont oprationnels",G6="Dernire mise  jour : {{time}}",W6={api:"API d'application",database:"Base de donnes",email:"Service e-mail",pdf:"Gnration PDF",storage:"Stockage de fichiers"},Y6={operational:"Oprationnel",degraded:"Dgrad",outage:"Panne"},Q6={title:"Incidents",none:"Aucun incident au cours des 90 derniers jours."},Z6={title:"Vous voyez un problme ?",text:"Si vous remarquez un problme, veuillez contacter notre quipe d'assistance :",email:"crivez-nous  support@comptario.com"},X6="En attente",J6="Approuv",e5="Pay",t5="Rejet",r5="Impay",s5="En retard",n5="Brouillon",i5="Envoy",a5="Annul",o5="Termin",l5="Actif",c5="Inactif",d5="Consult",u5="Accept",m5="Dclin",h5="Expir",f5="Factur",p5="Cr",g5="Rembours",x5={title:$6,subtitle:H6,allOperational:K6,lastUpdated:G6,components:W6,status:Y6,incidents:Q6,contact:Z6,pending:X6,approved:J6,paid:e5,rejected:t5,unpaid:r5,overdue:s5,draft:n5,sent:i5,cancelled:a5,completed:o5,active:l5,inactive:c5,viewed:d5,accepted:u5,declined:m5,expired:h5,invoiced:f5,created:p5,refunded:g5},y5="Gelitirici API",b5="Bu sayfa yapm aamasndadr. ok yaknda API ile ilgili bilgileri burada paylaacaz.",v5={title:y5,underConstruction:b5},w5="Developer API",k5="This page is under construction. API documentation will be published here soon.",N5={title:w5,underConstruction:k5},j5="Developer API",S5="Diese Seite befindet sich im Aufbau. Die API-Dokumentation wird hier in Krze verffentlicht.",C5={title:j5,underConstruction:S5},A5="API Dveloppeur",E5="Cette page est en cours de construction. La documentation de l'API sera bientt publie ici.",T5={title:A5,underConstruction:E5},_5="Comptario Hakknda",P5="Albertville, Fransa merkezli yeniliki bir teknoloji irketiyiz.",D5={title:"Kimiz?",text:"Comptario, kk ve orta lekli iletmeler iin modern, gvenli ve kolay kullanml n muhasebe yazlmlar gelitiren dinamik bir teknoloji irketidir. Merkezimiz Fransann AuvergneRhneAlpes blgesinde, Albertvillededir. Avrupa standartlarnda gvenlik, performans ve veri koruma ilkeleriyle rn gelitirir; effaflk, sadelik ve hz deerlerini tm deneyime yanstrz."},I5={title:"Ne sunuyoruz?",items:["Faturalandrma, gider ynetimi, KDV ve raporlar iin tek bir alma alan","oklu para birimi ve kategori bazl KDV gibi yerelletirilmi zellikler","PDF fatura oluturma, e-posta ile gnderim ve ariv","ok kiracl mimari, rol tabanl eriim ve plan limitleri"]},M5={title:"Yaklammz",text:"rn kararlarmz kullanc geri bildirimleri ve veri odakl lmlerle veririz. Gvenlik ve veri mahremiyeti birer ek zellik deil, tasarmn ekirdeidir. Avrupa Birlii veri koruma prensiplerine (GDPR) uyumlu, gvenilir ve leklenebilir bir altyap zerinde alrz."},R5={title:"letiim",text:"Sorularnz iin bize u adresten ulaabilirsiniz:",emailNotice:"nemli not: Comptario yalnzca ilem ve yasal zorunluluk ieren e-postalar gnderir; pazarlama veya toplu reklam e-postas gnderilmez."},z5={title:_5,subtitle:P5,whoWeAre:D5,offerings:I5,approach:M5,contact:R5},L5="About Comptario",O5="We are an innovative tech company based in Albertville, France.",F5={title:"Who are we?",text:"Comptario is a dynamic technology company building modern, secure and easy-to-use bookkeeping software for small and medium businesses. Our headquarters is in Albertville, in the AuvergneRhneAlpes region of France. We develop products with European-grade security, performance and data protection principles; we reflect transparency, simplicity and speed across the entire experience."},B5={title:"What do we offer?",items:["A single workspace for invoicing, expense management, VAT and reports","Localized features like multi-currency and category-based VAT","PDF invoice generation, email delivery and archiving","Multi-tenant architecture, role-based access and plan limits"]},U5={title:"Our approach",text:"We make product decisions with user feedback and data-driven metrics. Security and data privacy are not extras; they are core to our design. We operate on a reliable and scalable infrastructure compliant with EU data protection principles (GDPR)."},V5={title:"Contact",text:"For questions, reach us at:",emailNotice:"Note: Comptario sends transactional and legally required emails onlyno marketing or bulk promotional emails."},q5={title:L5,subtitle:O5,whoWeAre:F5,offerings:B5,approach:U5,contact:V5},$5="ber Comptario",H5="Wir sind ein innovatives Technologieunternehmen mit Sitz in Albertville, Frankreich.",K5={title:"Wer sind wir?",text:"Comptario ist ein dynamisches Technologieunternehmen, das moderne, sichere und benutzerfreundliche Buchhaltungssoftware fr kleine und mittlere Unternehmen entwickelt. Unser Hauptsitz befindet sich in Albertville in der Region AuvergneRhneAlpes. Wir entwickeln Produkte nach europischen Standards fr Sicherheit, Leistung und Datenschutz und leben Transparenz, Einfachheit und Geschwindigkeit in der gesamten Erfahrung."},G5={title:"Was bieten wir an?",items:["Ein einziger Arbeitsbereich fr Rechnungen, Ausgabenverwaltung, Umsatzsteuer und Berichte","Lokalisierte Funktionen wie Mehrwhrung und kategoriebasierte Umsatzsteuer","PDF-Rechnungserstellung, Versand per E-Mail und Archivierung","Mandantenfhige Architektur, rollenbasierter Zugriff und Planlimits"]},W5={title:"Unser Ansatz",text:"Wir treffen Produktentscheidungen anhand von Nutzerfeedback und datengetriebenen Metriken. Sicherheit und Datenschutz sind keine Zusatzfunktionen, sondern zentral im Design verankert. Wir arbeiten auf einer zuverlssigen und skalierbaren Infrastruktur im Einklang mit den EU-Datenschutzgrundstzen (DSGVO)."},Y5={title:"Kontakt",text:"Bei Fragen erreichen Sie uns unter:",emailNotice:"Hinweis: Comptario versendet ausschlielich transaktionale und gesetzlich erforderliche E-Mails  keine Marketing- oder Massenwerbung."},Q5={title:$5,subtitle:H5,whoWeAre:K5,offerings:G5,approach:W5,contact:Y5},Z5=" propos de Comptario",X5="Nous sommes une entreprise technologique innovante base  Albertville, France.",J5={title:"Qui sommes-nous ?",text:"Comptario est une entreprise technologique dynamique qui dveloppe des logiciels de pr-comptabilit modernes, scuriss et faciles  utiliser pour les petites et moyennes entreprises. Notre sige est  Albertville, dans la rgion AuvergneRhneAlpes. Nous concevons nos produits selon des standards europens de scurit, de performance et de protection des donnes ; nous mettons la transparence, la simplicit et la rapidit au cur de l'exprience."},eC={title:"Ce que nous offrons",items:["Un espace de travail unique pour la facturation, la gestion des dpenses, la TVA et les rapports","Des fonctionnalits localises comme la multi-devise et la TVA par catgorie","Gnration de factures PDF, envoi par e-mail et archivage","Architecture multi-tenant, contrle d'accs par rles et limites de plan"]},tC={title:"Notre approche",text:"Nos dcisions produit s'appuient sur les retours des utilisateurs et des mtriques pilotes par les donnes. La scurit et la confidentialit ne sont pas des options, elles sont au cur du design. Nous oprons sur une infrastructure fiable et volutive, conforme aux principes europens de protection des donnes (RGPD)."},rC={title:"Contact",text:"Pour toute question, contactez-nous :",emailNotice:"Note : Comptario envoie uniquement des e-mails transactionnels ou lgalement obligatoiresaucun e-mail marketing ou publicitaire de masse."},sC={title:Z5,subtitle:X5,whoWeAre:J5,offerings:eC,approach:tC,contact:rC};function hm(a){try{if(!a||typeof a!="object")return a||{};let m={...a};if(m.common&&typeof m.common=="object"){const t=m.common;if(m={...t,...m},t.status&&typeof t.status=="object"){const h=m.status&&typeof m.status=="object"?m.status:{};m.status={...t.status,...h}}}if(!m.planTab)if(m.pdf&&typeof m.pdf.planTab=="object")m.planTab=m.pdf.planTab;else if(m.dpa&&typeof m.dpa.planTab=="object")m.planTab=m.dpa.planTab;else if(m.common&&typeof m.common.planTab=="object")m.planTab=m.common.planTab;else{const t=new WeakSet,h=[m];for(;h.length;){const f=h.pop();if(!(!f||typeof f!="object"||t.has(f))){if(t.add(f),Object.prototype.hasOwnProperty.call(f,"planTab")&&typeof f.planTab=="object"){m.planTab=f.planTab;break}for(const c of Object.keys(f)){const n=f[c];n&&typeof n=="object"&&h.push(n)}}}}if(!m.pdf||typeof m.pdf!="object"){const t=m.legal&&typeof m.legal=="object"?m.legal.pdf:void 0;if(t&&typeof t=="object"){m.pdf=t;try{delete m.legal.pdf}catch{}}else{const h=new WeakSet,f=[m];for(;f.length&&(!m.pdf||typeof m.pdf!="object");){const c=f.pop();if(!(!c||typeof c!="object"||h.has(c))){if(h.add(c),Object.prototype.hasOwnProperty.call(c,"pdf")&&typeof c.pdf=="object"){m.pdf=c.pdf;break}for(const n of Object.keys(c)){const o=c[n];o&&typeof o=="object"&&f.push(o)}}}}}if(!m.notifications&&m.sales&&typeof m.sales.notifications=="object"&&(m.notifications=m.sales.notifications),!m.security&&m.sales&&typeof m.sales.security=="object"&&(m.security=m.sales.security),m.landing&&typeof m.landing=="object"){const t=m.landing,h=(f,c,n)=>{let o=f;for(let i=0;i<c.length;i++){const r=c[i];i===c.length-1?o[r]==null&&(o[r]=n):((o[r]==null||typeof o[r]!="object")&&(o[r]={}),o=o[r])}};Object.keys(t).forEach(f=>{if(f.startsWith("pricing.")){const c=f.slice(8);if(c){const n=["pricing",...c.split(".")];h(t,n,t[f])}}})}return a.org&&a.org.members&&(!m.org||!m.org.members)&&(m.org=m.org||{},m.org.members=a.org.members),m}catch(m){return console.warn("[i18n] normalizeCommonResource failed, using fallback tree.",m),a||{}}}const _a=hm(kN);try{const a=jN?.org;a&&(_a.org=_a.org||{},!_a.org.members&&a.members&&(_a.org.members=a.members),!_a.org.join&&a.join&&(_a.org.join=a.join))}catch(a){console.warn("[i18n] Trke org.members merge skipped:",a)}const Mb=hm(vj),Rb=hm(xS),zb=hm(h4);function fm(a,m){if(!a||typeof a!="object")return a||{};if(!m||typeof m!="object")return a;const t=m.status;return t&&typeof t=="object"&&Object.keys(t).forEach(h=>{a[h]==null&&(a[h]=t[h])}),a}const nC=fm(r6,_a),iC=fm(p6,Mb),aC=fm(q6,Rb),oC=fm(x5,zb),lC={tr:{common:_a,help:M4,status:nC,api:v5,about:z5},en:{common:Mb,help:t3,status:iC,api:N5,about:q5},de:{common:Rb,help:k3,status:aC,api:C5,about:Q5},fr:{common:zb,help:q3,status:oC,api:T5,about:sC}};ss.use(Ib).use(ck).init({resources:lC,fallbackLng:["en","tr"],defaultNS:"common",ns:["common","help","status","api","about"],keySeparator:".",nsSeparator:":",supportedLngs:["tr","en","de","fr"],nonExplicitSupportedLngs:!0,load:"languageOnly",react:{useSuspense:!1},interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});globalThis.i18next=ss;var cC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dC=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ct=(a,m)=>{const t=W.forwardRef(({color:h="currentColor",size:f=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:o="",children:i,...r},s)=>W.createElement("svg",{ref:s,...cC,width:f,height:f,stroke:h,strokeWidth:n?Number(c)*24/Number(f):c,className:["lucide",`lucide-${dC(a)}`,o].join(" "),...r},[...m.map(([l,d])=>W.createElement(l,d)),...Array.isArray(i)?i:[i]]));return t.displayName=`${a}`,t};const Hu=Ct("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const rp=Ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const pn=Ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const uC=Ct("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);const mC=Ct("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);const hC=Ct("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);const fC=Ct("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);const Lb=Ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);const Kc=Ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const bl=Ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const pC=Ct("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const gC=Ct("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);const Lc=Ct("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const xC=Ct("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);const pm=Ct("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Ob=Ct("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);const Fb=Ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const yC=Ct("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);const wu=Ct("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const bC=Ct("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);const vC=Ct("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const Jr=Ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Pp=Ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);const Or=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Dp=Ct("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Fs=Ct("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ns=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const ms=Ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const wC=Ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Bb=Ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Os=Ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const kC=Ct("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const Oa=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ex=Ct("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);const NC=Ct("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const jC=Ct("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const Ip=Ct("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);const sp=Ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const xi=Ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const Ub=Ct("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);const La=Ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Pn=Ct("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const vs=Ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const SC=Ct("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);const Oc=Ct("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Wr=Ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const CC=Ct("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const vl=Ct("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);const qr=Ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const AC=Ct("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);const Vb=Ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const EC=Ct("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const TC=Ct("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const ni=Ct("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const ku=Ct("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const Tx=Ct("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);const _C=Ct("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);const PC=Ct("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);const DC=Ct("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);const IC=Ct("Heading5",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 13v-3h4",key:"1nvgqp"}],["path",{d:"M17 17.7c.4.2.8.3 1.3.3 1.5 0 2.7-1.1 2.7-2.5S19.8 13 18.3 13H17",key:"2nebdn"}]]);const MC=Ct("Heading6",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["circle",{cx:"19",cy:"16",r:"2",key:"15mx69"}],["path",{d:"M20 10c-2 2-3 3.5-3 6",key:"f35dl0"}]]);const RC=Ct("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const zC=Ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Ku=Ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const LC=Ct("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);const ra=Ct("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const OC=Ct("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Mp=Ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const FC=Ct("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);const BC=Ct("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const Gu=Ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Bn=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const UC=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Us=Ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const jl=Ct("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const qb=Ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const _x=Ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const VC=Ct("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const mn=Ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const qC=Ct("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const $C=Ct("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);const No=Ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const HC=Ct("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const $b=Ct("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const Hb=Ct("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);const Vs=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Kb=Ct("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);const fn=Ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const KC=Ct("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5v0A5.5 5.5 0 0 0 9.5 20H13",key:"19mnr4"}]]);const Fc=Ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const wl=Ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Rp=Ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const GC=Ct("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const Ms=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Gb=Ct("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Wu=Ct("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const Gc=Ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const WC=Ct("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ds=Ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const YC=Ct("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const hs=Ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const QC=Ct("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Bc=Ct("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const ZC=Ct("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);const Ri=Ct("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Nu=Ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const XC=Ct("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Yr=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const np=Ct("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Bs=Ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const JC=Ct("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);const eA=Ct("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);const ip=Ct("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const zp=Ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const tA=Ct("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const ap=Ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const is=Ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Is=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Sl=Ct("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const kr=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const rA=Ct("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Wb=W.createContext(void 0),sA="currency",nA="TRY",Yb="currency_preference",iA=a=>a==="TRY"||a==="USD"||a==="EUR"||a==="GBP"?a:(a&&a.trim()&&he.warn("[CurrencyContext] Invalid currency in storage, falling back to default",{value:a}),nA),aA=()=>{const m=Ru(Yb,{fallbackToBase:!0})??Tt.getItem(sA);return iA(m)},oA=({children:a})=>{const[m,t]=W.useState(aA);W.useEffect(()=>{he.debug("[CurrencyContext] Currency changed, saving to local storage:",m),ml(Yb,m,{mirrorToBase:!0})},[m]);const h=o=>{he.info("[CurrencyContext] setCurrency called with:",o),t(o)},f=o=>{switch(o??m){case"TRY":return"";case"USD":return"$";case"EUR":return"";case"GBP":return"";default:return""}},n={currency:m,setCurrency:h,formatCurrency:(o,i)=>{const r=typeof o=="number"?o:0,s=i??m,l=f(s);switch(s){case"TRY":return`${l}${r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"USD":case"EUR":return`${l}${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"GBP":return`${l}${r.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`;default:return`${l}${r.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}},getCurrencySymbol:f};return e.jsx(Wb.Provider,{value:n,children:a})},es=()=>{const a=W.useContext(Wb);if(!a)throw new Error("useCurrency must be used within a CurrencyProvider");return a},Qb=W.createContext(void 0),op=a=>{const m=String(a||"").toLowerCase();return!m||m.startsWith("tr")||m.includes("turk")?"tr":m.startsWith("en")||m.includes("engl")?"en":m.startsWith("de")||m.includes("deut")||m.includes("german")?"de":m.startsWith("fr")||m.includes("fran")?"fr":"tr"},lp="i18nextLng",Zb="language_preference",lA=()=>{const a=yo();return a&&a!=="default"?`lang_${a}`:lp},cA=()=>{try{const a=Ru(Zb,{fallbackToBase:!0}),m=lA(),t=m?Tt.getItem(m):null,h=m===lp?null:Tt.getItem(lp);return op(a||t||h)}catch(a){return he.warn("Dil bilgisi yklenemedi, varsaylan kullanlacak",a),"tr"}};function dA({children:a}){const{i18n:m}=Zt(),[t,h]=W.useState(cA),f=W.useRef(null),c=W.useCallback(i=>(f.current=i,m.changeLanguage(i).finally(()=>{f.current===i&&(f.current=null)})),[m]),n=[{code:"tr",name:"Trke",flag:""},{code:"en",name:"English",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"fr",name:"Franais",flag:""}],o=i=>{const r=op(i);c(r),h(r);try{ml(Zb,r,{mirrorToBase:!0})}catch(s){he.warn("Dil tercihi kaydedilemedi",s)}};return W.useEffect(()=>{const i=op(t);f.current!==i&&m.language!==i&&c(i)},[t,m,c]),e.jsx(Qb.Provider,{value:{currentLanguage:t,changeLanguage:o,languages:n},children:a})}function Fa(){const a=W.useContext(Qb);if(a===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return a}class hl{static instance;consent=null;config={};constructor(){}static getInstance(){return hl.instance||(hl.instance=new hl),hl.instance}setConfig(m){this.config=m}updateConsent(m){const t=this.consent;this.consent=m,(!t||t.analytics!==m.analytics)&&(m.analytics?this.enableAnalytics():this.disableAnalytics()),(!t||t.marketing!==m.marketing)&&(m.marketing?this.enableMarketingTracking():this.disableMarketingTracking())}enableAnalytics(){this.config.googleAnalytics?.enabled&&this.config.googleAnalytics.measurementId&&this.loadGoogleAnalytics(this.config.googleAnalytics.measurementId),this.config.matomo?.enabled&&this.config.matomo.siteId&&this.config.matomo.url&&this.loadMatomo(this.config.matomo.siteId,this.config.matomo.url),he.info(" Analytics enabled")}disableAnalytics(){this.disableGoogleAnalytics(),this.disableMatomo(),he.warn(" Analytics disabled")}enableMarketingTracking(){this.config.hotjar?.enabled&&this.config.hotjar.hjid&&this.config.hotjar.hjsv&&this.loadHotjar(this.config.hotjar.hjid,this.config.hotjar.hjsv),he.info(" Marketing tracking enabled")}disableMarketingTracking(){this.disableHotjar(),he.warn(" Marketing tracking disabled")}loadGoogleAnalytics(m){if(document.querySelector(`script[src*="googletagmanager.com/gtag/js?id=${m}"]`))return;const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${m}`,document.head.appendChild(t),t.onload=()=>{const h=window;h.dataLayer=h.dataLayer||[];function f(...c){h.dataLayer.push(c)}f("js",new Date),f("config",m,{anonymize_ip:!0,cookie_expires:63072e3}),window.gtag=f}}disableGoogleAnalytics(){const m=this.config.googleAnalytics?.measurementId;m&&(window[`ga-disable-${m}`]=!0),this.clearCookies(["_ga","_ga_*","_gid","_gat_gtag_*"])}loadMatomo(m,t){if(window._paq)return;const h=window;h._paq=h._paq||{push:()=>{}},h._paq?.push(["trackPageView"]),h._paq?.push(["enableLinkTracking"]);const f=document.createElement("script");f.async=!0,f.src=`${t}/matomo.js`,document.head.appendChild(f),f.onload=()=>{const c=window;c._paq?.push(["setTrackerUrl",`${t}/matomo.php`]),c._paq?.push(["setSiteId",m])}}disableMatomo(){window._paq&&window._paq?.push(["optUserOut"]),this.clearCookies(["_pk_id*","_pk_ses*"])}loadHotjar(m,t){if(window.hj)return;const h=window;h.hj=h.hj||(function(...c){const n=h.hj;(n.q=n.q||[]).push(c)}),h._hjSettings={hjid:m,hjsv:t};const f=document.createElement("script");f.async=!0,f.src=`https://static.hotjar.com/c/hotjar-${m}.js?sv=${t}`,document.head.appendChild(f)}disableHotjar(){window.hj&&window.hj?.("stateChange","/cookie-opt-out"),this.clearCookies(["_hjid","_hjFirstSeen","_hjIncludedInSessionSample_*","_hjSession_*","_hjSessionUser_*"])}clearCookies(m){m.forEach(t=>{if(t.includes("*")){const h=t.replace("*","");document.cookie.split(";").forEach(f=>{const c=f.split("=")[0].trim();c.startsWith(h)&&this.deleteCookie(c)})}else this.deleteCookie(t)})}deleteCookie(m){document.cookie=`${m}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`;const t=window.location.hostname;document.cookie=`${m}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.${t};`,document.cookie=`${m}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${t};`}trackEvent(m,t,h,f){if(!this.consent?.analytics){console.warn(" Analytics tracking blocked - no consent");return}window.gtag&&window.gtag?.("event",m,{event_category:t,event_label:h,value:f}),window._paq&&window._paq?.push(["trackEvent",t,m,h,f])}trackPageView(m){if(!this.consent?.analytics){console.warn(" Page view tracking blocked - no consent");return}window.gtag&&window.gtag?.("config",this.config.googleAnalytics?.measurementId,{page_path:m||window.location.pathname}),window._paq&&(m&&window._paq?.push(["setCustomUrl",m]),window._paq?.push(["trackPageView"]))}hasAnalyticsConsent(){return this.consent?.analytics??!1}hasMarketingConsent(){return this.consent?.marketing??!1}}const cp=hl.getInstance(),Xb=W.createContext(void 0),Yu=1,hf=`cookie_consent_v${Yu}`,ff={necessary:!0,analytics:!1,marketing:!1,version:Yu},uA=({children:a})=>{const[m,t]=W.useState(null),[h,f]=W.useState(!1),[c,n]=W.useState(!1),[o,i]=W.useState(!1);W.useEffect(()=>{if(typeof window>"u")return()=>{};window.location.hash==="#cookie-preferences"&&i(!0);const y=()=>{try{const O=window.location.hash;he.debug("[cookie] hashchange ->",O),O==="#cookie-preferences"?(he.debug("[cookie] setting showModal true via hash"),i(!0)):(he.debug("[cookie] hash cleared, closing modal"),i(!1))}catch(O){he.warn("[cookie] hash listener error",O)}};window.addEventListener("hashchange",y);const N=()=>{he.debug("[cookie] open-cookie-preferences event"),i(!0)},E=()=>{he.debug("[cookie] close-cookie-preferences event"),i(!1)};window.addEventListener("open-cookie-preferences",N),window.addEventListener("close-cookie-preferences",E);const I=za(Tt.getItem(hf),"cookie consent cache");return I?I.version===Yu?(t(I),f(!0),n(!1),cp.updateConsent(I),he.info(" Cookie consent loaded from storage:",I)):(he.warn(" Cookie consent version mismatch, showing banner"),n(!0)):(he.info(" No cookie consent found, showing banner"),n(!0)),()=>{window.removeEventListener("hashchange",y),window.removeEventListener("open-cookie-preferences",N),window.removeEventListener("close-cookie-preferences",E)}},[]);const r=y=>{const N={...y,timestamp:Date.now(),version:Yu};if(Tt.setItem(hf,JSON.stringify(N)),t(N),f(!0),n(!1),i(!1),typeof window<"u"&&window.location.hash==="#cookie-preferences"){const E=window.location.pathname+window.location.search;window.history.replaceState(null,"",E),he.debug("[cookie] cleared hash after save")}he.info(" Cookie consent saved:",N),cp.updateConsent(N),N.analytics&&!m?.analytics&&he.info(" Analytics consent granted, initializing..."),N.marketing&&!m?.marketing&&he.info(" Marketing consent granted, initializing...")},v={consent:m,hasConsent:h,showBanner:c,showModal:o,updateConsent:y=>{const N={...ff,...m,...y,necessary:!0,timestamp:Date.now()};r(N)},acceptAll:()=>{const y={...ff,analytics:!0,marketing:!0,timestamp:Date.now()};r(y)},rejectAll:()=>{const y={...ff,analytics:!1,marketing:!1,timestamp:Date.now()};r(y)},openModal:()=>{he.debug("[cookie] openModal called"),i(!0)},closeModal:()=>{if(he.debug("[cookie] closeModal called"),i(!1),typeof window<"u"&&window.location.hash==="#cookie-preferences"){const y=window.location.pathname+window.location.search;window.history.replaceState(null,"",y),he.debug("[cookie] cleared hash on close")}typeof window<"u"&&window.dispatchEvent(new Event("close-cookie-preferences"))},closeBanner:()=>{n(!1)},resetConsent:()=>{Tt.removeItem(hf),t(null),f(!1),n(!0),i(!1),he.warn(" Cookie consent reset")}};return e.jsx(Xb.Provider,{value:v,children:a})},Lp=()=>{const a=W.useContext(Xb);if(!a)throw new Error("useCookieConsent must be used within a CookieConsentProvider");return a},Sn={getProfile:async()=>(await nt.get("/users/me")).data,updateProfile:async a=>(await nt.put("/users/me",a)).data,getNotificationPreferences:async()=>(await nt.get("/users/me/notification-preferences")).data||{},updateNotificationPreferences:async a=>(await nt.put("/users/me/notification-preferences",a)).data,changePassword:async(a,m)=>(await nt.put("/users/me/password",{currentPassword:a,newPassword:m})).data,getTwoFactorStatus:async()=>(await nt.get("/users/2fa/status")).data,setupTwoFactor:async()=>(await nt.post("/users/2fa/setup",{})).data,enableTwoFactor:async a=>(await nt.post("/users/2fa/enable",{token:a})).data,disableTwoFactor:async a=>(await nt.post("/users/2fa/disable",{token:a})).data,regenerateTwoFactorBackupCodes:async()=>(await nt.post("/users/2fa/backup-codes/regenerate",{})).data,terminateAllSessions:async()=>(await nt.post("/users/sessions/terminate-all",{})).data},Jb=W.createContext(void 0),Op="notif_prefs_cache_last",mo={invoiceReminders:!0,expenseAlerts:!0,salesNotifications:!0,lowStockAlerts:!0,quoteReminders:!0},Fp=a=>`${Op}:${a??"anon"}`,Bp=()=>({tenantId:yo(),userId:dm()}),mA=()=>{const{tenantId:a,userId:m}=Bp(),t=Fp(m);try{const h=_c(t,{tenantId:a,fallbackToBase:!0});if(h)return{...mo,...h}}catch(h){he.warn("Tenant scoped notification prefs cache okunamad",h)}return null},hA=()=>{const{tenantId:a,userId:m}=Bp(),t=Fp(m),h=ia(t,a),f=new Set;return[h,t,Op].forEach(c=>{c&&f.add(c)}),f},fA=({children:a})=>{const[m,t]=W.useState(mo),[h,f]=W.useState(!0),[c]=W.useState(300*1e3),{isAuthenticated:n}=Zs(),o=()=>{try{return yl({userIds:[dm()]})}catch(d){return he.warn("Legacy prefs okunamad",d),null}},i=()=>{const d=mA();if(d)return d;try{const u=za(Tt.getItem(Op),"notification preferences local cache");if(u)return{...mo,...u}}catch(u){he.warn("Legacy notification preferences local cache okunamad",u)}try{const u=yl();if(u)return{...mo,...u}}catch(u){he.warn("Scoped notification preferences cache okunamad",u)}return null},r=d=>{const{tenantId:u,userId:x}=Bp(),b=Fp(x);try{vu(b,d,{tenantId:u,mirrorToBase:!0})}catch(g){he.warn("Notification preferences tenant cache yazlamad",g)}try{xb(d,{tenantIds:[u],userIds:[x],includeDefaultTenant:!0})}catch(g){he.warn("Notification preferences cache helper yazlamad",g)}},s=W.useCallback(async()=>{if(!n){const d=i();d&&t(d),f(!1);return}f(!0);try{const d=await Sn.getNotificationPreferences();let u={...mo,...d};const x=o();if(!Object.values(d||{}).some(g=>typeof g=="boolean")&&x)try{const g={...mo,...x};await Sn.updateNotificationPreferences(g),u=g}catch(g){he.warn("Legacy bildirim tercihlerini backend ile senkron edemedik",g)}t(u),r(u)}catch(d){he.warn("Notification preferences yenilenemedi, cache kullanlacak",d);const u=i();u&&t(u)}finally{f(!1)}},[n]);W.useEffect(()=>{s()},[s,n]),W.useEffect(()=>{if(typeof window>"u")return()=>{};const d=n?setInterval(()=>{s()},c):null,u=hA(),x=b=>{if(!(!b.key||!u.has(b.key)))try{const g=za(b.newValue,`notification prefs storage event (${b.key})`);g&&t(v=>({...v,...g}))}catch(g){he.warn("Notification prefs storage event parse hatas",g)}};return window.addEventListener("storage",x),()=>{d&&clearInterval(d),window.removeEventListener("storage",x)}},[c,s,n]);const l=W.useCallback(async(d,u)=>{const x=m[d]??mo[d]??!1,b={...m,[d]:u};t(b),r(b);try{await Sn.updateNotificationPreferences(b)}catch(g){he.error("Notification preference gncellenemedi, geri alnyor",g);const v={...b,[d]:x};t(v),r(v)}},[m]);return e.jsx(Jb.Provider,{value:{prefs:m,loading:h,refresh:s,updatePref:l},children:a})},ev=()=>{const a=W.useContext(Jb);if(!a)throw new Error("useNotificationPreferences must be used within NotificationPreferencesProvider");return a},pA=async(a,m)=>{if(!a)return"";try{const t=new TextEncoder,h=t.encode(a),f=crypto.getRandomValues(new Uint8Array(16)),c=await crypto.subtle.importKey("raw",t.encode(m),"PBKDF2",!1,["deriveKey"]),n=await crypto.subtle.deriveKey({name:"PBKDF2",salt:f,iterations:1e5,hash:"SHA-256"},c,{name:"AES-GCM",length:256},!1,["encrypt"]),o=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:o},n,h),r=new Uint8Array(f.length+o.length+i.byteLength);r.set(f),r.set(o,f.length),r.set(new Uint8Array(i),f.length+o.length);let s="";const l=32768;for(let d=0;d<r.length;d+=l){const u=r.subarray(d,d+l);s+=String.fromCharCode(...u)}return btoa(s)}catch(t){return console.error("Encryption failed:",t),""}},tv=a=>!a||a.trim().startsWith("{")||a.trim().startsWith("[")||a.includes(':"')||!/^[A-Za-z0-9+/=\s]+$/.test(a)?!1:a.replace(/\s+/g,"").length%4===0,gA=async(a,m)=>{if(!a)return"";try{if(!tv(a))return"";const t=new TextEncoder,h=new TextDecoder,f=new Uint8Array(atob(a).split("").map(l=>l.charCodeAt(0))),c=f.slice(0,16),n=f.slice(16,28),o=f.slice(28),i=await crypto.subtle.importKey("raw",t.encode(m),"PBKDF2",!1,["deriveKey"]),r=await crypto.subtle.deriveKey({name:"PBKDF2",salt:c,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["decrypt"]),s=await crypto.subtle.decrypt({name:"AES-GCM",iv:n},r,o);return h.decode(s)}catch{return""}},xA=(a,m)=>{if(!a)return"";let t="";for(let h=0;h<a.length;h++)t+=String.fromCharCode(a.charCodeAt(h)^m.charCodeAt(h%m.length));return btoa(t)},Px=(a,m)=>{if(!a)return"";try{const t=atob(a);let h="";for(let f=0;f<t.length;f++)h+=String.fromCharCode(t.charCodeAt(f)^m.charCodeAt(f%m.length));return h}catch{return""}},oc="development_encryption_key_32_chars_long_change_in_production_env",Dx=!0,Ix=!0,Pa={setItem:async(a,m)=>{try{let t;Ix&&window.crypto&&window.crypto.subtle?t=await pA(m,oc):t=xA(m,oc),Tt.setItem(a,t)}catch(t){console.error("Storage setItem failed:",t)}},getItem:async a=>{try{const m=Tt.getItem(a);return m?tv(m)?Ix&&window.crypto&&window.crypto.subtle&&await gA(m,oc)||Px(m,oc):m:null}catch(m){return console.error("Storage getItem failed:",m),null}},removeItem:a=>{try{Tt.removeItem(a)}catch(m){console.error("Storage removeItem failed:",m)}},setJSON:async(a,m)=>{try{const t=JSON.stringify(m);await Pa.setItem(a,t)}catch(t){console.error("Storage setJSON failed:",t)}},getJSON:async a=>{try{const m=await Pa.getItem(a);return m?JSON.parse(m):null}catch(m){return console.error("Storage getJSON failed:",m),null}}},il=a=>{if(a&&typeof a=="object"){const m=a;if(m.response?.data?.message)return Mx(m.response.data.message);if(m.message)return Mx(m.message);if(m.code==="NETWORK_ERROR")return ss.t("common.networkError",{defaultValue:"Balant hatas. Ltfen internet balantnz kontrol edin."})}return ss.t("common.unexpectedError",{defaultValue:"Beklenmeyen bir hata olutu. Ltfen tekrar deneyin."})},Mx=a=>{const m={"Fiscal period overlaps with existing period":ss.t("fiscalPeriods.validation.periodOverlap",{defaultValue:"Bu tarih aralnda zaten baka bir mali dnem tanml."}),"Period is already locked":ss.t("fiscalPeriods.errors.periodLocked",{defaultValue:"Bu dnem zaten kilitli durumda."}),"Period is not locked":ss.t("fiscalPeriods.errors.unlockFailed",{defaultValue:"Bu dnem zaten ak durumda."}),"Cannot delete a locked period":ss.t("fiscalPeriods.errors.operationNotAllowed",{defaultValue:"Kilitli dnem silinemez. nce dnem kilidini an."})},t={"Name already exists":"Bu isim zaten kullanlyor. Ltfen farkl bir isim sein.","Invalid date range":"Geersiz tarih aral. Biti tarihi balang tarihinden sonra olmaldr.","Start date cannot be in the past":"Balang tarihi gemite olamaz.","End date must be after start date":"Biti tarihi balang tarihinden sonra olmaldr.",Unauthorized:"Bu ilem iin yetkiniz bulunmuyor. Ltfen giri yapn.",Forbidden:"Bu ilemi gerekletirme yetkiniz yok.","Invalid credentials":"Kullanc ad veya ifre hatal.","Token expired":"Oturumunuz sona erdi. Ltfen tekrar giri yapn.","Network Error":"Balant hatas. Ltfen internet balantnz kontrol edin.","Request timeout":"stek zaman amna urad. Ltfen tekrar deneyin.","Server error":"Sunucu hatas. Ltfen daha sonra tekrar deneyin.","Not found":"Aradnz kayt bulunamad.","Bad request":"Geersiz istek. Ltfen girdiiniz bilgileri kontrol edin.","Internal server error":"Sunucu hatas. Ltfen tekrar deneyin.","Service unavailable":"Servis u anda kullanlamyor. Ltfen daha sonra tekrar deneyin."};for(const[h,f]of Object.entries(m))if(a.includes(h))return f;for(const[h,f]of Object.entries(t))if(a.includes(h))return f;if(a.includes("Cannot modify records in locked period")){const h=a.match(/"([^"]+)"/),f=h?h[1]:"kilitli dnem";return ss.t("fiscalPeriods.errors.operationNotAllowed",{defaultValue:`${f} kilitli olduu iin ilem yaplamaz. nce dnem kilidini anz.`})}return a},yA=async()=>(await nt.get("/customers")).data,nP=async a=>(await nt.get(`/customers/${a}`)).data,Rx=async a=>(await nt.post("/customers",a)).data,bA=async(a,m)=>(await nt.patch(`/customers/${a}`,m)).data,vA=async a=>{await nt.delete(`/customers/${a}`)},dp=async()=>(await nt.get("/products")).data,zx=async a=>(await nt.post("/products",a)).data,Lx=async(a,m)=>(await nt.patch(`/products/${a}`,m)).data,wA=async a=>{await nt.delete(`/products/${a}`)},kA=async()=>(await nt.get("/invoices")).data,lc=async a=>(await nt.get(`/invoices/${a}`)).data,Ox=async a=>(await nt.post("/invoices",a)).data,pf=async(a,m)=>(await nt.patch(`/invoices/${a}`,m)).data,NA=async a=>{await nt.delete(`/invoices/${a}`)},jA=async(a,m)=>(await nt.patch(`/invoices/${a}/void`,{reason:m})).data,SA=async a=>(await nt.patch(`/invoices/${a}/restore`)).data,CA=async()=>(await nt.get("/sales")).data,iP=async a=>(await nt.get(`/sales/${a}`)).data,gf=async a=>(await nt.post("/sales",a)).data,AA=async(a,m)=>(await nt.patch(`/sales/${a}`,m)).data,EA=async a=>{await nt.delete(`/sales/${a}`)};var go=(a=>(a.PENDING="pending",a.APPROVED="approved",a.PAID="paid",a.REJECTED="rejected",a))(go||{});const TA=async()=>(await nt.get("/expenses")).data,_A=async a=>(await nt.post("/expenses",a)).data,PA=async(a,m)=>(await nt.patch(`/expenses/${a}`,m)).data,DA=async(a,m)=>(await nt.patch(`/expenses/${a}/status`,{status:m})).data,IA=async a=>{await nt.delete(`/expenses/${a}`)},MA=async(a,m)=>(await nt.patch(`/expenses/${a}/void`,{reason:m})).data,RA=async a=>(await nt.patch(`/expenses/${a}/restore`)).data,zA=async()=>(await nt.get("/suppliers")).data,LA=async a=>(await nt.post("/suppliers",a)).data,OA=async(a,m)=>(await nt.patch(`/suppliers/${a}`,m)).data,FA=async a=>{await nt.delete(`/suppliers/${a}`)},BA=({user:a={name:"Demo User",email:"demo@moneyflow.com"},onLogout:m,onNewInvoice:t,onNewSale:h,activePage:f="dashboard",customTitle:c,onToggleSidebar:n,notifications:o=[],unreadCount:i=0,isNotificationsOpen:r=!1,onToggleNotifications:s,onCloseNotifications:l,onNotificationClick:d,onOpenSettingsProfile:u})=>{const{currentLanguage:x,changeLanguage:b,languages:g}=Fa(),{t:v}=Zt(),y=(j,C,P)=>{try{const R=v(j,P);return R===j?C:String(R)}catch{return C}},N=(j,C,P)=>{for(const R of j)try{const L=v(R,P);if(L!==R)return String(L)}catch{}return C},E=(j,C)=>{if(!j||typeof j!="string")return j;const P=j,R=P.trim();if(!(R.includes(".")&&!/\s/.test(R)))return P;try{let Y=v(R,C||{});return Y===R?P:((!C||Object.keys(C).length===0)&&(Y=Y.replace(/\{\{[^}]+\}\}/g,"").replace(/\s{2,}/g," ").replace(/\s+([:;,.-])/g,"$1").trim()),Y)}catch{return P}},I=j=>{const C={dashboard:"sidebar.dashboard",invoices:"sidebar.invoices",expenses:"sidebar.expenses",customers:"sidebar.customers",products:"sidebar.products",suppliers:"sidebar.suppliers",banks:"sidebar.banks",sales:"sidebar.sales",reports:"sidebar.reports","general-ledger":"sidebar.accounting","chart-of-accounts":"sidebar.chartOfAccounts",archive:"sidebar.archive",settings:"sidebar.settings"};return C[j]?v(C[j]):j.split("-").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" ")},O=c&&c.trim().length>0?c:I(f),$=W.useRef(null),z=W.useRef(null),U=W.useRef(null),[V,G]=W.useState(!1);W.useEffect(()=>{if(!r)return;const j=P=>{const R=P.target;z.current&&!z.current.contains(R)&&$.current&&!$.current.contains(R)&&l?.()},C=P=>{P.key==="Escape"&&l?.()};return document.addEventListener("mousedown",j),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",C)}},[r,l]),W.useEffect(()=>{if(!V)return;const j=P=>{const R=P.target;U.current&&!U.current.contains(R)&&G(!1)},C=P=>{P.key==="Escape"&&G(!1)};return document.addEventListener("mousedown",j),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",C)}},[V]);const B={info:"bg-blue-500",warning:"bg-amber-500",success:"bg-green-500",danger:"bg-red-500"},T=g.find(j=>j.code===x)??g[0],D=j=>{b(j),G(!1)},A=j=>{try{return!j||typeof j!="string"?j:j.includes("{{")&&j.includes("}}")?j.replace(/\{\{[^}]+\}\}/g,"").replace(/\s{2,}/g," ").replace(/\s+([:;,.-])/g,"$1").trim():j}catch{return j}},k=j=>j?/^[\s:;.,-]*$/.test(j):!0,S=j=>{const C=j.i18nParams||{},P=[];C.customerName&&P.push(String(C.customerName)),C.summary&&P.push(String(C.summary));const R=C.totalAmount!=null?String(C.totalAmount):"";return P.length===0&&!R?v("notifications.sales.created.title"):P.length>0?`${P.join(" - ")}${R?`: ${R}`:""}`:R};return e.jsx("header",{className:"sticky z-40 bg-white px-4 py-3 shadow-sm sm:px-6",style:{top:"var(--announcement-bar-height, 0px)"},children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[n&&e.jsx("button",{type:"button",onClick:n,className:"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-100 hover:text-gray-800 md:hidden","aria-label":"Meny a",children:e.jsx(qb,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 capitalize sm:text-2xl",children:O})]}),e.jsxs("div",{className:"flex flex-1 flex-wrap items-center justify-end gap-2 md:flex-nowrap",children:[e.jsxs("div",{className:"hidden items-center gap-2 lg:flex",children:[e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700",children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),v("header.newInvoice")]}),e.jsxs("button",{type:"button",onClick:h,className:"inline-flex items-center rounded-lg bg-green-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-700",children:[e.jsx(Vs,{className:"mr-2 h-4 w-4"}),v("header.newSale")]})]}),e.jsx("div",{className:"order-last w-full sm:w-auto md:order-none md:max-w-xs",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 transform text-gray-400"}),e.jsx("input",{type:"text",placeholder:v("header.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative block",ref:U,children:[e.jsxs("button",{type:"button",onClick:()=>G(j=>!j),className:"flex items-center gap-2 md:gap-3 rounded-xl border border-gray-200 bg-white px-3 py-2 shadow-sm transition hover:border-blue-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-200","aria-haspopup":"listbox","aria-expanded":V,"aria-label":"Dil seimi",children:[e.jsx(ni,{className:"h-4 w-4 text-blue-500","aria-hidden":!0}),e.jsx("span",{className:"md:hidden text-sm font-medium text-gray-700",children:T.flag||T.code.toUpperCase()}),e.jsxs("div",{className:"hidden md:flex flex-col text-left",children:[e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide text-gray-400",children:v("header.language")}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:T.name})]})]}),V&&e.jsx("div",{className:"absolute right-0 z-[60] mt-2 w-44 overflow-hidden rounded-xl border border-gray-200 bg-white shadow-lg",children:e.jsx("ul",{className:"divide-y divide-gray-100",role:"listbox","aria-label":"Dil seenekleri",children:g.map(j=>{const C=j.code===x,P=C?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50";return e.jsx("li",{children:e.jsxs("button",{type:"button",onClick:()=>D(j.code),className:`flex w-full items-center justify-between px-4 py-2 text-sm transition ${P}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:j.flag}),e.jsx("span",{children:j.name})]}),C&&e.jsx(ns,{className:"h-4 w-4 text-blue-500"})]})},j.code)})})})]}),s&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{type:"button",ref:$,onClick:s,className:`rounded-lg p-2 transition-colors ${r?"text-blue-600 hover:bg-blue-50":"text-gray-400 hover:bg-gray-100 hover:text-gray-600"}`,"aria-label":v("header.notifications"),"aria-expanded":r,children:[e.jsx(Fb,{className:"h-5 w-5"}),i>0&&e.jsx("span",{className:"absolute -right-1 -top-1 inline-flex min-w-[1.25rem] items-center justify-center rounded-full bg-red-500 px-1 text-xs font-semibold text-white",children:i>9?"9+":i})]}),r&&e.jsxs("div",{ref:z,className:"absolute right-0 z-50 mt-2 w-80 origin-top-right rounded-lg border border-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-4 py-3",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v("header.notifications")}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString(x)})]}),o.length===0?e.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:v("header.noNotifications")}):e.jsx("div",{className:"max-h-80 divide-y divide-gray-100 overflow-y-auto",children:o.map(j=>{let C=j.title,P=j.description;j.relatedId==="twofa-reminder"?(C=N(["security.twofa.reminderTitle","sales.security.twofa.reminderTitle"],C,j.i18nParams),P=N(["security.twofa.reminderDesc","sales.security.twofa.reminderDesc"],P,j.i18nParams)):j.i18nTitleKey||j.i18nDescKey?(j.i18nTitleKey&&j.i18nParams&&(C=y(j.i18nTitleKey,C,j.i18nParams)),j.i18nDescKey&&j.i18nParams&&(P=y(j.i18nDescKey,P,j.i18nParams))):j.relatedId?.startsWith("out-of-stock-")?(C=y("notifications.products.outOfStock.title",C),P=y("notifications.products.outOfStock.desc",P,j.i18nParams)):j.relatedId?.startsWith("low-stock-")?(C=y("notifications.products.lowStock.title",C),P=y("notifications.products.lowStock.desc",P,j.i18nParams)):j.relatedId?.startsWith("invoice-")?C=y("notifications.invoices.overdue.title",C):j.relatedId?.startsWith("expense-")?C=y("notifications.expenses.overdue.title",C):!j.i18nTitleKey&&j.link==="expenses"?(C=y("notifications.expenses.created.title",C),j.i18nParams&&(P=y("notifications.expenses.created.desc",P,j.i18nParams))):!j.i18nTitleKey&&j.link==="customers"?(C=y("notifications.customers.created.title",C),j.i18nParams&&(P=y("notifications.customers.created.desc",P,j.i18nParams))):!j.i18nTitleKey&&j.link==="suppliers"?(C=y("notifications.suppliers.created.title",C),j.i18nParams&&(P=y("notifications.suppliers.created.desc",P,j.i18nParams))):!j.i18nTitleKey&&j.link==="invoices"?(C=y("notifications.invoices.created.title",C),j.i18nParams&&(P=y("notifications.invoices.created.desc",P,j.i18nParams))):!j.i18nTitleKey&&j.link==="sales"?(C=y("notifications.sales.created.title",C),j.i18nParams&&(P=y("notifications.sales.created.desc",P,j.i18nParams))):j.relatedId?.startsWith("quote-expired-")?(C=y("notifications.quotes.expired.title",C),P=y("notifications.quotes.expired.desc",P,j.i18nParams)):j.relatedId?.startsWith("quote-due-")&&(C=y("notifications.quotes.dueSoon.title",C),P=y("notifications.quotes.dueSoon.desc",P,j.i18nParams)),C=E(C,j.i18nParams),P=E(P,j.i18nParams),C=A(C),P=A(P),k(P)&&((!j.i18nParams||Object.keys(j.i18nParams).length===0)&&j.link==="sales"?P=S(j):P=v("notifications.sales.created.title"));const R=j.type&&B[j.type]?B[j.type]:"bg-gray-300";return e.jsxs("button",{type:"button",onClick:()=>{d&&d(j)},className:"flex w-full gap-3 px-4 py-3 text-left transition-colors hover:bg-gray-50 focus:bg-gray-100 focus:outline-none",children:[e.jsx("span",{className:`mt-1 inline-flex h-2.5 w-2.5 flex-shrink-0 rounded-full ${R}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:C}),e.jsx("p",{className:"text-xs text-gray-500",children:P}),e.jsx("span",{className:"mt-1 block text-xs text-gray-400",children:j.firstSeenAt?new Date(j.firstSeenAt).toLocaleString(x):j.time})]})]},j.id)})})]})]}),e.jsxs("button",{type:"button",onClick:()=>u&&u(),className:"flex items-center gap-2 rounded-lg p-2 transition-colors hover:bg-gray-100",title:v("sidebar.settings"),children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-blue-600",children:e.jsx(is,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"hidden text-left sm:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:a.email})]})]}),e.jsx("button",{type:"button",onClick:m,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-red-600",title:v("header.logout"),children:e.jsx(UC,{className:"h-5 w-5"})})]})]})]})})};function gm({className:a="h-8 w-auto"}){const[m,t]=Gt.useState("svg");return Gt.useEffect(()=>{fetch("/logo.svg",{method:"HEAD"}).then(h=>{if(h.ok)t("svg");else throw new Error("no svg")}).catch(()=>{fetch("/logo.png",{method:"HEAD"}).then(h=>{h.ok?t("png"):t("none")}).catch(()=>t("none"))})},[]),m==="svg"?e.jsx("img",{src:"/logo.svg",alt:"Comptario",className:a}):m==="png"?e.jsx("img",{src:"/logo.png",alt:"Comptario",className:a}):e.jsx("span",{className:`font-semibold text-gray-900 ${a.replace(/h-\d+\s?|w-\d+\s?/g,"")}`,children:"Comptario"})}function UA({currentPage:a,onPageChange:m,invoices:t=[],expenses:h=[],isOpen:f=!1,onClose:c}){const{t:n}=Zt(),o=t.filter(l=>l.status!=="paid"&&l.status!=="overdue").length,i=h.filter(l=>l.status==="draft"||l.status==="approved").length,r=[{icon:OC,label:n("sidebar.dashboard"),page:"dashboard"},{icon:qr,label:n("sidebar.invoices"),page:"invoices",badge:o>0?o:null},{icon:fn,label:n("sidebar.expenses"),page:"expenses",badge:i>0?i:null},{icon:kC,label:n("sidebar.customers"),page:"customers"},{icon:mn,label:n("sidebar.products"),page:"products"},{icon:Jr,label:n("sidebar.suppliers"),page:"suppliers"},{icon:xi,label:n("sidebar.banks"),page:"banks"},{icon:Bs,label:n("sidebar.sales"),page:"sales"},{icon:qr,label:n("sidebar.quotes"),page:"quotes"},{icon:HC,label:n("sidebar.reports"),page:"reports"},{icon:Pp,label:n("sidebar.accounting"),page:"general-ledger"},{icon:wu,label:n("sidebar.chartOfAccounts"),page:"chart-of-accounts"},{icon:Lb,label:n("sidebar.archive"),page:"archive"},{icon:Gc,label:n("sidebar.settings"),page:"settings"}],s=l=>{m(l),c&&c()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 z-40 bg-black/40 transition-opacity md:hidden ${f?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:c,"aria-hidden":!f}),e.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 flex w-64 transform flex-col border-r border-gray-200 bg-white shadow-md transition-transform duration-200 md:static md:z-auto md:translate-x-0 md:shadow-none ${f?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center border-b border-gray-200 p-6",children:[e.jsx(gm,{className:"h-24 w-auto"}),c&&e.jsx("button",{type:"button",onClick:c,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600 md:hidden","aria-label":n("sidebar.close"),children:e.jsx(kr,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:r.map((l,d)=>e.jsxs("button",{type:"button",onClick:()=>s(l.page),className:`flex w-full items-center justify-between rounded-lg px-4 py-3 text-left transition-colors ${a===l.page?"border-r-4 border-blue-600 bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsxs("span",{className:"flex items-center space-x-3",children:[e.jsx(l.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:l.label})]}),l.badge&&e.jsx("span",{className:"rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-600",children:l.badge})]},d))})]})})]})}function VA({title:a,value:m,change:t,changeType:h,icon:f,color:c,subtitle:n}){const{t:o}=Zt(),i={blue:"bg-blue-50 text-blue-600 border-blue-200",green:"bg-green-50 text-green-600 border-green-200",red:"bg-red-50 text-red-600 border-red-200",purple:"bg-purple-50 text-purple-600 border-purple-200",orange:"bg-orange-50 text-orange-600 border-orange-200"},r={blue:"bg-blue-100",green:"bg-green-100",red:"bg-red-100",purple:"bg-purple-100",orange:"bg-orange-100"};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 transition-all duration-200 md:hover:shadow-lg md:hover:scale-105",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:a}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m})]}),e.jsx("div",{className:`p-3 rounded-xl ${r[c]}`,children:e.jsx(f,{className:`w-6 h-6 ${i[c].split(" ")[1]}`})})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-1",children:[h==="increase"?e.jsx(Bs,{className:"w-4 h-4 text-green-500"}):e.jsx(np,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:`text-sm font-medium ${h==="increase"?"text-green-600":"text-red-600"}`,children:t}),e.jsx("span",{className:"text-gray-500 text-sm",children:n||o("stats.thisMonth")})]})]})}function qA({sales:a=[],expenses:m=[],invoices:t=[]}){const{formatCurrency:h}=es(),{t:f,i18n:c}=Zt(),[n,o]=W.useState(!0),i=()=>{const d=new Date,u=[];for(let x=0;x<=5;x++){const b=new Date(d.getFullYear(),d.getMonth()-x,1),g=b.getMonth(),v=`months.short.${["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"][g]}`;u.push({month:f(v),year:b.getFullYear(),monthIndex:g})}return u},s=W.useMemo(()=>i(),[f]).map(d=>{let u=0;const x=t.filter(y=>{if(y.status!=="paid")return!1;const N=new Date(y.issueDate);return N.getMonth()===d.monthIndex&&N.getFullYear()===d.year});u+=x.reduce((y,N)=>y+(Number(N.total)||0),0);const b=a.filter(y=>{if(String(y?.status).toLowerCase()!=="completed")return!1;const N=new Date(y?.date);return N.getMonth()===d.monthIndex&&N.getFullYear()===d.year?!(!!y?.invoiceId||t.some(O=>String(O?.saleId||"")===String(y?.id||""))):!1});u+=b.reduce((y,N)=>y+(Number(N.amount)||0),0);const v=m.filter(y=>{if(y.status!=="paid")return!1;const N=new Date(y.expenseDate);return N.getMonth()===d.monthIndex&&N.getFullYear()===d.year}).reduce((y,N)=>y+(Number(N.amount)||0),0);return{month:d.month,income:u,expense:v}}),l=Math.max(...s.flatMap(d=>[d.income,d.expense]));return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.language==="tr"?"Aylk Gelir/Gider":c.language==="en"?"Monthly Income/Expense":c.language==="de"?"Monatliche Einnahmen/Ausgaben":c.language==="fr"?"Revenus/Dpenses Mensuels":"Monthly Income/Expense"}),e.jsx("p",{className:"text-sm text-gray-500",children:c.language==="tr"?"Son 6 ay performans (en yeni  en eski)":c.language==="en"?"Last 6 months performance (newest  oldest)":c.language==="de"?"Leistung der letzten 6 Monate (neueste  lteste)":c.language==="fr"?"Performance des 6 derniers mois (plus rcent  plus ancien)":"Last 6 months performance (newest  oldest)"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:c.language==="tr"?"Gelir":c.language==="en"?"Income":c.language==="de"?"Einkommen":c.language==="fr"?"Revenu":"Income"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-600",children:c.language==="tr"?"Gider":c.language==="en"?"Expense":c.language==="de"?"Ausgaben":c.language==="fr"?"Dpense":"Expense"})]}),e.jsx("button",{onClick:()=>o(!n),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:n?c.language==="tr"?"Grafii Gizle":c.language==="en"?"Hide Chart":c.language==="de"?"Diagramm Ausblenden":c.language==="fr"?"Masquer le Graphique":"Hide Chart":c.language==="tr"?"Grafii Gster":c.language==="en"?"Show Chart":c.language==="de"?"Diagramm Anzeigen":c.language==="fr"?"Afficher le Graphique":"Show Chart",children:n?e.jsx(Oc,{className:"w-4 h-4 text-gray-600"}):e.jsx(Wr,{className:"w-4 h-4 text-gray-600"})})]})]}),n&&e.jsx("div",{className:"space-y-4",children:s.map((d,u)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:d.month}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Net: ",h(d.income-d.expense)]})]}),e.jsxs("div",{className:"relative h-8 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 h-4 bg-blue-500 rounded-sm",style:{width:`${d.income/l*100}%`}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-4 bg-red-500 rounded-sm",style:{width:`${d.expense/l*100}%`}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:h(d.income)}),e.jsx("span",{children:h(d.expense)})]})]},u))}),!n&&e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Wr,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:c.language==="tr"?"Grafik gizlendi":c.language==="en"?"Chart hidden":c.language==="de"?"Diagramm ausgeblendet":c.language==="fr"?"Graphique masqu":"Chart hidden"})]})]})}const $r=a=>{const m=String(a||"").toLowerCase().trim(),t=m.startsWith("status.")?m.slice(7):m;return{canceled:"cancelled",cancelled:"cancelled",void:"cancelled",voided:"cancelled"}[t]||t},Rt=(a,m)=>{try{const t=$r(m),h=a?.i18n?.resolvedLanguage||a?.i18n?.language||Tt.getItem("i18nextLng")||(typeof document<"u"?document.documentElement.lang:"")||(typeof navigator<"u"?navigator.language:"")||"",f=String(h).slice(0,2).toLowerCase(),c={tr:{paid:"dendi",unpaid:"denmedi",pending:"Bekliyor",overdue:"Gecikmi",draft:"Taslak",sent:"Gnderildi",approved:"Onayland",rejected:"Reddedildi",cancelled:"ptal Edildi",completed:"Tamamland",active:"Aktif",inactive:"Pasif",viewed:"Grntlendi",accepted:"Kabul Edildi",declined:"Reddedildi",expired:"Sresi Doldu",invoiced:"Faturaland",created:"Oluturuldu",refunded:"ade Edildi"},en:{paid:"Paid",unpaid:"Unpaid",pending:"Pending",overdue:"Overdue",draft:"Draft",sent:"Sent",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",completed:"Completed",active:"Active",inactive:"Inactive",viewed:"Viewed",accepted:"Accepted",declined:"Declined",expired:"Expired",invoiced:"Invoiced",created:"Created",refunded:"Refunded"},de:{paid:"Bezahlt",unpaid:"Unbezahlt",pending:"Ausstehend",overdue:"berfllig",draft:"Entwurf",sent:"Gesendet",approved:"Genehmigt",rejected:"Abgelehnt",cancelled:"Storniert",completed:"Abgeschlossen",active:"Aktiv",inactive:"Inaktiv",viewed:"Angesehen",accepted:"Akzeptiert",declined:"Abgelehnt",expired:"Abgelaufen",invoiced:"Fakturiert",created:"Erstellt",refunded:"Erstattet"},fr:{paid:"Pay",unpaid:"Impay",pending:"En Attente",overdue:"En Retard",draft:"Brouillon",sent:"Envoy",approved:"Approuv",rejected:"Rejet",cancelled:"Annul",completed:"Termin",active:"Actif",inactive:"Inactif",viewed:"Consult",accepted:"Accept",declined:"Dclin",expired:"Expir",invoiced:"Factur",created:"Cr",refunded:"Rembours"}};if(c[f]?.[t])return c[f][t];const n=a(`common:status.${t}`);if(n&&n!==`status.${t}`&&n!==`common:status.${t}`&&n!==t)return n;const o=a(`status:${t}`);if(o&&o!==t&&o!==`status:${t}`)return o;const i=a(t,{ns:"status"});if(i&&i!==t)return i;const r=a(t,{ns:"common"});return r&&r!==t?r:t.charAt(0).toUpperCase()+t.slice(1)}catch(t){return console.warn("[i18n][status] resolveStatusLabel failed, returning raw key.",t),m}};function $A({invoices:a=[],expenses:m=[],sales:t=[],quotes:h=[],onViewInvoice:f,onEditInvoice:c,onDownloadInvoice:n,onViewExpense:o,onEditExpense:i,onDownloadExpense:r,onViewSale:s,onEditSale:l,onDownloadSale:d,onViewQuote:u,onViewAllTransactions:x}){const{formatCurrency:b}=es(),{t:g,i18n:v}=Zt(),y=$=>$==="TRY"||$==="USD"||$==="EUR"||$==="GBP",N=W.useMemo(()=>{const $=T=>{if(!T)return"";const D=T instanceof Date?T:new Date(T);return Number.isNaN(D.getTime())?"":D.toLocaleDateString(v.language,{day:"2-digit",month:"short",year:"numeric"})},z=T=>{const D=Number(T),A=Number.isFinite(D)?D:0;return b(A)},U=T=>{if(!T)return null;const D=T instanceof Date?T:new Date(T);return Number.isNaN(D.getTime())?null:D},V=(T,D)=>!T||!D?!1:T.getFullYear()===D.getFullYear()&&T.getMonth()===D.getMonth()&&T.getDate()===D.getDate(),G=(T,D)=>{const A=U(T?.[D]),k=U(T?.createdAt),S=U(T?.updatedAt);return A?V(k,A)?k:V(S,A)?S:A:k||S||new Date(0)};return[...a.map((T,D)=>{const A=T.invoiceNumber||T.id||T.createdAt||`invoice-${D}`,k=T.customer?.name||T.customerName||g("dashboard.noCustomer"),S=T.issueDate||T.createdAt||T.updatedAt;return{id:String(A),customer:k,amount:z(T.total),status:T.status,date:$(S),type:"invoice",originalData:T,sortDate:G(T,"issueDate")}}),...m.map((T,D)=>{const A=T.expenseNumber||T.id||T.createdAt||`expense-${D}`,k=T.description||g("dashboard.noCustomer"),S=T.expenseDate||T.date||T.createdAt;return{id:String(A),customer:k,amount:z(T.amount),status:T.status,date:$(S),type:"expense",originalData:T,sortDate:G(T,"expenseDate")}}),...t.map((T,D)=>{const A=T.saleNumber||T.id||T.createdAt||`sale-${D}`,k=T.saleNumber?String(A):`SAL-${String(A)}`,S=T.date||T.saleDate||T.createdAt;return{id:k,customer:T.customerName||g("dashboard.noCustomer"),amount:z(T.amount??T.total),status:T.status,date:$(S),type:"sale",originalData:T,sortDate:G(T,"date")}}),...h.map((T,D)=>{const A=T.quoteNumber||T.id||T.createdAt||`quote-${D}`,k=T.quoteNumber?String(A):`Q-${String(A)}`,S=T.issueDate||T.createdAt||T.updatedAt,j=y(T.currency)?T.currency:void 0;return{id:k,customer:T.customerName||g("dashboard.noCustomer"),amount:b(Number(T.total)||0,j),status:T.status,date:$(S),type:"quote",originalData:T,sortDate:G(T,"issueDate")}})].sort((T,D)=>D.sortDate.getTime()-T.sortDate.getTime()).slice(0,3)},[a,m,t,h,g,b,v.language]),E=($,z)=>{const U=$r($||"unknown");if(z==="quote"){const B=(A,k)=>{const S=g(A);return S===A?g(`common:${k}`):S};return{draft:{label:B("quotes.statusLabels.draft","status.draft"),class:"bg-gray-100 text-gray-800"},sent:{label:B("quotes.statusLabels.sent","status.sent"),class:"bg-blue-100 text-blue-800"},viewed:{label:B("quotes.statusLabels.viewed","status.viewed"),class:"bg-indigo-100 text-indigo-800"},accepted:{label:B("quotes.statusLabels.accepted","status.accepted"),class:"bg-green-100 text-green-800"},declined:{label:B("quotes.statusLabels.declined","status.declined"),class:"bg-red-100 text-red-800"},expired:{label:B("quotes.statusLabels.expired","status.expired"),class:"bg-yellow-100 text-yellow-800"}}[U]||{label:g(`common:status.${U}`,U),class:"bg-gray-100 text-gray-800"}}return{paid:{label:Rt(g,"paid"),class:"bg-green-100 text-green-800"},completed:{label:Rt(g,"completed"),class:"bg-green-100 text-green-800"},pending:{label:Rt(g,"pending"),class:"bg-yellow-100 text-yellow-800"},overdue:{label:Rt(g,"overdue"),class:"bg-red-100 text-red-800"},draft:{label:Rt(g,"draft"),class:"bg-gray-100 text-gray-800"},sent:{label:Rt(g,"sent"),class:"bg-blue-100 text-blue-800"},approved:{label:Rt(g,"approved"),class:"bg-blue-100 text-blue-800"},cancelled:{label:Rt(g,"cancelled"),class:"bg-red-100 text-red-800"}}[U]||{label:Rt(g,U),class:"bg-gray-100 text-gray-800"}},I=$=>$==="invoice"?e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}):$==="expense"?e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"G"})}):$==="sale"?e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xs font-bold",children:"S"})}):$==="quote"?e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"T"})}):e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}),O=$=>{$.type==="invoice"?f?.($.originalData):$.type==="expense"?o?.($.originalData):$.type==="sale"?s?.($.originalData):$.type==="quote"&&u?.($.originalData)};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g("dashboard.recentTransactions")}),e.jsx("p",{className:"text-sm text-gray-500",children:g("dashboard.lastTransactions").replace("{count}",N.length.toString())})]}),x&&e.jsxs("button",{onClick:x,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[g("dashboard.viewAll")," "]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.transaction")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.customerDescription")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.amount")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.date")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:g("transactions.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:g("transactions.noTransactions")})}):N.map($=>{const z=E($.status,$.type),U=$.type==="expense"?"-":"+";return e.jsxs("tr",{onClick:()=>O($),className:"hover:bg-gray-50 transition-colors",style:{cursor:"pointer"},children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[I($.type),e.jsx("span",{className:"text-sm text-gray-900",children:$.id})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:$.customer})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`text-sm font-semibold ${$.type==="expense"?"text-red-600":"text-green-600"}`,children:[U,$.amount]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z.class}`,children:z.label})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:$.date})]},$.id)})})]})})]})}function HA({onNewInvoice:a,onNewExpense:m,onNewSale:t,onNewQuote:h,onNewCustomer:f,onNewProduct:c,onViewCustomers:n,onViewSuppliers:o,onViewBanks:i,onViewProducts:r,customers:s=[],suppliers:l=[],banks:d=[],products:u=[]}){const{t:x}=Zt(),b=u.length,g=[{title:x("quickActions.newInvoice"),description:x("quickActions.newInvoiceDesc"),icon:qr,color:"bg-blue-500 hover:bg-blue-600",onClick:a},{title:x("quickActions.newExpense"),description:x("quickActions.newExpenseDesc"),icon:fn,color:"bg-red-500 hover:bg-red-600",onClick:m},{title:x("quickActions.newSale"),description:x("quickActions.newSaleDesc"),icon:Bs,color:"bg-green-500 hover:bg-green-600",onClick:t},...h?[{title:x("quickActions.newQuote"),description:x("quickActions.newQuoteDesc"),icon:Hb,color:"bg-indigo-500 hover:bg-indigo-600",onClick:h}]:[],{title:x("quickActions.newCustomer"),description:x("quickActions.newCustomerDesc"),icon:Is,color:"bg-purple-500 hover:bg-purple-600",onClick:f},{title:x("quickActions.newProduct"),description:x("quickActions.newProductDesc"),icon:mn,color:"bg-amber-500 hover:bg-amber-600",onClick:c}],v=[{label:x("quickActions.customers"),value:s.length,icon:Is,accent:"text-purple-600",onClick:n},{label:x("quickActions.suppliers"),value:l.length,icon:Jr,accent:"text-orange-500",onClick:o},{label:x("quickActions.banks"),value:d.length,icon:xi,accent:"text-emerald-500",onClick:i},{label:x("quickActions.products"),value:b,icon:mn,accent:"text-amber-500",onClick:r}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:x("dashboard.quickActions")}),e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:g.map((y,N)=>e.jsxs("button",{type:"button",onClick:y.onClick,className:`${y.color} rounded-lg px-4 py-4 text-left text-white shadow transition-all duration-200 md:hover:scale-[1.02] md:hover:shadow-lg h-28`,children:[e.jsx("div",{className:"h-6 flex items-center mb-3",children:e.jsx("div",{className:"text-sm font-semibold",children:y.title})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(y.icon,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("div",{className:"text-xs opacity-90 leading-normal",children:y.description})]})]},N))})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:[e.jsx("h4",{className:"mb-4 text-sm font-semibold uppercase tracking-wide text-gray-500",children:x("dashboard.quickAccess")}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:v.map((y,N)=>e.jsxs("button",{type:"button",onClick:y.onClick,className:"flex flex-col items-start rounded-lg border border-gray-100 bg-gray-50 p-3 text-left transition-colors hover:border-gray-200 hover:bg-gray-100",children:[e.jsxs("div",{className:`mb-2 flex items-center gap-2 text-xs font-medium ${y.accent}`,children:[e.jsx(y.icon,{className:"h-4 w-4"}),y.label]}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:y.value})]},N))})]})]})}function KA({invoices:a=[],expenses:m=[],onViewOverdueInvoices:t,onViewPendingExpenses:h}){const{t:f}=Zt(),c=a.filter(s=>s.status==="overdue").length,n=m.filter(s=>s.status==="draft").length,o=a.filter(s=>{if(s.status==="sent"){const l=new Date(s.dueDate),d=new Date,u=l.getTime()-d.getTime(),x=Math.ceil(u/(1e3*60*60*24));return x<=7&&x>0}return!1}).length,r=[{type:"error",title:f("alerts.overdueInvoices"),count:c,description:f("alerts.overdueDesc"),icon:pn,color:"bg-red-50 border-red-200 text-red-800",iconColor:"text-red-600",onClick:t},{type:"warning",title:f("alerts.dueSoon"),count:o,description:f("alerts.dueSoonDesc"),icon:Oa,color:"bg-yellow-50 border-yellow-200 text-yellow-800",iconColor:"text-yellow-600",onClick:t},{type:"info",title:f("alerts.pendingExpenses"),count:n,description:f("alerts.pendingExpensesDesc"),icon:Or,color:"bg-blue-50 border-blue-200 text-blue-800",iconColor:"text-blue-600",onClick:h}].filter(s=>s.count>0);return r.length===0?e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Fs,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("alerts.allGood")}),e.jsx("p",{className:"text-sm text-gray-500",children:f("alerts.noAlerts")})]})]})}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(pn,{className:"w-5 h-5 text-orange-500 mr-2"}),f("alerts.attentionRequired")]}),e.jsx("div",{className:"space-y-3",children:r.map((s,l)=>e.jsx("div",{className:`p-4 rounded-lg border ${s.color} cursor-pointer hover:opacity-80 transition-opacity`,onClick:s.onClick,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s.icon,{className:`w-5 h-5 ${s.iconColor}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-sm opacity-80",children:s.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.count}),e.jsx("div",{className:"text-xs opacity-80",children:"adet"})]})]})},l))})]})}function GA({isOpen:a,onClose:m,onSave:t,customer:h}){const{t:f}=Zt(),c=(r,s)=>{const l=f(r,{defaultValue:s});if(typeof l!="string")return s;const d=l.trim();return d&&l!==r?d:s},[n,o]=W.useState({name:h?.name||"",email:h?.email||"",phone:h?.phone||"",address:h?.address||"",taxNumber:h?.taxNumber||"",company:h?.company||""});Gt.useEffect(()=>{a&&h?o({name:h.name||"",email:h.email||"",phone:h.phone||"",address:h.address||"",taxNumber:h.taxNumber||"",company:h.company||""}):a&&!h&&o({name:"",email:"",phone:"",address:"",taxNumber:"",company:""})},[a,h]);const i=()=>{const r={...n};h?.id&&(r.id=h.id,h.createdAt&&(r.createdAt=h.createdAt)),t(r),m(),o({name:"",email:"",phone:"",address:"",taxNumber:"",company:""})};return a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(is,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?c("customers.editCustomer","Edit Customer"):c("customers.newCustomer","Add New Customer")}),e.jsx("p",{className:"text-sm text-gray-500",children:c("customers.enterCustomerInfo","Enter customer information")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(is,{className:"w-4 h-4 inline mr-2"}),f("customers.name")," *"]}),e.jsx("input",{type:"text",value:n.name,onChange:r=>o({...n,name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:f("customers.namePlaceholder"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Jr,{className:"w-4 h-4 inline mr-2"}),f("customers.company")]}),e.jsx("input",{type:"text",value:n.company,onChange:r=>o({...n,company:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:f("customers.companyPlaceholder")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Us,{className:"w-4 h-4 inline mr-2"}),c("customers.email","Email")," *"]}),e.jsx("input",{type:"email",value:n.email,onChange:r=>o({...n,email:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:c("customers.emailPlaceholder","name@example.com"),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(No,{className:"w-4 h-4 inline mr-2"}),c("customers.phone","Phone")]}),e.jsx("input",{type:"tel",value:n.phone,onChange:r=>o({...n,phone:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:c("customers.phonePlaceholder","+1 555 123 4567")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("customers.taxNumber")}),e.jsx("input",{type:"text",value:n.taxNumber,onChange:r=>o({...n,taxNumber:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"1234567890"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(jl,{className:"w-4 h-4 inline mr-2"}),c("customers.address","Address")]}),e.jsx("textarea",{value:n.address,onChange:r=>o({...n,address:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:3,placeholder:f("customers.addressPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:f("common.cancel")}),e.jsx("button",{onClick:i,disabled:!n.name||!n.email,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:f(h?"common.update":"customers.addCustomer")})]})]})}):null}const xf={name:"",sku:"",category:"",unitPrice:"",costPrice:"",stockQuantity:"",reorderLevel:"10",unit:"adet",description:"",hasCustomTaxRate:!1,categoryTaxRateOverride:""};function WA({isOpen:a,onClose:m,onSave:t,product:h,categories:f,categoryObjects:c}){const{t:n}=Zt(),[o,i]=Gt.useState(xf),[r,s]=Gt.useState({}),[l,d]=Gt.useState(c||[]);Gt.useEffect(()=>{a&&l.length===0&&Dr(async()=>{const{productCategoriesApi:y}=await Promise.resolve().then(()=>Ic);return{productCategoriesApi:y}},void 0).then(({productCategoriesApi:y})=>{y.getAll().then(N=>{d(N)}).catch(console.error)})},[a,l.length]);const u=Gt.useMemo(()=>{const y=new Set;return l.length>0&&l.forEach(N=>y.add(N.name)),f.forEach(N=>{const E=N.trim();E&&y.add(E)}),h?.category&&y.add(h.category.trim()),Array.from(y).sort((N,E)=>N.localeCompare(E,"tr-TR"))},[f,l,h]),x=Gt.useCallback(y=>{const N=y.trim();if(!N)return N;if(N==="Hizmetler")return n("products.mainCategories.services");if(N==="rnler")return n("products.mainCategories.products");if(N==="Genel")switch(((typeof window<"u"?window.i18next?.language:"tr")||"tr").split("-")[0]){case"en":return"General";case"de":return"Allgemein";case"fr":return"Gnral";default:return N}return N},[n]);Gt.useEffect(()=>{if(!a){i(xf),s({});return}i(h?{name:h.name||"",sku:h.sku||"",category:h.category||u[0]||"",unitPrice:h.unitPrice?String(h.unitPrice):"",costPrice:h.costPrice?String(h.costPrice):"",stockQuantity:h.stockQuantity?String(h.stockQuantity):"",reorderLevel:h.reorderLevel?String(h.reorderLevel):"10",unit:h.unit||"adet",description:h.description||"",hasCustomTaxRate:h.categoryTaxRateOverride!=null,categoryTaxRateOverride:h.categoryTaxRateOverride!=null?String(h.categoryTaxRateOverride):""}:{...xf,category:u[0]||""}),s({})},[a,h,u]);const b=(y,N)=>{i(E=>({...E,[y]:N})),r[y]&&s(E=>({...E,[y]:""}))},g=()=>{const y={};return o.name.trim()||(y.name=n("validation.productNameRequired")),o.sku.trim()||(y.sku=n("validation.skuRequired")),u.length>0&&!o.category.trim()&&(y.category=n("validation.categoryRequired")),(!o.unitPrice.trim()||Number.isNaN(Number(o.unitPrice)))&&(y.unitPrice=n("validation.validPriceRequired")),(!o.stockQuantity.trim()||Number.isNaN(Number(o.stockQuantity)))&&(y.stockQuantity=n("validation.validStockRequired")),s(y),Object.keys(y).length===0},v=()=>{if(!g())return;const y=Number(o.unitPrice)||0,N=Number(o.costPrice)||0,E=Number(o.stockQuantity)||0,I=Number(o.reorderLevel)||0,O=o.category.trim()||u[0]||"Genel",z=l?.find(V=>V.name===O)?.taxRate??18,U={name:o.name.trim(),sku:o.sku.trim(),category:O,unitPrice:y,costPrice:N,stockQuantity:E,reorderLevel:I,unit:o.unit.trim()||"adet",description:o.description.trim(),status:E===0?"out-of-stock":E<=I?"low":"active",taxRate:z};if(o.hasCustomTaxRate&&o.categoryTaxRateOverride){const V=Number(o.categoryTaxRateOverride);!isNaN(V)&&V>=0&&V<=100&&(U.categoryTaxRateOverride=V)}h?.id&&(U.id=h.id,U.createdAt=h.createdAt),t(U),m()};return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-3xl rounded-xl bg-white shadow-2xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(mn,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?n("products.editProduct")||"Urunu duzenle":n("products.newProduct")||"Yeni urun ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:n("products.enterProductInfo")||"Urun bilgilerini doldurun ve stok durumunu guncelleyin"})]})]}),e.jsx("button",{type:"button",onClick:m,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":n("common.close"),children:e.jsx(kr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-8 p-6 overflow-y-auto flex-1",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:n("products.generalInfo")}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-name",children:[e.jsx(mn,{className:"h-4 w-4 text-gray-400"}),n("products.name")," *"]}),e.jsx("input",{id:"product-name",type:"text",value:o.name,onChange:y=>b("name",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:n("products.namePlaceholder")}),r.name&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-sku",children:[e.jsx(Ob,{className:"h-4 w-4 text-gray-400"}),"SKU *"]}),e.jsx("input",{id:"product-sku",type:"text",value:o.sku,onChange:y=>b("sku",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"SKU-001"}),r.sku&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.sku})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-category",children:[e.jsx(Ri,{className:"h-4 w-4 text-gray-400"}),n("products.category")," *"]}),e.jsx("select",{id:"product-category",value:o.category,onChange:y=>b("category",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:u.length===0,children:u.length===0?e.jsx("option",{value:"",children:n("products.noCategoriesFound")}):u.map(y=>e.jsx("option",{value:y,children:x(y)},y))}),u.length===0&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n("products.createCategoryFirst")}),r.category&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.category})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-unit",children:[e.jsx(ra,{className:"h-4 w-4 text-gray-400"}),n("products.unit")]}),e.jsx("input",{id:"product-unit",type:"text",value:o.unit,onChange:y=>b("unit",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:n("products.unitPlaceholder")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:o.hasCustomTaxRate,onChange:y=>i(N=>({...N,hasCustomTaxRate:y.target.checked})),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),n("products.useCustomTaxRate")]}),o.hasCustomTaxRate&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-custom-tax",children:[e.jsx(Pn,{className:"h-4 w-4 text-gray-400"}),n("products.customTaxRate")]}),e.jsx("input",{id:"product-custom-tax",type:"number",min:"0",max:"100",step:"0.01",value:o.categoryTaxRateOverride,onChange:y=>b("categoryTaxRateOverride",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:n("products.taxRatePlaceholder")}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n("products.customTaxRateHelper")})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:n("products.priceAndStock")}),e.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-price",children:[e.jsx(Pn,{className:"h-4 w-4 text-gray-400"}),n("products.salePrice")," *"]}),e.jsx("input",{id:"product-price",type:"number",min:"0",step:"0.01",value:o.unitPrice,onChange:y=>b("unitPrice",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"}),r.unitPrice&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.unitPrice})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-cost",children:[e.jsx(Pn,{className:"h-4 w-4 text-gray-300"}),n("products.cost")]}),e.jsx("input",{id:"product-cost",type:"number",min:"0",step:"0.01",value:o.costPrice,onChange:y=>b("costPrice",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-stock",children:[e.jsx(ra,{className:"h-4 w-4 text-gray-400"}),n("products.stockQuantity")," *"]}),e.jsx("input",{id:"product-stock",type:"number",min:"0",step:"1",value:o.stockQuantity,onChange:y=>b("stockQuantity",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0"}),r.stockQuantity&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.stockQuantity})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-reorder",children:[e.jsx(ra,{className:"h-4 w-4 text-gray-300"}),n("products.criticalStock")]}),e.jsx("input",{id:"product-reorder",type:"number",min:"0",step:"1",value:o.reorderLevel,onChange:y=>b("reorderLevel",y.target.value),className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"10"})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:n("products.notes")}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"product-description",children:[e.jsx(qr,{className:"h-4 w-4 text-gray-400"}),n("products.description")]}),e.jsx("textarea",{id:"product-description",value:o.description,onChange:y=>b("description",y.target.value),rows:3,className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:n("products.descriptionPlaceholder")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4 flex-shrink-0",children:[e.jsx("button",{type:"button",onClick:m,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-100",children:n("common.cancel")}),e.jsx("button",{type:"button",onClick:v,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:n("common.save")})]})]})}):null}const YA=(a,m)=>{const t=a.trim();return t==="rnler"?m("products.mainCategories.products"):t==="Hizmetler"?m("products.mainCategories.services"):a};function rv({isOpen:a,onClose:m,onSubmit:t,categories:h,categoryObjects:f=[],editingCategory:c,onArchive:n,onRestore:o}){const{t:i}=Zt(),[r,s]=Gt.useState(""),[l,d]=Gt.useState("18"),[u,x]=Gt.useState(""),[b,g]=Gt.useState(""),v=!!c,y=Gt.useMemo(()=>f.filter(E=>E.isProtected&&E.isActive),[f]);if(Gt.useEffect(()=>{if(!a){s(""),d("18"),x(""),g("");return}c?(s(c.name),d(c.taxRate.toString()),x("")):(s(""),d("18"),y.length>0&&x(y[0].id)),g("")},[a,c,y]),!a)return null;const N=()=>{const E=r.trim();if(!E){g(i("products.categoryModal.nameRequired"));return}if(!v&&!u){g(i("products.categoryModal.parentRequired"));return}const I=parseFloat(l);if(isNaN(I)||I<0||I>100){g(i("products.categoryModal.taxInvalid"));return}if(v&&c&&E.toLocaleLowerCase("tr-TR")===c.name.toLocaleLowerCase("tr-TR")){t(E,I),m();return}if(h.map($=>$.toLocaleLowerCase("tr-TR")).includes(E.toLocaleLowerCase("tr-TR"))){g(i("products.categoryModal.nameExists"));return}t(E,I,u||void 0),m()};return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 p-4",onClick:m,children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl pointer-events-auto",onClick:E=>E.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-50",children:e.jsx(Hb,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:i(v?"products.categoryModal.titleEdit":"products.categoryModal.titleNew")}),e.jsx("p",{className:"text-sm text-gray-500",children:i(v?"products.categoryModal.subtitleEdit":"products.categoryModal.subtitleNew")})]})]}),e.jsx("button",{type:"button",onClick:m,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":i("common.close"),children:e.jsx(kr,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-5",children:[!v&&y.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"parent-category",children:[e.jsx(ra,{className:"h-4 w-4 text-gray-400"}),i("products.categoryModal.parentLabel")]}),e.jsx("select",{id:"parent-category",value:u,onChange:E=>{x(E.target.value),b&&g("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:y.map(E=>e.jsx("option",{value:E.id,children:YA(E.name,i)},E.id))}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i("products.categoryModal.parentHelper")})]}),e.jsxs("label",{className:`flex items-center gap-2 text-sm font-medium text-gray-700 ${!v&&y.length>0?"mt-4":""}`,htmlFor:"category-name",children:[e.jsx(Ri,{className:"h-4 w-4 text-gray-400"}),i("products.categoryModal.nameLabel")]}),e.jsx("input",{id:"category-name",type:"text",value:r,onChange:E=>{s(E.target.value),b&&g("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:i("products.categoryModal.namePlaceholder")}),e.jsxs("label",{className:"mt-4 flex items-center gap-2 text-sm font-medium text-gray-700",htmlFor:"category-tax-rate",children:[e.jsx($C,{className:"h-4 w-4 text-gray-400"}),i("products.categoryModal.taxLabel")]}),e.jsx("input",{id:"category-tax-rate",type:"number",min:"0",max:"100",step:"0.01",value:l,onChange:E=>{d(E.target.value),b&&g("")},className:"mt-2 w-full rounded-lg border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:i("products.categoryModal.taxPlaceholder")}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:!v&&y.length>0?i("products.categoryModal.taxHelperChildOverrides"):i("products.categoryModal.taxHelperDefault")}),b&&e.jsx("p",{className:"mt-2 text-xs text-red-600",children:b})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4",children:[v&&c&&!c.isProtected&&e.jsx("div",{className:"flex items-center gap-2",children:c.isActive?e.jsx("button",{type:"button",onClick:()=>{if(!c?.id)return;window.confirm(i("products.archiveConfirm"))&&n?.(c.id)},className:"rounded-lg border border-red-200 px-3 py-2 text-sm font-medium text-red-600 transition-colors hover:bg-red-50",children:i("products.archive")}):e.jsx("button",{type:"button",onClick:()=>c?.id&&o?.(c.id),className:"rounded-lg border border-emerald-200 px-3 py-2 text-sm font-medium text-emerald-600 transition-colors hover:bg-emerald-50",children:i("products.activate")})}),e.jsx("button",{type:"button",onClick:m,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-100",children:i("common.cancel")}),e.jsx("button",{type:"button",onClick:N,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:i("common.save")})]})]})})}const QA=["Ofis Malzemeleri","Teknoloji","Hizmet","retim","Lojistik","Dier"];function ZA({isOpen:a,onClose:m,onSave:t,supplier:h}){const{t:f}=Zt("common"),{i18n:c}=Zt(),[n,o]=W.useState({name:h?.name||"",email:h?.email||"",phone:h?.phone||"",address:h?.address||"",taxNumber:h?.taxNumber||"",company:h?.company||"",category:h?.category||"Dier"}),i={"Ofis Malzemeleri":{tr:"Ofis Malzemeleri",en:"Office Supplies",fr:"Fournitures de bureau",de:"Bromaterial"},Teknoloji:{tr:"Teknoloji",en:"Technology",fr:"Technologie",de:"Technologie"},Hizmet:{tr:"Hizmet",en:"Services",fr:"Services",de:"Dienstleistungen"},retim:{tr:"retim",en:"Manufacturing",fr:"Production",de:"Fertigung"},Lojistik:{tr:"Lojistik",en:"Logistics",fr:"Logistique",de:"Logistik"},Dier:{tr:"Dier",en:"Other",fr:"Autre",de:"Sonstiges"}},r=l=>i[l]?.[c.language]||l;Gt.useEffect(()=>{a&&h?o({name:h.name,email:h.email,phone:h.phone,address:h.address,taxNumber:h.taxNumber,company:h.company,category:h.category}):a&&!h&&o({name:"",email:"",phone:"",address:"",taxNumber:"",company:"",category:"Dier"})},[a,h]);const s=()=>{const l={...n,...h?.id?{id:h.id,createdAt:h.createdAt}:{}};t(l),m(),o({name:"",email:"",phone:"",address:"",taxNumber:"",company:"",category:"Dier"})};return a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center p-4 z-50 overflow-y-auto items-start sm:items-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx(Jr,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?f("suppliers.modal.editTitle")||"Tedarikiyi Dzenle":f("suppliers.modal.newTitle")||"Yeni Tedariki Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:f("suppliers.modal.subtitle")||"Tedariki bilgilerini girin"})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(is,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.nameLabel")||"Tedariki Ad"," *"]}),e.jsx("input",{type:"text",value:n.name,onChange:l=>o({...n,name:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:f("suppliers.modal.namePlaceholder")||"ABC Tedarik Ltd.",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Jr,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.companyLabel")||"irket Ad"]}),e.jsx("input",{type:"text",value:n.company,onChange:l=>o({...n,company:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:f("suppliers.modal.companyPlaceholder")||"ABC Tedarik Ltd. ti."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Us,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.emailLabel")||"E-posta"," *"]}),e.jsx("input",{type:"email",value:n.email,onChange:l=>o({...n,email:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:f("suppliers.modal.emailPlaceholder")||"info@abctedarik.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(No,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.phoneLabel")||"Telefon"]}),e.jsx("input",{type:"tel",value:n.phone,onChange:l=>o({...n,phone:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:f("suppliers.modal.phonePlaceholder")||"+90 555 123 45 67"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ri,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.categoryLabel")||"Kategori"," *"]}),e.jsx("select",{value:n.category,onChange:l=>o({...n,category:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:QA.map(l=>e.jsx("option",{value:l,children:r(l)},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("suppliers.modal.taxNumberLabel")||"Vergi Numaras"}),e.jsx("input",{type:"text",value:n.taxNumber,onChange:l=>o({...n,taxNumber:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:f("suppliers.modal.taxNumberPlaceholder")||"1234567890"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(jl,{className:"w-4 h-4 inline mr-2"}),f("suppliers.modal.addressLabel")||"Adres"]}),e.jsx("textarea",{value:n.address,onChange:l=>o({...n,address:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3,placeholder:f("suppliers.modal.addressPlaceholder")||"Tam adres bilgisi..."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-4 sm:p-6 border-t border-gray-200 bg-gray-50 shrink-0",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:f("cancel")}),e.jsx("button",{onClick:s,disabled:!n.name||!n.email,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:h?f("update")||"Gncelle":f("suppliers.newSupplier")||"Tedariki Ekle"})]})]})}):null}const Up={getAll:async a=>{const m=a?.includeInactive?"?includeInactive=true":"";return(await nt.get(`/product-categories${m}`)).data},getOne:async a=>(await nt.get(`/product-categories/${a}`)).data,create:async a=>(await nt.post("/product-categories",a)).data,update:async(a,m)=>(await nt.patch(`/product-categories/${a}`,m)).data,delete:async a=>{await nt.delete(`/product-categories/${a}`)}},Ic=Object.freeze(Object.defineProperty({__proto__:null,productCategoriesApi:Up},Symbol.toStringTag,{value:"Module"})),XA={tr:{title:"Stok Uyars",requestedLabel:"stenen Miktar",availableLabel:"Mevcut Stok",message:"Girilen miktar mevcut stoktan fazla. Ltfen miktar gncelleyin.",adjust:"Miktar Dzelt",close:"Kapat"},en:{title:"Stock Warning",requestedLabel:"Requested Qty",availableLabel:"Available Stock",message:"Entered quantity exceeds available stock. Please adjust the quantity.",adjust:"Adjust Quantity",close:"Close"},fr:{title:"Alerte Stock",requestedLabel:"Quantit Demande",availableLabel:"Stock Disponible",message:"La quantit saisie dpasse le stock disponible. Veuillez ajuster.",adjust:"Ajuster",close:"Fermer"},de:{title:"Bestandswarnung",requestedLabel:"Angefragte Menge",availableLabel:"Verfgbarer Bestand",message:"Die eingegebene Menge berschreitet den verfgbaren Bestand. Bitte anpassen.",adjust:"Anpassen",close:"Schlieen"}},JA=a=>{const m=(a||"tr").toLowerCase();return m.startsWith("tr")?"tr":m.startsWith("fr")?"fr":m.startsWith("de")?"de":"en"},xm=({isOpen:a,product:m,requested:t,available:h,onClose:f,onAdjust:c})=>{const{i18n:n}=Zt();if(!a)return null;const o=XA[JA(n.language)];return e.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/40 p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl border border-yellow-300",children:[e.jsxs("div",{className:"px-5 py-4 flex items-center gap-3 border-b border-yellow-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:e.jsx(pn,{className:"w-6 h-6 text-yellow-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:o.title})]}),e.jsxs("div",{className:"px-5 py-4 space-y-3 text-sm text-gray-700",children:[e.jsx("p",{className:"font-medium",children:o.message}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-xs grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:o.requestedLabel}),e.jsx("div",{className:"font-semibold text-gray-900",children:t})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:o.availableLabel}),e.jsx("div",{className:"font-semibold text-gray-900",children:h})]})]}),m&&e.jsx("p",{className:"text-xs text-gray-500",children:m.name})]}),e.jsxs("div",{className:"px-5 py-3 border-t bg-gray-50 flex justify-end gap-2",children:[c&&e.jsx("button",{type:"button",onClick:()=>{c(),f()},className:"px-4 py-2 text-sm font-medium rounded-lg bg-yellow-500 text-white hover:bg-yellow-600",children:o.adjust}),e.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-sm font-medium rounded-lg border border-gray-300 bg-white hover:bg-gray-100",children:o.close})]})]})})},nn=18,fl=a=>a==null?"":String(a).replace(/\s+/g," ").trim().toLowerCase(),sa=a=>{if(a==null||typeof a=="boolean")return null;if(typeof a=="number")return!Number.isFinite(a)||a<0?null:Math.round(a*100)/100;if(typeof a=="string"){const t=a.trim();if(!t)return null;const h=Number(t);return!Number.isFinite(h)||h<0?null:Math.round(h*100)/100}const m=Number(a);return!Number.isFinite(m)||m<0?null:Math.round(m*100)/100},Fx=(a,m)=>{if(!a||!a.length||m===null||m===void 0)return;const t=String(m).trim();if(!t)return;const h=a.find(n=>String(n.id)===t);if(h)return h;const f=fl(t),c=a.find(n=>fl(n.name)===f);if(c)return c;if(t.includes(">")||t.includes("/")){const n=t.includes(">")?">":"/",o=t.split(n).map(i=>fl(i)).filter(Boolean);for(let i=o.length-1;i>=0;i-=1){const r=a.find(s=>fl(s.name)===o[i]);if(r)return r}}},Bx=(a,m)=>{if(!m?.length||!a)return null;const t=new Set;let h=Fx(m,a);for(;h;){const f=sa(h.taxRate);if(f!==null)return f;if(!h.parentId)break;const c=String(h.parentId);if(t.has(c))break;t.add(c),h=Fx(m,c)}return null},e8=(a,m)=>{if(!(!a||!a.length)){if(m?.id){const t=a.find(h=>String(h.id)===String(m.id));if(t)return t}if(m?.name){const t=fl(m.name);if(t){const h=a.find(f=>fl(f.name)===t);if(h)return h}}}},sv=(a,m,t,h=nn)=>{const f=sa(a?.categoryTaxRateOverride);if(f!==null)return f;const c=sa(a?.taxRate);if(c!==null)return c;const n=Bx(a?.category??t,m);if(n!==null)return n;const o=Bx(t??null,m);return o!==null?o:h},up=(a,m={})=>{const{products:t,categories:h,defaultRate:f=nn,preferResolvedOverExisting:c=!1}=m,n=sa(a.taxRate),o=e8(t,{id:a.productId,name:a.productName??a.description}),i=sv(o,h,a.productName??a.description,f);return c&&o?a.taxRate===i?n!==null&&n!==i?{...a,taxRate:i}:a:{...a,taxRate:i}:n!==null?a.taxRate===n?a:{...a,taxRate:n}:a.taxRate===i?a:{...a,taxRate:i}},cc=(a,m={})=>{if(!Array.isArray(a))return[];let t=!1;const h=a.map(f=>{const c=up(f,m);return c!==f&&(t=!0),c});return t?h:a},mp=(a,m,t=nn)=>{const h=Array.isArray(a)?a:[];let f=0,c=0;h.forEach(s=>{const l=Number(s.total)||0,u=(sa(s.taxRate)??t)/100;f+=l,c+=l*u});const n=f+c,o=Number(m),i=Number.isFinite(o)?Math.min(n,Math.max(0,o)):0,r=f+c-i;return{subtotal:f,taxAmount:c,total:r,discount:i}},nv=a=>({id:`item-${Date.now()}-${a??Math.random().toString(36).slice(2,6)}`,description:"",quantity:1,unitPrice:0,total:0,taxRate:nn}),Xi=()=>[nv()],t8="INV",yf=()=>{const a=new Date,m=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0");return`${t8}-${m}-${t}-XXX`},sn=a=>a==null?"":String(a),r8=a=>a?a._isReturnInvoice===!0||String(a.type||"")==="return":!1,s8=a=>a?sn(a.originalInvoiceId??a.refundedInvoiceId??""):"",iv=a=>!Array.isArray(a)||a.length===0?Xi():a.map((m,t)=>{const h=Number(m.quantity)||1,f=Number(m.unitPrice)||0,c=Number.isFinite(Number(m.total))?Number(m.total):h*f,n=m.productId!==void 0&&m.productId!==null;return{...m,id:m.id?String(m.id):`${t+1}`,description:m.description||m.productName||"",quantity:h,unitPrice:f,total:c,productId:n?sn(m.productId):void 0,unit:m.unit,taxRate:sa(m.taxRate)??nn}}),bf=a=>{if(!a)return Xi();const m=iv(a.items);return m.length?m.map((t,h)=>{const f=Math.abs(Number(t.quantity)||0)||1,c=Number(t.unitPrice)||0,n=-f;return{...t,id:`ret-${Date.now()}-${h}`,quantity:n,total:n*c}}):Xi()},su=a=>{if(!a)return null;const m=[a.stock,a.stockQuantity];for(const t of m){const h=Number(t);if(Number.isFinite(h))return h}return null},n8=a=>!!a&&typeof a.then=="function";function i8({onClose:a,onSave:m,invoice:t,customers:h=[],products:f=[],invoices:c=[]}){const{t:n,i18n:o}=Zt(),[i,r]=W.useState([]),[s,l]=W.useState(()=>({invoiceNumber:yf(),customerId:"",customerName:"",customerEmail:"",customerAddress:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:"",status:"draft",type:"product",originalInvoiceId:"",discountAmount:0})),[d,u]=W.useState(""),[x,b]=W.useState(!1),[g,v]=W.useState(null),[y,N]=W.useState(null),[E,I]=W.useState(()=>Xi()),[O,$]=W.useState(null),[z,U]=W.useState(!1),[V,G]=W.useState(null),B=Gt.useRef({}),T=Gt.useCallback(X=>{const F={};X.forEach(M=>{F[M.id]={productId:M.productId?sn(M.productId):void 0,quantity:Number(M.quantity)||0}}),B.current=F},[]),D=Gt.useCallback((X,F)=>{const M=B.current[X];return!M||!M.productId||!F?0:sn(M.productId)===sn(F)&&Number(M.quantity)||0},[]);Gt.useEffect(()=>{let X=!0;return(async()=>{try{const F=await Up.getAll();X&&r(Array.isArray(F)?F:[])}catch(F){X&&(r([]),he.warn("InvoiceModal: category load failed",F))}finally{}})(),()=>{X=!1}},[]),Gt.useEffect(()=>{I(X=>{const F=cc(X,{products:f,categories:i,defaultRate:nn});return F===X?X:F})},[f,i]),Gt.useEffect(()=>{if(!t){l({invoiceNumber:yf(),customerId:"",customerName:"",customerEmail:"",customerAddress:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:"",status:"draft",type:"product",originalInvoiceId:"",discountAmount:0});const oe=cc(Xi(),{products:f,categories:i,defaultRate:nn});I(oe),T([]),u(""),v(null),b(!1),N(null),$(null);return}const X=r8(t),F=s8(t);l({invoiceNumber:t.invoiceNumber||yf(),customerId:sn(t.customerId),customerName:t.customer?.name||t.customerName||"",customerEmail:t.customer?.email||t.customerEmail||"",customerAddress:t.customer?.address||t.customerAddress||"",issueDate:t.issueDate||new Date().toISOString().split("T")[0],dueDate:t.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:t.notes||"",status:t.status||"draft",type:X?"return":t.type||"product",originalInvoiceId:F,discountAmount:Number(t.discountAmount??0)||0});const M=iv(t.items),K=M.length?M:Xi(),se=cc(K,{products:f,categories:i,defaultRate:nn});if(I(se),T(M.length?M:[]),u(t.customer?.name||t.customerName||""),v(t.customer??null),b(!1),N(null),$(null),X&&F){const oe=c.find(ne=>sn(ne.id)===F);if(oe&&(l(le=>({...le,originalInvoiceId:F,customerId:le.customerId||sn(oe.customerId),customerName:le.customerName||oe.customer?.name||oe.customerName||"",customerEmail:le.customerEmail||oe.customer?.email||oe.customerEmail||"",customerAddress:le.customerAddress||oe.customer?.address||oe.customerAddress||""})),oe.customer?(v(oe.customer),u(oe.customer.name||"")):oe.customerName&&u(oe.customerName),!(Array.isArray(t.items)&&t.items.length>0))){const le=bf(oe),Se=cc(le.length?le:Xi(),{products:f,categories:i,defaultRate:nn});I(Se),T(le.length?le:[])}}},[t,c,T,f,i]);const A=()=>{I(X=>{const F=nv(X.length+1);return B.current[F.id]={quantity:0},[...X,F]})},k=X=>{I(F=>{if(F.length===1)return F;const M=F.filter(K=>K.id!==X);if(B.current[X]){const K={...B.current};delete K[X],B.current=K}return M}),N(F=>F===X?null:F)},S=(X,F,M)=>{I(K=>{const se=K.map(oe=>{if(oe.id!==X)return oe;const ne={...oe,[F]:M};if(F==="quantity"||F==="unitPrice"){const le=Number(F==="quantity"?M:ne.quantity)||0,Se=Number(F==="unitPrice"?M:ne.unitPrice)||0;ne.total=le*Se}return ne});if(F==="quantity"){const oe=se.find(ne=>ne.id===X);if(oe?.productId){const ne=f.find(ce=>sn(ce.id)===sn(oe.productId)),le=su(ne),Se=Number(M)||0,je=D(X,oe.productId),ee=le!==null?le+je:null;ne&&ee!==null&&Se>ee&&G({itemId:X,product:ne,requested:Se,available:le})}}return se})},{subtotal:j,taxAmount:C,total:P}=mp(E,s.discountAmount,nn),R=h.filter(X=>{const F=d.trim().toLowerCase();if(!F)return!0;const M=X.name?X.name.toLowerCase():"",K=X.company?X.company.toLowerCase():"";return M.includes(F)||K.includes(F)}),L=X=>{v(X),l(F=>({...F,customerId:X.id,customerName:X.name,customerEmail:X.email,customerAddress:X.address||F.customerAddress})),u(X.name),b(!1),$(null)},Y=X=>{u(X),l(F=>({...F,customerName:X})),b(X.length>0),v(null)},Z=X=>{const F=X.trim().toLowerCase();return f.filter(M=>F?M.name.toLowerCase().includes(F)||(M.sku||"").toLowerCase().includes(F)||(M.category||"").toLowerCase().includes(F):!0).slice(0,12)},ae=(X,F)=>{he.debug("InvoiceModal: product selected",{productId:F.id,name:F.name,taxRate:F.taxRate,categoryTaxRateOverride:F.categoryTaxRateOverride,category:F.category});const M=sv(F,i,F?.category,nn),K=su(F);I(se=>{const oe=se.map(ne=>{if(ne.id!==X)return ne;const le=ne.quantity>0?ne.quantity:1,Se=Number(F.unitPrice??ne.unitPrice??0),je=Number(M);return{...ne,productId:F.id,description:F.name,unitPrice:Se,unit:F.unit,quantity:le,total:le*Se,taxRate:je}});if(K!==null){const ne=oe.find(le=>le.id===X);ne&&ne.quantity>K&&G({itemId:X,product:F,requested:ne.quantity,available:K})}return oe}),N(null)},q=async()=>{if(z)return;he.debug("InvoiceModal: starting validation",{customerId:s.customerId,customerName:s.customerName,selectedCustomer:g?.name});for(const le of E){const Se=sn(le.productId);let je=Se?f.find(ee=>sn(ee.id)===Se):void 0;if(!je&&le.description){const ee=String(le.description).trim().toLowerCase();je=f.find(ce=>String(ce.name||"").trim().toLowerCase()===ee)||f.find(ce=>String(ce.name||"").toLowerCase().includes(ee))}if(je){const ee=su(je),ce=Number(le.quantity)||0,be=le.productId?D(le.id,le.productId):0,Te=ee!==null?ee+be:null;if(Te!==null&&ce>Te){G({itemId:String(le.id),product:je,requested:ce,available:ee});return}}}if(!s.customerId){he.error("InvoiceModal: customerId validation failed",{customerId:s.customerId,selectedCustomer:g}),$("Ltfen mteri sein");return}if(s.type==="return"&&!s.originalInvoiceId){$("ade faturas oluturmak iin iade edilecek faturay semelisiniz");return}if(!E.length){$("Ltfen en az bir rn ekleyin");return}if(E.some(le=>!le.description||le.unitPrice<=0)){$("Ltfen tm rn bilgilerini eksiksiz doldurun");return}const X=s.type==="return"?E.map(le=>{const Se=Number(le.quantity)||0,je=Number(le.unitPrice)||0,ee=Se>0?-Se:Se;return{...le,quantity:ee,total:ee*je}}):E.map(le=>{const Se=Number(le.quantity)||0,je=Number(le.unitPrice)||0;return{...le,total:Se*je}}),F=cc(X,{products:f,categories:i,defaultRate:nn}),{subtotal:M,taxAmount:K,total:se,discount:oe}=mp(F,s.discountAmount,nn),ne={invoiceNumber:s.invoiceNumber,customerId:s.customerId,customerName:s.customerName,customerEmail:s.customerEmail,customerAddress:s.customerAddress,issueDate:s.issueDate||new Date().toISOString().split("T")[0],dueDate:s.dueDate||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],items:F,lineItems:F,subtotal:M,taxAmount:K,discountAmount:oe,total:se,notes:s.notes||"",status:s.status||"draft",type:s.type,originalInvoiceId:s.originalInvoiceId||void 0};t?.id&&(ne.id=sn(t.id),t.createdAt&&(ne.createdAt=t.createdAt)),!ne.id&&ne.type==="return"&&ne.originalInvoiceId&&(ne.id=ne.originalInvoiceId),he.debug("InvoiceModal: submitting invoice payload",{customerId:ne.customerId,customerName:ne.customerName,itemCount:ne.items.length,total:ne.total});try{U(!0);const le=m(ne);n8(le)?le.catch(Se=>{he.error("InvoiceModal: save failed",Se)}).finally(()=>U(!1)):U(!1)}catch(le){U(!1),he.error("InvoiceModal: save threw synchronously",le)}a()};return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Pp,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n(t?"invoices.editInvoice":"invoices.newInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:n("invoices.enterInvoiceInfo")})]})]}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":n("common.close"),children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.invoiceNumber")}),e.jsx("input",{type:"text",value:s.invoiceNumber,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",title:n("invoices.invoiceNumberAutoGenerated")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsx("span",{className:"text-indigo-600 font-semibold",children:n("invoices.invoiceType")})}),e.jsxs("select",{value:s.type,onChange:X=>{const F=X.target.value;if(l(M=>({...M,type:F})),F==="return"){const M=t?.id?sn(t.id):"";if(M){const K=c.find(se=>sn(se.id)===M);if(K&&(l(oe=>({...oe,originalInvoiceId:M,invoiceNumber:K.invoiceNumber||oe.invoiceNumber,customerId:oe.customerId||K.customerId||"",customerName:oe.customerName||K.customer?.name||K.customerName||"",customerEmail:oe.customerEmail||K.customer?.email||K.customerEmail||"",customerAddress:oe.customerAddress||K.customer?.address||K.customerAddress||""})),K.customer?(v(K.customer),u(K.customer.name||"")):K.customerName&&u(K.customerName),E.length===0||E.length===1&&!E[0].description&&(Number(E[0].total)||0)===0)){const oe=bf(K);I(oe.length?oe:Xi())}}}else l(M=>({...M,originalInvoiceId:""}))},className:"w-full px-3 py-2 border-2 border-indigo-300 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200",children:[e.jsxs("option",{value:"product",children:[" ",n("invoices.productInvoice")]}),e.jsxs("option",{value:"return",children:[" ",n("invoices.returnInvoice")]})]})]})]}),s.type==="return"&&e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:e.jsxs("span",{className:"text-red-600",children:[" ",n("invoices.invoiceToReturn")]})}),e.jsxs("select",{value:s.originalInvoiceId,onChange:X=>{const F=X.target.value,M=c.find(K=>sn(K.id)===F);if(M){l(se=>({...se,originalInvoiceId:F,invoiceNumber:M.invoiceNumber||se.invoiceNumber,customerId:M.customerId||"",customerName:M.customer?.name||M.customerName||"",customerEmail:M.customer?.email||M.customerEmail||"",customerAddress:M.customer?.address||M.customerAddress||""})),M.customer?(v(M.customer),u(M.customer.name||"")):M.customerName&&u(M.customerName);const K=bf(M);I(K.length?K:Xi())}else l(K=>({...K,originalInvoiceId:F}))},className:"w-full px-3 py-2 border-2 border-yellow-400 rounded-lg bg-white",children:[e.jsx("option",{value:"",children:n("invoices.selectInvoiceToReturn")}),c.map(X=>e.jsxs("option",{value:X.id,children:[X.invoiceNumber," - ",X.customerName||X.customer?.name]},X.id))]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:n("invoices.returnInvoiceAutoLoad")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.issueDate")}),e.jsx("input",{type:"date",value:s.issueDate,onChange:X=>l({...s,issueDate:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",lang:o.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.dueDate")}),e.jsx("input",{type:"date",value:s.dueDate,onChange:X=>l({...s,dueDate:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",lang:o.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.status")}),e.jsxs("select",{value:s.status,onChange:X=>l({...s,status:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[e.jsx("option",{value:"draft",children:Rt(n,"draft")}),e.jsx("option",{value:"sent",children:Rt(n,"sent")}),e.jsx("option",{value:"paid",children:Rt(n,"paid")}),e.jsx("option",{value:"overdue",children:Rt(n,"overdue")}),e.jsx("option",{value:"cancelled",children:Rt(n,"cancelled")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.customerName")}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:d,onChange:X=>Y(X.target.value),onFocus:()=>b(!0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:n("invoices.customerSearchPlaceholder")}),g&&e.jsx(ns,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500 w-4 h-4"})]}),x&&R.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[R.length," musteri bulundu"]}),R.map(X=>e.jsxs("button",{type:"button",onMouseDown:F=>F.preventDefault(),onClick:()=>L(X),className:"w-full p-3 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:X.name}),e.jsx("div",{className:"text-sm text-gray-600",children:X.company}),e.jsx("div",{className:"text-xs text-gray-500",children:X.email})]},X.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("customers.email")}),e.jsx("input",{type:"email",value:s.customerEmail,onChange:X=>l({...s,customerEmail:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:n("customers.emailPlaceholder")})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("customers.address")}),e.jsx("textarea",{value:s.customerAddress,onChange:X=>l({...s,customerAddress:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:n("customers.addressPlaceholder")})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n("invoices.productsAndServices")}),e.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:n("invoices.addLine")})]})]}),e.jsx("div",{style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg table-fixed",style:{position:"relative"},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"40%"},children:n("invoices.description")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"12%"},children:n("invoices.quantity")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"18%"},children:n("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",style:{width:"18%"},children:n("invoices.totalInclVAT")}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",style:{width:"12%"},children:n("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",style:{position:"relative"},children:E.map(X=>{const F=Z(X.description);return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3",style:{position:"static"},children:[e.jsxs("div",{className:"relative",style:{position:"static"},children:[e.jsx("input",{type:"text",value:X.description,onChange:M=>{S(X.id,"description",M.target.value),M.target.value.length>0&&N(X.id)},onClick:()=>{X.description.length>0&&N(X.id)},onBlur:()=>setTimeout(()=>{N(M=>M===X.id?null:M)},200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:n("invoices.productServiceDescription")}),y===X.id&&F.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[500px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-blue-50 p-3 text-xs font-medium text-blue-700 border-b border-blue-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ms,{className:"w-3 h-3 mr-1"}),F.length," rn bulundu"]})}),F.map(M=>{const K=su(M),se=Math.max(0,K??0),oe=(K??0)>0?"text-green-600 font-medium":"text-red-600 font-medium";return e.jsxs("button",{type:"button",onMouseDown:ne=>ne.preventDefault(),onClick:()=>ae(X.id,M),className:"w-full p-4 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:M.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[M.sku&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded",children:["SKU: ",M.sku]}),M.category&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:M.category})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm",children:[e.jsx("span",{className:"font-medium text-green-600",children:(M.unitPrice??0).toLocaleString("tr-TR",{minimumFractionDigits:2})}),e.jsxs("span",{className:"text-gray-500",children:["Stok: ",e.jsx("span",{className:oe,children:se})]})]})]},`${X.id}-${M.id}`)})]})]}),X.unit&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Birim: ",X.unit]})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",value:X.quantity,onChange:M=>S(X.id,"quantity",parseInt(M.target.value,10)||1),className:"w-20 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",step:"1"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"number",value:X.unitPrice,onChange:M=>S(X.id,"unitPrice",parseFloat(M.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"font-medium text-gray-900",children:X.total.toLocaleString("tr-TR",{minimumFractionDigits:2})})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("button",{onClick:()=>k(X.id),disabled:E.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Yr,{className:"w-4 h-4"})})})]},X.id)})})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoices.subtotalExclVAT"),":"]}),e.jsx("span",{className:"font-medium",children:j.toLocaleString("tr-TR",{minimumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoices.vat"),":"]}),e.jsx("span",{className:"font-medium",children:C.toLocaleString("tr-TR",{minimumFractionDigits:2})})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoices.discount")||"skonto",":"]}),e.jsx("input",{type:"number",value:s.discountAmount??0,onChange:X=>{const F=Number(X.target.value);l(M=>({...M,discountAmount:Number.isFinite(F)&&F>=0?F:0}))},className:"w-24 px-2 py-1 border border-gray-300 rounded text-right focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-300 pt-2",children:[e.jsxs("span",{children:[n("invoices.grandTotalInclVAT"),":"]}),e.jsx("span",{children:P.toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]})})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("invoices.notes")}),e.jsx("textarea",{value:s.notes,onChange:X=>l({...s,notes:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:n("invoices.notesPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:a,disabled:z,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n("common.cancel")||"Iptal"}),e.jsx("button",{onClick:q,disabled:z,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium inline-flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:z?e.jsxs(e.Fragment,{children:[e.jsx(Gu,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:n("common.creating",{defaultValue:"Oluturuluyor"})})]}):t?n("common.update")||"Guncelle":n("invoices.createInvoice")||"Fatura Olustur"})]})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[70]",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n("common.warning")}),e.jsx("p",{className:"text-gray-600",children:O})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:()=>$(null),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:n("common.ok")})})]})}),V&&e.jsx(xm,{isOpen:!0,product:V.product,requested:V.requested,available:V.available,onAdjust:()=>{I(X=>X.map(F=>F.id===V.itemId?{...F,quantity:V.available,total:V.available*(Number(F.unitPrice)||0)}:F))},onClose:()=>G(null)})]})}const a8=[{fallbackLabel:"Dier",value:"other"},{fallbackLabel:"Ekipman",value:"equipment"},{fallbackLabel:"Faturalar",value:"utilities"},{fallbackLabel:"Kira",value:"rent"},{fallbackLabel:"Maalar",value:"salaries"},{fallbackLabel:"Malzemeler",value:"supplies"},{fallbackLabel:"Pazarlama",value:"marketing"},{fallbackLabel:"Seyahat",value:"travel"},{fallbackLabel:"Sigorta",value:"insurance"},{fallbackLabel:"Vergiler",value:"taxes"}],o8=[go.PENDING,go.APPROVED,go.PAID,go.REJECTED],Vp=()=>new Date().toISOString().split("T")[0],Ux=()=>`EXP-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,l8=a=>a?a instanceof Date?a.toISOString().split("T")[0]:a:Vp(),Vx=(a,m)=>{if(!a)return{expenseNumber:Ux(),description:"",supplierInput:m?.name||"",supplierId:"",amount:"0",category:m?.category||"other",status:go.PENDING,expenseDate:Vp(),dueDate:"",receiptUrl:"",notes:""};const t=typeof a.supplier=="string"?{id:a.supplierId,name:a.supplier||""}:a.supplier;return{expenseNumber:a.expenseNumber||Ux(),description:a.description||"",supplierInput:t?.name||"",supplierId:a.supplierId||t?.id||"",amount:a.amount?String(a.amount):"0",category:a.category||"other",status:a.status||go.PENDING,expenseDate:l8(a.expenseDate||a.date),dueDate:a.dueDate||"",receiptUrl:a.receiptUrl||"",notes:a.notes||""}},qx=a=>{if(!a)return Number.NaN;const m=a.replace(",","."),t=Number.parseFloat(m);return Number.isNaN(t)?Number.NaN:t};function c8({isOpen:a,onClose:m,onSave:t,expense:h,suppliers:f=[],supplierInfo:c}){const{formatCurrency:n}=es(),{t:o,i18n:i}=Zt(),[r,s]=W.useState(()=>Vx(h,c)),[l,d]=W.useState(!1),[u,x]=W.useState(f),b=W.useMemo(()=>a8.map(({value:E,fallbackLabel:I})=>({value:E,label:o(`expenseCategories.${E}`)||I})),[o]);W.useEffect(()=>{a&&s(Vx(h,c))},[a,h,c]),W.useEffect(()=>{x(f)},[f]);const g=E=>{s($=>({...$,supplierInput:E,supplierId:""}));const I=E.trim().toLowerCase();if(I.length<2){d(!1),x(f);return}const O=f.filter($=>{const z=$.name.toLowerCase(),U=$.email?$.email.toLowerCase():"",V=$.phone?$.phone.toLowerCase():"";return z.includes(I)||U.includes(I)||V.includes(I)});x(O),d(O.length>0)},v=()=>{const E=r.description.trim();if(!E){alert(o("validation.descriptionRequired")||"Ltfen aklama girin");return}const I=qx(r.amount);if(!Number.isFinite(I)||I<=0){alert(o("validation.amountRequired")||"Ltfen geerli bir tutar girin");return}if(!r.category){alert(o("validation.categoryRequired")||"Ltfen kategori sein");return}const O=r.expenseDate||Vp(),$=r.supplierId.trim(),z={id:h?.id,expenseNumber:r.expenseNumber.trim()||void 0,description:E,amount:I,category:r.category,status:r.status,expenseDate:O,date:O,supplierId:$||null,dueDate:r.dueDate||void 0,receiptUrl:r.receiptUrl.trim()||void 0,notes:r.notes.trim()};t(z),m()},y=(()=>{const E=qx(r.amount);return Number.isFinite(E)?E:0})(),N=!r.description.trim()||!r.amount.trim();return a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(fn,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:h?o("expenses.editExpense")||"Gideri Dzenle":o("expenses.newExpense")||"Yeni Gider Ekle"}),e.jsx("p",{className:"text-sm text-gray-500",children:o("expenses.enterExpenseInfo")||"Gider bilgilerini girin"})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o("expenses.expenseNumber")||"Gider Numaras"}),e.jsx("input",{type:"text",value:r.expenseNumber,onChange:E=>s(I=>({...I,expenseNumber:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ri,{className:"w-4 h-4 inline mr-2"}),o("expenses.category")||"Kategori"," *"]}),e.jsx("select",{value:r.category,onChange:E=>s(I=>({...I,category:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:b.map(E=>e.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o("common.description")||"Aklama"," *"]}),e.jsx("input",{type:"text",value:r.description,onChange:E=>s(I=>({...I,description:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:o("expenses.descriptionPlaceholder")||"Gider aklamas...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Jr,{className:"w-4 h-4 inline mr-2"}),o("expenses.supplier")||"Tedariki/Firma"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.supplierInput,onChange:E=>g(E.target.value),onFocus:()=>{r.supplierInput.length>=2&&u.length>0&&d(!0)},onBlur:()=>{setTimeout(()=>d(!1),200)},className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:o("expenses.supplierPlaceholder")||"Tedariki ad yazn..."}),r.supplierInput&&e.jsx("button",{type:"button",onClick:()=>{s(E=>({...E,supplierInput:"",supplierId:""})),d(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(kr,{className:"w-4 h-4"})})]}),l&&u.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:u.map(E=>e.jsxs("div",{onClick:()=>{s(I=>({...I,supplierInput:E.name,supplierId:E.id})),d(!1)},className:"px-4 py-3 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:E.name}),E.email&&e.jsx("div",{className:"text-sm text-gray-500",children:E.email}),E.phone&&e.jsx("div",{className:"text-sm text-gray-500",children:E.phone})]},E.id))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o("expenses.amount")||"Tutar"," *"]}),e.jsx("input",{type:"number",value:r.amount,onChange:E=>s(I=>({...I,amount:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0.00",min:"0",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Or,{className:"w-4 h-4 inline mr-2"}),o("expenses.expenseDate")||"Gider Tarihi"," *"]}),e.jsx("input",{type:"date",value:r.expenseDate,onChange:E=>s(I=>({...I,expenseDate:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",lang:i.language,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o("expenses.paymentDate")||"deme Tarihi"}),e.jsx("input",{type:"date",value:r.dueDate,onChange:E=>s(I=>({...I,dueDate:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",lang:i.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o("common:statusLabel")||o("common:statusLabel",{lng:"en"})||"Status"}),e.jsx("select",{value:r.status,onChange:E=>s(I=>({...I,status:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:o8.map(E=>e.jsx("option",{value:E,children:Rt(o,E)},E))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o("expenses.receiptUrl")}),e.jsx("input",{type:"url",value:r.receiptUrl,onChange:E=>s(I=>({...I,receiptUrl:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"https://example.com/receipt.pdf"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o("expenses.receiptUrlHelper")})]}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-red-800 font-medium",children:[o("expenses.totalExpense")||"Toplam Gider",":"]}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:n(y)})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:o("common.cancel")||"ptal"}),e.jsx("button",{onClick:v,disabled:N,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:h?o("common.update")||"Gncelle":o("expenses.addExpense")||"Gider Ekle"})]})]})}):null}const dc=a=>{if(!a)return null;const m=a,t=m.stock??m.stockQuantity,h=Number(t);return Number.isFinite(h)?h:null},d8="cash",u8=()=>new Date().toISOString().split("T")[0],av=a=>{const m=(a??"").trim();return m?m.slice(0,10):u8()},ju=(a,m=1)=>{const t=typeof a=="number"?a:Number.parseFloat(String(a).replace(",","."));return!Number.isFinite(t)||t<=0?m:Math.round(t)},hp=a=>{if(typeof a=="number"&&Number.isFinite(a))return a;const m=String(a??"0").replace(/\s/g,"").replace(",","."),t=Number.parseFloat(m);return Number.isFinite(t)?t:0},Qu=a=>a==null?"":String(a),$x=a=>({saleNumber:a?.saleNumber??"",customerName:a?.customerName??"",customerEmail:a?.customerEmail??"",productId:Qu(a?.productId),productName:a?.productName??"",productUnit:a?.productUnit??"",quantity:ju(a?.quantity??1),unitPrice:hp(a?.unitPrice??0),status:a?.status??"completed",date:av(a?.date),paymentMethod:a?.paymentMethod??d8,notes:a?.notes??""}),m8=(a,m)=>{if(!m)return null;const t=m.id?a.find(f=>Qu(f.id)===Qu(m.id)):null;if(t)return t;const h=(m.name??"").trim().toLowerCase();return h?a.find(f=>(f.name??"").trim().toLowerCase()===h)??null:null};function ov({isOpen:a,onClose:m,onSave:t,sale:h,customers:f=[],products:c=[]}){const{t:n,i18n:o}=Zt(),[i,r]=W.useState(()=>$x(h)),[s,l]=W.useState(null),[d,u]=W.useState(h?.customerName||""),[x,b]=W.useState(!1),[g,v]=W.useState(null),[y,N]=W.useState(h?.productName||""),[E,I]=W.useState(!1),[O,$]=W.useState(null),[z,U]=W.useState({}),[V,G]=W.useState(!1),B=L=>{r(Y=>({...Y,...L}))};Gt.useEffect(()=>{if(he.debug("SaleModal useEffect invoked",{isOpen:a,hasSale:!!h,saleId:h?.id,saleName:h?.customerName}),!a)return;const L=$x(h);r(L),u(L.customerName),N(L.productName),v(null);const Y=m8(c,{id:h?.productId,name:h?.productName});$(Y||null),b(!1),I(!1),U({}),G(!1)},[a,h,c]);const T=W.useMemo(()=>{const L=i.quantity*i.unitPrice;return Number.isFinite(L)?L:0},[i.quantity,i.unitPrice]),D=W.useMemo(()=>{const L=d.trim().toLowerCase();return L?f.filter(Y=>{const Z=Y.name?Y.name.toLowerCase():"",ae=Y.company?Y.company.toLowerCase():"",q=Y.email?Y.email.toLowerCase():"";return Z.includes(L)||ae.includes(L)||q.includes(L)}):f},[f,d]),A=W.useMemo(()=>{const L=y.trim().toLowerCase();return c.filter(Y=>{if(!L)return!0;const Z=Y.name?Y.name.toLowerCase():"",ae=Y.sku?Y.sku.toLowerCase():"",q=Y.category?Y.category.toLowerCase():"";return Z.includes(L)||ae.includes(L)||q.includes(L)}).slice(0,12)},[c,y]),k=L=>{v(L),B({customerName:L.name,customerEmail:L.email}),u(L.name),b(!1),z.customerName&&U(Y=>({...Y,customerName:""}))},S=L=>{u(L),B({customerName:L}),b(L.trim().length>0),v(null),z.customerName&&U(Y=>({...Y,customerName:""}))},j=L=>{N(L),B({productName:L,productId:""}),I(!0),$(null),z.productName&&U(Y=>({...Y,productName:""}))},C=L=>{const Y=ju(i.quantity),Z=hp(L.unitPrice??i.unitPrice??0);$(L),N(L.name||""),B({productId:Qu(L.id),productName:L.name||"",productUnit:L.unit||"",unitPrice:Z,quantity:Y}),I(!1),z.productName&&U(q=>({...q,productName:""}));const ae=dc(L);ae!==null&&Y>ae&&l({product:L,requested:Y,available:ae})},P=()=>{const L={};return i.customerName.trim()?f.some(Z=>Z.name?Z.name.toLowerCase()===i.customerName.trim().toLowerCase():!1)||(L.customerName=n("validation.customerNotFound")):L.customerName=n("validation.customerNameRequired"),i.productName.trim()?c.some(Z=>Z.name?Z.name.toLowerCase()===i.productName.trim().toLowerCase():!1)||(L.productName=n("validation.productNotFound")):L.productName=n("validation.productNameRequired"),i.date||(L.date=n("validation.saleDateRequired")),i.unitPrice<=0&&(L.unitPrice=n("validation.unitPriceRequired")),i.quantity<=0&&(L.quantity=n("validation.quantityRequired")),U(L),Object.keys(L).length===0},R=()=>{if(i.productId){const Z=c.find(ae=>String(ae.id)===String(i.productId))||c.find(ae=>String(ae.name||"").trim().toLowerCase()===String(i.productName||"").trim().toLowerCase());if(Z){const ae=dc(Z),q=Number(i.quantity)||0;if(ae!==null&&q>ae){l({product:Z,requested:q,available:ae});return}}}if(!P())return;const L=T,Y={...i,amount:L,total:L,createInvoice:V};h?.id&&(Y.id=h.id),(!Y.saleNumber||Y.saleNumber==="")&&delete Y.saleNumber,he.debug("SaleModal saving sale",Y),t(Y),setTimeout(()=>{he.debug("SaleModal closing after save"),m()},10)};return a?(he.debug("SaleModal rendering",{saleNumber:i.saleNumber||"YEN",customerName:i.customerName||"BO"}),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Bs,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n(h?"sales.editSale":"sales.newSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:n("sales.enterSaleInfo")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":n("common.close"),children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("sales.saleNumber")}),e.jsx("input",{type:"text",value:i.saleNumber||n("sales.autoGenerated"),disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-600 cursor-not-allowed"}),!i.saleNumber&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n("sales.autoNumberNote")})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Or,{className:"w-4 h-4 inline mr-2"}),n("sales.saleDate")," *"]}),e.jsx("input",{type:"date",value:i.date,onChange:L=>B({date:av(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",lang:o.language}),z.date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(is,{className:"w-4 h-4 inline mr-2"}),n("customers.name")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:d,onChange:L=>S(L.target.value),onFocus:()=>b(!0),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${z.customerName?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-green-500"}`,placeholder:n("customers.selectFromList")}),g&&e.jsx(ns,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500 w-4 h-4"})]}),z.customerName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.customerName}),x&&D.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[D.length," ",n("customers.customersFound")]}),D.map(L=>e.jsxs("button",{type:"button",onMouseDown:Y=>Y.preventDefault(),onClick:()=>k(L),className:"w-full p-3 text-left hover:bg-green-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:L.name}),e.jsx("div",{className:"text-sm text-gray-600",children:L.company}),e.jsx("div",{className:"text-xs text-gray-500",children:L.email})]},L.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("common.email")}),e.jsx("input",{type:"email",value:i.customerEmail,onChange:L=>B({customerEmail:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:n("customers.emailPlaceholder")}),z.customerEmail&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.customerEmail})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(mn,{className:"w-4 h-4 inline mr-2"}),n("products.productServiceName")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:y,onChange:L=>j(L.target.value),onFocus:()=>I(!0),onBlur:()=>setTimeout(()=>I(!1),120),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 ${z.productName?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-green-500"}`,placeholder:n("products.selectFromList")}),O&&e.jsx(ns,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-green-500 w-4 h-4"})]}),O&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[n("products.stock"),": ",Math.max(0,dc(O)??0)," ",O.unit||""," | ",n("products.price"),": ",O.unitPrice?.toLocaleString(o.language,{minimumFractionDigits:2})]}),z.productName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.productName}),E&&A.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[A.length," ",n("products.productsFound")]}),A.map(L=>e.jsxs("button",{type:"button",onMouseDown:Y=>Y.preventDefault(),onClick:()=>C(L),className:"w-full p-3 text-left hover:bg-green-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:L.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[L.sku?`SKU: ${L.sku}`:"",L.sku&&L.category?"  ":"",L.category||""]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n("products.price"),": ",L.unitPrice?.toLocaleString(o.language,{minimumFractionDigits:2})," | ",n("products.stock"),": ",Math.max(0,dc(L)??0)]})]},L.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("common.quantity")," *"]}),e.jsx("input",{type:"number",value:i.quantity,onChange:L=>{const Y=ju(L.target.value);if(B({quantity:Y}),i.productId){const Z=c.find(ae=>String(ae.id)===String(i.productId));if(Z){const ae=dc(Z);ae!==null&&Y>ae&&l({product:Z,requested:Y,available:ae})}}},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",min:"1",step:"1"}),z.quantity&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.quantity})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pn,{className:"w-4 h-4 inline mr-2"}),n("sales.unitPriceExclVAT")," *"]}),e.jsx("input",{type:"number",value:i.unitPrice,onChange:L=>B({unitPrice:hp(L.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00",min:"0",step:"0.01"}),z.unitPrice&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:z.unitPrice})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("sales.totalExclVAT")}),e.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700 font-medium",children:T.toLocaleString(o.language,{minimumFractionDigits:2})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("common:statusLabel")}),e.jsxs("select",{value:i.status,onChange:L=>B({status:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"completed",children:Rt(n,$r("completed"))}),e.jsx("option",{value:"pending",children:Rt(n,$r("pending"))}),e.jsx("option",{value:"cancelled",children:Rt(n,$r("cancelled"))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xi,{className:"w-4 h-4 inline mr-2"}),n("payment.method")]}),e.jsxs("select",{value:i.paymentMethod||"cash",onChange:L=>B({paymentMethod:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"cash",children:n("payment.cash")}),e.jsx("option",{value:"card",children:n("payment.card")}),e.jsx("option",{value:"transfer",children:n("payment.transfer")}),e.jsx("option",{value:"check",children:n("payment.check")})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("common.notes")}),e.jsx("textarea",{value:i.notes,onChange:L=>B({notes:L.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",rows:3,placeholder:n("sales.notesPlaceholder")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:n("common.cancel")}),e.jsx("button",{onClick:R,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:n(h?"common.update":"sales.addSale")})]})]})}),s&&e.jsx(xm,{isOpen:!0,product:s.product,requested:s.requested,available:s.available,onAdjust:()=>{B({quantity:ju(s.available)})},onClose:()=>l(null)})]})):null}const fp={TR:["Trkiye  Bankas","Garanti BBVA","Yap Kredi Bankas","Akbank","Ziraat Bankas","Halkbank","VakfBank","QNB Finansbank","DenizBank","NG Bank","HSBC","ekerbank","TEB","Odeabank","Dier"],DE:["Deutsche Bank","Commerzbank","Sparkasse","Volksbank","N26","DKB","ING-DiBa","Postbank","HypoVereinsbank","Targobank","Consorsbank","Andere"],FR:["BNP Paribas","Socit Gnrale","Crdit Agricole","Crdit Mutuel","Banque Populaire","La Banque Postale","Crdit du Nord","HSBC France","LCL","Boursorama","Hello bank!","Autre"],US:["Bank of America","Chase","Wells Fargo","Citi","US Bank","Capital One","PNC","TD Bank","Truist","Other"],OTHER:["Other"]},h8=a=>{const m=(a||"").toLowerCase();return m.startsWith("tr")?"TR":m.startsWith("fr")?"FR":m.startsWith("de")?"DE":m.startsWith("en")?"US":"OTHER"},f8=(a,m="OTHER")=>{if(!a)return m;const t=a.toUpperCase();return Object.prototype.hasOwnProperty.call(fp,t)?t:m};function p8({isOpen:a,onClose:m,onSave:t,bank:h,bankAccount:f,country:c}){const{t:n,i18n:o}=Zt(),{currency:i}=es(),r=W.useMemo(()=>h8(o.language),[o.language]),s=W.useMemo(()=>{const V=f8(c);return!c||V==="OTHER"||r!==V?r:V},[c,r]),l=fp[s]||fp.OTHER,d=s!=="US",u=s==="US",x=s==="DE"||s==="FR",b=s==="TR",g=[{code:"TRY",name:n("currencies.TRY"),symbol:""},{code:"USD",name:n("currencies.USD"),symbol:"$"},{code:"EUR",name:n("currencies.EUR"),symbol:""},{code:"GBP",name:n("currencies.GBP"),symbol:""}],v=f||h,[y,N]=W.useState({bankName:v?.bankName||"",accountName:v?.accountName||"",accountNumber:v?.accountNumber||"",iban:v?.iban||"",branchCode:v?.branchCode||"",routingNumber:v?.routingNumber||"",swiftBic:v?.swiftBic||"",balance:v?.balance||0,currency:v?.currency||i||"USD",accountType:v?.accountType||"checking",isActive:v?.isActive!==void 0?v.isActive:!0}),E=W.useMemo(()=>v?{bankName:v.bankName||"",accountName:v.accountName||"",accountNumber:v.accountNumber||"",iban:v.iban||"",branchCode:v.branchCode||"",routingNumber:v.routingNumber||"",swiftBic:v.swiftBic||"",balance:Number(v.balance||0),currency:v.currency||i||"USD",accountType:v.accountType||"checking",isActive:v.isActive!==void 0?v.isActive:!0}:null,[v,i]),I=!!(y.bankName&&y.accountName&&(d?y.iban:y.routingNumber)),O=W.useMemo(()=>{if(!E)return I;const V={bankName:y.bankName||"",accountName:y.accountName||"",accountNumber:y.accountNumber||"",iban:y.iban||"",branchCode:y.branchCode||"",routingNumber:y.routingNumber||"",swiftBic:y.swiftBic||"",balance:Number(y.balance||0),currency:y.currency||i||"USD",accountType:y.accountType||"checking",isActive:y.isActive!==void 0?y.isActive:!0};return JSON.stringify(V)!==JSON.stringify(E)},[E,y,i,I]);Gt.useEffect(()=>{a&&v?N({bankName:v.bankName,accountName:v.accountName,accountNumber:v.accountNumber,iban:v.iban,branchCode:v.branchCode||"",routingNumber:v.routingNumber||"",swiftBic:v.swiftBic||"",balance:v.balance||0,currency:v.currency||i||"USD",accountType:v.accountType,isActive:v.isActive}):a&&!v&&N({bankName:"",accountName:"",accountNumber:"",iban:"",branchCode:"",routingNumber:"",swiftBic:"",balance:0,currency:i||"USD",accountType:"checking",isActive:!0})},[a,v,i]);const $=()=>{const V={...y};v?.id&&(V.id=v.id,V.createdAt=v.createdAt),t(V),m()},z=V=>V.replace(/\s/g,"").toUpperCase().replace(/(.{4})/g,"$1 ").trim(),U=V=>{const G=z(V);N({...y,iban:G})};return a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(xi,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n(v?"banks.editAccount":"banks.newAccount")}),e.jsx("p",{className:"text-sm text-gray-500",children:n("banks.enterAccountInfo")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Jr,{className:"w-4 h-4 inline mr-2"}),n("banks.bankName")," *"]}),e.jsxs("select",{value:y.bankName,onChange:V=>N({...y,bankName:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[e.jsx("option",{value:"",children:n("banks.selectBank")}),l.map(V=>e.jsx("option",{value:V,children:V},V))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(is,{className:"w-4 h-4 inline mr-2"}),n("banks.accountName")," *"]}),e.jsx("input",{type:"text",value:y.accountName,onChange:V=>N({...y,accountName:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:n("banks.accountNamePlaceholder"),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ku,{className:"w-4 h-4 inline mr-2"}),n("banks.accountNumber")," *"]}),e.jsx("input",{type:"text",value:y.accountNumber??"",onChange:V=>N({...y,accountNumber:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1234567890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("banks.accountType")}),e.jsxs("select",{value:y.accountType,onChange:V=>N({...y,accountType:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"checking",children:n("banks.accountTypes.checking")}),e.jsx("option",{value:"savings",children:n("banks.accountTypes.savings")}),e.jsx("option",{value:"business",children:n("banks.accountTypes.business")})]})]})]}),d&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ni,{className:"w-4 h-4 inline mr-2"}),"IBAN *"]}),e.jsx("input",{type:"text",value:y.iban??"",onChange:V=>U(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:s==="DE"?"DE00 0000 0000 0000 0000 00":s==="FR"?"FR00 0000 0000 0000 0000 0000 000":"TR00 0000 0000 0000 0000 0000 00",maxLength:34,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n("banks.ibanAutoFormat")})]}),u&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("banks.routingNumber")," *"]}),e.jsx("input",{type:"text",value:y.routingNumber??"",onChange:V=>N({...y,routingNumber:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"123456789",required:!0})]}),x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("banks.swiftBic")}),e.jsx("input",{type:"text",value:y.swiftBic??"",onChange:V=>N({...y,swiftBic:V.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"ABCDEF12XXX",maxLength:11})]}),b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("banks.branchCode")}),e.jsx("input",{type:"text",value:y.branchCode??"",onChange:V=>N({...y,branchCode:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"1234",maxLength:8})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Pn,{className:"w-4 h-4 inline mr-2"}),n("banks.currentBalance")]}),e.jsx("input",{type:"number",value:y.balance,onChange:V=>N({...y,balance:parseFloat(V.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0.00",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("banks.currency")}),e.jsx("select",{value:y.currency,onChange:V=>N({...y,currency:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:g.map(V=>e.jsxs("option",{value:V.code,children:[V.symbol," ",V.name]},V.code))})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:y.isActive,onChange:V=>N({...y,isActive:V.target.checked}),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:n("banks.accountActive")})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:n("common.cancel")}),e.jsx("button",{onClick:$,disabled:!I||!O,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:n(v?"common.update":"banks.addAccount")})]})]})}):null}const Pc={getMyTenant:async()=>(await nt.get("/tenants/my-tenant")).data,updateMyTenant:async a=>(await nt.patch("/tenants/my-tenant",a)).data,updateMySubscription:async a=>(await nt.patch("/tenants/my-tenant/subscription",a)).data,async getMySubscriptionHistory(){return(await nt.get("/tenants/my-tenant/subscription/history")).data}},g8=Object.freeze(Object.defineProperty({__proto__:null,tenantsApi:Pc},Symbol.toStringTag,{value:"Module"})),x8=a=>Array.isArray(a)&&a.every(m=>typeof m=="object"&&m!==null&&"organization"in m&&typeof m.organization=="object"),y8=a=>typeof a=="object"&&a!==null&&"id"in a&&"email"in a&&"role"in a,b8=a=>{if(typeof a=="object"&&a!==null&&"status"in a){const m=a.status;return typeof m=="string"?m:void 0}},v8=a=>{if(a&&typeof a=="object"){const m=a;return m.response?.data?.message??m.message}},Cs={async create(a){return(await nt.post("/organizations",a)).data},async getAll(){const m=(await nt.get("/organizations")).data;return x8(m)?m.map(t=>t.organization):m},async getById(a){return(await nt.get(`/organizations/${a}`)).data},async update(a,m){return(await nt.patch(`/organizations/${a}`,m)).data},async delete(a){await nt.delete(`/organizations/${a}`)},async getMembers(a){return(await nt.get(`/organizations/${a}/members`)).data},async updateMemberRole(a,m,t){return(await nt.patch(`/organizations/${a}/members/${m}`,t)).data},async removeMember(a,m){await nt.delete(`/organizations/${a}/members/${m}`)},async inviteMember(a,m){return(await nt.post(`/organizations/${a}/invite`,m)).data},async getPendingInvites(a){return(await nt.get(`/organizations/${a}/invites`)).data},async acceptInvite(a){return(await nt.post("/organizations/accept-invite",a)).data},async cancelInvite(a,m){await nt.delete(`/organizations/${a}/invites/${m}`)},async resendInvite(a,m){return(await nt.post(`/organizations/${a}/invites/${m}/resend`)).data},async getMembershipStats(a){return(await nt.get(`/organizations/${a}/membership-stats`)).data},async validateInviteToken(a,m){try{const t=await nt.get(`/public/invites/${a}`,{params:m?{turnstileToken:m}:void 0}),h=b8(t.data);return h&&h!=="valid"&&h!=="accepted"?{valid:!1,error:"Invalid or expired invite token"}:y8(t.data)?{valid:!0,invite:t.data}:{valid:!0}}catch(t){return{valid:!1,error:v8(t)||"Invalid or expired invite token"}}},async completeInviteWithPassword(a,m,t){return(await nt.post(`/public/invites/${a}/register`,{password:m,turnstileToken:t})).data}},w8=Object.freeze(Object.defineProperty({__proto__:null,default:Cs,organizationsApi:Cs},Symbol.toStringTag,{value:"Module"})),qp=a=>typeof a=="object"&&a!==null?a:{};async function k8(a){return(await nt.get(`/billing/${a}/upgrade-status`)).data}async function pp(a,m){return(await nt.post(`/billing/${a}/plan-update`,m)).data}async function $p(a){return(await nt.post("/billing/checkout",a)).data}async function lv(a,m){try{return(await nt.get(`/billing/${a}/portal`,{params:{returnUrl:m}})).data}catch(t){const h=qp(t),f=h.response?.data?.message||h.message||"Portal hatas";throw String(f).includes("test mode default configuration has not been created")?new Error("Portal oturumu oluturulamad: No configuration provided and your test mode default configuration has not been created. Stripe Dashboard > Billing > Portal > Settings sayfasndan test mode iin varsaylan yaplandrmay kaydetmeniz gerekir."):t}}async function gp(a,m){return(await nt.post(`/billing/${a}/seats`,{seats:m})).data}async function cv(a,m,t,h){return(await nt.post(`/billing/${a}/addon/checkout`,{additional:m})).data}async function N8(a,m){try{return(await nt.post(`/billing/${a}/addon/charge`,{additional:m})).data}catch(t){if(qp(t).response?.status===404)return(await nt.post("/billing/addon/charge",{tenantId:a,additional:m})).data;throw t}}async function xp(a){return(await nt.post(`/billing/${a}/cancel`)).data}async function j8(a){return(await nt.post(`/billing/${a}/resume`)).data}async function Zu(a){return(await nt.get(`/billing/${a}/invoices`)).data}async function S8(a){return(await nt.get(`/billing/${a}/history`)).data}async function C8(a){return(await nt.post(`/billing/${a}/sync`)).data}function A8(a){if(!a)return"Free";const m=a.toLowerCase();return m.includes("enterprise")||m.includes("business")?"Enterprise":m.includes("professional")||m==="pro"?"Pro":m.includes("basic")||m.includes("starter")?"Basic":"Free"}function E8(a){return a?a==="month"?"Aylk":a==="year"?"Yllk":a:""}async function T8(a){try{const m=await $p({tenantId:a,plan:"professional",interval:"month",seats:2,successUrl:window.location.origin+"/settings?upgrade=success",cancelUrl:window.location.origin+"/settings?upgrade=cancel"});he.info("Checkout session oluturuldu:",m.id),window.location.href=m.url}catch(m){const t=qp(m).response?.data?.message||m?.message||"Bilinmeyen hata";he.error("Upgrade hata:",t),window.dispatchEvent(new CustomEvent("showToast",{detail:{message:"Upgrade baarsz: "+t,tone:"error"}}))}}const Fn=Object.freeze(Object.defineProperty({__proto__:null,cancelSubscriptionAtPeriodEnd:xp,chargeAddonNow:N8,createAddonCheckout:cv,createCheckoutSession:$p,createPortalSession:lv,debugUpgrade:T8,getUpgradeStatus:k8,humanizeInterval:E8,humanizePlan:A8,listHistory:S8,listInvoices:Zu,resumeSubscription:j8,syncSubscription:C8,updatePlan:pp,updateSeats:gp},Symbol.toStringTag,{value:"Module"})),dv=a=>{if(!a)return;const m=typeof a.effectiveMaxUsers=="number"?a.effectiveMaxUsers:void 0,t=typeof a.maxUsers=="number"?a.maxUsers:void 0;return m===void 0?t:m===-1||t===-1?-1:t===void 0?m:Math.max(m,t)},_8={success:{iconBg:"bg-green-100",iconColor:"text-green-600",button:"bg-green-600 hover:bg-green-700 text-white"},error:{iconBg:"bg-red-100",iconColor:"text-red-600",button:"bg-red-600 hover:bg-red-700 text-white"},info:{iconBg:"bg-blue-100",iconColor:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 text-white"}};function Ra({isOpen:a,onClose:m,title:t,message:h,confirmLabel:f="OK",onConfirm:c,cancelLabel:n,onCancel:o,extraLabel:i,onExtra:r,tone:s="info",autoCloseMs:l}){const d=Gt.useId(),u=Gt.useId(),x=Gt.useRef(null);if(Gt.useEffect(()=>{if(!a||!l)return;const g=window.setTimeout(()=>m(),l);return()=>window.clearTimeout(g)},[a,l,m]),Gt.useEffect(()=>{a&&x.current?.focus()},[a]),!a)return null;const b=_8[s];return e.jsx("div",{className:"fixed inset-0 z-[90] overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":d,"aria-describedby":u,children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:m}),e.jsxs("div",{ref:x,tabIndex:-1,className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 outline-none",children:[e.jsx("button",{onClick:m,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600","aria-label":"Close",children:e.jsx(kr,{className:"h-5 w-5"})}),e.jsx("div",{className:`flex items-center justify-center w-12 h-12 mx-auto ${b.iconBg} rounded-full mb-4`,children:s==="error"?e.jsx(pn,{className:`h-6 w-6 ${b.iconColor}`}):e.jsx(Dp,{className:`h-6 w-6 ${b.iconColor}`})}),e.jsx("h3",{id:d,className:"text-lg font-semibold text-gray-900 text-center mb-2",children:t}),e.jsx("p",{id:u,className:"text-sm text-gray-600 text-center mb-6",children:h}),n&&i?e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>{try{c?c():m()}catch{}},className:`w-full px-4 py-2 rounded-lg transition-colors ${b.button}`,children:f}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:o||m,className:"flex-1 px-4 py-2 rounded-lg transition-colors border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",children:n}),e.jsx("button",{onClick:()=>{try{r?r():m()}catch{}},className:"flex-1 px-4 py-2 rounded-lg transition-colors border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",children:i})]})]}):n?e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:o||m,className:"w-full px-4 py-2 rounded-lg transition-colors border border-gray-300 text-gray-700 bg-white hover:bg-gray-50",children:n}),e.jsx("button",{onClick:()=>{try{c?c():m()}catch{}},className:`w-full px-4 py-2 rounded-lg transition-colors ${b.button}`,children:f})]}):e.jsx("div",{children:e.jsx("button",{onClick:()=>{try{c?c():m()}catch{}},className:`w-full px-4 py-2 rounded-lg transition-colors ${b.button}`,children:f})})]})]})})}var P8=Vy();const D8=Uy(P8),I8=({members:a,organizationId:m,currentUserRole:t,currentUserId:h,onMemberRemoved:f,onMemberRoleUpdated:c})=>{const{t:n,i18n:o}=Zt(),[i,r]=W.useState({}),[s,l]=W.useState({}),d=W.useRef({}),[u,x]=W.useState({}),b=t==="OWNER"||t==="ADMIN",g=O=>{switch(O){case"OWNER":return e.jsx(Ub,{className:"w-4 h-4 text-yellow-500"});case"ADMIN":return e.jsx(Ds,{className:"w-4 h-4 text-blue-500"});case"MEMBER":return e.jsx(is,{className:"w-4 h-4 text-gray-500"})}},v=O=>{switch(O){case"OWNER":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"ADMIN":return"bg-blue-100 text-blue-800 border-blue-200";case"MEMBER":return"bg-gray-100 text-gray-800 border-gray-200"}},y=async O=>{if(O.role==="OWNER"){alert(n("org.members.remove.cannotRemoveOwner"));return}if(window.confirm(n("org.members.remove.message",{name:`${O.user.firstName} ${O.user.lastName}`}))){r(z=>({...z,[O.id]:!0}));try{await Cs.removeMember(m,O.id),f(O.id);const z=new CustomEvent("showToast",{detail:{message:n("org.members.remove.success"),tone:"success"}});window.dispatchEvent(z)}catch(z){console.error("Failed to remove member:",z);const U=new CustomEvent("showToast",{detail:{message:z.response?.data?.message||n("org.members.remove.error"),tone:"error"}});window.dispatchEvent(U)}finally{r(z=>({...z,[O.id]:!1})),l(z=>({...z,[O.id]:!1}))}}},N=async(O,$)=>{if(O.role!==$){r(z=>({...z,[O.id]:!0}));try{await Cs.updateMemberRole(m,O.id,{role:$}),c(O.id,$);const z=new CustomEvent("showToast",{detail:{message:n("org.members.updateRole.success"),tone:"success"}});window.dispatchEvent(z)}catch(z){console.error("Failed to update member role:",z);const U=new CustomEvent("showToast",{detail:{message:z.response?.data?.message||n("org.members.updateRole.error"),tone:"error"}});window.dispatchEvent(U)}finally{r(z=>({...z,[O.id]:!1})),l(z=>({...z,[O.id]:!1}))}}},E=O=>{l(z=>({...z,[O]:!z[O]}));const $=d.current[O];if($){const z=$.getBoundingClientRect(),U=192,V=200,G=window.innerHeight-z.bottom<V+16,B=G?z.top-V:z.bottom;let T=z.right-U;T<8&&(T=8),T+U>window.innerWidth-8&&(T=window.innerWidth-U-8),x(D=>({...D,[O]:{top:B,left:T,upward:G}}))}};W.useEffect(()=>{const O=$=>{if(Object.values(s).every(G=>!G))return;const z=$.target;if(Object.keys(d.current).some(G=>{const B=d.current[G];return B&&(B===z||B.contains(z))}))return;const V=document.querySelector(".member-menu-portal");V&&(V===z||V.contains(z))||l({})};return window.addEventListener("mousedown",O),()=>window.removeEventListener("mousedown",O)},[s]),W.useEffect(()=>{const O=()=>{Object.keys(s).forEach($=>{if(!s[$])return;const z=d.current[$];if(!z)return;const U=z.getBoundingClientRect(),V=200,G=window.innerHeight-U.bottom<V+16,B=G?U.top-V:U.bottom;let T=U.right-192;T<8&&(T=8),T+192>window.innerWidth-8&&(T=window.innerWidth-192-8),x(D=>({...D,[$]:{top:B,left:T,upward:G}}))})};return Object.values(s).some($=>$)&&(window.addEventListener("scroll",O,!0),window.addEventListener("resize",O)),()=>{window.removeEventListener("scroll",O,!0),window.removeEventListener("resize",O)}},[s]);const I=O=>new Date(O).toLocaleDateString(o.language==="tr"?"tr-TR":o.language==="de"?"de-DE":o.language==="fr"?"fr-FR":"en-US",{year:"numeric",month:"short",day:"numeric"});return a.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(is,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n("org.members.empty.title")}),e.jsx("p",{className:"text-gray-500",children:n("org.members.empty.subtitle")})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.name")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.email")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.role")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.joinedAt")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.lastLogin")}),b&&e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:n("org.members.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(O=>{const $=O.user.id===h,z=b&&!$&&O.role!=="OWNER";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-indigo-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium text-sm",children:(O.user.firstName?.[0]||"")+(O.user.lastName?.[0]||"")})})}),e.jsx("div",{className:"ml-4",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[O.user.firstName," ",O.user.lastName,$&&e.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",n("org.members.youLabel"),")"]})]})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:O.user.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[g(O.role),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${v(O.role)}`,children:n(`org.members.roles.${O.role}`)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I(O.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:O.user.lastLoginAt?new Date(O.user.lastLoginAt).toLocaleString(o.language==="tr"?"tr-TR":o.language==="de"?"de-DE":o.language==="fr"?"fr-FR":"en-US"):e.jsx("span",{className:"text-gray-400",children:"-"})}),b&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:z?e.jsxs("div",{className:"inline-block",children:[e.jsx("button",{ref:U=>{d.current[O.id]=U},onClick:()=>E(O.id),disabled:i[O.id],className:"text-gray-400 hover:text-gray-500 p-1 rounded",children:e.jsx(VC,{className:"w-4 h-4"})}),s[O.id]&&u[O.id]&&D8.createPortal(e.jsx("div",{className:"member-menu-portal fixed w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",style:{top:u[O.id].top,left:u[O.id].left},children:e.jsxs("div",{className:"py-1",children:[O.role!=="ADMIN"&&t==="OWNER"&&e.jsxs("button",{onClick:()=>N(O,"ADMIN"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(Ds,{className:"w-4 h-4 mr-2 text-blue-500"}),n("org.members.makeAdmin")]}),O.role!=="MEMBER"&&e.jsxs("button",{onClick:()=>N(O,"MEMBER"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(is,{className:"w-4 h-4 mr-2 text-gray-500"}),n("org.members.makeMember")]}),e.jsxs("button",{onClick:()=>y(O),className:"flex items-center w-full px-4 py-2 text-sm text-red-700 hover:bg-red-50",children:[e.jsx(tA,{className:"w-4 h-4 mr-2 text-red-500"}),n("org.members.remove.title")]})]})}),document.body)]}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},O.id)})})]})})})},M8=({organizationId:a,currentUserRole:m,onInviteSent:t,membershipStats:h})=>{const{t:f}=Zt(),{tenant:c,refreshUser:n}=Zs(),o=(v,y)=>{const N=f(v);return N&&N!==v?N:y},[i,r]=W.useState(!1),[s,l]=W.useState(!1),[d,u]=W.useState({email:"",role:"MEMBER"}),x=m==="OWNER"||m==="ADMIN",b=async v=>{if(v.preventDefault(),!x)return;if(!h.canAddMore){const N=new CustomEvent("showToast",{detail:{message:f("org.members.invite.limitReached"),tone:"error"}});window.dispatchEvent(N);return}l(!0);const y=async()=>{await Cs.inviteMember(a,d)};try{try{await y()}catch(E){const I=E?.response?.status,O=E?.response?.data?.message||"";if(I===400&&/limit|plan|member|STARTER/i.test(O))try{const z=String(c?.id||hn()||"");if(z){const{syncSubscription:U}=await Dr(async()=>{const{syncSubscription:V}=await Promise.resolve().then(()=>Fn);return{syncSubscription:V}},void 0);await U(z),await n()}await y()}catch{throw E}else throw E}u({email:"",role:"MEMBER"}),r(!1),t();const N=new CustomEvent("showToast",{detail:{message:f("org.members.invite.success"),tone:"success"}});window.dispatchEvent(N)}catch(N){console.error("Failed to send invite:",N);let E=f("org.members.invite.error");N.response?.status===409?E=f("org.members.invite.duplicate"):N.response?.data?.message&&(E=N.response.data.message);const I=new CustomEvent("showToast",{detail:{message:E,tone:"error"}});window.dispatchEvent(I)}finally{l(!1)}},g=m==="OWNER"?["MEMBER","ADMIN"]:["MEMBER"];return x?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f("org.members.invite.title")}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[h.currentMembers," / ",h.maxMembers===-1?"":h.maxMembers," ",f("org.members.membersLabel"),e.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:h.plan})]})]}),e.jsxs("button",{onClick:()=>r(!i),disabled:!h.canAddMore,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${h.canAddMore?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:h.canAddMore?"":o("org.members.invite.limitReached","ye limiti dolu"),children:[e.jsx(ap,{className:"w-4 h-4"}),e.jsx("span",{children:h.canAddMore?o("org.members.invite.button","ye Davet Et"):o("org.members.limitFull","ye limiti dolu")})]})]}),i&&e.jsxs("form",{onSubmit:b,className:"space-y-4 border-t border-gray-200 pt-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:o("org.members.invite.form.email","E-posta Adresi")}),e.jsxs("div",{className:"relative",children:[e.jsx(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",id:"email",required:!0,value:d.email,onChange:v=>u(y=>({...y,email:v.target.value})),placeholder:o("org.members.invite.form.emailPlaceholder","E-posta adresi"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:o("org.members.invite.form.role","Rol")}),e.jsx("select",{id:"role",value:d.role,onChange:v=>u(y=>({...y,role:v.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(v=>e.jsx("option",{value:v,children:o(`org.members.roles.${v}`,v==="ADMIN"?"Ynetici":v==="MEMBER"?"ye":v)},v))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:o("org.members.cancel","ptal")}),e.jsxs("button",{type:"submit",disabled:s||!d.email.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Us,{className:"w-4 h-4"}),e.jsx("span",{children:s?o("org.members.sending","Gnderiliyor"):o("org.members.inviteButton","Davet Gnder")})]})]})]})]}):null},R8=()=>{const{t:a}=Zt(),{user:m,tenant:t,refreshUser:h}=Zs(),f=W.useMemo(()=>dv(t),[t?.effectiveMaxUsers,t?.maxUsers]),[c,n]=W.useState(!0),[o,i]=W.useState([]),[r,s]=W.useState([]),[l,d]=W.useState(null),[u,x]=W.useState("MEMBER"),[b,g]=W.useState(null),[v,y]=W.useState(null),N=W.useCallback(B=>{if(!B)return"STARTER";const T=B.toLowerCase();return T.includes("enterprise")||T==="business"?"BUSINESS":T.includes("professional")||T==="pro"?"PRO":"STARTER"},[]),E=W.useCallback(async()=>{try{n(!0),y(null),he.debug("Loading organization data...");const B=await Cs.getAll();if(he.debug("Organizations received:",B),!B||B.length===0){he.warn("No organizations found"),y("No organization found");return}let T=B[0];if(he.debug("Selected organization:",T),!T||!T.id){he.error("Invalid organization object:",T),y("Invalid organization data");return}try{if(T&&t?.subscriptionPlan){const C=N(t.subscriptionPlan);C!==T.plan&&(T={...T,plan:C})}}catch(C){he.warn("Plan normalization failed, continuing with original plan",C)}d(T),he.debug("Loading members, invites, and stats for org:",T.id);const[D,A,k]=await Promise.all([Cs.getMembers(T.id),Cs.getPendingInvites(T.id),Cs.getMembershipStats(T.id)]);he.debug("Data loaded successfully:",{members:D.length,invites:A.length,stats:k}),i(D),s(A);const S=k?{...k}:null;if(S&&t?.subscriptionPlan){const C=N(t.subscriptionPlan);C!==S.plan&&(S.plan=C),typeof f=="number"?S.maxMembers=f:S.maxMembers<=1&&(C==="PRO"&&S.maxMembers<3&&(S.maxMembers=3),C==="BUSINESS"&&S.maxMembers<10&&(S.maxMembers=10)),S.maxMembers!==-1?S.canAddMore=S.currentMembers<S.maxMembers:S.canAddMore=!0}g(S);const j=D.find(C=>C.user.id===m?.id);j&&(x(j.role),he.debug("Current user role:",j.role))}catch(B){he.error("Failed to load organization data:",B);const T=B.response?.data?.message;y(T||"Failed to load organization data")}finally{n(!1)}},[N,t?.subscriptionPlan,f,m?.id]);W.useEffect(()=>{(async()=>{try{await h()}catch(T){he.warn("refreshUser failed, continuing with cached data:",T)}E()})()},[E,h]),W.useEffect(()=>{if(typeof window>"u")return;const B=()=>{he.debug("Billing success detected, refreshing organization members"),E()};return window.addEventListener("billingSuccess",B),()=>{window.removeEventListener("billingSuccess",B)}},[E]);const I=B=>{i(T=>T.filter(D=>D.id!==B))},O=(B,T)=>{i(D=>D.map(A=>A.id===B?{...A,role:T}:A))},$=W.useCallback(async()=>{if(l)try{const[B,T]=await Promise.all([Cs.getPendingInvites(l.id),Cs.getMembershipStats(l.id)]),D=T?{...T}:null;if(D&&t?.subscriptionPlan){const A=N(t.subscriptionPlan);A!==D.plan&&(D.plan=A),typeof f=="number"?D.maxMembers=f:D.maxMembers<=1&&(A==="PRO"&&D.maxMembers<3&&(D.maxMembers=3),A==="BUSINESS"&&D.maxMembers<10&&(D.maxMembers=10)),D.maxMembers!==-1?D.canAddMore=D.currentMembers<D.maxMembers:D.canAddMore=!0}s(B),g(D)}catch(B){he.error("Failed to refresh pending invites after sending",B)}},[l,N,t?.subscriptionPlan,f]),z=async B=>{if(l)try{await Cs.resendInvite(l.id,B.id),await $();const T=new CustomEvent("showToast",{detail:{message:a("org.members.pendingInvites.resendSuccess"),tone:"success"}});window.dispatchEvent(T)}catch(T){he.error("Failed to resend invite",T);const D=T.response?.data?.message,A=new CustomEvent("showToast",{detail:{message:D||"Failed to resend invite",tone:"error"}});window.dispatchEvent(A)}},U=async B=>{if(!(!l||!window.confirm(a("org.members.pendingInvites.cancelConfirm",{email:B.email,defaultValue:`${B.email} adresine gnderilen daveti iptal etmek istediinizden emin misiniz?`}))))try{await Cs.cancelInvite(l.id,B.id),s(A=>A.filter(k=>k.id!==B.id));const D=new CustomEvent("showToast",{detail:{message:a("org.members.pendingInvites.cancelSuccess"),tone:"success"}});window.dispatchEvent(D)}catch(D){he.error("Failed to cancel invite",D);const A=D.response?.data?.message,k=new CustomEvent("showToast",{detail:{message:A||"Failed to cancel invite",tone:"error"}});window.dispatchEvent(k)}},V=async B=>{const T=`${window.location.origin}/#join?token=${B.token}`;try{await navigator.clipboard.writeText(T);const D=new CustomEvent("showToast",{detail:{message:a("common.copied","Kopyaland"),tone:"success"}});window.dispatchEvent(D)}catch(D){he.error("Failed to copy invite link",D);const A=new CustomEvent("showToast",{detail:{message:a("common.copyFailed","Kopyalama baarsz"),tone:"error"}});window.dispatchEvent(A)}},G=B=>new Date(B).toLocaleDateString("tr-TR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-8"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})]})})}):v?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Hata"}),e.jsx("p",{className:"text-red-600 mb-4",children:v}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:a("org.members.tryAgain")})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(Is,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a("org.members.title")})]}),e.jsx("p",{className:"text-gray-600",children:a("org.members.subtitle")}),l&&b&&e.jsxs("div",{className:"mt-4 flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{children:[a("org.members.organization"),": ",e.jsx("strong",{children:l.name})]}),e.jsxs("span",{children:[a("org.members.membersLabel"),": ",e.jsx("strong",{children:b.currentMembers}),b.maxMembers!==-1&&e.jsxs("span",{children:[" / ",b.maxMembers]})]}),e.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:[b.plan," ",a("org.members.plan")]})]})]}),e.jsxs("div",{className:"space-y-8",children:[l&&b&&e.jsx(M8,{organizationId:l.id,currentUserRole:u,onInviteSent:$,membershipStats:b}),r.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Oa,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:a("org.members.pendingInvites.title")}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",a("org.members.pendingInvites.count",{count:r.length}),")"]})]}),e.jsx("div",{className:"space-y-3",children:r.map(B=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Us,{className:"w-4 h-4 text-orange-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:B.email}),e.jsxs("div",{className:"text-sm text-gray-500",children:[a(`org.members.roles.${B.role}`),"  ",a("org.members.pendingInvites.expires",{date:G(B.expiresAt)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>V(B),title:a("common.actions.copyLink",{defaultValue:"Balanty kopyala"}),className:"flex items-center space-x-1 px-3 py-1 text-sm text-blue-700 bg-blue-100 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(sp,{className:"w-3 h-3"}),e.jsx("span",{children:a("common.actions.copyLink",{defaultValue:"Balanty kopyala"})})]}),e.jsxs("button",{onClick:()=>z(B),className:"flex items-center space-x-1 px-3 py-1 text-sm text-orange-700 bg-orange-100 rounded hover:bg-orange-200 transition-colors",children:[e.jsx(wl,{className:"w-3 h-3"}),e.jsx("span",{children:a("org.members.pendingInvites.resend")})]}),e.jsxs("button",{onClick:()=>U(B),className:"flex items-center space-x-1 px-3 py-1 text-sm text-red-700 bg-red-100 rounded hover:bg-red-200 transition-colors",children:[e.jsx(kr,{className:"w-3 h-3"}),e.jsx("span",{children:a("org.members.pendingInvites.cancel")})]})]})]},B.id))})]}),l&&m&&e.jsx(I8,{members:o,organizationId:l.id,currentUserRole:u,currentUserId:m.id,onMemberRemoved:I,onMemberRoleUpdated:O})]})]})})},z8=()=>{const{t:a}=Zt("common"),[m,t]=W.useState([]),[h,f]=W.useState(!0),[c,n]=W.useState(!1),[o,i]=W.useState(null),[r,s]=W.useState({name:"",startDate:"",endDate:""}),[l,d]=W.useState({}),u=async()=>{try{const O=await nt.get("/fiscal-periods");t(O.data)}catch(O){console.error("Dnemler yklenemedi:",O)}finally{f(!1)}};W.useEffect(()=>{u()},[]);const x=()=>{const O={};if(r.name.trim()||(O.name=a("fiscalPeriods.validation.nameRequired")),r.startDate||(O.startDate=a("fiscalPeriods.validation.startDateRequired")),r.endDate||(O.endDate=a("fiscalPeriods.validation.endDateRequired")),r.startDate&&r.endDate){const $=new Date(r.startDate),z=new Date(r.endDate);z<=$&&(O.endDate=a("fiscalPeriods.validation.endDateAfterStart"));const U=Math.abs(z.getTime()-$.getTime());Math.ceil(U/(1e3*60*60*24))<1&&(O.endDate=a("fiscalPeriods.validation.minimumDuration")),m.find(B=>{if(o&&B.id===o.id)return!1;const T=new Date(B.periodStart),D=new Date(B.periodEnd);return $<=D&&z>=T})&&(O.startDate=a("fiscalPeriods.validation.periodOverlap"),O.endDate=a("fiscalPeriods.validation.periodOverlap"))}return d(O),Object.keys(O).length===0},b=async O=>{if(O.preventDefault(),!!x())try{await nt.post("/fiscal-periods",r),n(!1),s({name:"",startDate:"",endDate:""}),d({}),u()}catch($){alert(`${a("fiscalPeriods.errors.createFailed")}: ${$.response?.data?.message||$.message}`)}},g=async O=>{if(O.preventDefault(),!!o&&x())try{await nt.patch(`/fiscal-periods/${o.id}`,r),i(null),s({name:"",startDate:"",endDate:""}),d({}),u()}catch($){alert(`${a("fiscalPeriods.errors.updateFailed")}: ${$.response?.data?.message||$.message}`)}},v=async O=>{if(confirm(a("fiscalPeriods.lockConfirm")))try{await nt.patch(`/fiscal-periods/${O}/lock`,{lockReason:"Locked by user"}),u()}catch($){alert(`${a("fiscalPeriods.errors.lockFailed")}: ${$.response?.data?.message||$.message}`)}},y=async O=>{if(confirm(a("fiscalPeriods.unlockConfirm")))try{await nt.patch(`/fiscal-periods/${O}/unlock`),u()}catch($){alert(`${a("fiscalPeriods.errors.unlockFailed")}: ${$.response?.data?.message||$.message}`)}},N=async O=>{if(confirm(a("fiscalPeriods.deleteConfirm")))try{await nt.delete(`/fiscal-periods/${O}`),u()}catch($){alert(`${a("fiscalPeriods.errors.deleteFailed")}: ${$.response?.data?.message||$.message}`)}},E=O=>{i(O),s({name:O.name||"",startDate:O.periodStart||"",endDate:O.periodEnd||""}),d({})},I=O=>new Date(O).toLocaleDateString("tr-TR");return h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Or,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a("fiscalPeriods.title")})]}),e.jsxs("button",{onClick:()=>{s({name:"",startDate:"",endDate:""}),d({}),i(null),n(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(Vs,{className:"h-4 w-4 mr-2"}),a("fiscalPeriods.newPeriod")]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("fiscalPeriods.periodName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("fiscalPeriods.startDate")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("fiscalPeriods.endDate")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("fiscalPeriods.status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("fiscalPeriods.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(O=>e.jsxs("tr",{className:O.isLocked?"bg-red-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:I(O.periodStart)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:I(O.periodEnd)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.isLocked?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:O.isLocked?e.jsxs(e.Fragment,{children:[e.jsx(Bn,{className:"h-3 w-3 mr-1"}),a("fiscalPeriods.locked")]}):e.jsxs(e.Fragment,{children:[e.jsx(ip,{className:"h-3 w-3 mr-1"}),a("fiscalPeriods.active")]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[!O.isLocked&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(O),className:"text-blue-600 hover:text-blue-900",title:a("fiscalPeriods.edit"),children:e.jsx(qC,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>v(O.id),className:"text-orange-600 hover:text-orange-900",title:a("fiscalPeriods.lock"),children:e.jsx(Bn,{className:"h-4 w-4"})})]}),O.isLocked&&e.jsx("button",{onClick:()=>y(O.id),className:"text-green-600 hover:text-green-900",title:a("fiscalPeriods.unlock"),children:e.jsx(ip,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(O.id),className:"text-red-600 hover:text-red-900",title:a("fiscalPeriods.delete"),children:e.jsx(Yr,{className:"h-4 w-4"})})]})})]},O.id))})]}),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Or,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:a("fiscalPeriods.noPeriods")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("fiscalPeriods.noPeriodsDesc")})]})]}),(c||o)&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:a(o?"fiscalPeriods.editPeriod":"fiscalPeriods.addPeriod")}),e.jsxs("form",{onSubmit:o?g:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("fiscalPeriods.periodName")}),e.jsx("input",{type:"text",value:r.name,onChange:O=>s({...r,name:O.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.name?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0,placeholder:a("fiscalPeriods.periodNamePlaceholder")}),l.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("fiscalPeriods.startDate")}),e.jsx("input",{type:"date",value:r.startDate,onChange:O=>s({...r,startDate:O.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.startDate?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),l.startDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.startDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a("fiscalPeriods.endDate")}),e.jsx("input",{type:"date",value:r.endDate,onChange:O=>s({...r,endDate:O.target.value}),className:`w-full border rounded-lg px-3 py-2 ${l.endDate?"border-red-300 bg-red-50":"border-gray-300"}`,required:!0}),l.endDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.endDate})]}),o?.isLocked&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex",children:[e.jsx(pn,{className:"h-5 w-5 text-yellow-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:a("fiscalPeriods.errors.periodLocked")})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),i(null),s({name:"",startDate:"",endDate:""}),d({}),s({name:"",startDate:"",endDate:""}),d({})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:a("common.cancel")}),e.jsx("button",{type:"submit",disabled:o?.isLocked,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a(o?"common.update":"common.add")})]})]})]})})]})},Hx={async listLogs(a={}){return(await nt.get("/audit/logs",{params:a})).data},async listEntities(){return(await nt.get("/audit/entities")).data}},L8=()=>{const[a,m]=W.useState([]),[t,h]=W.useState(!0),[f,c]=W.useState(null),[n,o]=W.useState(0),[i,r]=W.useState(0),[s,l]=W.useState(1),[d,u]=W.useState([]),[x,b]=W.useState({page:1,limit:20}),[g,v]=W.useState(!1);W.useEffect(()=>{(async()=>{try{const U=await Hx.listEntities();u(Array.isArray(U.entities)?U.entities:[])}catch(U){he.error("Failed to load audit entities",U)}})()},[]);const y=W.useCallback(async()=>{try{if(h(!0),c(null),!An()){c("Authentication required");return}const U={page:x.page,limit:x.limit,entity:x.entity||void 0,action:x.action||void 0,userId:x.userId||void 0,startDate:x.startDate||void 0,endDate:x.endDate||void 0};he.debug("audit.logs.fetch",U);const V=await Hx.listLogs(U);m(V.data),o(V.total),r(V.totalPages),l(V.page)}catch(z){c(z instanceof Error?z.message:"Failed to load audit logs")}finally{h(!1)}},[x]);W.useEffect(()=>{y()},[y]);const N=(z,U)=>{b(V=>({...V,[z]:U,page:z!=="page"?1:typeof U=="number"?U:parseInt(U.toString())}))},E=()=>{b({page:1,limit:20})},I=z=>new Date(z).toLocaleString(),O=z=>{switch(z){case"CREATE":return"text-green-600 bg-green-50";case"UPDATE":return"text-blue-600 bg-blue-50";case"DELETE":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},$=z=>!z||Object.keys(z).length===0?null:e.jsx("div",{className:"mt-2 text-xs text-gray-600",children:e.jsxs("details",{className:"cursor-pointer",children:[e.jsxs("summary",{className:"hover:text-gray-800",children:["View Changes (",Object.keys(z).length," fields)"]}),e.jsx("pre",{className:"mt-1 p-2 bg-gray-50 rounded text-xs overflow-x-auto",children:JSON.stringify(z,null,2)})]})});return t?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading audit logs..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Hu,{className:"h-6 w-6 text-blue-500"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Audit Logs"})]}),e.jsxs("button",{onClick:()=>v(!g),className:"flex items-center space-x-2 px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:[e.jsx(Vb,{className:"h-4 w-4"}),e.jsx("span",{children:"Filters"})]})]}),g&&e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entity"}),e.jsxs("select",{value:x.entity||"",onChange:z=>N("entity",z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Entities"}),d.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),e.jsxs("select",{value:x.action||"",onChange:z=>N("action",z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"CREATE",children:"Create"}),e.jsx("option",{value:"UPDATE",children:"Update"}),e.jsx("option",{value:"DELETE",children:"Delete"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:x.startDate||"",onChange:z=>N("startDate",z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:x.endDate||"",onChange:z=>N("endDate",z.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:E,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 underline",children:"Clear Filters"})})]})}),f&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:f})}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.length," of ",n," audit log entries"]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Changes"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oa,{className:"h-4 w-4 text-gray-400 mr-2"}),I(z.createdAt)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(is,{className:"h-4 w-4 text-gray-400 mr-2"}),e.jsx("div",{children:z.user?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"font-medium",children:[z.user.firstName," ",z.user.lastName]}),e.jsx("div",{className:"text-gray-500 text-xs",children:z.user.email})]}):e.jsx("span",{className:"text-gray-500",children:"System"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${O(z.action)}`,children:z.action})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:z.entity}),z.entityId&&e.jsxs("div",{className:"text-gray-500 text-xs font-mono",children:[z.entityId.substring(0,8),"..."]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:$(z.diff)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:z.ip||"N/A"})]},z.id))})]})}),a.length===0&&!t&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Hu,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No audit logs found"})]})]}),i>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",s," of ",i]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>N("page",Math.max(1,s-1)),disabled:s<=1,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(wC,{className:"h-4 w-4 mr-1"}),"Previous"]}),e.jsxs("button",{onClick:()=>N("page",Math.min(i,s+1)),disabled:s>=i,className:"flex items-center px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(Bb,{className:"h-4 w-4 ml-1"})]})]})]})]})},O8={free:"free",starter:"free",basic:"free",professional:"professional",pro:"professional",enterprise:"enterprise",business:"enterprise"},F8={free:0,professional:1,enterprise:2},Xu=a=>a?O8[a.trim().toLowerCase()]??null:null,Kx=a=>{const m=Xu(a);return m?F8[m]:0},yp=a=>{const m=Xu(a);return!m||m==="free"?null:m},vf=a=>yp(a)!==null,si=(a,m="Hata")=>{if(typeof a=="string")return a;if(a&&typeof a=="object"){const t=a;return t.response?.data?.message||t.message||m}return m},B8=a=>{if(!a)return null;if(typeof a=="string"&&a.trim())return a.trim();if(typeof a=="number"&&Number.isFinite(a))return String(a);if(typeof a=="object"){const m=a;if(typeof m.id=="string"&&m.id.trim())return m.id.trim();if(typeof m._id=="string"&&m._id.trim())return m._id.trim();if(typeof m._id=="number"&&Number.isFinite(m._id))return String(m._id)}return null},uv=a=>{if(!a)return null;try{return JSON.parse(a)}catch(m){return he.debug("JSON parse failed",{error:m,rawSnippet:a.slice(0,32)}),null}},U8=a=>{const m=(a||"").toUpperCase();return m==="OWNER"||m==="ADMIN"||m==="MEMBER"?m:null},Gx=a=>!!a&&typeof a=="object"&&"id"in a,bp=a=>{if(Array.isArray(a))return a.filter(Gx);if(a&&typeof a=="object"){const m=a.invoices;if(Array.isArray(m))return m.filter(Gx)}return[]},V8=a=>!!a&&typeof a=="object"&&"type"in a,q8=a=>Array.isArray(a)?a.filter(V8):[],wf=a=>{const m=String(a||"").toLowerCase();return m==="professional"||m==="pro"?3:m==="enterprise"||m==="business"?10:1},kf=a=>{const m=new Set,t=B8(a);t&&m.add(t);const h=dm();return h&&m.add(h),m.add("anon"),Array.from(m.values())},ri={get:a=>Tt.getItem(a),set:(a,m)=>Tt.setItem(a,m),remove:a=>Tt.removeItem(a)},mv=a=>{if(a?.id)return a.id;const m=hn();return m||null},$8=({tenant:a,currentLanguage:m,text:t})=>{const{t:h}=Zt("common"),{refreshUser:f}=Zs(),c=String(a?.subscriptionPlan||"").toLowerCase(),n=Xu(c)??"free",o=n==="free",i=mv(a),r=()=>{if(!i)throw new Error("Tenant bulunamad");return i},s={free:"Starter",starter:"Starter",basic:"Basic",professional:"Pro",pro:"Pro",enterprise:"Business",business:"Business"},l=s[c]||s[n]||(c?c.toUpperCase():""),d={tr:{month:h("common:planTab.monthly"),year:h("common:planTab.yearly")},en:{month:h("common:planTab.monthly"),year:h("common:planTab.yearly")},fr:{month:h("common:planTab.monthly"),year:h("common:planTab.yearly")},de:{month:h("common:planTab.monthly"),year:h("common:planTab.yearly")}},u=a?.billingInterval??void 0,b=(()=>{if(u)return u;try{const ge=a?.subscriptionExpiresAt?new Date(a.subscriptionExpiresAt).getTime():0,Oe=Date.now();if(ge>Oe){const Ke=Math.round((ge-Oe)/864e5);if(Ke>=330)return"year";if(Ke>=25)return"month"}}catch(ge){he.warn("Failed to infer billing interval from subscription date",ge)}})(),g=o?"":b?d[m]?.[b]||(b==="year"?"Yearly":"Monthly"):d[m]?.month||"Monthly",[v,y]=W.useState(n),[N,E]=W.useState("monthly"),I=W.useMemo(()=>dv(a),[a?.effectiveMaxUsers,a?.maxUsers]),O=typeof I=="number"?I:1,$=wf(c||"free"),z=Math.max(0,O-$),[U,V]=W.useState(1),[G,B]=W.useState(!1),[T,D]=W.useState(""),[A,k]=W.useState({open:!1,title:"",message:""}),[S,j]=W.useState({open:!1,mode:"now",count:1}),C=ge=>{try{window.dispatchEvent(new CustomEvent("billingSuccess",{detail:{...ge,ts:Date.now()}}))}catch(Oe){he.debug("billingSuccess event dispatch failed",Oe)}},P=async(ge,Oe)=>{if(D(""),Oe<=0){D(m==="tr"?"Ek kullanc >= 1 olmal":"Seat count must be at least 1.");return}try{B(!0);const Ke=r();if(ge==="now"){const{chargeAddonNow:pe,listInvoices:me}=await Dr(async()=>{const{chargeAddonNow:et,listInvoices:dt}=await Promise.resolve().then(()=>Fn);return{chargeAddonNow:et,listInvoices:dt}},void 0),xe=await pe(Ke,Oe);if(!xe?.success){D(m==="tr"?"lem baarsz.":"Operation failed.");return}const te=(xe.currency||"").toUpperCase(),we=typeof xe.amountPaid=="number"&&xe.amountPaid>0?xe.amountPaid:typeof xe.amountDue=="number"&&xe.amountDue>0?xe.amountDue:null,Ue=we?` (${(we/100).toFixed(2)} ${te})`:"";D((m==="tr"?"lave kullanclar tahsil edildi.":"Additional users charged.")+Ue),V(1),await f();try{const et=await me(Ke);F(bp(et?.invoices))}catch(et){he.warn("Invoice refresh after addon charge failed",et)}C({type:"addon",seats:Oe})}else{const pe=await cv(Ke,Oe,"","");if(!pe?.success){D(m==="tr"?"lem baarsz.":"Operation failed.");return}const me=(()=>{const xe=(pe.upcomingCurrency||"").toUpperCase();if(typeof pe.upcomingProrationTotal=="number"){const te=(pe.upcomingProrationTotal/100).toFixed(2);return m==="tr"?` (Bu dnem iin ek proration: ${te} ${xe}  bir sonraki faturaya eklenecek)`:` (Proration for this period: ${te} ${xe}  will be added to the next invoice)`}return""})();D((m==="tr"?"lave kullanclar eklendi.":"Additional users added.")+me),V(1),await f(),C({type:"addon",seats:Oe})}}catch(Ke){D(si(Ke,m==="tr"?"Hata":"Error"))}finally{B(!1)}},[R,L]=W.useState({open:!1,title:"",message:"",tone:"info"}),[Y,Z]=W.useState([]),[ae,q]=W.useState(!1),[X,F]=W.useState([]),[M,K]=W.useState(!1),[se,oe]=W.useState("all"),[ne,le]=W.useState(""),[Se,je]=W.useState(""),[ee,ce]=W.useState(""),[be,Te]=W.useState(null),Ce=()=>{try{return X.filter(ge=>{if(!!ge.zeroTotal||typeof ge.total=="number"&&ge.total===0)return!1;const Ke=String(ge.status||"").toLowerCase();if(se==="paid"&&Ke!=="paid"||se==="open"&&!["open","draft"].includes(Ke)||se==="unpaid"&&!["unpaid","void","uncollectible"].includes(Ke)||se==="nonzero"&&typeof ge.total=="number"&&ge.total===0)return!1;if(ne){const pe=ne.toLowerCase();if(!`${(ge.number||ge.id||"").toLowerCase()} ${(ge.currency||"").toLowerCase()}`.includes(pe))return!1}if(Se){const pe=new Date(`${Se}T00:00:00Z`).getTime();if((ge.created?new Date(ge.created).getTime():0)<pe)return!1}if(ee){const pe=new Date(`${ee}T23:59:59Z`).getTime();if((ge.created?new Date(ge.created).getTime():0)>pe)return!1}return!0})}catch(ge){return he.warn("Invoice filtering failed",ge),[]}},[Pe,Be]=W.useState(!!a?.cancelAtPeriodEnd),Ge=a?.subscriptionExpiresAt?new Date(a.subscriptionExpiresAt):null,st=Ge?Ge.toLocaleDateString():"",bt=h(Pe?"common:planTab.currentPlan.cancellationDate":"common:planTab.currentPlan.renewalDate");W.useEffect(()=>{y(Xu(c)??"free"),Be(!!a?.cancelAtPeriodEnd)},[c,I,a?.cancelAtPeriodEnd]),W.useEffect(()=>{f().catch(ge=>he.warn("Initial tenant refresh failed",ge))},[f]),W.useEffect(()=>{let ge=!1;return(async()=>{try{if(!vf(c))return;const Ke=wf(c),pe=typeof I=="number"?I:0;if(pe>0&&pe<Ke){const me=i;if(!me)return;const{syncSubscription:xe}=await Dr(async()=>{const{syncSubscription:te}=await Promise.resolve().then(()=>Fn);return{syncSubscription:te}},void 0);await xe(me),ge||await f()}}catch(Ke){he.warn("Automatic subscription sync failed",Ke)}})(),()=>{ge=!0}},[c,I,i,f]),W.useEffect(()=>{const ge=new URL(window.location.href);if(!(ge.searchParams.get("plan")==="success"||ge.searchParams.get("upgrade")==="success"))return;(async()=>{try{const pe=i;if(!pe)return;const{syncSubscription:me}=await Dr(async()=>{const{syncSubscription:St}=await Promise.resolve().then(()=>Fn);return{syncSubscription:St}},void 0),xe=uv(ri.get("pending_billing_payment")),te=xe?.plan?xe.plan.toLowerCase():null;let we=0;const Ue=6,et=async()=>{try{const{getUpgradeStatus:St}=await Dr(async()=>{const{getUpgradeStatus:ve}=await Promise.resolve().then(()=>Fn);return{getUpgradeStatus:ve}},void 0);return{subscriptionPlan:(await St(pe))?.subscriptionPlan??null}}catch(St){return he.warn("Upgrade status polling failed",St),null}};for(;we<Ue;){const St=await et(),Ut=String(St?.subscriptionPlan||"").toLowerCase();if(te){if(Ut===te||Ut.includes(te))break}else if(vf(Ut))break;we+=1;const ve=Math.min(2**(we-1)*1e3,12e3);await new Promise(de=>setTimeout(de,ve))}try{await me(pe)}catch(St){he.warn("Sync subscription after checkout failed",St)}try{await f()}catch(St){he.warn("refreshUser after checkout failed",St)}const dt=h("billing.subscriptionUpdated");D(dt),L({open:!0,title:h("billing.payment.successTitle"),message:dt,tone:"success"}),oe("nonzero"),ri.remove("pending_billing_payment")}catch(pe){he.warn("Checkout success handler failed",pe),D(si(pe,"Hata"))}finally{ge.searchParams.delete("plan"),ge.searchParams.delete("upgrade"),window.history.replaceState({},document.title,ge.pathname+ge.search)}})()},[i,f,h]),W.useEffect(()=>{let ge=!1;return(async()=>{try{if(!a?.id)return;const Ke=await Cs.getAll();if(!Ke?.length)return;const pe=Ke[0]?.id;if(!pe)return;const me=await Cs.getMembershipStats(pe);ge||Te(typeof me?.currentMembers=="number"?me.currentMembers:null)}catch(Ke){he.warn("Organization membership stats fetch failed",Ke),ge||Te(null)}})(),()=>{ge=!0}},[a?.id]);const _e=async()=>{B(!0),D("");try{const ge=r(),Oe=wf(c),pe=Math.max(0,(typeof I=="number"?I:Oe)-Oe);if(pe<=0){D(m==="tr"?"Azaltlabilecek ilave koltuk yok.":"No extra seats to remove.");return}const me=pe-1;await gp(ge,me),D(m==="tr"?"Koltuk azaltld.":"Seat removed."),await f()}catch(ge){D(si(ge,"Hata"))}finally{B(!1)}};W.useEffect(()=>{const ge=new URL(window.location.href);if(!(ge.searchParams.get("plan")==="cancel"||ge.searchParams.get("upgrade")==="cancel"))return;const Ke=h("billing.payment.cancelledMessage");L({open:!0,title:h("billing.payment.cancelledTitle"),message:Ke,tone:"error"}),ge.searchParams.delete("plan"),ge.searchParams.delete("upgrade"),window.history.replaceState({},document.title,ge.pathname+ge.search)},[h]),W.useEffect(()=>{const ge=new URL(window.location.href);if(!(ge.searchParams.get("addon")==="success"))return;(async()=>{try{const pe=i;if(!pe)return;const me=ri.get("pending_addon_new_total");if(me){const te=Number.parseInt(me,10);Number.isFinite(te)&&te>=0&&await gp(pe,te)}else{const{syncSubscription:te}=await Dr(async()=>{const{syncSubscription:we}=await Promise.resolve().then(()=>Fn);return{syncSubscription:we}},void 0);await te(pe)}await f();const xe=h("billing.addonAdded");D(xe),L({open:!0,title:h("billing.payment.successTitle"),message:xe,tone:"success"})}catch(pe){he.warn("Addon success handler failed",pe)}finally{ri.remove("pending_addon_new_total"),ge.searchParams.delete("addon"),window.history.replaceState({},document.title,ge.pathname+ge.search)}})()},[i,f,h]),W.useEffect(()=>{const ge=new URL(window.location.href);ge.searchParams.get("portal")==="return"&&(async()=>{try{const Ke=i;if(!Ke)return;const{syncSubscription:pe}=await Dr(async()=>{const{syncSubscription:xe}=await Promise.resolve().then(()=>Fn);return{syncSubscription:xe}},void 0),me=await pe(Ke);if(await f(),typeof me?.cancelAtPeriodEnd=="boolean"){const xe=(()=>{const te=me?.subscriptionExpiresAt;if(te)try{return new Date(te).toLocaleDateString()}catch(we){return he.warn("Subscription expiry parse failed",we),st}return st})();me.cancelAtPeriodEnd?D(h("billing.portal.cancelAtPeriodEnd",{date:xe})):D(h("billing.portal.activeApplied"))}else D(h("billing.portal.synced"))}catch(Ke){he.warn("Portal return sync failed",Ke)}finally{ri.remove("pending_portal_sync"),ge.searchParams.delete("portal"),window.history.replaceState({},document.title,ge.pathname+ge.search)}})()},[i,f,h,st]),W.useEffect(()=>{const ge=async()=>{try{if(!ri.get("pending_portal_sync"))return;const pe=i;if(!pe)return;const{syncSubscription:me}=await Dr(async()=>{const{syncSubscription:xe}=await Promise.resolve().then(()=>Fn);return{syncSubscription:xe}},void 0);await me(pe),await f(),ri.remove("pending_portal_sync")}catch(Ke){he.warn("Portal focus sync failed",Ke)}};ge();const Oe=()=>{ge()};return window.addEventListener("focus",Oe),()=>window.removeEventListener("focus",Oe)},[i,f]),W.useEffect(()=>{let ge=!0;return(async()=>{q(!0);try{const Ke=i;if(!Ke)return;const{listHistory:pe}=await Dr(async()=>{const{listHistory:we}=await Promise.resolve().then(()=>Fn);return{listHistory:we}},void 0),me=await pe(Ke),xe=q8(me?.events),te=[{type:"plan.current",plan:a?.subscriptionPlan??null,at:a?.updatedAt??null,users:I??null}];ge&&Z(xe.length>0?xe:te)}catch(Ke){he.warn("Billing history fetch failed",Ke),ge&&Z([])}finally{ge&&q(!1)}})(),()=>{ge=!1}},[i,a?.subscriptionPlan,a?.updatedAt,I]),W.useEffect(()=>{let ge=!1;return(async()=>{try{K(!0);const Ke=i;if(!Ke)return;const pe=await Dr(()=>Promise.resolve().then(()=>Fn),void 0).then(me=>me.listInvoices(Ke));ge||F(bp(pe?.invoices))}catch(Ke){he.warn("Invoice fetch failed",Ke),ge||F([])}finally{ge||K(!1)}})(),()=>{ge=!0}},[i,a?.subscriptionPlan]);const We=async()=>{B(!0),D("");try{const ge=r(),Oe=v,Ke=vf(c),pe=Oe!=="free",me=N==="yearly"?"year":"month",xe=0;if(!pe){Ke?(await xp(ge),Be(!0),D(m==="tr"?"ptal talebi alnd (dnem sonunda geerli).":"Cancellation requested for period end."),await f()):D(m==="tr"?"Plan zaten cretsiz.":"Already on free plan.");return}const te=yp(c)??c,we=yp(Oe);if(!we){D(m==="tr"?"Geersiz hedef plan.":"Invalid target plan.");return}const Ue=te===we,et=(b||"month")===me,dt=async(Ut,ve)=>{if(!Ut?.success){D(h("billing.checkout.failed"));return}if(Ut.invoiceError){const de={tr:"Plan gncellendi ancak fatura oluturulamad: ",en:"Plan updated but invoice failed: ",fr:"Le plan a t mis  jour mais la facture a chou : ",de:"Plan aktualisiert, aber Rechnung fehlgeschlagen: "};D((de[m]||de.tr)+Ut.invoiceError),await f();return}if(Ut.invoiceSkipped){const de={tr:"Plan gncellendi (ek cret yok).",en:"Plan updated (no additional charge).",fr:"Plan mis  jour (aucun frais supplmentaire).",de:"Plan aktualisiert (keine Zusatzkosten)."};D(de[m]||de.tr),await f();return}if(Ut.hostedInvoiceUrl){ri.set("pending_billing_payment",JSON.stringify({type:ve,plan:we,interval:me,seats:xe,ts:Date.now()})),D(h("billing.redirecting")),window.location.href=Ut.hostedInvoiceUrl;return}D(h("billing.subscriptionUpdated")),await f()};if(Ue&&!et){const Ut=`planupd:${ge}:${we}:${me}:${xe}:${new Date().toISOString().slice(0,10)}`,ve=await pp(ge,{plan:we,interval:me,seats:xe,chargeNow:!0,interactive:!0,idempotencyKey:Ut});await dt(ve,"plan-interval");return}if(Ke){const Ut=`planchg:${ge}:${we}:${me}:${new Date().toISOString().slice(0,10)}`,ve=await pp(ge,{plan:we,interval:me,seats:xe,chargeNow:!0,interactive:!0,idempotencyKey:Ut});await dt(ve,"plan-change");return}const St=await $p({tenantId:ge,plan:we,interval:me,seats:xe,successUrl:`${window.location.origin}/settings?plan=success`,cancelUrl:`${window.location.origin}/settings?plan=cancel`});St?.url?(ri.set("pending_billing_payment",JSON.stringify({type:"initial-checkout",plan:we,interval:me,ts:Date.now()})),window.location.href=St.url):D(h("billing.checkout.failed"))}catch(ge){D(si(ge,"Hata"))}finally{B(!1)}},vt=async()=>{if(window.confirm(h("billing.cancelAtPeriodEnd.confirm"))){B(!0),D("");try{const ge=r();(await xp(ge))?.success&&(Be(!0),D(h("billing.cancel.requestedShort")),setTimeout(()=>D(""),3e3),await f())}catch(ge){D(si(ge,"ptal hata"))}finally{B(!1)}}},At=async()=>{if(window.confirm(h("billing.resumeCancellation.confirm"))){B(!0),D("");try{const ge=r(),{resumeSubscription:Oe}=await Dr(async()=>{const{resumeSubscription:pe}=await Promise.resolve().then(()=>Fn);return{resumeSubscription:pe}},void 0);(await Oe(ge))?.success&&(Be(!1),D(h("billing.resumeCancellation.done")),setTimeout(()=>D(""),3e3),await f())}catch(ge){D(si(ge,"Yeniden balatma hatas"))}finally{B(!1)}}},Nt=["professional","pro","enterprise","business"].includes(c),De=()=>{try{const ge=String(v||"").toLowerCase(),Oe=N==="yearly"?"year":"month",Ke=c==="pro"?"professional":c==="business"?"enterprise":c,pe=Ke===ge,me=(b||"month")===Oe,xe=Ye=>h(Ye==="free"?"common:planTab.plans.labels.free":Ye==="professional"?"common:planTab.plans.labels.professional":"common:planTab.plans.labels.enterprise"),te=Ye=>h(Ye==="year"?"common:planTab.yearly":"common:planTab.monthly"),we=m==="tr"?"lemi Onaylayn":m==="fr"?"Confirmez lopration":m==="de"?"Vorgang besttigen":"Confirm Operation";let Ue="";const et=Kx(c),dt=Kx(ge),St=et>0,Ut=dt>0,ve=St&&Ut&&dt>et,de={tr:"Bu ykseltme mevcut dnem iin fiyat farkn hemen tahsil eder.",en:"This upgrade will immediately charge the difference for the current period.",fr:"Cette mise  niveau dbitera immdiatement la diffrence pour la priode en cours.",de:"Dieses Upgrade belastet die Preisdifferenz fr die laufende Periode sofort."};if(!Ut)St?Ue=m==="tr"?"cretli aboneliiniz dnem sonunda iptal edilecek. Onaylyor musunuz?":m==="fr"?"Votre abonnement payant sera annul  la fin de la priode. Confirmez-vous ?":m==="de"?"Ihr kostenpflichtiges Abo wird zum Periodenende gekndigt. Besttigen Sie?":"Your paid subscription will be cancelled at period end. Do you confirm?":Ue=m==="tr"?"Plan zaten cretsiz. Devam edilsin mi?":"Already on free plan. Continue?";else if(pe&&me)Ue=m==="tr"?"Plan ve dnem ayn grnyor. Yine de devam edilsin mi?":m==="fr"?"Le plan et la priode semblent identiques. Continuer quand mme ?":m==="de"?"Plan und Zeitraum scheinen identisch. Trotzdem fortfahren?":"Plan and interval look the same. Proceed anyway?";else if(pe&&!me)Ue=m==="tr"?`Faturalama dnemi ${te(b||"month")}  ${te(Oe)} olarak deitirilecek. Onaylyor musunuz?`:m==="fr"?`La priode de facturation passera de ${te(b||"month")}  ${te(Oe)}. Confirmez-vous ?`:m==="de"?`Der Abrechnungszeitraum wird von ${te(b||"month")} auf ${te(Oe)} gendert. Besttigen?`:`Billing interval will change from ${te(b||"month")} to ${te(Oe)}. Do you confirm?`;else if(Ue=m==="tr"?`Plan ${xe(Ke)}  ${xe(ge)}, dnem ${te(Oe)} olacak. Onaylyor musunuz?`:m==="fr"?`Loffre passera de ${xe(Ke)}  ${xe(ge)}, priode ${te(Oe)}. Confirmez-vous ?`:m==="de"?`Der Plan wechselt von ${xe(Ke)} zu ${xe(ge)}, Zeitraum ${te(Oe)}. Besttigen?`:`Plan will change from ${xe(Ke)} to ${xe(ge)}, interval ${te(Oe)}. Do you confirm?`,ve){const Ye=de[m]||de.tr;Ue=`${Ue} ${Ye}`}k({open:!0,title:we,message:Ue})}catch(ge){he.warn("Plan confirmation fallback triggered",ge),k({open:!0,title:"Confirm",message:"Proceed with the change?"})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:h("common:planTab.header.title")}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h("common:planTab.header.subtitle")})]}),e.jsx("div",{children:e.jsx("button",{onClick:async()=>{try{B(!0);const ge=r(),Oe=new URL(window.location.href);Oe.searchParams.set("portal","return");const{url:Ke}=await lv(ge,Oe.toString());Ke&&(ri.set("pending_portal_sync","1"),window.location.href=Ke)}catch(ge){D(si(ge,"Portal hatas"))}finally{B(!1)}},className:"px-3 py-2 text-sm rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50",children:h("common:planTab.managePayments")})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:h("common:planTab.currentPlan.label")}),e.jsxs("div",{className:"mt-1 text-lg font-semibold text-gray-900",children:[l," ",!o&&g?` ${g}`:""]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[({tr:"Kullanmda kullanc",en:"Users in use",fr:"Utilisateurs en cours",de:"Benutzte Nutzer"}[m]||h("common:planTab.currentPlan.seatsInUse"))+" ",e.jsx("span",{className:"text-gray-900 font-medium",children:typeof be=="number"?be:""}),O>0&&e.jsx("span",{className:"text-gray-500",children:` / ${O}`})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[bt,": ",e.jsx("span",{className:"text-gray-900",children:st})]}),Pe&&!o&&e.jsx("div",{className:"mt-3 text-xs text-amber-700 bg-amber-50 border border-amber-200 px-3 py-2 rounded",children:h("common:planTab.currentPlan.cancelAtPeriodEndNotice")})]}),e.jsxs("div",{className:"md:col-span-2 bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:h("common:planTab.changePlan")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[{key:"professional",label:h("common:planTab.plans.labels.professional"),price:h("common:planTab.prices.monthly.pro"),bullets:[h("common:planTab.plans.bullets.proIncluded"),h("common:planTab.plans.bullets.basicAutomations")]},{key:"enterprise",label:h("common:planTab.plans.labels.enterprise"),price:h("common:planTab.prices.monthly.enterprise"),bullets:[h("common:planTab.plans.bullets.businessIncluded"),h("common:planTab.plans.bullets.advancedAutomations")]},{key:"free",label:h("common:planTab.plans.labels.free"),price:h("common:planTab.prices.monthly.free"),bullets:[h("common:planTab.plans.bullets.freeLimited")]}].map(ge=>e.jsxs("button",{type:"button",onClick:()=>y(ge.key),className:`text-left rounded-lg border p-3 hover:border-indigo-400 transition ${String(v)===ge.key?"border-indigo-500 ring-1 ring-indigo-200 bg-indigo-50":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:ge.label}),e.jsx("div",{className:"text-sm text-indigo-600 font-medium",children:ge.price})]}),e.jsx("ul",{className:"mt-2 text-xs text-gray-600 space-y-1 list-disc list-inside",children:ge.bullets.map((Oe,Ke)=>e.jsx("li",{children:Oe},Ke))})]},ge.key))}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:h("common:planTab.billingCycle")}),e.jsxs("div",{className:"inline-flex rounded-md border border-gray-300 overflow-hidden",children:[e.jsx("button",{type:"button",onClick:()=>E("monthly"),className:`px-3 py-1.5 text-sm ${N==="monthly"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:h("common:planTab.monthly")}),e.jsxs("button",{type:"button",onClick:()=>E("yearly"),className:`px-3 py-1.5 text-sm ${N==="yearly"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:[h("common:planTab.yearly")," ",e.jsx("span",{className:"ml-1 text-[10px] opacity-80",children:h("common:planTab.yearlyNote")})]})]})]}),e.jsx("div",{children:e.jsx("button",{onClick:De,disabled:G,className:"px-4 py-2 text-sm font-medium rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:h("common:planTab.updatePlan")})})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:m==="tr"?"Ek Kullanc":m==="fr"?"Utilisateur supplmentaire":m==="de"?"Zustzlicher Benutzer":"Additional User"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-md p-4 flex flex-col gap-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:m==="tr"?"Ek Kullanc":m==="fr"?"Utilisateur supplmentaire":m==="de"?"Zustzlicher Benutzer":"Additional User"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:m==="tr"?"Ek kullanc adedi":m==="fr"?"Nombre dutilisateurs":m==="de"?"Anzahl zustzlicher Benutzer":"Additional user count"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>V(ge=>Math.max(1,(ge||1)-1)),className:"w-8 h-8 rounded-md border text-lg leading-none",children:""}),e.jsx("div",{className:"w-16 text-center font-semibold",children:U}),e.jsx("button",{onClick:()=>V(ge=>(ge||1)+1),className:"w-8 h-8 rounded-md border text-lg leading-none",children:"+"}),e.jsx("div",{className:"ml-3 text-xs text-gray-500",children:m==="tr"?"Kullanc bana 5/ay. Faturalandrma plan dnemine gre yaplr.":m==="fr"?"5/mo par utilisateur. Facturation selon la priode du plan.":m==="de"?"5/Monat pro Benutzer. Abrechnung nach Planzeitraum.":"5/month per user. Billed per plan period."})]})]}),Nt&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>j({open:!0,mode:"now",count:U}),disabled:G||(U||0)<1,className:"w-full md:w-56 px-3 py-2 text-sm rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",children:m==="tr"?"Hemen Tahsil Et":m==="fr"?"Encaisser maintenant":m==="de"?"Sofort belasten":"Charge now"}),e.jsx("button",{onClick:()=>j({open:!0,mode:"later",count:U}),disabled:G||(U||0)<1,className:"w-full md:w-56 px-3 py-2 text-sm rounded-md bg-indigo-100 text-indigo-800 hover:bg-indigo-200 disabled:opacity-50",children:m==="tr"?"Dnem Sonunda Faturalandr":m==="fr"?"Facturer en fin de priode":m==="de"?"Am Periodenende abrechnen":"Invoice at period end"})]})]}),e.jsxs("div",{className:`bg-white border border-gray-200 rounded-md p-4 flex flex-col gap-2 ${Nt?"":"opacity-60"}`,children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:m==="tr"?"Kullanc Azaltma":m==="fr"?"Rduction des utilisateurs":m==="de"?"Benutzerreduzierung":"User reduction"}),e.jsx("div",{className:"text-xs text-gray-500 max-w-md",children:m==="tr"?"Plana dahil kullanclar azaltlamaz; yalnzca ekstra alnan kullanclar azaltlabilir.":m==="fr"?"Les utilisateurs inclus dans le plan ne peuvent pas tre rduits; seuls les utilisateurs supplmentaires peuvent tre rduits.":m==="de"?"Im Plan enthaltene Benutzer knnen nicht reduziert werden; nur zustzlich erworbene Benutzer knnen reduziert werden.":"Users included in the plan cannot be reduced; only additional purchased users can be reduced."}),!Nt&&e.jsx("div",{className:"text-[11px] text-gray-500",children:m==="tr"?"cretsiz planda kullanc azaltma desteklenmiyor.":m==="fr"?"La rduction des utilisateurs nest pas disponible pour cette offre.":m==="de"?"Benutzerreduzierung ist in diesem Tarif nicht verfgbar.":"Seat reductions are not available on this plan."}),e.jsx("div",{className:"flex items-start md:justify-start",children:e.jsx("button",{onClick:_e,disabled:G||!Nt||z<=0,className:"w-full md:w-56 px-3 py-2 text-sm rounded-md bg-rose-100 text-rose-800 hover:bg-rose-200 disabled:opacity-50",children:m==="tr"?"1 kullanc azalt":m==="fr"?"Rduire de 1 utilisateur":m==="de"?"1 Benutzer reduzieren":"Reduce 1 user"})}),Nt&&z<=0&&e.jsx("div",{className:"text-[11px] text-rose-600",children:m==="tr"?"Plannzda ekstra kullanc bulunmuyor.":m==="fr"?"Aucun utilisateur supplmentaire n'est actif.":m==="de"?"Keine zustzlichen Benutzer aktiv.":"No additional seats are active."})]})]})]}),T&&e.jsx("div",{className:"mt-3 text-xs text-indigo-700 bg-indigo-50 border border-indigo-200 px-3 py-2 rounded",children:T}),e.jsx("div",{className:"mt-2 text-[11px] text-gray-500",children:h("common:planTab.amountsNote")}),!o&&e.jsxs("div",{className:"border border-red-300 rounded-lg p-4 bg-red-50 space-y-3",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:h("common:planTab.subscriptionStatus")}),e.jsx("p",{className:"text-xs text-red-700",children:h("common:planTab.subscriptionCancelNote")}),Pe?e.jsx("button",{onClick:At,disabled:G,className:"px-4 py-2 text-sm rounded-md bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:h("common:planTab.resumeSubscriptionBtn")}):e.jsx("button",{onClick:vt,disabled:G,className:"px-4 py-2 text-sm rounded-md bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",children:h("common:planTab.cancelAtPeriodEndBtn")})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:h("common:planTab.history.title")}),ae&&e.jsx("p",{className:"text-xs text-gray-500",children:h("common:planTab.history.loading")}),!ae&&Y.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:h("common:planTab.history.empty")}),!ae&&Y.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.history.type")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.history.plan")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.history.users")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.history.date")})]})}),e.jsx("tbody",{children:Y.map((ge,Oe)=>{const Ke=ge.at?new Date(ge.at).toLocaleDateString():"",pe=(()=>{const me={tr:{"plan.current":"Mevcut Plan","plan.renewal_due":"Yenileme Tarihi","cancel.at_period_end":"Dnem Sonunda ptal","invoice.paid":"deme Alnd","invoice.open":"Ak Fatura","invoice.uncollectible":"Tahsil Edilemeyen","invoice.payment_failed":"deme Baarsz"},en:{"plan.current":"Current Plan","plan.renewal_due":"Renewal Due","cancel.at_period_end":"Cancel at Period End","invoice.paid":"Payment Received","invoice.open":"Open Invoice","invoice.uncollectible":"Uncollectible","invoice.payment_failed":"Payment Failed"},fr:{"plan.current":"Offre actuelle","plan.renewal_due":"Renouvellement","cancel.at_period_end":"Annulation fin de priode","invoice.paid":"Paiement reu","invoice.open":"Facture ouverte","invoice.uncollectible":"Irrcouvrable","invoice.payment_failed":"Paiement chou"},de:{"plan.current":"Aktueller Plan","plan.renewal_due":"Verlngerung","cancel.at_period_end":"Kndigung zum Periodenende","invoice.paid":"Zahlung erhalten","invoice.open":"Offene Rechnung","invoice.uncollectible":"Uneinbringlich","invoice.payment_failed":"Zahlung fehlgeschlagen"}};return me[m]&&me[m][ge.type]||ge.type})();return e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"py-1 pr-4",children:pe}),e.jsx("td",{className:"py-1 pr-4",children:ge.plan||""}),e.jsx("td",{className:"py-1 pr-4",children:ge.users||""}),e.jsx("td",{className:"py-1 pr-4",children:Ke})]},Oe)})})]})}),e.jsx("p",{className:"mt-2 text-[10px] text-gray-400",children:h("common:planTab.history.footerNote")})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsx("h4",{className:"text-md font-semibold mb-3",children:h("common:planTab.invoices.title")}),M&&e.jsx("p",{className:"text-xs text-gray-500",children:h("common:planTab.invoices.loading")}),!M&&X.length===0&&e.jsx("p",{className:"text-xs text-gray-500",children:h("common:planTab.invoices.empty")}),!M&&X.length>0&&e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 items-end",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:h("common:planTab.invoices.filters.status")}),e.jsxs("select",{value:se,onChange:ge=>oe(ge.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs",children:[e.jsx("option",{value:"all",children:h("common:planTab.invoices.filters.all")}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"open",children:"Open/Draft"}),e.jsx("option",{value:"unpaid",children:"Unpaid/Void/Uncollectible"}),e.jsx("option",{value:"nonzero",children:m==="tr"?"cretli (0)":"Non-zero"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:h("common:planTab.invoices.filters.search")}),e.jsx("input",{type:"text",value:ne,onChange:ge=>le(ge.target.value),placeholder:h("common:planTab.invoices.filters.searchPlaceholder"),className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:h("common:planTab.invoices.filters.from")}),e.jsx("input",{type:"date",value:Se,onChange:ge=>je(ge.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:h("common:planTab.invoices.filters.to")}),e.jsx("input",{type:"date",value:ee,onChange:ge=>ce(ge.target.value),className:"px-2 py-1 border border-gray-300 rounded-md text-xs"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-[10px] font-medium text-gray-600",children:""}),e.jsx("button",{onClick:()=>{const ge=Ce().map(te=>({id:te.id,number:te.number,status:te.status,currency:te.currency,total:typeof te.total=="number"?(te.total/100).toFixed(2):"",created:te.created,hostedInvoiceUrl:te.hostedInvoiceUrl,pdf:te.pdf})),Oe=["id","number","status","currency","total","created","hostedInvoiceUrl","pdf"],Ke=[Oe.join(","),...ge.map(te=>Oe.map(we=>String(te[we]??"")).join(","))].join(`
`),pe=new Blob([Ke],{type:"text/csv;charset=utf-8;"}),me=URL.createObjectURL(pe),xe=document.createElement("a");xe.href=me,xe.download=`invoices_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),URL.revokeObjectURL(me)},disabled:X.length===0,className:"px-3 py-1 text-xs rounded-md bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50",children:h("common:planTab.invoices.filters.exportCsv")})]})]}),e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.invoices.table.number")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.invoices.table.date")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.invoices.table.amount")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.invoices.table.status")}),e.jsx("th",{className:"py-1 pr-4",children:h("common:planTab.invoices.table.actions")})]})}),e.jsx("tbody",{children:Ce().map(Oe=>{const Ke=Oe.created?new Date(Oe.created).toLocaleDateString():"",pe=typeof Oe.total=="number"?(Oe.total/100).toFixed(2)+" "+String(Oe.currency||"").toUpperCase():"";return e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"py-1 pr-4",children:Oe.number||Oe.id}),e.jsx("td",{className:"py-1 pr-4",children:Ke}),e.jsx("td",{className:"py-1 pr-4",children:Oe.zeroTotal?e.jsxs("span",{className:"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 border border-gray-200",children:[pe," ",Oe.reasonHint==="PLAN_CHANGE_NO_CHARGE"?m==="tr"?"Plan deiimi - ek cret yok":"Plan change - no extra charge":m==="tr"?"cretsiz ilem":"No charge"]}):pe}),e.jsx("td",{className:"py-1 pr-4",children:e.jsx("span",{className:(()=>{const me=String(Oe.status||"").toLowerCase();return me==="paid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-700 border border-green-200":me==="open"||me==="draft"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-200":me==="uncollectible"||me==="void"||me==="unpaid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-red-50 text-red-700 border border-red-200":"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-gray-50 text-gray-700 border border-gray-200"})(),children:String(Oe.status||"").toUpperCase()})}),e.jsxs("td",{className:"py-1 pr-4 space-x-2",children:[Oe.hostedInvoiceUrl&&e.jsx("a",{className:"text-indigo-600 hover:underline",href:Oe.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",children:h("common:view")}),Oe.pdf&&e.jsx("a",{className:"text-indigo-600 hover:underline",href:Oe.pdf,target:"_blank",rel:"noreferrer",children:"PDF"})]})]},Oe.id)})})]})]}),e.jsx("p",{className:"mt-2 text-[10px] text-gray-400",children:h("common:planTab.invoices.footerNote")})]})]}),e.jsx(Ra,{isOpen:A.open,onClose:()=>k(ge=>({...ge,open:!1})),title:A.title||(m==="tr"?"Onay":"Confirm"),message:A.message||"",confirmLabel:m==="tr"?"Onayla":m==="fr"?"Confirmer":m==="de"?"Besttigen":"Confirm",cancelLabel:m==="tr"?"Vazge":m==="fr"?"Annuler":m==="de"?"Abbrechen":"Cancel",onConfirm:()=>{k(ge=>({...ge,open:!1})),We()},onCancel:()=>k(ge=>({...ge,open:!1})),tone:"info"}),e.jsx(Ra,{isOpen:S.open,onClose:()=>j(ge=>({...ge,open:!1})),title:S.mode==="now"?m==="tr"?"Hemen Tahsil Onay":m==="fr"?"Confirmation d'encaissement":m==="de"?"Sofortige Abbuchung Besttigen":"Immediate Charge Confirmation":m==="tr"?"Faturalandrma Onay":m==="fr"?"Confirmation de facturation":m==="de"?"Rechnungsstellung Besttigen":"Invoice Confirmation",message:(()=>{const ge=S.count,Ke=(ge*5).toFixed(2);return S.mode==="now"?m==="tr"?`${ge} ilave kullanc iin hemen ${Ke}  tahsil edilecek. Onaylyor musunuz?`:m==="fr"?`Encaisser maintenant ${Ke}  pour ${ge} utilisateur(s) supplmentaire(s). Confirmez-vous ?`:m==="de"?`${ge} zustzliche(r) Benutzer wird/werden jetzt mit ${Ke}  belastet. Besttigen?`:`Charge ${Ke}  now for ${ge} additional user(s). Do you confirm?`:m==="tr"?`${ge} ilave kullanc eklenecek ve dnem sonunda faturalandrlacak. Onaylyor musunuz?`:m==="fr"?`${ge} utilisateur(s) supplmentaire(s) sera/seront ajout(s) et factur(s)  la fin de la priode. Confirmez-vous ?`:m==="de"?`${ge} zustzliche(r) Benutzer wird/werden hinzugefgt und am Periodenende abgerechnet. Besttigen?`:`${ge} additional user(s) will be added and invoiced at period end. Do you confirm?`})(),confirmLabel:m==="tr"?"Onayla":m==="fr"?"Confirmer":m==="de"?"Besttigen":"Confirm",cancelLabel:m==="tr"?"Vazge":m==="fr"?"Annuler":m==="de"?"Abbrechen":"Cancel",onConfirm:()=>{const{mode:ge,count:Oe}=S;j(Ke=>({...Ke,open:!1})),P(ge,Oe)},onCancel:()=>j(ge=>({...ge,open:!1})),tone:"info"}),e.jsx(Ra,{isOpen:R.open,onClose:()=>L(ge=>({...ge,open:!1})),title:R.title,message:R.message,confirmLabel:m==="tr"?"Tamam":"OK",tone:R.tone})]})},H8=["TRY","USD","EUR","GBP"],al=a=>{if(typeof a!="string")return null;const m=a.trim().toUpperCase();return H8.includes(m)?m:null},K8=["tr","en","fr","de"],G8=a=>K8.includes(a),uc=({title:a,subtitle:m,defaultOpen:t=!0,children:h})=>{const[f,c]=W.useState(t);return e.jsxs("div",{className:"border border-gray-200 rounded-lg bg-white shadow-sm",children:[e.jsxs("button",{type:"button",onClick:()=>c(n=>!n),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:a}),m&&e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:m})]}),f?e.jsx(ms,{className:"w-5 h-5 text-gray-500"}):e.jsx(Bb,{className:"w-5 h-5 text-gray-500"})]}),f&&e.jsx("div",{className:"px-4 pb-4",children:h})]})},W8={tr:{header:{title:"Ayarlar",subtitle:"Sistem ve hesap ayarlarnz ynetin",unsavedChanges:"Kaydedilmemi deiiklikler var",save:"Kaydet"},modals:{saveSuccess:{title:"Kaydedildi",message:"Deiiklikleriniz baaryla kaydedildi.",confirm:"Tamam"},saveError:{title:"Hata",message:"Ayarlar kaydedilirken bir hata olutu.",confirm:"Kapat"},fileTypeError:{title:"Dosya tipi hatal",message:"Ltfen sadece resim dosyas sein.",confirm:"Tamam"},fileSizeError:{title:"Dosya boyutu ok byk",message:"Dosya boyutu 5MB'dan kk olmaldr.",confirm:"Tamam"},authRequired:{title:"Oturum gerekli",message:"Ltfen nce giri yapn.",confirm:"Tamam"},sessionExpired:{title:"Oturum sresi doldu",message:"Ltfen tekrar giri yapn.",confirm:"Tamam"},deleteRequested:{title:"Talep alnd",message:"Hesap silme talebiniz baaryla iletildi.",confirm:"Tamam"},deleteFailed:{title:"lem baarsz",message:"Hesap silme istei gnderilemedi. Ltfen tekrar deneyin.",confirm:"Kapat"}},tabs:{profile:"Profil",company:"irket",plan:"Hesap Plan",notifications:"Bildirimler",organization:"Organizasyon",fiscalPeriods:"Mali Dnemler",system:"Sistem",security:"Gvenlik",privacy:"Gizlilik"},profile:{title:"Profil Bilgileri",fields:{name:"Ad Soyad",email:"E-posta",phone:"Telefon"},passwordTitle:"ifre Deitir",passwordFields:{current:"Mevcut ifre",new:"Yeni ifre",confirm:"ifre Tekrar"}},company:{title:"irket Bilgileri",logo:{label:"irket Logosu",upload:"Logo Ykle",remove:"Kaldr",helper:"PNG, JPG veya GIF formatnda, maksimum 5MB boyutunda dosya ykleyebilirsiniz.",uploaded:({name:a,sizeKB:m})=>`Logo ${a} (${m} KB)`},fields:{name:"irket Ad",address:"Adres",taxNumber:"Vergi Numaras",taxOffice:"Vergi Dairesi",phone:"Telefon",email:"E-posta",website:"Website"},legalFields:{title:"Yasal Gereklilik Alanlar",subtitle:"Uluslararas faturalama standartlar iin gerekli bilgiler",countryHelp:"irket bilgilerini girebilmek iin ltfen irket lkesini sein.",countrySelectLabel:"lke",countryOptions:{TR:"Trkiye",US:"Amerika",DE:"Almanya",FR:"Fransa",OTHER:"Dier"},turkey:{title:"Trkiye",mersisNumber:"Mersis Numaras",kepAddress:"KEP Adresi"},france:{title:"Fransa",siretNumber:"SIRET Numaras",sirenNumber:"SIREN Numaras",apeCode:"APE/NAF Kodu",tvaNumber:"TVA Numaras",rcsNumber:"RCS Numaras"},germany:{title:"Almanya",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"Amerika",einNumber:"EIN Numaras",taxId:"Tax ID",businessLicenseNumber:"Business License No",stateOfIncorporation:"Kurulu Eyaleti"},other:{title:"Dier lkeler",registrationNumber:"Kayt No",vatNumber:"KDV/VAT No",taxId:"Vergi Kimlii",stateOrRegion:"Eyalet/Blge"}},iban:{sectionTitle:"Faturalarda Kullanlacak IBAN",bankOption:"Kaydedilmi bankalardan se",noBanks:"(Kaydedilmi banka yok)",bankSelectPlaceholder:"Banka sein",manualOption:"Elle IBAN gir",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Banka ad (r. Ziraat Bankas)",preview:a=>`nizleme: ${a}`,previewExample:"rn: TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Bildirim Tercihleri",labels:{invoiceReminders:"Fatura Hatrlatmalar",expenseAlerts:"Gider Uyarlar",salesNotifications:"Sat Bildirimleri",lowStockAlerts:"Dk Stok Uyarlar",quoteReminders:"Teklif Hatrlatmalar"}},system:{title:"Sistem Ayarlar",currencyLabel:"Para Birimi",dateFormatLabel:"Tarih Format",timezoneLabel:"Saat Dilimi",currencies:{TRY:" Trk Liras",USD:"$ ABD Dolar",EUR:" Euro",GBP:" ngiliz Sterlini"},timezones:{"Europe/Istanbul":"stanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Yedekleme",toggleLabel:"Otomatik Yedekleme",toggleDescription:"Verilerinizi otomatik olarak yedekleyin",frequencyLabel:"Yedekleme Skl",options:{daily:"Gnlk",weekly:"Haftalk",monthly:"Aylk"}}},security:{tipsTitle:"Gvenlik nerileri",tips:[" Gl bir ifre kullann (en az 8 karakter, byk/kk harf, say)"," ifrenizi dzenli olarak deitirin"," ki faktrl kimlik dorulamay etkinletirin"," pheli aktiviteleri takip edin"],title:"Gvenlik Ayarlar",cards:{twoFactor:{title:"ki Faktrl Kimlik Dorulama",description:"Hesabnz iin ek gvenlik katman",action:"Etkinletir"},sessionHistory:{title:"Oturum Gemii",description:"Son giri aktivitelerinizi grntleyin",action:"Grntle"},activeSessions:{title:"Aktif Oturumlar",description:"Dier cihazlardaki oturumlar ynetin",action:"Tmn Sonlandr"}}},privacy:{title:"GDPR ve Veri Haklar",gdpr:{title:"Kiisel Veri Ynetimi",description:"GDPR uyumluluk kapsamnda kiisel verilerinizi ynetin",export:{title:"Verilerimi ndir",description:"Tm kiisel verilerinizi ZIP formatnda indirin",button:"Verilerimi ndir",disclaimer:"ndirilen dosya JSON ve CSV formatlarnda verilerinizi ierir."},delete:{title:"Hesabm Sil",description:"Hesabnz ve tm kiisel verilerinizi kalc olarak silin",button:"Hesap Silme Talebi",warning:"Bu ilem geri alnamaz ve tm verileriniz silinir.",confirmDialog:{title:"Hesap Silme Onay",message:"Hesabnz silmek istediinizden emin misiniz?",retention:"Not: Muhasebe kaytlar yasal gereklilikler nedeniyle 10 yl sreyle saklanacaktr.",confirm:"Evet, Hesabm Sil",cancel:"ptal"}}}}},en:{header:{title:"Settings",subtitle:"Manage your system and account settings",unsavedChanges:"There are unsaved changes",save:"Save"},modals:{saveSuccess:{title:"Saved",message:"Your changes have been saved successfully.",confirm:"OK"},saveError:{title:"Error",message:"An error occurred while saving your settings.",confirm:"Close"},fileTypeError:{title:"Invalid file type",message:"Please select an image file only.",confirm:"OK"},fileSizeError:{title:"File too large",message:"The file size must be less than 5MB.",confirm:"OK"},authRequired:{title:"Authentication required",message:"Please sign in first.",confirm:"OK"},sessionExpired:{title:"Session expired",message:"Please sign in again.",confirm:"OK"},deleteRequested:{title:"Request received",message:"Your account deletion request has been submitted.",confirm:"OK"},deleteFailed:{title:"Request failed",message:"Could not submit account deletion. Please try again.",confirm:"Close"}},tabs:{profile:"Profile",company:"Company",plan:"Plan",notifications:"Notifications",organization:"Organization",fiscalPeriods:"Fiscal Periods",system:"System",security:"Security",privacy:"Privacy"},profile:{title:"Profile Information",fields:{name:"Full Name",email:"Email Address",phone:"Phone"},passwordTitle:"Change Password",passwordFields:{current:"Current Password",new:"New Password",confirm:"Confirm Password"}},company:{title:"Company Information",logo:{label:"Company Logo",upload:"Upload Logo",remove:"Remove",helper:"You can upload PNG, JPG or GIF files up to 5MB.",uploaded:({name:a,sizeKB:m})=>`Logo ${a} (${m} KB)`},fields:{name:"Company Name",address:"Address",taxNumber:"Tax Number",taxOffice:"Tax Office",phone:"Phone",email:"Email",website:"Website"},legalFields:{title:"Legal Compliance Fields",subtitle:"Required information for international invoicing standards",countryHelp:"To enter company details, please select the company's country.",countrySelectLabel:"Country",countryOptions:{TR:"Turkey",US:"United States",DE:"Germany",FR:"France",OTHER:"Other"},turkey:{title:"Turkey",mersisNumber:"Mersis Number",kepAddress:"KEP Address"},france:{title:"France",siretNumber:"SIRET Number",sirenNumber:"SIREN Number",apeCode:"APE/NAF Code",tvaNumber:"TVA Number",rcsNumber:"RCS Number"},germany:{title:"Germany",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"USA",einNumber:"EIN Number",taxId:"Tax ID",businessLicenseNumber:"Business License No",stateOfIncorporation:"State of Incorporation"},other:{title:"Other Countries",registrationNumber:"Registration No",vatNumber:"VAT Number",taxId:"Tax ID",stateOrRegion:"State/Region"}},iban:{sectionTitle:"IBAN to use on invoices",bankOption:"Select from saved bank accounts",noBanks:"(No saved bank account)",bankSelectPlaceholder:"Choose a bank",manualOption:"Enter IBAN manually",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Bank name (e.g. Ziraat Bankas)",preview:a=>`Preview: ${a}`,previewExample:"Ex: TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Notification Preferences",labels:{invoiceReminders:"Invoice Reminders",expenseAlerts:"Expense Alerts",salesNotifications:"Sales Notifications",lowStockAlerts:"Low Stock Alerts",quoteReminders:"Quote Reminders"}},system:{title:"System Settings",currencyLabel:"Currency",dateFormatLabel:"Date Format",timezoneLabel:"Time Zone",currencies:{TRY:" Turkish Lira",USD:"$ US Dollar",EUR:" Euro",GBP:" British Pound"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Backups",toggleLabel:"Automatic Backup",toggleDescription:"Back up your data automatically",frequencyLabel:"Backup Frequency",options:{daily:"Daily",weekly:"Weekly",monthly:"Monthly"}}},security:{tipsTitle:"Security Tips",tips:[" Use a strong password (at least 8 characters, upper/lowercase, numbers)"," Change your password regularly"," Enable two-factor authentication"," Monitor suspicious activity"],title:"Security Settings",cards:{twoFactor:{title:"Two-Factor Authentication",description:"Additional security layer for your account",action:"Enable"},sessionHistory:{title:"Session History",description:"Review recent login activity",action:"View"},activeSessions:{title:"Active Sessions",description:"Manage sessions on other devices",action:"Sign out all"}}},privacy:{title:"GDPR & Data Rights",gdpr:{title:"Personal Data Management",description:"Manage your personal data under GDPR compliance",export:{title:"Export My Data",description:"Download all your personal data in ZIP format",button:"Export My Data",disclaimer:"The downloaded file contains your data in JSON and CSV formats."},delete:{title:"Delete My Account",description:"Permanently delete your account and all personal data",button:"Request Account Deletion",warning:"This action cannot be undone and will delete all your data.",confirmDialog:{title:"Account Deletion Confirmation",message:"Are you sure you want to delete your account?",retention:"Note: Accounting records will be retained for 10 years due to legal requirements.",confirm:"Yes, Delete My Account",cancel:"Cancel"}}}}},fr:{header:{title:"Paramtres",subtitle:"Grez les paramtres du systme et du compte",unsavedChanges:"Des modifications non enregistres",save:"Enregistrer"},modals:{saveSuccess:{title:"Enregistr",message:"Vos modifications ont t enregistres avec succs.",confirm:"OK"},saveError:{title:"Erreur",message:"Une erreur s'est produite lors de l'enregistrement des paramtres.",confirm:"Fermer"},fileTypeError:{title:"Type de fichier invalide",message:"Veuillez slectionner uniquement une image.",confirm:"OK"},fileSizeError:{title:"Fichier trop volumineux",message:"La taille du fichier doit tre infrieure  5 Mo.",confirm:"OK"},authRequired:{title:"Authentification requise",message:"Veuillez vous connecter d'abord.",confirm:"OK"},sessionExpired:{title:"Session expire",message:"Veuillez vous reconnecter.",confirm:"OK"},deleteRequested:{title:"Demande reue",message:"Votre demande de suppression de compte a t envoye.",confirm:"OK"},deleteFailed:{title:"chec de la demande",message:"La suppression du compte n'a pas pu tre soumise. Veuillez ressayer.",confirm:"Fermer"}},tabs:{profile:"Profil",company:"Entreprise",plan:"Abonnement",notifications:"Notifications",organization:"Organisation",fiscalPeriods:"Priodes fiscales",system:"Systme",security:"Scurit",privacy:"Confidentialit"},profile:{title:"Informations du profil",fields:{name:"Nom complet",email:"Adresse e-mail",phone:"Tlphone"},passwordTitle:"Changer le mot de passe",passwordFields:{current:"Mot de passe actuel",new:"Nouveau mot de passe",confirm:"Confirmer le mot de passe"}},company:{title:"Informations sur lentreprise",logo:{label:"Logo de lentreprise",upload:"Tlcharger le logo",remove:"Supprimer",helper:"Vous pouvez tlverser des fichiers PNG, JPG ou GIF jusqu 5 Mo.",uploaded:({name:a,sizeKB:m})=>`Logo ${a} (${m} Ko)`},fields:{name:"Nom de lentreprise",address:"Adresse",taxNumber:"Numro fiscal",taxOffice:"Centre des impts",phone:"Tlphone",email:"E-mail",website:"Site Web"},legalFields:{title:"Champs de conformit lgale",subtitle:"Informations requises pour les normes de facturation internationales",countryHelp:"Pour saisir les informations de lentreprise, veuillez slectionner le pays de lentreprise.",countrySelectLabel:"Pays",countryOptions:{TR:"Turquie",US:"tats-Unis",DE:"Allemagne",FR:"France",OTHER:"Autre"},turkey:{title:"Turquie",mersisNumber:"Numro Mersis",kepAddress:"Adresse KEP"},france:{title:"France",siretNumber:"Numro SIRET",sirenNumber:"Numro SIREN",apeCode:"Code APE/NAF",tvaNumber:"Numro TVA",rcsNumber:"Numro RCS"},germany:{title:"Allemagne",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"tats-Unis",einNumber:"Numro EIN",taxId:"Tax ID",businessLicenseNumber:"N de licence commerciale",stateOfIncorporation:"tat de constitution"},other:{title:"Autres pays",registrationNumber:"N d'enregistrement",vatNumber:"N TVA",taxId:"Tax ID",stateOrRegion:"tat/Rgion"}},iban:{sectionTitle:"IBAN utilis sur les factures",bankOption:"Choisir parmi les comptes bancaires enregistrs",noBanks:"(Aucun compte bancaire enregistr)",bankSelectPlaceholder:"Choisissez une banque",manualOption:"Saisir lIBAN manuellement",ibanPlaceholder:"TR00 0000 0000 0000 0000 0000 00",bankNamePlaceholder:"Nom de la banque (ex. Ziraat Bankas)",preview:a=>`Aperu : ${a}`,previewExample:"Ex : TRxx xxxx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Prfrences de notification",labels:{invoiceReminders:"Rappels de facture",expenseAlerts:"Alertes de dpenses",salesNotifications:"Notifications de ventes",lowStockAlerts:"Alertes de stock bas",quoteReminders:"Rappels de devis"}},system:{title:"Paramtres du systme",currencyLabel:"Devise",dateFormatLabel:"Format de date",timezoneLabel:"Fuseau horaire",currencies:{TRY:" Livre turque",USD:"$ Dollar amricain",EUR:" Euro",GBP:" Livre sterling"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Sauvegardes",toggleLabel:"Sauvegarde automatique",toggleDescription:"Sauvegardez vos donnes automatiquement",frequencyLabel:"Frquence de sauvegarde",options:{daily:"Quotidienne",weekly:"Hebdomadaire",monthly:"Mensuelle"}}},security:{tipsTitle:"Conseils de scurit",tips:[" Utilisez un mot de passe solide (au moins 8 caractres, majuscules/minuscules, chiffres)"," Changez votre mot de passe rgulirement"," Activez lauthentification  deux facteurs"," Surveillez les activits suspectes"],title:"Paramtres de scurit",cards:{twoFactor:{title:"Authentification  deux facteurs",description:"Une couche de scurit supplmentaire pour votre compte",action:"Activer"},sessionHistory:{title:"Historique des sessions",description:"Consultez vos connexions rcentes",action:"Afficher"},activeSessions:{title:"Sessions actives",description:"Grez les sessions sur les autres appareils",action:"Tout dconnecter"}}},privacy:{title:"RGPD et Droits des Donnes",gdpr:{title:"Gestion des Donnes Personnelles",description:"Grez vos donnes personnelles conformment au RGPD",export:{title:"Exporter mes Donnes",description:"Tlchargez toutes vos donnes personnelles au format ZIP",button:"Exporter mes Donnes",disclaimer:"Le fichier tlcharg contient vos donnes aux formats JSON et CSV."},delete:{title:"Supprimer mon Compte",description:"Supprimez dfinitivement votre compte et toutes vos donnes personnelles",button:"Demander la Suppression du Compte",warning:"Cette action est irrversible et supprimera toutes vos donnes.",confirmDialog:{title:"Confirmation de Suppression du Compte",message:"tes-vous sr de vouloir supprimer votre compte ?",retention:"Note : Les registres comptables seront conservs 10 ans pour des raisons lgales.",confirm:"Oui, Supprimer mon Compte",cancel:"Annuler"}}}}},de:{header:{title:"Einstellungen",subtitle:"System- und Kontoeinstellungen verwalten",unsavedChanges:"Ungespeicherte nderungen",save:"Speichern"},modals:{saveSuccess:{title:"Gespeichert",message:"Ihre nderungen wurden erfolgreich gespeichert.",confirm:"OK"},saveError:{title:"Fehler",message:"Beim Speichern der Einstellungen ist ein Fehler aufgetreten.",confirm:"Schlieen"},fileTypeError:{title:"Ungltiger Dateityp",message:"Bitte whlen Sie nur eine Bilddatei aus.",confirm:"OK"},fileSizeError:{title:"Datei zu gro",message:"Die Datei darf nicht grer als 5 MB sein.",confirm:"OK"},authRequired:{title:"Anmeldung erforderlich",message:"Bitte melden Sie sich zuerst an.",confirm:"OK"},sessionExpired:{title:"Sitzung abgelaufen",message:"Bitte melden Sie sich erneut an.",confirm:"OK"},deleteRequested:{title:"Anfrage erhalten",message:"Ihre Kontolschungsanfrage wurde bermittelt.",confirm:"OK"},deleteFailed:{title:"Anfrage fehlgeschlagen",message:"Kontolschung konnte nicht gesendet werden. Bitte erneut versuchen.",confirm:"Schlieen"}},tabs:{profile:"Profil",company:"Unternehmen",plan:"Abo/Plan",notifications:"Benachrichtigungen",organization:"Organisation",fiscalPeriods:"Finanzperioden",system:"System",security:"Sicherheit",privacy:"Datenschutz"},profile:{title:"Profilinformationen",fields:{name:"Vollstndiger Name",email:"E-Mail-Adresse",phone:"Telefon"},passwordTitle:"Passwort ndern",passwordFields:{current:"Aktuelles Passwort",new:"Neues Passwort",confirm:"Passwort besttigen"}},company:{title:"Unternehmensinformationen",logo:{label:"Unternehmenslogo",upload:"Logo hochladen",remove:"Entfernen",helper:"Sie knnen PNG-, JPG- oder GIF-Dateien bis 5 MB hochladen.",uploaded:({name:a,sizeKB:m})=>`Logo ${a} (${m} KB)`},fields:{name:"Unternehmensname",address:"Adresse",taxNumber:"Steuernummer",taxOffice:"Finanzamt",phone:"Telefon",email:"E-Mail",website:"Webseite"},legalFields:{title:"Rechtliche Compliance-Felder",subtitle:"Erforderliche Informationen fr internationale Rechnungsstandards",countryHelp:"Um Unternehmensdaten einzugeben, whlen Sie bitte das Unternehmensland.",countrySelectLabel:"Land",countryOptions:{TR:"Trkei",US:"USA",DE:"Deutschland",FR:"Frankreich",OTHER:"Andere"},turkey:{title:"Trkei",mersisNumber:"Mersis-Nummer",kepAddress:"KEP-Adresse"},france:{title:"Frankreich",siretNumber:"SIRET-Nummer",sirenNumber:"SIREN-Nummer",apeCode:"APE/NAF-Code",tvaNumber:"TVA-Nummer",rcsNumber:"RCS-Nummer"},germany:{title:"Deutschland",steuernummer:"Steuernummer",umsatzsteuerID:"Umsatzsteuer-ID",handelsregisternummer:"Handelsregisternummer",geschaeftsfuehrer:"Geschftsfhrer"},usa:{title:"USA",einNumber:"EIN-Nummer",taxId:"Tax ID",businessLicenseNumber:"Gewerbelizenznummer",stateOfIncorporation:"Grndungsstaat"},other:{title:"Andere Lnder",registrationNumber:"Registernummer",vatNumber:"USt/VAT-Nr.",taxId:"Steuer-ID",stateOrRegion:"Staat/Region"}},iban:{sectionTitle:"IBAN fr Rechnungen",bankOption:"Aus registrierten Bankkonten auswhlen",noBanks:"(Keine Bankkonten registriert)",bankSelectPlaceholder:"Bank auswhlen",manualOption:"IBAN manuell eingeben",ibanPlaceholder:"DE00 0000 0000 0000 0000 00",bankNamePlaceholder:"Bankname (z.B. Deutsche Bank)",preview:a=>`Vorschau: ${a}`,previewExample:"z.B.: DExx xxxx xxxx xxxx xxxx xx"}},notifications:{title:"Benachrichtigungseinstellungen",labels:{invoiceReminders:"Rechnungserinnerungen",expenseAlerts:"Ausgabenwarnungen",salesNotifications:"Verkaufsbenachrichtigungen",lowStockAlerts:"Niedriger Lagerbestand",quoteReminders:"Angebotserinnerungen"}},system:{title:"Systemeinstellungen",currencyLabel:"Whrung",dateFormatLabel:"Datumsformat",timezoneLabel:"Zeitzone",currencies:{TRY:" Trkische Lira",USD:"$ US-Dollar",EUR:" Euro",GBP:" Pfund Sterling"},timezones:{"Europe/Istanbul":"Istanbul",UTC:"UTC","America/New_York":"New York"},backup:{title:"Sicherungen",toggleLabel:"Automatische Sicherung",toggleDescription:"Sichern Sie Ihre Daten automatisch",frequencyLabel:"Sicherungshufigkeit",options:{daily:"Tglich",weekly:"Wchentlich",monthly:"Monatlich"}}},security:{tipsTitle:"Sicherheitstipps",tips:[" Verwenden Sie ein starkes Passwort (mindestens 8 Zeichen, Gro-/Kleinbuchstaben, Zahlen)"," ndern Sie Ihr Passwort regelmig"," Aktivieren Sie die Zwei-Faktor-Authentifizierung"," berwachen Sie verdchtige Aktivitten"],title:"Sicherheitseinstellungen",cards:{twoFactor:{title:"Zwei-Faktor-Authentifizierung",description:"Eine zustzliche Sicherheitsebene fr Ihr Konto",action:"Aktivieren"},sessionHistory:{title:"Sitzungsverlauf",description:"Sehen Sie Ihre letzten Anmeldungen",action:"Anzeigen"},activeSessions:{title:"Aktive Sitzungen",description:"Verwalten Sie Sitzungen auf anderen Gerten",action:"Alle abmelden"}}},privacy:{title:"DSGVO & Datenrechte",gdpr:{title:"Persnliche Datenverwaltung",description:"Verwalten Sie Ihre persnlichen Daten gem DSGVO",export:{title:"Meine Daten Exportieren",description:"Laden Sie alle Ihre persnlichen Daten im ZIP-Format herunter",button:"Meine Daten Exportieren",disclaimer:"Die heruntergeladene Datei enthlt Ihre Daten in JSON- und CSV-Formaten."},delete:{title:"Mein Konto Lschen",description:"Lschen Sie Ihr Konto und alle persnlichen Daten dauerhaft",button:"Kontolschung Beantragen",warning:"Diese Aktion kann nicht rckgngig gemacht werden und lscht alle Ihre Daten.",confirmDialog:{title:"Besttigung der Kontolschung",message:"Sind Sie sicher, dass Sie Ihr Konto lschen mchten?",retention:"Hinweis: Buchhaltungsunterlagen werden aus rechtlichen Grnden 10 Jahre aufbewahrt.",confirm:"Ja, Mein Konto Lschen",cancel:"Abbrechen"}}}}}};function Nf({user:a={name:"Demo User",email:"demo@moneyflow.com"},company:m,bankAccounts:t=[],onUserUpdate:h,onCompanyUpdate:f,initialTab:c}){const[n,o]=W.useState("profile"),[i,r]=W.useState(!1),[s,l]=W.useState(!1),d=W.useRef(!1),[u,x]=W.useState(!1),[b,g]=W.useState(!1),[v,y]=W.useState({open:!1,title:"",message:"",tone:"info"}),N=(Re,rt,mt="info")=>y({open:!0,title:Re,message:rt,tone:mt}),E=W.useCallback(()=>{d.current=!0,l(!0)},[]),I=W.useCallback(()=>{d.current=!1,l(!1)},[]),[O,$]=W.useState(!1),[z,U]=W.useState(!1),[V,G]=W.useState(!1),[B,T]=W.useState(!1),[D,A]=W.useState(null),[k,S]=W.useState(null),[j,C]=W.useState(null),[P,R]=W.useState(""),[L,Y]=W.useState(!1),[Z,ae]=W.useState(null),{i18n:q,t:X}=Zt("common"),F=q.language.toLowerCase().substring(0,2),M=G8(F)?F:"tr",K=W8[M],se=K.notifications.labels,{refreshUser:oe,user:ne,tenant:le,logout:Se}=Zs(),je=mv(le),ee=(ne?.role||"").toUpperCase(),ce=ee==="OWNER"||ee==="TENANT_ADMIN"||ee==="SUPER_ADMIN",[be,Te]=W.useState(null),Pe=ce||(be==="OWNER"||be==="ADMIN");W.useEffect(()=>{let Re=!1;return(async()=>{try{if(!ne?.id||!An())return;const Dt=await Cs.getAll();if(!Dt?.length)return;const _t=Dt[0]?.id;if(!_t)return;const Ie=(await Cs.getMembers(_t)).find(ht=>ht.user.id===ne.id);Re||Te(U8(Ie?.role))}catch(mt){he.warn("Organization role fetch failed",mt),Re||Te(null)}})(),()=>{Re=!0}},[ne?.id]);const[Be,Ge]=W.useState(""),[st,bt]=W.useState(!1);W.useEffect(()=>{let Re=!1;return(async()=>{try{const rt=await Pc.getMyTenant();if(!Re){Ge(rt?.companyName??"");const mt=al(rt?.currency);mt&&!Ke.current&&(Oe(mt),te(Dt=>Dt.currency===mt?Dt:{...Dt,currency:mt})),bt(!0)}}catch(rt){he.debug("Official company name fetch failed",rt),Re||bt(!0)}})(),()=>{Re=!0}},[]),W.useEffect(()=>{n==="plan"&&oe().catch(()=>{})},[n,oe]),W.useEffect(()=>{(async()=>{try{const Re=await Sn.getTwoFactorStatus();S(Re)}catch(Re){he.debug("Initial 2FA status fetch failed",Re)}})()},[]);const _e=async()=>{try{Y(!0),ae(null),R("");const Re=await Sn.getTwoFactorStatus();if(S(Re),Re.enabled)A("disable"),T(!0);else{const rt=await Sn.setupTwoFactor();C({secret:rt.secret,qrCodeUrl:rt.qrCodeUrl}),A("enable"),T(!0)}}catch(Re){N("2FA",si(Re,"lem baarsz"),"error")}finally{Y(!1)}},We=async()=>{try{if(Y(!0),D==="enable"){const Re=await Sn.enableTwoFactor((P||"").trim());ae(Re?.backupCodes||[]),S({enabled:!0,backupCodesCount:Re?.backupCodes?.length||0}),await oe()}else D==="disable"&&(await Sn.disableTwoFactor((P||"").trim()),S({enabled:!1,backupCodesCount:0}),await oe(),T(!1),A(null),N(M==="tr"?"2FA devre d":M==="fr"?"2FA dsactiv":M==="de"?"2FA deaktiviert":"2FA disabled",M==="tr"?"ki faktrl dorulama kapatld.":M==="fr"?"Lauthentification  deux facteurs a t dsactive.":M==="de"?"Zwei-Faktor-Authentifizierung wurde deaktiviert.":"Two-factor authentication has been disabled.","success"))}catch(Re){N("2FA",si(Re,"lem baarsz"),"error")}finally{Y(!1)}},vt=()=>{if(!(!Z||!Z.length))try{navigator.clipboard.writeText(Z.join(`
`)),N(M==="tr"?"Kodlar kopyaland":M==="fr"?"Codes copis":M==="de"?"Codes kopiert":"Codes copied",M==="tr"?"Yedek kodlar panoya kopyaland.":M==="fr"?"Les codes de secours ont t copis.":M==="de"?"Die Backup-Codes wurden kopiert.":"Backup codes copied.","success")}catch(Re){he.warn("Copying 2FA backup codes failed",Re)}},At=()=>{if(!Z||!Z.length)return;const Re=new Blob([Z.join(`
`)],{type:"text/plain"}),rt=URL.createObjectURL(Re),mt=document.createElement("a");mt.href=rt,mt.download="2fa-backup-codes.txt",document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),URL.revokeObjectURL(rt),N(M==="tr"?"Dosya indirildi":M==="fr"?"Fichier tlcharg":M==="de"?"Datei heruntergeladen":"File downloaded",M==="tr"?"Yedek kodlar dosya olarak indirildi.":M==="fr"?"Les codes de secours ont t tlchargs.":M==="de"?"Backup-Codes wurden heruntergeladen.":"Backup codes downloaded.","success")},Nt=async()=>{try{Y(!0);const Re=await Sn.regenerateTwoFactorBackupCodes();ae(Re.backupCodes||[]),S({enabled:!0,backupCodesCount:Re.count||Re.backupCodes?.length||0}),N(M==="tr"?"Kodlar yenilendi":M==="fr"?"Codes rgnrs":M==="de"?"Codes regeneriert":"Codes regenerated",M==="tr"?"Yeni yedek kodlar oluturuldu. Eskileri artk geersiz.":M==="fr"?"De nouveaux codes de secours ont t gnrs. Les anciens sont invalides.":M==="de"?"Neue Backup-Codes wurden erstellt. Alte sind ungltig.":"New backup codes generated. Old ones are now invalid.","success")}catch(Re){N("2FA",si(Re,"lem baarsz"),"error")}finally{Y(!1)}},De=()=>{T(!1),A(null),C(null),R(""),ae(null)};W.useEffect(()=>{let Re=!1;const rt=(jt,Ie,ht,Vt)=>{y({open:!0,title:jt,message:Ie,tone:"success",confirmLabel:ht,onConfirm:()=>{y(Ne=>({...Ne,open:!1})),(async()=>{try{if(je){const{syncSubscription:Ne}=await Dr(async()=>{const{syncSubscription:Ve}=await Promise.resolve().then(()=>Fn);return{syncSubscription:Ve}},void 0);await Ne(je)}await oe()}catch(Ne){he.warn("Invite CTA sync failed",Ne)}o("organization")})()},cancelLabel:Vt,onCancel:()=>y(Ne=>({...Ne,open:!1}))})},mt=async()=>{const jt=ri.get("pending_billing_payment");if(jt)try{const Ie=uv(jt)||{};if(!je)return;const{syncSubscription:ht,listInvoices:Vt}=await Dr(async()=>{const{syncSubscription:Lt,listInvoices:Jt}=await Promise.resolve().then(()=>Fn);return{syncSubscription:Lt,listInvoices:Jt}},void 0);await ht(je);const Ne=await Vt(je),Ve=typeof Ie.ts=="number"?Ie.ts-120*1e3:Date.now()-600*1e3;if(!bp(Ne?.invoices).some(Lt=>!!Lt.paid&&Lt.created&&new Date(Lt.created).getTime()>=Ve)||Re)return;const kt=(()=>{const Lt=String(Ie?.plan||"").toLowerCase();return Lt.includes("enterprise")||Lt.includes("business")?"Enterprise":Lt.includes("professional")||Lt==="pro"?"Pro":"Plan"})(),Ot=M,Pt={tr:{title:"deme Baarl",basePlan:Lt=>`leminiz baaryla tamamland. Artk ${Lt} plann keyfini karabilirsiniz.`,baseGeneric:"demeniz baaryla alnd.",extra:Lt=>` Ayrca sisteminize ${Lt} kullanc daha davet edebilirsiniz.`},en:{title:"Payment Successful",basePlan:Lt=>`Your update completed successfully. Enjoy the ${Lt} plan!`,baseGeneric:"Your payment was received successfully.",extra:Lt=>` You can now invite ${Lt} more user${Lt>1?"s":""} to your system.`},fr:{title:"Paiement russi",basePlan:Lt=>`Mise  jour termine avec succs. Profitez du plan ${Lt} !`,baseGeneric:"Votre paiement a t reu avec succs.",extra:Lt=>` Vous pouvez maintenant inviter ${Lt} utilisateur${Lt>1?"s":""} supplmentaires.`},de:{title:"Zahlung erfolgreich",basePlan:Lt=>`Aktualisierung erfolgreich. Viel Spa mit dem ${Lt}-Tarif!`,baseGeneric:"Ihre Zahlung wurde erfolgreich erhalten.",extra:Lt=>` Sie knnen nun ${Lt} weitere Benutzer einladen.`}},$t=Pt[Ot]||Pt.tr,sr=Ie?.type==="plan-interval"?$t.basePlan(kt):$t.baseGeneric,Yt=Ie?.seats&&Ie.seats>0?$t.extra(Ie.seats):"";if(Pe){const Lt={tr:{invite:"Kullanc Davet Et",close:"Kapat"},en:{invite:"Invite Users",close:"Close"},fr:{invite:"Inviter des utilisateurs",close:"Fermer"},de:{invite:"Benutzer einladen",close:"Schlieen"}},Jt=Lt[Ot]||Lt.tr;rt($t.title,sr+Yt,Jt.invite,Jt.close)}else N($t.title,sr+Yt,"success");ri.remove("pending_billing_payment");try{await oe()}catch(Lt){he.warn("Refresh user after payment success failed",Lt)}}catch(Ie){he.warn("Pending billing handler failed",Ie)}},Dt=()=>{mt()},_t=jt=>{if(!Re)try{const Ie=jt.detail||{},ht=M,Vt={tr:{title:"lem Baarl",base:"leminiz baaryla tamamland.",extra:lt=>` Ayrca sisteminize ${lt} kullanc daha davet edebilirsiniz.`},en:{title:"Success",base:"Your operation completed successfully.",extra:lt=>` You can now invite ${lt} more user${lt>1?"s":""}.`},fr:{title:"Succs",base:"Votre opration sest termine avec succs.",extra:lt=>` Vous pouvez maintenant inviter ${lt} utilisateur${lt>1?"s":""} supplmentaires.`},de:{title:"Erfolg",base:"Ihr Vorgang wurde erfolgreich abgeschlossen.",extra:lt=>` Sie knnen nun ${lt} weitere Benutzer einladen.`}},Ne=Vt[ht]||Vt.tr,Ve=Ie?.seats&&Ie.seats>0?Ne.extra(Ie.seats):"";if(Pe){const lt={tr:{invite:"Kullanc Davet Et",close:"Kapat"},en:{invite:"Invite Users",close:"Close"},fr:{invite:"Inviter des utilisateurs",close:"Fermer"},de:{invite:"Benutzer einladen",close:"Schlieen"}},kt=lt[ht]||lt.tr;rt(Ne.title,Ne.base+Ve,kt.invite,kt.close)}else N(Ne.title,Ne.base+Ve,"success")}catch(Ie){he.warn("billingSuccess listener failed",Ie)}};return window.addEventListener("focus",Dt),window.addEventListener("billingSuccess",_t),mt(),()=>{Re=!0,window.removeEventListener("focus",Dt),window.removeEventListener("billingSuccess",_t)}},[je,M,Pe,oe]);const{currency:ge,setCurrency:Oe}=es(),Ke=W.useRef(!1);he.debug("[SettingsPage] Current currency from context",{currency:ge}),W.useEffect(()=>{he.debug("[SettingsPage] Current currency changed",{currency:ge})},[ge]);const[pe,me]=W.useState({name:a.name,email:a.email,phone:"+90 555 123 45 67",currentPassword:"",newPassword:"",confirmPassword:""}),[xe,te]=W.useState(()=>({name:m?.name??"",address:m?.address??"",taxNumber:m?.taxNumber??"",taxOffice:m?.taxOffice??"",phone:m?.phone??"",email:m?.email??"",website:m?.website??"",logoDataUrl:m?.logoDataUrl??"",bankAccountId:m?.bankAccountId??void 0,currency:al(m?.currency)??ge??"TRY",country:m?.country??"TR",logoFile:null,mersisNumber:m?.mersisNumber??"",kepAddress:m?.kepAddress??"",siretNumber:m?.siretNumber??"",sirenNumber:m?.sirenNumber??"",apeCode:m?.apeCode??"",tvaNumber:m?.tvaNumber??"",rcsNumber:m?.rcsNumber??"",steuernummer:m?.steuernummer??"",umsatzsteuerID:m?.umsatzsteuerID??"",handelsregisternummer:m?.handelsregisternummer??"",geschaeftsfuehrer:m?.geschaeftsfuehrer??"",einNumber:m?.einNumber??"",taxId:m?.taxId??"",businessLicenseNumber:m?.businessLicenseNumber??"",stateOfIncorporation:m?.stateOfIncorporation??"",registrationNumber:m?.registrationNumber??"",vatNumberGeneric:m?.vatNumberGeneric??"",taxIdGeneric:m?.taxIdGeneric??"",stateOrRegion:m?.stateOrRegion??""}));W.useEffect(()=>{te(Re=>{const rt=al(m?.currency),mt=!!(rt&&!Ke.current&&rt!==Re.currency),Dt=mt?rt:Re.currency??rt??"TRY";return mt&&(Ke.current=!1),{...Re,name:m?.name??Re.name,address:m?.address??Re.address,taxNumber:m?.taxNumber??Re.taxNumber,taxOffice:m?.taxOffice??Re.taxOffice,phone:m?.phone??Re.phone,email:m?.email??Re.email,website:m?.website??Re.website,logoDataUrl:m?.logoDataUrl??Re.logoDataUrl,bankAccountId:m?.bankAccountId??Re.bankAccountId,currency:Dt,country:m?.country??Re.country,mersisNumber:m?.mersisNumber??Re.mersisNumber,kepAddress:m?.kepAddress??Re.kepAddress,siretNumber:m?.siretNumber??Re.siretNumber,sirenNumber:m?.sirenNumber??Re.sirenNumber,apeCode:m?.apeCode??Re.apeCode,tvaNumber:m?.tvaNumber??Re.tvaNumber,rcsNumber:m?.rcsNumber??Re.rcsNumber,steuernummer:m?.steuernummer??Re.steuernummer,umsatzsteuerID:m?.umsatzsteuerID??Re.umsatzsteuerID,handelsregisternummer:m?.handelsregisternummer??Re.handelsregisternummer,geschaeftsfuehrer:m?.geschaeftsfuehrer??Re.geschaeftsfuehrer,einNumber:m?.einNumber??Re.einNumber,taxId:m?.taxId??Re.taxId,businessLicenseNumber:m?.businessLicenseNumber??Re.businessLicenseNumber,stateOfIncorporation:m?.stateOfIncorporation??Re.stateOfIncorporation,registrationNumber:m?.registrationNumber??Re.registrationNumber,vatNumberGeneric:m?.vatNumberGeneric??Re.vatNumberGeneric,taxIdGeneric:m?.taxIdGeneric??Re.taxIdGeneric,stateOrRegion:m?.stateOrRegion??Re.stateOrRegion}}),d.current||I()},[m,I]);const we={invoiceReminders:!0,expenseAlerts:!0,salesNotifications:!0,lowStockAlerts:!0,quoteReminders:!0},Ue=()=>{try{const Re=hn()||yo(),rt=yl({tenantIds:[Re],userIds:kf(ne)});if(rt&&typeof rt=="object")return{...we,...rt}}catch(Re){he.debug("loadInitialNotificationSettings failed",Re)}return{...we}},[et,dt]=W.useState(Ue),{updatePref:St}=ev(),Ut=W.useCallback(Re=>{try{const rt=hn()||yo();xb(Re,{tenantIds:[rt],userIds:kf(ne)})}catch(rt){he.warn("Persist notification settings failed",rt)}},[ne]);W.useEffect(()=>{(async()=>{try{if(!An())return;const rt=await Sn.getNotificationPreferences();rt&&typeof rt=="object"&&dt(mt=>{const Dt={invoiceReminders:rt.invoiceReminders??mt.invoiceReminders,expenseAlerts:rt.expenseAlerts??mt.expenseAlerts,salesNotifications:rt.salesNotifications??mt.salesNotifications,lowStockAlerts:rt.lowStockAlerts??mt.lowStockAlerts,quoteReminders:rt.quoteReminders??mt.quoteReminders};return Ut(Dt),Dt})}catch(Re){he.debug("Notification preferences fetch failed",Re)}})()},[Ut]),W.useEffect(()=>{const rt=(()=>{try{const mt=hn()||yo(),Dt=yl({tenantIds:[mt],userIds:kf(ne)});if(Dt&&typeof Dt=="object")return{invoiceReminders:Dt.invoiceReminders??et.invoiceReminders,expenseAlerts:Dt.expenseAlerts??et.expenseAlerts,salesNotifications:Dt.salesNotifications??et.salesNotifications,lowStockAlerts:Dt.lowStockAlerts??et.lowStockAlerts,quoteReminders:Dt.quoteReminders??et.quoteReminders}}catch(mt){he.debug("Notification preference lookup failed",mt)}return null})();rt&&(Object.keys(rt).every(Dt=>rt[Dt]===et[Dt])||dt(rt))},[ne,et]);const[ve,de]=W.useState({language:"tr",dateFormat:"DD/MM/YYYY",theme:"light"}),Ye=Pe?[{id:"profile",label:K.tabs.profile,icon:is},{id:"company",label:K.tabs.company,icon:Jr},{id:"plan",label:K.tabs.plan||"Plan",icon:xi},{id:"organization",label:K.tabs.organization||"Organization",icon:Is},{id:"fiscal-periods",label:K.tabs.fiscalPeriods||"Fiscal Periods",icon:Or},{id:"notifications",label:K.tabs.notifications,icon:Fb},{id:"security",label:K.tabs.security,icon:Ds},{id:"privacy",label:K.tabs.privacy,icon:Bn}]:[{id:"profile",label:K.tabs.profile,icon:is},{id:"security",label:K.tabs.security,icon:Ds}];W.useEffect(()=>{if(!c)return;Ye.map(rt=>rt.id).includes(c)&&o(c)},[c]),W.useEffect(()=>{const Re=Ye.map(rt=>rt.id);if(!Re.includes(n)){const rt=Re[0]||"security";o(rt)}},[Ye,n]);const ut=(Re,rt)=>{me(mt=>mt[Re]===rt?mt:(E(),{...mt,[Re]:rt}))},pt=(Re,rt)=>{te(mt=>mt[Re]===rt?mt:(E(),{...mt,[Re]:rt}))},Le=Re=>{const rt=Re.target.files?.[0];if(!rt)return;if(!rt.type.startsWith("image/")){N(K.modals.fileTypeError.title,K.modals.fileTypeError.message,"error");return}if(rt.size>5*1024*1024){N(K.modals.fileSizeError.title,K.modals.fileSizeError.message,"error");return}const mt=new FileReader;mt.onload=Dt=>{te(_t=>({..._t,logoDataUrl:Dt.target?.result,logoFile:rt})),E()},mt.readAsDataURL(rt)},Je=()=>{te(Re=>({...Re,logoDataUrl:"",logoFile:null})),E()},ke=async(Re,rt)=>{dt(mt=>({...mt,[Re]:rt}));try{await St(Re,rt);const mt={...et,[Re]:rt};Ut(mt)}catch(mt){he.error("Notification preference update failed",mt)}},Me=(Re,rt)=>{if(Re==="currency"){he.info("System currency change requested",{value:rt});const mt=al(rt);if(!mt){he.warn("Ignoring invalid currency selection",{value:rt});return}Ke.current=!0,ge!==mt&&Oe(mt),te(Dt=>Dt.currency===mt?Dt:(E(),{...Dt,currency:mt}));return}de(mt=>mt[Re]===rt?mt:(E(),{...mt,[Re]:rt}))},He=async()=>{he.info("Settings save triggered",{profile:{name:pe.name,phone:pe.phone}});const Re=al(xe.currency)??ge??"TRY";try{he.debug("Calling usersApi.updateProfile");const rt=await Sn.updateProfile({name:pe.name,phone:pe.phone});he.info("User profile updated",{userId:rt?.id||rt?._id}),bb(rt),he.debug("Local user cache updated",{userId:rt?.id||rt?._id});try{await oe(),he.debug("Auth context refreshed after profile update")}catch(ht){he.warn("refreshUser failed after profile update (cache already fresh)",ht)}const mt=pe.currentPassword.trim(),Dt=pe.newPassword.trim(),_t=pe.confirmPassword.trim();if(mt||Dt||_t){if(!mt||!Dt||!_t){N(M==="tr"?"ifre Alanlar Eksik":"Missing Password Fields",M==="tr"?"Mevcut, yeni ve tekrar ifre alanlarnn tm doldurulmal.":"All password fields (current, new, confirm) must be filled.","error");return}if(Dt!==_t){N(M==="tr"?"ifre Elemiyor":"Password Mismatch",M==="tr"?"Yeni ifre ile tekrar ifre ayn deil.":"New password and confirmation do not match.","error");return}if(Dt.length<8){N(M==="tr"?"ifre ok Ksa":"Password Too Short",M==="tr"?"Yeni ifre en az 8 karakter olmal.":"New password must be at least 8 characters.","error");return}try{if(he.debug("Calling usersApi.changePassword"),(await Sn.changePassword(mt,Dt))?.success)N(M==="tr"?"ifre Gncellendi":"Password Updated",M==="tr"?"ifreniz baaryla deitirildi.":"Your password has been changed successfully.","success"),me(Vt=>({...Vt,currentPassword:"",newPassword:"",confirmPassword:""}));else{N(M==="tr"?"ifre Deitirilemedi":"Password Change Failed",M==="tr"?"lem srasnda hata olutu.":"An error occurred during password change.","error");return}}catch(ht){const Vt=si(ht,"Hata");N(M==="tr"?"ifre Deitirilemedi":"Password Change Failed",Vt,"error");return}}if(h){const ht={name:`${rt.firstName} ${rt.lastName}`,email:rt.email,phone:pe.phone};h(ht),he.debug("onUserUpdate prop invoked")}he.info("Profile changes persisted"),he.debug("Persisted user payload",rt);try{if(Pe&&st){const ht=await Pc.getMyTenant(),Vt=ht?.companyName||ht?.name||"";(Be||"")!==(Vt||"")&&await Pc.updateMyTenant({companyName:Be})}}catch(ht){he.warn("Official company name update failed",ht)}let jt=!0,Ie=null;try{const ht={brand:{logoDataUrl:xe.logoDataUrl||"",bankAccountId:xe.bankAccountId||void 0,country:xe.country||""}},Vt={companyName:Be||xe.name||void 0,address:xe.address||void 0,taxNumber:xe.taxNumber||void 0,taxOffice:xe.taxOffice||void 0,phone:xe.phone||void 0,email:xe.email||void 0,website:xe.website||void 0,currency:Re,mersisNumber:xe.mersisNumber||void 0,kepAddress:xe.kepAddress||void 0,siretNumber:xe.siretNumber||void 0,sirenNumber:xe.sirenNumber||void 0,apeCode:xe.apeCode||void 0,tvaNumber:xe.tvaNumber||void 0,rcsNumber:xe.rcsNumber||void 0,steuernummer:xe.steuernummer||void 0,umsatzsteuerID:xe.umsatzsteuerID||void 0,handelsregisternummer:xe.handelsregisternummer||void 0,geschaeftsfuehrer:xe.geschaeftsfuehrer||void 0,einNumber:xe.einNumber||void 0,taxId:xe.taxId||void 0,businessLicenseNumber:xe.businessLicenseNumber||void 0,stateOfIncorporation:xe.stateOfIncorporation||void 0,settings:ht};Pe||delete Vt.companyName;const Ne=await Pc.updateMyTenant(Vt);Ie=al(Ne?.currency);const Ve=Ie??Re;te(lt=>lt.currency===Ve?lt:{...lt,currency:Ve}),ge!==Ve&&Oe(Ve)}catch(ht){he.error("Tenant settings update failed",ht),jt=!1}if(f){const ht=Ie??Re,Vt={name:xe.name,address:xe.address,taxNumber:xe.taxNumber,taxOffice:xe.taxOffice,phone:xe.phone,email:xe.email,website:xe.website,logoDataUrl:xe.logoDataUrl,bankAccountId:xe.bankAccountId,country:xe.country||void 0,currency:ht,mersisNumber:xe.mersisNumber,kepAddress:xe.kepAddress,siretNumber:xe.siretNumber,sirenNumber:xe.sirenNumber,apeCode:xe.apeCode,tvaNumber:xe.tvaNumber,rcsNumber:xe.rcsNumber,steuernummer:xe.steuernummer,umsatzsteuerID:xe.umsatzsteuerID,handelsregisternummer:xe.handelsregisternummer,geschaeftsfuehrer:xe.geschaeftsfuehrer,einNumber:xe.einNumber,taxId:xe.taxId,businessLicenseNumber:xe.businessLicenseNumber,stateOfIncorporation:xe.stateOfIncorporation,registrationNumber:xe.registrationNumber,vatNumberGeneric:xe.vatNumberGeneric,taxIdGeneric:xe.taxIdGeneric,stateOrRegion:xe.stateOrRegion};f(Vt)}try{await Sn.updateNotificationPreferences(et),Ut(et)}catch(ht){he.error("Notification prefs save failed",ht)}jt?(I(),Ke.current=!1,x(!0)):g(!0)}catch(rt){he.error("Settings save failed",rt),g(!0)}},ot=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.profile.title}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.fields.name}),e.jsx("input",{type:"text",value:pe.name,onChange:Re=>ut("name",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.fields.email}),e.jsx("input",{type:"email",value:pe.email,onChange:Re=>ut("email",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.fields.phone}),e.jsx("input",{type:"tel",value:pe.phone,onChange:Re=>ut("phone",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"block text-sm font-medium text-gray-700 mb-2",children:M==="tr"?"Son Giri":M==="fr"?"Dernire connexion":M==="de"?"Letzte Anmeldung":"Last Login"}),e.jsx("div",{className:"px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-sm text-gray-700",children:(()=>{try{const Re=ne?.lastLoginAt;if(!Re)return"";const rt=new Date(Re);if(Number.isNaN(rt.getTime()))return"";const mt=typeof q?.language=="string"&&q.language?q.language:M||"tr";return rt.toLocaleString(mt)}catch{return""}})()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.profile.passwordTitle}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.passwordFields.current}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",value:pe.currentPassword,onChange:Re=>ut("currentPassword",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>r(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:i?e.jsx(Oc,{className:"w-4 h-4"}):e.jsx(Wr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.passwordFields.new}),e.jsx("input",{type:i?"text":"password",value:pe.newPassword,onChange:Re=>ut("newPassword",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.profile.passwordFields.confirm}),e.jsx("input",{type:i?"text":"password",value:pe.confirmPassword,onChange:Re=>ut("confirmPassword",Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),at=()=>{const Re=t.length>0,rt=t.find(_t=>_t.id===xe.bankAccountId),mt=!!(xe.country&&String(xe.country).trim()!==""),Dt=xe.country==="TR"?"turkey":xe.country==="FR"?"france":xe.country==="DE"?"germany":xe.country==="US"?"usa":"other";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(uc,{title:K.company.title,children:[e.jsxs("div",{className:"mb-4 flex items-start gap-2 rounded-md bg-blue-50 p-3 text-blue-800",children:[e.jsx(Ku,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:K.company.legalFields.countryHelp||"irket bilgilerini girebilmek iin ltfen irket lkesini sein."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.countrySelectLabel||"lke"}),e.jsxs("select",{value:xe.country,onChange:_t=>pt("country",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"TR",children:K.company.legalFields.countryOptions?.TR||"Trkiye"}),e.jsx("option",{value:"US",children:K.company.legalFields.countryOptions?.US||"Amerika"}),e.jsx("option",{value:"DE",children:K.company.legalFields.countryOptions?.DE||"Almanya"}),e.jsx("option",{value:"FR",children:K.company.legalFields.countryOptions?.FR||"Fransa"}),e.jsx("option",{value:"OTHER",children:K.company.legalFields.countryOptions?.OTHER||"Dier"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:X("settings.companyFields.officialName")}),e.jsx("input",{type:"text",value:Be,onChange:_t=>{Ge(_t.target.value),E()},className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${Pe?"border-gray-300":"bg-gray-100 border-gray-200 text-gray-500 cursor-not-allowed"}`,disabled:!Pe,title:Pe?void 0:X("settings.companyFields.officialNameTooltip")}),!ce&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:X("settings.companyFields.officialNameOwnerOnly")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:X("settings.companyFields.brandName")}),e.jsx("input",{type:"text",value:xe.name,onChange:_t=>pt("name",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:X("settings.companyFields.brandNameHelper")})]}),mt&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.fields.phone}),e.jsx("input",{type:"tel",value:xe.phone,onChange:_t=>pt("phone",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.fields.email}),e.jsx("input",{type:"email",value:xe.email,onChange:_t=>pt("email",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.fields.website}),e.jsx("input",{type:"url",value:xe.website,onChange:_t=>pt("website",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.fields.address}),e.jsx("textarea",{value:xe.address,onChange:_t=>pt("address",_t.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),mt&&e.jsx(uc,{title:K.company.logo.label,defaultOpen:!1,children:e.jsxs("div",{className:"flex items-center space-x-4",children:[xe.logoDataUrl?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:xe.logoDataUrl,alt:"Company Logo",className:"w-24 h-24 object-contain border border-gray-300 rounded-lg"}),e.jsx("button",{onClick:Je,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:""})]}):e.jsx("div",{className:"w-24 h-24 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:e.jsx(Jr,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("input",{type:"file",id:"logo-upload",accept:"image/*",onChange:Le,className:"hidden"}),e.jsx("label",{htmlFor:"logo-upload",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block",children:K.company.logo.upload}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:K.company.logo.helper})]})]})}),mt&&e.jsxs(uc,{title:K.company.legalFields.title,subtitle:K.company.legalFields.subtitle,defaultOpen:!1,children:[Dt==="turkey"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",K.company.legalFields.turkey.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.turkey.mersisNumber}),e.jsx("input",{type:"text",value:xe.mersisNumber,onChange:_t=>pt("mersisNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0123456789012345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.turkey.kepAddress}),e.jsx("input",{type:"email",value:xe.kepAddress,onChange:_t=>pt("kepAddress",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sirket@hs01.kep.tr"})]})]})]}),Dt==="france"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",K.company.legalFields.france.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.france.siretNumber}),e.jsx("input",{type:"text",value:xe.siretNumber,onChange:_t=>pt("siretNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12345678901234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.france.sirenNumber}),e.jsx("input",{type:"text",value:xe.sirenNumber,onChange:_t=>pt("sirenNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.france.apeCode}),e.jsx("input",{type:"text",value:xe.apeCode,onChange:_t=>pt("apeCode",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"6202A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.france.tvaNumber}),e.jsx("input",{type:"text",value:xe.tvaNumber,onChange:_t=>pt("tvaNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"FR12345678901"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.france.rcsNumber}),e.jsx("input",{type:"text",value:xe.rcsNumber,onChange:_t=>pt("rcsNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 456 789 RCS Paris"})]})]})]}),Dt==="germany"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",K.company.legalFields.germany.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.germany.steuernummer}),e.jsx("input",{type:"text",value:xe.steuernummer,onChange:_t=>pt("steuernummer",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12/345/67890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.germany.umsatzsteuerID}),e.jsx("input",{type:"text",value:xe.umsatzsteuerID,onChange:_t=>pt("umsatzsteuerID",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"DE123456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.germany.handelsregisternummer}),e.jsx("input",{type:"text",value:xe.handelsregisternummer,onChange:_t=>pt("handelsregisternummer",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"HRB 12345"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.germany.geschaeftsfuehrer}),e.jsx("input",{type:"text",value:xe.geschaeftsfuehrer,onChange:_t=>pt("geschaeftsfuehrer",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Max Mustermann"})]})]})]}),Dt==="usa"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",K.company.legalFields.usa.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.usa.einNumber}),e.jsx("input",{type:"text",value:xe.einNumber,onChange:_t=>pt("einNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"12-3456789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.usa.taxId}),e.jsx("input",{type:"text",value:xe.taxId,onChange:_t=>pt("taxId",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123-45-6789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.usa.businessLicenseNumber}),e.jsx("input",{type:"text",value:xe.businessLicenseNumber,onChange:_t=>pt("businessLicenseNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"BL123456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.usa.stateOfIncorporation}),e.jsx("input",{type:"text",value:xe.stateOfIncorporation,onChange:_t=>pt("stateOfIncorporation",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Delaware"})]})]})]}),Dt==="other"&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[" ",K.company.legalFields.other.title]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.other.registrationNumber}),e.jsx("input",{type:"text",value:xe.registrationNumber,onChange:_t=>pt("registrationNumber",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.other.vatNumber}),e.jsx("input",{type:"text",value:xe.vatNumberGeneric,onChange:_t=>pt("vatNumberGeneric",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.other.taxId}),e.jsx("input",{type:"text",value:xe.taxIdGeneric,onChange:_t=>pt("taxIdGeneric",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.legalFields.other.stateOrRegion}),e.jsx("input",{type:"text",value:xe.stateOrRegion,onChange:_t=>pt("stateOrRegion",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),mt&&e.jsx(uc,{title:K.company.iban.sectionTitle,defaultOpen:!1,children:Re?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.company.iban.bankOption}),e.jsxs("select",{value:xe.bankAccountId||"",onChange:_t=>pt("bankAccountId",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:K.company.iban.bankSelectPlaceholder}),t.map(_t=>e.jsxs("option",{value:_t.id,children:[_t.bankName," - ",_t.accountName]},_t.id))]}),rt&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["IBAN: ",rt.iban]})]}):e.jsx("p",{className:"text-gray-600",children:K.company.iban.noBanks})}),mt&&e.jsx(uc,{title:K.system.title,defaultOpen:!1,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.system.currencyLabel}),e.jsxs("select",{value:xe.currency||ge||"TRY",onChange:_t=>{he.debug("Currency dropdown changed",{value:_t.target.value}),Me("currency",_t.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"TRY",children:K.system.currencies.TRY}),e.jsx("option",{value:"USD",children:K.system.currencies.USD}),e.jsx("option",{value:"EUR",children:K.system.currencies.EUR}),e.jsx("option",{value:"GBP",children:K.system.currencies.GBP})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:K.system.dateFormatLabel}),e.jsxs("select",{value:ve.dateFormat,onChange:_t=>Me("dateFormat",_t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]})})]})},ft=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.notifications.title}),e.jsx("div",{className:"space-y-4",children:Object.entries(et).map(([Re,rt])=>{const mt=se[Re]??Re;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900",children:mt})}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:!!rt,onChange:Dt=>ke(Re,Dt.target.checked),className:"sr-only peer"}),e.jsx("div",{className:'w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[""] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600'})]})]},Re)})})]})}),Kt=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(pn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-800",children:K.security.tipsTitle}),e.jsx("ul",{className:"text-sm text-yellow-700 mt-2 space-y-1",children:K.security.tips.map((Re,rt)=>e.jsx("li",{children:Re},rt))})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.security.title}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:K.security.cards.twoFactor.title}),e.jsx("div",{className:"text-sm text-gray-500",children:K.security.cards.twoFactor.description})]}),e.jsx("button",{onClick:_e,disabled:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:k?.enabled?M==="tr"?"Devre D Brak":M==="fr"?"Dsactiver":M==="de"?"Deaktivieren":"Disable":K.security.cards.twoFactor.action})]}),ce&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:K.security.cards.sessionHistory.title}),e.jsx("div",{className:"text-sm text-gray-500",children:K.security.cards.sessionHistory.description})]}),e.jsx("button",{onClick:()=>{try{const Re=document.getElementById("audit-logs-section");Re&&Re.scrollIntoView({behavior:"smooth",block:"start"})}catch(Re){he.debug("Audit log scroll failed",Re)}},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:K.security.cards.sessionHistory.action})]}),ce&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:K.security.cards.activeSessions.title}),e.jsx("div",{className:"text-sm text-gray-500",children:K.security.cards.activeSessions.description})]}),e.jsx("button",{onClick:()=>{y({open:!0,title:M==="tr"?"Oturumlar Sonlandr":M==="fr"?"Terminer les sessions":M==="de"?"Sitzungen beenden":"Terminate Sessions",message:M==="tr"?"Tm cihazlardaki oturumlar sonlandrlsn m? Bu cihazda oturuma devam edebilmeniz iin yeni bir token oluturulacak.":M==="fr"?"Mettre fin  toutes les sessions sur tous les appareils ? Un nouveau jeton sera mis pour continuer ici.":M==="de"?"Alle Sitzungen auf allen Gerten beenden? Fr dieses Gert wird ein neues Token ausgestellt.":"Terminate sessions on all devices? A new token will be issued to continue here.",tone:"info",confirmLabel:M==="tr"?"Evet, Sonlandr":M==="fr"?"Oui, terminer":M==="de"?"Ja, beenden":"Yes, terminate",cancelLabel:M==="tr"?"Vazge":M==="fr"?"Annuler":M==="de"?"Abbrechen":"Cancel",onConfirm:async()=>{try{const Re=await Sn.terminateAllSessions();if(Re?.token){yb(Re.token);try{await oe()}catch(rt){he.debug("Refresh after terminating sessions failed",rt)}y({open:!0,title:M==="tr"?"Oturumlar Sonlandrld":M==="fr"?"Sessions termines":M==="de"?"Sitzungen beendet":"Sessions terminated",message:M==="tr"?"Dier cihazlardaki oturumlar sonlandrld. Bu cihazda oturuma devam ediyorsunuz.":M==="fr"?"Les autres appareils ont t dconnects. Vous continuez sur cet appareil.":M==="de"?"Andere Gerte wurden abgemeldet. Sie bleiben auf diesem Gert angemeldet.":"Other devices were signed out. You remain signed in here.",tone:"success",cancelLabel:M==="tr"?"Bu cihazdan da k":M==="fr"?"Se dconnecter ici aussi":M==="de"?"Auch hier abmelden":"Sign out here too",onCancel:async()=>{try{await Se()}catch(rt){he.debug("Logout after terminating sessions failed",rt)}y(rt=>({...rt,open:!1}))},confirmLabel:M==="tr"?"Tamam":"OK",onConfirm:()=>y(rt=>({...rt,open:!1}))})}}catch(Re){N("Sessions",si(Re,"lem baarsz"),"error")}},onCancel:()=>y(Re=>({...Re,open:!1}))})},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:K.security.cards.activeSessions.action})]})]})]}),ce&&e.jsx("div",{id:"audit-logs-section",className:"border-t pt-6",children:e.jsx(L8,{})})]}),zt=()=>{const Re=async()=>{try{U(!0);const mt=An();if(he.debug("Export token presence",{hasToken:!!mt}),!mt){N(K.modals.authRequired.title,K.modals.authRequired.message,"error");return}he.debug("Making export data request");const Dt=await fetch("/api/users/me/export",{method:"GET",headers:{Authorization:`Bearer ${mt}`}});if(he.debug("Export response status",{status:Dt.status}),!Dt.ok){if(Dt.status===401){N(K.modals.sessionExpired.title,K.modals.sessionExpired.message,"error");return}const ht=await Dt.text();throw he.error("Export failed with response error",{status:Dt.status,errorText:ht}),new Error(`Export failed: ${Dt.status} - ${ht}`)}const _t=await Dt.blob(),jt=window.URL.createObjectURL(_t),Ie=document.createElement("a");Ie.style.display="none",Ie.href=jt,Ie.download=`my-data-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(Ie),Ie.click(),window.URL.revokeObjectURL(jt),document.body.removeChild(Ie),alert("Data exported successfully!")}catch(mt){he.error("Export error",mt),alert(`Failed to export data: ${mt instanceof Error?mt.message:String(mt)}`)}finally{U(!1)}},rt=async()=>{try{G(!0);const mt=An();if(!mt){N(K.modals.authRequired.title,K.modals.authRequired.message,"error"),G(!1);return}const Dt=await fetch("/api/users/me/delete",{method:"POST",headers:{Authorization:`Bearer ${mt}`,"Content-Type":"application/json"}});if(!Dt.ok){if(Dt.status===401){N(K.modals.sessionExpired.title,K.modals.sessionExpired.message,"error"),G(!1);return}throw new Error("Account deletion request failed")}const _t=await Dt.json();N(K.modals.deleteRequested.title,_t?.message||K.modals.deleteRequested.message,"success"),$(!1)}catch(mt){he.error("Account deletion error",mt),N(K.modals.deleteFailed.title,K.modals.deleteFailed.message,"error")}finally{G(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.privacy.title}),e.jsx("p",{className:"text-gray-600 mb-6",children:K.privacy.gdpr.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(vs,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:K.privacy.gdpr.export.title}),e.jsx("p",{className:"text-sm text-gray-500",children:K.privacy.gdpr.export.description})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:K.privacy.gdpr.export.disclaimer}),e.jsx("button",{onClick:Re,disabled:z,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:z?"Exporting...":K.privacy.gdpr.export.button})]}),e.jsxs("div",{className:"p-6 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(pn,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-800",children:K.privacy.gdpr.delete.title}),e.jsx("p",{className:"text-sm text-red-600",children:K.privacy.gdpr.delete.description})]})]}),e.jsx("p",{className:"text-xs text-red-600 mb-4",children:K.privacy.gdpr.delete.warning}),e.jsx("button",{onClick:()=>$(!0),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:K.privacy.gdpr.delete.button})]})]})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:K.privacy.gdpr.delete.confirmDialog.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:K.privacy.gdpr.delete.confirmDialog.message}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:K.privacy.gdpr.delete.confirmDialog.retention})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>$(!1),disabled:V,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:K.privacy.gdpr.delete.confirmDialog.cancel}),e.jsx("button",{onClick:rt,disabled:V,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:V?"Processing...":K.privacy.gdpr.delete.confirmDialog.confirm})]})]})})]})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4 lg:sticky lg:top-16 lg:z-30",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Gc,{className:"w-8 h-8 text-blue-600 mr-3"}),K.header.title]}),e.jsx("p",{className:"text-gray-600",children:K.header.subtitle})]}),s&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-orange-600",children:[e.jsx(Ku,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:K.header.unsavedChanges})]}),e.jsxs("button",{onClick:He,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Rp,{className:"w-4 h-4"}),e.jsx("span",{children:K.header.save})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-wrap gap-2 border-b border-gray-200 px-4 sm:px-6 py-3 overflow-x-auto",children:Ye.map(Re=>{const rt=Re.icon;return e.jsxs("button",{onClick:()=>o(Re.id),className:`flex items-center space-x-2 px-4 py-2 border-b-2 transition-colors ${n===Re.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm whitespace-nowrap",children:Re.label})]},Re.id)})})})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[n==="profile"&&ot(),n==="company"&&at(),n==="plan"&&Pe&&e.jsx($8,{tenant:le,currentLanguage:M,text:K}),n==="organization"&&e.jsx(R8,{}),n==="fiscal-periods"&&e.jsx(z8,{}),n==="notifications"&&ft(),n==="security"&&Kt(),n==="privacy"&&zt()]})}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:D==="enable"?M==="tr"?"ki Faktrl Dorulamay Etkinletir":M==="fr"?"Activer lauthentification  deux facteurs":M==="de"?"Zwei-Faktor-Authentifizierung aktivieren":"Enable Two-Factor Authentication":M==="tr"?"ki Faktrl Dorulamay Devre D Brak":M==="fr"?"Dsactiver lauthentification  deux facteurs":M==="de"?"Zwei-Faktor-Authentifizierung deaktivieren":"Disable Two-Factor Authentication"}),D==="enable"&&!Z&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:M==="tr"?"Authenticator uygulamanzla QR kodu tarayn veya gizli anahtar girin.":M==="fr"?"Scannez le QR avec votre application dauthentification ou saisissez la cl secrte.":M==="de"?"Scannen Sie den QR-Code mit Ihrer Authenticator-App oder geben Sie den geheimen Schlssel ein.":"Scan the QR with your authenticator app or enter the secret key."}),j?.qrCodeUrl&&e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("img",{alt:"2FA QR",className:"w-44 h-44",src:`https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(j.qrCodeUrl)}`})}),j?.secret&&e.jsxs("div",{className:"text-xs text-gray-700 bg-gray-50 border border-gray-200 rounded p-2 break-all",children:[M==="tr"?"Gizli Anahtar:":M==="fr"?"Cl secrte :":M==="de"?"Geheimer Schlssel:":"Secret key:"," ",j.secret]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M==="tr"?"6 Haneli Kod":M==="fr"?"Code  6 chiffres":M==="de"?"6-stelliger Code":"6-digit code"}),e.jsx("input",{inputMode:"numeric",pattern:"[0-9]*",value:P,onChange:Re=>R(Re.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"123456"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:We,disabled:L||(P||"").length!==6,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:L?M==="tr"?"leniyor":"Processing":M==="tr"?"Etkinletir":M==="fr"?"Activer":M==="de"?"Aktivieren":"Enable"}),e.jsx("button",{onClick:De,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:M==="tr"?"Vazge":M==="fr"?"Annuler":M==="de"?"Abbrechen":"Cancel"})]})]}),D==="enable"&&Z&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-700",children:M==="tr"?"Yedek kodlarnz gvenli bir yerde saklayn. Bu kodlar yalnzca bir kez gsterilir.":M==="fr"?"Conservez vos codes de secours en lieu sr. Ils ne sont affichs quune seule fois.":M==="de"?"Bewahren Sie Ihre Backup-Codes sicher auf. Diese werden nur einmal angezeigt.":"Store your backup codes safely. These are shown only once."}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Z.map((Re,rt)=>e.jsx("div",{className:"px-2 py-1 bg-gray-50 border border-gray-200 rounded font-mono",children:Re},rt))}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.jsx("button",{onClick:vt,className:"px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 text-xs",children:M==="tr"?"Tmn Kopyala":M==="fr"?"Tout copier":M==="de"?"Alle kopieren":"Copy All"}),e.jsx("button",{onClick:At,className:"px-3 py-1 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 text-xs",children:M==="tr"?"ndir (.txt)":M==="fr"?"Tlcharger (.txt)":M==="de"?"Herunterladen (.txt)":"Download (.txt)"}),e.jsx("button",{onClick:Nt,disabled:L,className:"px-3 py-1 bg-orange-500 text-white rounded hover:bg-orange-600 disabled:opacity-50 text-xs",children:L?M==="tr"?"leniyor":"":M==="tr"?"Yeniden Olutur":M==="fr"?"Rgnrer":M==="de"?"Neu erzeugen":"Regenerate"})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsx("button",{onClick:De,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:M==="tr"?"Tamam":"OK"})})]}),D==="disable"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:M==="tr"?"2FAy devre d brakmak iin geerli 6 haneli kodu veya bir yedek kodu girin.":M==="fr"?"Saisissez un code  6 chiffres ou un code de secours pour dsactiver 2FA.":M==="de"?"Geben Sie einen gltigen 6-stelligen Code oder einen Backup-Code ein, um 2FA zu deaktivieren.":"Enter a valid 6-digit code or a backup code to disable 2FA."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M==="tr"?"Kod":"Code"}),e.jsx("input",{value:P,onChange:Re=>R(Re.target.value.toUpperCase().slice(0,8)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"123456 veya ABCD1234"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:We,disabled:L||!(P||"").length,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:L?M==="tr"?"leniyor":"Processing":M==="tr"?"Devre D Brak":M==="fr"?"Dsactiver":M==="de"?"Deaktivieren":"Disable"}),e.jsx("button",{onClick:De,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors",children:M==="tr"?"Vazge":M==="fr"?"Annuler":M==="de"?"Abbrechen":"Cancel"})]})]})]})}),e.jsx(Ra,{isOpen:u,onClose:()=>x(!1),title:K.modals.saveSuccess.title,message:K.modals.saveSuccess.message,confirmLabel:X("common.ok"),tone:"success",autoCloseMs:1800}),e.jsx(Ra,{isOpen:b,onClose:()=>g(!1),title:K.modals.saveError.title,message:K.modals.saveError.message,confirmLabel:X("common.ok"),tone:"error"}),e.jsx(Ra,{isOpen:v.open,onClose:()=>y(Re=>({...Re,open:!1})),title:v.title,message:v.message,confirmLabel:v.confirmLabel||X("common.ok"),cancelLabel:v.cancelLabel,onConfirm:v.onConfirm,onCancel:v.onCancel,tone:v.tone})]})}const vp={tr:{title:"Beklenmeyen bir hata olutu",message:a=>`Blm: ${a}. Ltfen sayfay yenileyin veya tekrar deneyin.`,actionLabel:"Sayfay Yenile",defaultSectionLabel:"Uygulama"},en:{title:"An unexpected error occurred",message:a=>`Section: ${a}. Please refresh the page or try again.`,actionLabel:"Refresh Page",defaultSectionLabel:"Application"},fr:{title:"Une erreur inattendue est survenue",message:a=>`Section : ${a}. Veuillez actualiser la page ou ressayer.`,actionLabel:"Actualiser la page",defaultSectionLabel:"Application"},de:{title:"Ein unerwarteter Fehler ist aufgetreten",message:a=>`Bereich: ${a}. Bitte laden Sie die Seite neu oder versuchen Sie es erneut.`,actionLabel:"Seite neu laden",defaultSectionLabel:"Anwendung"}};class Y8 extends Gt.Component{constructor(m){super(m),this.state={hasError:!1,error:null}}static getDerivedStateFromError(m){return{hasError:!0,error:m}}componentDidCatch(m,t){try{console.error(`[ErrorBoundary:${this.props.name||"root"}]`,m,t);const h=new CustomEvent("showToast",{detail:{message:"Bir hata olutu: "+(m?.message||"Bilinmeyen"),tone:"error"}});window.dispatchEvent(h)}catch{}}handleReload=()=>{try{window.location.reload()}catch{}};render(){if(this.state.hasError){const m=this.props.texts??vp.tr,t=this.props.name||m.defaultSectionLabel;return this.props.fallback||e.jsxs("div",{style:{padding:"32px",maxWidth:640,margin:"40px auto",fontFamily:"system-ui"},children:[e.jsx("h2",{style:{fontSize:"20px",fontWeight:600,marginBottom:"12px"},children:m.title}),e.jsx("p",{style:{color:"#555",marginBottom:"16px"},children:m.message(t)}),e.jsx("pre",{style:{background:"#f8f8f8",padding:"12px",borderRadius:"6px",fontSize:"12px",overflowX:"auto"},children:String(this.state.error?.message||this.state.error||"")}),e.jsx("button",{onClick:this.handleReload,style:{marginTop:"16px",background:"#2563eb",color:"#fff",padding:"10px 18px",borderRadius:"6px",border:"none",cursor:"pointer"},children:m.actionLabel})]})}return this.props.children}}const jf=({texts:a,...m})=>{const{currentLanguage:t}=Fa(),h=a??vp[t]??vp.tr;return e.jsx(Y8,{...m,texts:h})},Wx=a=>typeof a=="object"&&a!==null?a:{},Q8=()=>bo.getToken(),Tr=()=>{const a=Q8();return a?{"admin-token":a}:{}},mr={login:async(a,m,t)=>(await nt.post("/admin/login",{username:a,password:m,totp:t})).data,getUsers:async a=>{const m=a?`?tenantId=${encodeURIComponent(a)}`:"";return(await nt.get(`/admin/users${m}`,{headers:Tr()})).data},exportUsersCsv:async a=>{const m=a?`?tenantId=${encodeURIComponent(a)}`:"";return(await nt.get(`/admin/users/export-csv${m}`,{headers:Tr(),responseType:"blob"})).data},getSecurityConfig:async()=>(await nt.get("/admin/security/config",{headers:Tr()})).data,updateAdminCredentials:async a=>(await nt.post("/admin/security/credentials",a,{headers:Tr()})).data,twoFASetup:async()=>(await nt.post("/admin/security/2fa/setup",{},{headers:Tr()})).data,twoFAVerify:async a=>(await nt.post("/admin/security/2fa/verify",a,{headers:Tr()})).data,twoFADisable:async()=>(await nt.post("/admin/security/2fa/disable",{},{headers:Tr()})).data,getTenants:async a=>{const m=new URLSearchParams;a?.status&&m.append("status",a.status),a?.plan&&m.append("plan",a.plan),a?.startFrom&&m.append("startFrom",a.startFrom),a?.startTo&&m.append("startTo",a.startTo);const t=m.toString()?`?${m.toString()}`:"";return(await nt.get(`/admin/tenants${t}`,{headers:Tr()})).data},getUserData:async a=>(await nt.get(`/admin/user/${a}/data`,{headers:Tr()})).data,getTenantData:async a=>(await nt.get(`/admin/tenant/${a}/data`,{headers:Tr()})).data,getTables:async()=>(await nt.get("/admin/tables",{headers:Tr()})).data,getTableData:async(a,m,t,h)=>{const f=new URLSearchParams;return m&&f.append("tenantId",m),t&&f.append("limit",t.toString()),h&&f.append("offset",h.toString()),(await nt.get(`/admin/table/${a}?${f.toString()}`,{headers:Tr()})).data},getRetentionConfig:async()=>(await nt.get("/admin/retention/config",{headers:Tr()})).data,getRetentionStatus:async()=>(await nt.get("/admin/retention/status",{headers:Tr()})).data,getRetentionHistory:async(a,m)=>{const t=new URLSearchParams;return a&&t.append("limit",a.toString()),m&&t.append("offset",m.toString()),(await nt.get(`/admin/retention/history?${t.toString()}`,{headers:Tr()})).data},executeRetentionDryRun:async()=>(await nt.post("/admin/retention/dry-run",{},{headers:Tr()})).data,executeRetention:async()=>(await nt.post("/admin/retention/execute",{confirm:!0},{headers:Tr()})).data,listOrganizations:async()=>(await nt.get("/admin/organizations",{headers:Tr()})).data,getOrganizationMembers:async a=>(await nt.get(`/admin/organizations/${a}/members`,{headers:Tr()})).data,getOrganizationInvites:async a=>(await nt.get(`/admin/organizations/${a}/invites`,{headers:Tr()})).data,updateMemberRole:async(a,m,t)=>(await nt.patch(`/admin/organizations/${a}/members/${m}/role`,{role:t},{headers:Tr()})).data,removeMember:async(a,m)=>(await nt.delete(`/admin/organizations/${a}/members/${m}`,{headers:Tr()})).data,updateUserStatus:async(a,m)=>(await nt.patch(`/admin/users/${a}/status`,{isActive:m},{headers:Tr()})).data,markUserVerified:async a=>(await nt.post(`/admin/users/${a}/verify`,{},{headers:Tr()})).data,updateUserDetails:async(a,m)=>(await nt.patch(`/admin/users/${a}`,m,{headers:Tr()})).data,sendPasswordReset:async a=>(await nt.post(`/admin/users/${a}/password-reset`,{},{headers:Tr()})).data,updateTenantDetails:async(a,m)=>(await nt.patch(`/admin/tenant/${a}`,m,{headers:Tr()})).data,updateTenantSubscription:async(a,m)=>(await nt.patch(`/admin/tenant/${a}/subscription`,m,{headers:Tr()})).data,deleteTenant:async(a,m)=>{try{return(await nt.patch(`/admin/tenant/${a}/delete`,{confirm:!0,hard:m?.hard??!0,backupBefore:m?.backupBefore??!1},{headers:Tr()})).data}catch(t){const h=Wx(t),f=h.response?.status,c=h.response?.data?.message||h.message;throw new Error(`Silme hatas${f?` (HTTP ${f})`:""}: ${c||"Bilinmeyen"}`)}},deleteUser:async(a,m)=>(await nt.delete(`/admin/users/${a}`,{headers:Tr(),data:{confirm:!0,hard:m?.hard??!1}})).data,getPlanLimits:async()=>(await nt.get("/admin/plan-limits",{headers:Tr()})).data,updatePlanLimits:async(a,m)=>(await nt.patch(`/admin/plan-limits/${a}`,m,{headers:Tr()})).data,getTenantLimits:async a=>(await nt.get(`/admin/tenant/${a}/limits`,{headers:Tr()})).data,updateTenantLimits:async(a,m)=>(await nt.patch(`/admin/tenant/${a}/limits`,m,{headers:Tr()})).data,getTenantOverview:async a=>(await nt.get(`/admin/tenant/${a}/overview`,{headers:Tr()})).data,getTenantSubscriptionRaw:async a=>(await nt.get(`/admin/tenant/${a}/subscription-raw`,{headers:Tr()})).data,getTenantInvoices:async a=>{try{return(await nt.get(`/admin/tenant/${a}/invoices`,{headers:Tr()})).data}catch(m){if(Wx(m).response?.status===404)return{invoices:[]};throw m}},addUserToTenant:async(a,m)=>(await nt.post(`/admin/tenant/${a}/users`,m,{headers:Tr()})).data,enforceTenantDowngrade:async a=>(await nt.post(`/admin/tenant/${a}/enforce-downgrade`,{confirm:!0},{headers:Tr()})).data},hi="/admin/backups",fi=()=>{const a=bo.getToken();return{headers:a?{"admin-token":a}:{}}},Qi={list:async a=>{const m=a?{type:a}:{};return(await nt.get(hi,{params:m,...fi()})).data},listUserBackups:async a=>(await nt.get(`${hi}/user/${a}`,fi())).data,createSystemBackup:async a=>(await nt.post(`${hi}/system`,{description:a},fi())).data,createUserBackup:async(a,m)=>(await nt.post(`${hi}/user/${a}`,{description:m},fi())).data,createTenantBackup:async(a,m)=>(await nt.post(`${hi}/tenant/${a}`,{description:m},fi())).data,restoreSystem:async a=>(await nt.post(`${hi}/restore/system/${a}`,{confirm:!0},fi())).data,restoreUser:async(a,m)=>(await nt.post(`${hi}/restore/user/${a}/${m}`,{confirm:!0},fi())).data,restoreTenant:async(a,m)=>(await nt.post(`${hi}/restore/tenant/${a}/${m}`,{confirm:!0},fi())).data,delete:async a=>(await nt.delete(`${hi}/${a}`,fi())).data,cleanup:async()=>(await nt.post(`${hi}/cleanup`,{},fi())).data,getStatistics:async()=>(await nt.get(`${hi}/statistics`,fi())).data};function Z8(){const{t:a}=Zt("common"),[m,t]=W.useState([]),[h,f]=W.useState(null),[c,n]=W.useState([]),[o,i]=W.useState(!1),[r,s]=W.useState("all"),[l,d]=W.useState(""),[u,x]=W.useState({show:!1,type:"system"}),[b,g]=W.useState(null),v=D=>{if(D&&typeof D=="object"&&"message"in D){const A=D.message;if(typeof A=="string")return A}return""},y=W.useCallback(async()=>{try{i(!0);const D=r==="all"?await Qi.list():await Qi.list(r);t(D)}catch(D){V("error","Backup listesi yklenemedi: "+v(D))}finally{i(!1)}},[r]);W.useEffect(()=>{y(),N(),E()},[r,y]);const N=async()=>{try{const D=await Qi.getStatistics();f(D)}catch(D){console.error("statistikler yklenemedi:",D)}},E=async()=>{try{const D=await mr.getUsers();n(D)}catch(D){console.error("Kullanclar yklenemedi:",D)}},I=async()=>{try{i(!0),await Qi.createSystemBackup("Manuel sistem yedei"),V("success","Sistem yedei oluturuldu"),y(),N()}catch(D){V("error","Yedek oluturulamad: "+v(D))}finally{i(!1)}},O=async()=>{if(!l){V("error","Ltfen bir kullanc sein");return}try{i(!0),await Qi.createUserBackup(l,"Manuel kullanc yedei"),V("success","Kullanc yedei oluturuldu"),y(),N()}catch(D){V("error","Yedek oluturulamad: "+v(D))}finally{i(!1)}},$=async()=>{if(u.backup)try{i(!0),u.type==="system"?(await Qi.restoreSystem(u.backup.id),V("success","Sistem geri yklendi! Sayfa yenileniyor..."),setTimeout(()=>window.location.reload(),2e3)):u.type==="user"&&(await Qi.restoreUser(u.backup.entityId,u.backup.id),V("success","Kullanc verileri geri yklendi")),x({show:!1,type:"system"}),y()}catch(D){V("error","Geri ykleme baarsz: "+v(D))}finally{i(!1)}},z=async D=>{if(confirm(a("admin.backups.deleteConfirm","Bu yedei silmek istediinizden emin misiniz?")))try{i(!0),await Qi.delete(D),V("success","Yedek silindi"),y(),N()}catch(A){V("error","Yedek silinemedi: "+v(A))}finally{i(!1)}},U=async()=>{if(confirm(a("admin.backups.deleteOlderThanConfirm","30 gnden eski tm yedekleri silmek istediinizden emin misiniz?")))try{i(!0);const D=await Qi.cleanup();V("success",D.message),y(),N()}catch(D){V("error","Temizleme baarsz: "+v(D))}finally{i(!1)}},V=(D,A)=>{g({type:D,text:A}),setTimeout(()=>g(null),5e3)},G=D=>{if(D===0)return"0 Bytes";const A=1024,k=["Bytes","KB","MB","GB"],S=Math.floor(Math.log(D)/Math.log(A));return Math.round(D/Math.pow(A,S)*100)/100+" "+k[S]},B=D=>new Date(D).toLocaleString("tr-TR"),T=D=>{switch(D){case"system":return e.jsx(Wu,{className:"h-5 w-5"});case"user":return e.jsx(is,{className:"h-5 w-5"});case"tenant":return e.jsx(Jr,{className:"h-5 w-5"});default:return e.jsx(La,{className:"h-5 w-5"})}};return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(La,{className:"h-8 w-8"}),"Yedekleme Ynetimi"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Sistem ve kullanc bazl yedeklerinizi ynetin"})]}),b&&e.jsxs("div",{className:`mb-4 p-4 rounded-lg flex items-center gap-2 ${b.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[b.type==="success"?e.jsx(Fs,{className:"h-5 w-5"}):e.jsx(Sl,{className:"h-5 w-5"}),b.text]}),h&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Yedek"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.total})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Sistem Yedekleri"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.systemBackups})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Kullanc Yedekleri"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.userBackups})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Boyut"}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[h.totalSizeMB," MB"]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Yeni Yedek Olutur"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Wu,{className:"h-5 w-5 text-blue-600"}),"Sistem Yedei"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tm veritabannn yedeini alr"}),e.jsxs("button",{onClick:I,disabled:o,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Sistem Yedei Al"]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5 text-green-600"}),"Kullanc Yedei"]}),e.jsxs("select",{value:l,onChange:D=>d(D.target.value),className:"w-full mb-3 px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Kullanc Sein"}),c.map(D=>e.jsxs("option",{value:D.id,children:[D.firstName," ",D.lastName," (",D.email,")"]},D.id))]}),e.jsxs("button",{onClick:O,disabled:o||!l,className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Kullanc Yedei Al"]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:U,disabled:o,className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg border border-red-200 flex items-center gap-2",children:[e.jsx(Yr,{className:"h-4 w-4"}),"Eski Yedekleri Temizle (30+ gn)"]})})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filtre:"}),["all","system","user","tenant"].map(D=>e.jsx("button",{onClick:()=>s(D),className:`px-3 py-1 rounded-lg text-sm ${r===D?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D==="all"?"Tm":D==="system"?"Sistem":D==="user"?"Kullanc":"Tenant"},D))]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h2",{className:"text-lg font-semibold",children:["Yedekler (",m.length,")"]})}),o?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Ykleniyor..."}):m.length===0?e.jsx("div",{className:"p-8 text-center text-gray-500",children:"Henz yedek bulunmuyor"}):e.jsx("div",{className:"divide-y divide-gray-200",children:m.map(D=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${D.type==="system"?"bg-blue-100 text-blue-600":D.type==="user"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:T(D.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:D.type==="system"?"Sistem Yedei":D.type==="user"?`Kullanc: ${D.entityName}`:`Tenant: ${D.entityName}`}),e.jsx("span",{className:"text-xs text-gray-500",children:G(D.size)})]}),D.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Oa,{className:"h-4 w-4"}),B(D.createdAt)]}),e.jsx("span",{className:"text-xs font-mono",children:D.filename})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>{let A="system";D.type==="user"?A="user":D.type==="tenant"&&(A="tenant"),x({show:!0,backup:D,type:A})},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1 text-sm",children:[e.jsx(zp,{className:"h-4 w-4"}),"Geri Ykle"]}),e.jsxs("button",{onClick:()=>z(D.id),className:"px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 flex items-center gap-1 text-sm",children:[e.jsx(Yr,{className:"h-4 w-4"}),"Sil"]})]})]})},D.id))})]}),u.show&&u.backup&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:e.jsx(pn,{className:"h-6 w-6 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-semibold",children:"Geri Ykleme Onay"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:u.type==="system"?e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Dikkat:"})," Tm sistem ",B(u.backup.createdAt)," tarihine geri yklenecek. Bu ilem geri alnamaz!"]}):e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:u.backup.entityName})," kullancsnn verileri"," ",B(u.backup.createdAt)," tarihine geri yklenecek. Dier kullanclar etkilenmeyecek."]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>x({show:!1,type:"system"}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"ptal"}),e.jsx("button",{onClick:$,disabled:o,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Geri Ykleniyor...":"Onayla"})]})]})})]})}function X8(){const[a,m]=W.useState(null),[t,h]=W.useState(null),[f,c]=W.useState([]),[n,o]=W.useState(!1),[i,r]=W.useState(!1),[s,l]=W.useState("overview"),[d,u]=W.useState(""),[x,b]=W.useState("");W.useEffect(()=>{g()},[]);const g=async()=>{try{o(!0);const[z,U,V]=await Promise.all([mr.getRetentionConfig(),mr.getRetentionStatus(),mr.getRetentionHistory()]);z.success&&m(z.config),U.success&&h(U),V.success&&c(V.history)}catch(z){const U=z&&typeof z=="object"&&"message"in z?String(z.message||""):"";u("Failed to load retention data: "+U)}finally{o(!1)}},v=async()=>{try{r(!0),u(""),b(""),(await mr.executeRetentionDryRun()).success&&(b("Dry-run completed successfully. Check the output below."),await g())}catch(z){const U=z&&typeof z=="object"&&"message"in z?String(z.message||""):"";u("Dry-run failed: "+U)}finally{r(!1)}},y=async()=>{if(window.confirm(` WARNING: This will permanently delete data!

Are you absolutely sure you want to proceed with live purge?

This action cannot be undone.`))try{r(!0),u(""),b(""),(await mr.executeRetention()).success&&(b("Live purge completed successfully. Data has been permanently deleted."),await g())}catch(U){const V=U&&typeof U=="object"&&"message"in U?String(U.message||""):"";u("Live purge failed: "+V)}finally{r(!1)}},N=z=>new Date(z).toLocaleString("tr-TR"),E=z=>z.legalHold?e.jsx("span",{title:"Legal Hold - Protected",children:e.jsx(Ds,{className:"w-5 h-5 text-yellow-600"})}):e.jsx("span",{title:"Active Retention Policy",children:e.jsx(Oa,{className:"w-5 h-5 text-blue-600"})}),I=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Temizlenebilir Sistem Loglar"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:t?.statistics.eligibleAuditLogs||0})]}),e.jsx(La,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-800 text-sm font-medium",children:"Sresi Dolmu irketler"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:t?.statistics.expiredTenants||0})]}),e.jsx(AC,{className:"w-8 h-8 text-orange-600"})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-800 text-sm font-medium",children:"Eski Yedek Dosyalar"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:t?.statistics.expiredBackupFiles||0})]}),e.jsx(Yr,{className:"w-8 h-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Toplam Temizlenebilir"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:t?.statistics.totalEligibleRecords||0})]}),e.jsx(pm,{className:"w-8 h-8 text-green-600"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx($b,{className:"w-5 h-5 mr-2"}),"Veri Temizleme lemleri"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:v,disabled:i||n,className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Wr,{className:"w-5 h-5 mr-2"}),i?"alyor...":"Test altr (Dry Run)"]}),e.jsxs("button",{onClick:y,disabled:i||n,className:"flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Yr,{className:"w-5 h-5 mr-2"}),i?"altrlyor...":"Gerek Temizlik Yap"]})]}),e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(pn,{className:"w-5 h-5 text-yellow-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium",children:"Gvenlik Kurallar:"}),e.jsxs("ul",{className:"mt-1 space-y-1",children:[e.jsxs("li",{children:[" nce ",e.jsx("strong",{children:"Test altr"})," ile hangi verilerin silineceini grn"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Gerek Temizlik"})," verileri kalc olarak siler - yedeklerinizin olduundan emin olun"]}),e.jsx("li",{children:" Hukuki koruma (muhasebe belgeleri) altndaki kaytlar otomatik korunur"}),e.jsx("li",{children:" Tm ilemler denetim kaydnda loglanr"})]})]})]})})]}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sl,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-red-800",children:d})]})}),x&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fs,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("p",{className:"text-green-800",children:x})]})}),t&&e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:["Last updated: ",N(t.lastUpdated)]})]}),O=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx(Gc,{className:"w-5 h-5 mr-2"}),"Retention Policies"]}),a&&e.jsx("div",{className:"space-y-4",children:Object.entries(a.retentionPolicies).map(([z,U])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start",children:[E(U),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"font-semibold text-gray-800 capitalize",children:z.replace("_"," ")}),e.jsx("p",{className:"text-gray-600 text-sm",children:U.description}),U.note&&e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[" ",U.note]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.retentionPeriod}),e.jsxs("div",{className:"text-xs text-gray-500",children:[U.retentionDays," days"]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:U.categories.map(V=>e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${U.legalHold?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:V},V))})})]},z))}),a&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"Global Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${a.globalSettings.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.globalSettings.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Dry Run Default:"}),e.jsx("span",{className:"ml-2",children:a.globalSettings.dryRunByDefault?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Audit Retention:"}),e.jsx("span",{className:"ml-2",children:a.globalSettings.auditRetention?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Max Records Per Run:"}),e.jsx("span",{className:"ml-2",children:a.globalSettings.maxPurgeRecordsPerRun})]})]})]})]})}),$=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[e.jsx(Or,{className:"w-5 h-5 mr-2"}),"Retention Job History"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Policy"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N(z.timestamp)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:z.details.policy}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:z.details.category}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsxs("div",{children:["Eligible: ",z.details.eligibleRecords]}),e.jsxs("div",{children:["Purged: ",z.details.purgedRecords]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[z.details.dryRun?e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:"Dry Run"}):e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Live Purge"}),z.details.errors.length>0&&e.jsx("span",{title:"Had errors",children:e.jsx(pn,{className:"w-4 h-4 text-yellow-600 ml-2"})})]})})]},z.id))})]}),f.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No retention job history found"})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[e.jsx(La,{className:"w-8 h-8 mr-3 text-blue-600"}),"Veri Temizleme Ynetimi"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Otomatik veri temizleme ve saklama politikalarn ynetin"})]}),e.jsxs("button",{onClick:g,disabled:n,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors",children:[e.jsx(Fc,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Yenile"]})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:[e.jsx("button",{onClick:()=>l("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="overview"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Genel Bak"}),e.jsx("button",{onClick:()=>l("config"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="config"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Yaplandrma"}),e.jsx("button",{onClick:()=>l("history"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="history"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Gemi"})]}),n&&e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Fc,{className:"w-6 h-6 animate-spin text-blue-600 mr-2"}),e.jsx("span",{className:"text-gray-600",children:"Loading retention data..."})]}),!n&&e.jsxs(e.Fragment,{children:[s==="overview"&&I(),s==="config"&&O(),s==="history"&&$()]})]})}const J8={free:"Starter",professional:"Pro",enterprise:"Business"},ol=({value:a,onChange:m,label:t})=>{const[h,f]=W.useState(String(a));return W.useEffect(()=>f(String(a)),[a]),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:t}),e.jsx("input",{type:"number",value:h,onChange:c=>f(c.target.value),onBlur:()=>{const c=parseInt(h,10);if(isNaN(c))return f(String(a));m(c)},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),e.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"-1 = Snrsz"})]})},eE=()=>{const[a,m]=W.useState({}),[t,h]=W.useState(!1),[f,c]=W.useState(""),n=async()=>{try{h(!0);const s=(await mr.getPlanLimits())?.limits||{};m(s)}catch(r){console.error("Plan limitleri alnamad",r)}finally{h(!1)}};W.useEffect(()=>{n()},[]);const o=async(r,s)=>{try{h(!0),await mr.updatePlanLimits(r,s),c("Kaydedildi"),setTimeout(()=>c(""),2e3),n()}catch(l){console.error("Gncelleme baarsz",l)}finally{h(!1)}},i=r=>{const s=a[r];return s?e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:J8[r]}),e.jsx("button",{disabled:t,onClick:()=>n(),className:"text-sm text-gray-600 hover:text-gray-900",children:"Yenile"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ol,{label:"Maks. Kullanc",value:s.maxUsers,onChange:l=>o(r,{maxUsers:l})}),e.jsx(ol,{label:"Maks. Mteri",value:s.maxCustomers,onChange:l=>o(r,{maxCustomers:l})}),e.jsx(ol,{label:"Maks. Tedariki",value:s.maxSuppliers,onChange:l=>o(r,{maxSuppliers:l})}),e.jsx(ol,{label:"Maks. Banka Hesab",value:s.maxBankAccounts,onChange:l=>o(r,{maxBankAccounts:l})}),e.jsx(ol,{label:"Aylk Maks. Fatura",value:s.monthly?.maxInvoices??-1,onChange:l=>o(r,{monthly:{maxInvoices:l}})}),e.jsx(ol,{label:"Aylk Maks. Gider",value:s.monthly?.maxExpenses??-1,onChange:l=>o(r,{monthly:{maxExpenses:l}})})]})]},r):null};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Plan Limitleri"}),f&&e.jsx("div",{className:"text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:f})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Plan limitlerini burada grntleyebilir ve dzenleyebilirsiniz. Deiiklikler annda geerlidir ve sunucu yeniden balatldnda config/plan-limits.json dosyasndan yklenir."}),t&&e.jsx("div",{className:"text-sm text-gray-500 mb-3",children:"Ykleniyor"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["free","professional","enterprise"].map(i)})]})},tE=()=>bo.getToken(),rE=()=>{const a=tE();return a?{"admin-token":a}:{}},Uc={getSettings:async()=>(await nt.get("/site-settings")).data,updateSettings:async a=>(await nt.put("/site-settings",a,{headers:rE()})).data};function sE(){const[a,m]=W.useState({enableIndexing:!0}),[t,h]=W.useState(!0),[f,c]=W.useState(!1),[n,o]=W.useState(null);W.useEffect(()=>{i()},[]);const i=async()=>{try{h(!0);const l=await Uc.getSettings();m(l),o(null)}catch(l){console.error("Failed to load site settings:",l);const d=l.response?.data?.message||l.message||"Failed to load settings. Backend may not be ready.";o({type:"error",text:d})}finally{h(!1)}},r=async()=>{try{c(!0),o(null),await Uc.updateSettings(a),o({type:"success",text:"Settings saved successfully!"}),await i();try{window.dispatchEvent(new CustomEvent("siteSettingsUpdated"))}catch{}}catch(l){console.error("Failed to save settings:",l),o({type:"error",text:l.response?.data?.message||"Failed to save settings"})}finally{c(!1)}},s=(l,d)=>{m(u=>({...u,[l]:d}))};return t?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center text-gray-600",children:"Loading settings..."})}):e.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Site Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage global SEO metadata and analytics tracking codes"})]}),n&&e.jsxs("div",{className:`mb-6 p-4 rounded-lg border flex items-start gap-3 ${n.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[n.type==="success"?e.jsx(Dp,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}):e.jsx(rp,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:n.text})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Duyurular & Bakm Modu"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Duyuru ubuu"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"announcementEnabled",checked:!!a.announcementEnabled,onChange:l=>s("announcementEnabled",l.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"announcementEnabled",className:"text-sm font-medium text-gray-700",children:"Duyuru ubuunu etkinletir"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7",children:"Bu mesaj, uygulamann st ksmnda tm kullanclar iin gsterilir."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 ml-7",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duyuru Tipi"}),e.jsxs("select",{value:a.announcementType||"info",onChange:l=>s("announcementType",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duyuru Mesaj"}),e.jsx("textarea",{value:a.announcementMessage||"",onChange:l=>s("announcementMessage",l.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"rn: Cuma 22:00 - 23:00 aras bakm almas yaplacaktr."})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Bakm Modu (Salt Okunur)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"maintenanceModeEnabled",checked:!!a.maintenanceModeEnabled,onChange:l=>s("maintenanceModeEnabled",l.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"maintenanceModeEnabled",className:"text-sm font-medium text-gray-700",children:"Bakm modunu etkinletir (yazma ilemleri engellenir)"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7",children:"Etkinletirildiinde, normal kullanclarn oluturma/gncelleme/silme ilemleri geici olarak engellenir. Ynetici paneli aktr."}),e.jsxs("div",{className:"ml-7",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bakm Mesaj"}),e.jsx("textarea",{value:a.maintenanceMessage||"",onChange:l=>s("maintenanceMessage",l.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"rn: Sistem bakmda, ltfen bir sre sonra tekrar deneyin."})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" SEO Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Site Title"}),e.jsx("input",{type:"text",value:a.defaultMetaTitle||"",onChange:l=>s("defaultMetaTitle",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g. Comptario - Accounting Dashboard"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This will be used as the default page title when individual pages don't specify one"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Meta Description"}),e.jsx("textarea",{value:a.defaultMetaDescription||"",onChange:l=>s("defaultMetaDescription",l.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"A brief description of your site..."}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"160 characters or less recommended for optimal display in search results"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Open Graph Image URL"}),e.jsx("input",{type:"url",value:a.defaultOgImageUrl||"",onChange:l=>s("defaultOgImageUrl",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://example.com/og-image.jpg"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Image shown when your site is shared on social media (1200x630px recommended)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Canonical Base URL"}),e.jsx("input",{type:"url",value:a.canonicalBaseUrl||"",onChange:l=>s("canonicalBaseUrl",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://yoursite.com"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your site's primary domain (used for canonical URLs)"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("input",{type:"checkbox",id:"enableIndexing",checked:a.enableIndexing??!0,onChange:l=>s("enableIndexing",l.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"enableIndexing",className:"text-sm font-medium text-gray-700",children:"Allow search engines to index this site"})]}),e.jsx("p",{className:"text-xs text-gray-500 ml-7",children:"If unchecked, a noindex meta tag will be added to all pages"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Analytics & Tracking"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Analytics (GA4) Measurement ID"}),e.jsx("input",{type:"text",value:a.googleAnalyticsId||"",onChange:l=>s("googleAnalyticsId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"G-XXXXXXXXXX"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Find this in your Google Analytics 4 property settings"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Tag Manager ID"}),e.jsx("input",{type:"text",value:a.googleTagManagerId||"",onChange:l=>s("googleTagManagerId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"GTM-XXXXXXX"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Google Tag Manager container ID from your GTM account"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pinterest Tag ID"}),e.jsx("input",{type:"text",value:a.pinterestTagId||"",onChange:l=>s("pinterestTagId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"1234567890123"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Pinterest Tag ID for conversion tracking"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meta/Facebook Pixel ID"}),e.jsx("input",{type:"text",value:a.metaPixelId||"",onChange:l=>s("metaPixelId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123456789012345"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Facebook Pixel ID for ads tracking and conversion optimization"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn Insight Tag ID"}),e.jsx("input",{type:"text",value:a.linkedinInsightTagId||"",onChange:l=>s("linkedinInsightTagId",l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123456"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"LinkedIn Insight Tag Partner ID for B2B analytics"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" Advanced HTML Injection"}),e.jsxs("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-md text-sm text-amber-800",children:[e.jsx("strong",{children:" Warning:"})," Only add code from trusted sources. Invalid HTML can break your site."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom <head> HTML"}),e.jsx("textarea",{value:a.customHeadHtml||"",onChange:l=>s("customHeadHtml",l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-xs",placeholder:"<script>...<\/script> or <link>...</link>"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Raw HTML injected into <head> section (e.g., verification tags, custom scripts)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom <body> Start HTML"}),e.jsx("textarea",{value:a.customBodyStartHtml||"",onChange:l=>s("customBodyStartHtml",l.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-xs",placeholder:"<noscript>...</noscript> or <div>...</div>"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Injected right after opening <body> tag (e.g., GTM noscript, body-level scripts)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom <body> End HTML"}),e.jsx("textarea",{value:a.customBodyEndHtml||"",onChange:l=>s("customBodyEndHtml",l.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-xs",placeholder:"<script>...<\/script>"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Injected right before closing </body> tag (e.g., analytics, chat widgets)"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:r,disabled:f,className:"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(Rp,{className:"h-4 w-4"}),f?"Saving...":"Save Settings"]})})]})]})}const nE=()=>{const[a,m]=W.useState([]),[t,h]=W.useState(""),[f,c]=W.useState(""),[n,o]=W.useState(null),[i,r]=W.useState(!1),[s,l]=W.useState(""),[d,u]=W.useState(""),[x,b]=W.useState(!1),[g,v]=W.useState({}),[y,N]=W.useState([]),[E,I]=W.useState([]),[O,$]=W.useState(!1),[z,U]=W.useState(null),[V,G]=W.useState(!1),[B,T]=W.useState(!1),D=W.useRef(""),A=te=>{if(!te)return"STARTER";const we=String(te).toLowerCase();return we.includes("enterprise")||we==="business"?"BUSINESS":we.includes("professional")||we==="pro"?"PRO":"STARTER"},k=te=>{const we=String(te).toUpperCase();return we==="BUSINESS"?"enterprise":we==="PRO"?"professional":"basic"};W.useEffect(()=>{(async()=>{try{r(!0);const we=await mr.getTenants();m(Array.isArray(we)?we:[])}catch(we){const Ue=we?.response?.status;l(Ue===401?"Admin girii gerekli. Ltfen admin panelde oturum an.":"irket listesi alnamad")}finally{r(!1)}})()},[]);const S=W.useMemo(()=>{const te=t.trim().toLowerCase();return te?a.filter(we=>(we.companyName||we.name||"").toLowerCase().includes(te)||A(we.subscriptionPlan).toLowerCase().includes(te)):a},[a,t]),j=async te=>{if(te)try{r(!0);const we=await mr.getTenantOverview(te);if(D.current!==te)return;o(we),v(we?.limits?.overrides??{}),N([]);try{const Ue=await mr.getTenantSubscriptionRaw(te);if(D.current!==te)return;U(Ue)}catch{U(null)}try{const Ue=await mr.getTenantInvoices(te);if(D.current!==te)return;if(Array.isArray(Ue?.invoices)&&Ue.invoices.length>0)I(Ue.invoices);else try{const et=!!An(),dt=Bu();if(et&&dt?.id===te){const St=await Zu(te);if(D.current!==te)return;I(Array.isArray(St?.invoices)?St.invoices:[])}else I([])}catch{I([])}}catch{try{const et=!!An(),dt=Bu();if(et&&dt?.id===te){const St=await Zu(te);if(D.current!==te)return;I(Array.isArray(St?.invoices)?St.invoices:[])}else I([])}catch{I([])}}}catch(we){const Ue=we?.response?.status,et=we?.config?.url||we?.response?.config?.url;typeof window<"u"&&console.error("Admin tenant overview error:",{status:Ue,url:et,data:we?.response?.data}),l(Ue===401?"Admin girii gerekli. Ltfen admin panelde oturum an.":`zet alnamad${Ue?` (HTTP ${Ue})`:""}`)}finally{D.current===te&&r(!1)}};W.useEffect(()=>{D.current=f,o(null),I([]),U(null),l(""),u(""),f&&j(f)},[f]);const C=n?.tenant,P=n?.limits,R=n?.usage,L=n?.users||[],Y=n?.invites||[],Z=Math.max(0,Number(C?.requiredUserReduction??0)),ae=Number(P?.effective?.maxUsers??0),q=Math.max(0,Number(R?.users??0)-Math.max(0,ae)),X=Math.max(Z,q),F=C?.downgradePendingUntil?String(C.downgradePendingUntil):"",M=F?new Date(F).getTime():0,K=Date.now(),se=M>K?Math.ceil((M-K)/1e3):0,[oe,ne]=W.useState({email:"",firstName:"",lastName:"",role:"user",password:"",autoPassword:!0,activate:!0}),[le,Se]=W.useState(""),je=async()=>{if(f){if(!oe.email){l("E-posta gerekli");return}try{r(!0),l(""),u(""),Se("");const te={email:oe.email,firstName:oe.firstName||void 0,lastName:oe.lastName||void 0,role:oe.role||void 0,activate:oe.activate,autoPassword:oe.autoPassword};!oe.autoPassword&&oe.password&&(te.password=oe.password);const we=await mr.addUserToTenant(f,te);we?.tempPassword&&Se(we.tempPassword),u("Kullanc eklendi/gncellendi"),setTimeout(()=>u(""),2e3),await j(f),ne({email:"",firstName:"",lastName:"",role:"user",password:"",autoPassword:!0,activate:!0})}catch(te){l(te?.message||"Kullanc ekleme baarsz")}finally{r(!1)}}},[ee,ce]=W.useState(""),[be,Te]=W.useState(""),[Ce,Pe]=W.useState("");W.useEffect(()=>{C&&(ce(C.companyName||C.name||""),Te(A(C.subscriptionPlan)),Pe(C.status||"trial"))},[C?.id]);const Be=async()=>{if(f)try{r(!0),await mr.updateTenantDetails(f,{companyName:ee}),await mr.updateTenantSubscription(f,{plan:k(be),status:Ce}),u("irket bilgileri gncellendi"),setTimeout(()=>u(""),2e3),await j(f)}catch{l("irket bilgileri gncellenemedi")}finally{r(!1)}},[Ge,st]=W.useState({}),[bt,_e]=W.useState(new Set),We=te=>{st(we=>({...we,[te.id]:{firstName:te.firstName,lastName:te.lastName,email:te.email,role:te.role}}))},vt=te=>{st(we=>{const Ue={...we};return delete Ue[te],Ue})},At=(te,we,Ue)=>{st(et=>({...et,[te]:{...et[te],[we]:Ue}}))},Nt=async te=>{const we=Ge[te];if(we)try{r(!0),await mr.updateUserDetails(te,we),u("Kullanc gncellendi"),setTimeout(()=>u(""),2e3),await j(f),vt(te)}catch{l("Kullanc gncellenemedi")}finally{r(!1)}},De=te=>{v(we=>{const Ue={...we,...te};return te.monthly&&(Ue.monthly={...we.monthly||{},...te.monthly}),Ue})},ge=te=>{if(N(we=>we.includes(te)?we:[...we,te]),te.startsWith("monthly.")){const[,we]=te.split(".");v(Ue=>{const et={...Ue.monthly||{}};we&&we in et&&delete et[we];const dt={...Ue};return Object.keys(et).length>0?dt.monthly=et:delete dt.monthly,dt});return}v(we=>{const Ue={...we};return te in Ue&&delete Ue[te],Ue})},Oe=async()=>{if(f)try{r(!0);const te={...g};y.length&&(te.__clear=y),await mr.updateTenantLimits(f,te),u("Limitler kaydedildi"),setTimeout(()=>u(""),2e3),await j(f)}catch{l("Limitleri kaydetme baarsz")}finally{r(!1)}},Ke=async()=>{if(f)try{r(!0),await mr.updateTenantLimits(f,{__clearAll:!0}),v({}),N([]),u("Overridelar temizlendi"),setTimeout(()=>u(""),2e3),await j(f)}catch{l("Temizleme baarsz")}finally{r(!1)}},pe=async(te,we)=>{try{r(!0),await mr.updateUserStatus(te,!we),u(we?"Kullanc pasifletirildi":"Kullanc aktifletirildi"),setTimeout(()=>u(""),2e3),await j(f)}catch{l("Kullanc durumu deitirilemedi")}finally{r(!1)}},me=async te=>{try{r(!0),await mr.sendPasswordReset(te),u("ifre sfrlama e-postas gnderildi (simlasyon)"),setTimeout(()=>u(""),2e3)}catch{l("ifre sfrlama gnderilemedi")}finally{r(!1)}},xe=async()=>{if(f)try{b(!0);const te=await mr.exportUsersCsv(f),we=window.URL.createObjectURL(te),Ue=document.createElement("a"),et=(C?.companyName||C?.name||f||"users").toString().replace(/[^a-zA-Z0-9_-]+/g,"_").slice(0,50);Ue.href=we,Ue.download=`kullanicilar_${et}.csv`,document.body.appendChild(Ue),Ue.click(),Ue.remove(),window.URL.revokeObjectURL(we)}catch{l("CSV da aktarma baarsz")}finally{b(!1)}};return e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"w-full md:w-72 bg-white border border-gray-200 rounded-lg p-3 h-fit",children:[e.jsx("div",{className:"mb-2",children:e.jsx("input",{value:t,onChange:te=>h(te.target.value),placeholder:"irket ara",className:"w-full px-3 py-2 border border-gray-300 rounded"})}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto divide-y",children:S.map(te=>e.jsxs("button",{onClick:()=>c(te.id),className:`w-full text-left px-2 py-2 hover:bg-gray-50 ${f===te.id?"bg-gray-100":""}`,children:[e.jsx("div",{className:"font-medium text-sm",children:te.companyName||te.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[A(te.subscriptionPlan),"  ",te.status]})]},te.id))})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[f?i&&!n?e.jsx("div",{className:"text-sm text-gray-600",children:"Ykleniyor"}):n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[e.jsx("input",{value:ee,onChange:te=>ce(te.target.value),className:"px-3 py-2 border border-gray-300 rounded w-64",placeholder:"irket ad"}),e.jsxs("select",{value:be,onChange:te=>Te(te.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]}),e.jsxs("select",{value:Ce,onChange:te=>Pe(te.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[e.jsx("option",{value:"active",children:"active"}),e.jsx("option",{value:"trial",children:"trial"}),e.jsx("option",{value:"suspended",children:"suspended"}),e.jsx("option",{value:"expired",children:"expired"})]}),e.jsx("button",{onClick:Be,className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Kaydet"})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Plan: ",A(C?.subscriptionPlan),"  Durum: ",C?.status]})]}),d&&e.jsx("div",{className:"text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:d})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[e.jsx(ll,{title:"Kullanc",value:R?.users,max:P?.effective?.maxUsers}),e.jsx(ll,{title:"Mteri",value:R?.customers,max:P?.effective?.maxCustomers}),e.jsx(ll,{title:"Tedariki",value:R?.suppliers,max:P?.effective?.maxSuppliers}),e.jsx(ll,{title:"Banka",value:R?.bankAccounts,max:P?.effective?.maxBankAccounts}),e.jsx(ll,{title:"Fatura (Ay)",value:R?.monthly?.invoices,max:P?.effective?.monthly?.maxInvoices}),e.jsx(ll,{title:"Gider (Ay)",value:R?.monthly?.expenses,max:P?.effective?.monthly?.maxExpenses})]}),X>0&&e.jsxs("div",{className:"border border-amber-300 bg-amber-50 text-amber-800 rounded-lg p-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Plan drme uyars:"})," ","Bu irkette aktif kullanc says etkili limitin zerinde."]}),e.jsxs("div",{className:"text-xs mt-1 text-amber-900",children:["Pasifletirmeniz gereken kullanc says: ",e.jsx("span",{className:"font-semibold",children:X}),M?e.jsxs(e.Fragment,{children:[" "," Son tarih: ",e.jsx("span",{className:"font-mono",children:new Date(M).toLocaleString()}),se>0&&e.jsxs("span",{children:["  Kalan: ",iE(se)]})]}):null]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-xs rounded bg-amber-600 text-white hover:bg-amber-700 disabled:opacity-50",disabled:B||!f,onClick:async()=>{if(!(!f||!window.confirm("Fazla kullanclar rastgele pasifletirmek istediinize emin misiniz? (tenant_admin/super_admin hari)")))try{T(!0);const we=await mr.enforceTenantDowngrade(f);u(`Uyguland: ${we?.enforced??0}`),setTimeout(()=>u(""),2e3),await j(f)}catch{l("Uygulama baarsz")}finally{T(!1)}},children:B?"Uygulanyor":"Fazlay Otomatik Pasifletir"}),e.jsx("span",{className:"text-[11px] text-amber-900",children:"Alternatif: Aadaki listeden kullanclar tek tek pasifletirin."})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.jsx(Sf,{title:"Stripe Abonelik zeti",children:z?e.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"subscriptionId:"})," ",z.subscriptionId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"status:"})," ",z.status||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"interval:"})," ",z.interval||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"plan (remote):"})," ",String(z.plan||"").toUpperCase()||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"baseIncluded:"})," ",z.baseIncluded??""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"addonQty:"})," ",z.addonQty??0]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"computedSeats (remote):"})," ",e.jsx("span",{className:"font-semibold",children:z.computedSeats??""})]}),e.jsxs("div",{className:"mt-2 border-t pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"stripeCustomerId:"})," ",n?.tenant?.stripeCustomerId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"stripeSubscriptionId:"})," ",n?.tenant?.stripeSubscriptionId||""]})]})]}):e.jsx("div",{className:"text-xs text-gray-500",children:"Stripe abonelik bilgisi alnamad."})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Sf,{title:"Plan Varsaylanlar",children:e.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(P?.default,null,2)})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-medium",children:"Override"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:Ke,className:"px-2 py-1 text-xs border rounded",children:"Overridelar Temizle"}),e.jsx("button",{onClick:Oe,className:"px-2 py-1 text-xs bg-blue-600 text-white rounded",children:"Kaydet"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(cl,{label:"Maks. Kullanc",value:g.maxUsers,onChange:te=>De({maxUsers:te}),onClear:()=>ge("maxUsers")}),e.jsx(cl,{label:"Maks. Mteri",value:g.maxCustomers,onChange:te=>De({maxCustomers:te}),onClear:()=>ge("maxCustomers")}),e.jsx(cl,{label:"Maks. Tedariki",value:g.maxSuppliers,onChange:te=>De({maxSuppliers:te}),onClear:()=>ge("maxSuppliers")}),e.jsx(cl,{label:"Maks. Banka Hesab",value:g.maxBankAccounts,onChange:te=>De({maxBankAccounts:te}),onClear:()=>ge("maxBankAccounts")}),e.jsx(cl,{label:"Aylk Maks. Fatura",value:g.monthly?.maxInvoices,onChange:te=>De({monthly:{maxInvoices:te}}),onClear:()=>ge("monthly.maxInvoices")}),e.jsx(cl,{label:"Aylk Maks. Gider",value:g.monthly?.maxExpenses,onChange:te=>De({monthly:{maxExpenses:te}}),onClear:()=>ge("monthly.maxExpenses")})]})]}),e.jsx(Sf,{title:"Efektif",children:e.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(P?.effective,null,2)})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-3 py-2 border-b font-medium flex items-center justify-between",children:[e.jsx("span",{children:"Kullanclar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:xe,disabled:x||!f,className:"px-2 py-1 text-xs border rounded hover:bg-gray-50 disabled:opacity-50",children:x?"ndiriliyor":"CSV ndir"}),le&&e.jsxs("div",{className:"text-xs text-orange-700 bg-orange-50 border border-orange-200 px-2 py-1 rounded",children:["Geici ifre: ",e.jsx("span",{className:"font-mono font-semibold",children:le})]})]})]}),e.jsx("div",{className:"max-h-[40vh] overflow-y-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:e.jsx("input",{type:"checkbox",checked:L.length>0&&bt.size>0&&L.every(te=>bt.has(te.id)),onChange:te=>{const we=new Set;te.target.checked&&L.forEach(Ue=>we.add(Ue.id)),_e(we)}})}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Ad Soyad"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"E-posta"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Rol"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"lem"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-t bg-gray-50/60",children:[e.jsx("td",{className:"px-3 py-2"}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:oe.firstName,onChange:te=>ne(we=>({...we,firstName:te.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Ad"}),e.jsx("input",{value:oe.lastName,onChange:te=>ne(we=>({...we,lastName:te.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Soyad"})]})}),e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("input",{value:oe.email,onChange:te=>ne(we=>({...we,email:te.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-60",placeholder:"email@ornek.com"}),e.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[e.jsxs("label",{className:"text-[11px] text-gray-600 flex items-center gap-1",children:[e.jsx("input",{type:"checkbox",checked:oe.autoPassword,onChange:te=>ne(we=>({...we,autoPassword:te.target.checked}))}),"Otomatik ifre"]}),!oe.autoPassword&&e.jsx("input",{value:oe.password,onChange:te=>ne(we=>({...we,password:te.target.value})),className:"px-2 py-1 border border-gray-300 rounded w-40",placeholder:"Parola (>=8)"})]})]}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("select",{value:oe.role,onChange:te=>ne(we=>({...we,role:te.target.value})),className:"px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"user",children:"user"}),e.jsx("option",{value:"accountant",children:"accountant"}),e.jsx("option",{value:"tenant_admin",children:"tenant_admin"}),e.jsx("option",{value:"super_admin",children:"super_admin"})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("label",{className:"text-xs flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:oe.activate,onChange:te=>ne(we=>({...we,activate:te.target.checked}))}),"Aktif"]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("button",{onClick:je,className:"px-2 py-1 text-xs bg-green-600 text-white rounded",children:"Ekle"})})]}),L.map(te=>{const we=Ge[te.id];return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:bt.has(te.id),onChange:Ue=>{_e(et=>{const dt=new Set(et);return Ue.target.checked?dt.add(te.id):dt.delete(te.id),dt})}})}),e.jsx("td",{className:"px-3 py-2",children:we?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:we.firstName||"",onChange:Ue=>At(te.id,"firstName",Ue.target.value),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Ad"}),e.jsx("input",{value:we.lastName||"",onChange:Ue=>At(te.id,"lastName",Ue.target.value),className:"px-2 py-1 border border-gray-300 rounded w-28",placeholder:"Soyad"})]}):e.jsxs(e.Fragment,{children:[te.firstName," ",te.lastName]})}),e.jsx("td",{className:"px-3 py-2",children:we?e.jsx("input",{value:we.email||"",onChange:Ue=>At(te.id,"email",Ue.target.value),className:"px-2 py-1 border border-gray-300 rounded w-60"}):te.email}),e.jsx("td",{className:"px-3 py-2",children:we?e.jsxs("select",{value:we.role||"user",onChange:Ue=>At(te.id,"role",Ue.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[e.jsx("option",{value:"user",children:"user"}),e.jsx("option",{value:"accountant",children:"accountant"}),e.jsx("option",{value:"tenant_admin",children:"tenant_admin"}),e.jsx("option",{value:"super_admin",children:"super_admin"})]}):te.role}),e.jsx("td",{className:"px-3 py-2",children:te.isActive?"Aktif":"Pasif"}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[we?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Nt(te.id),className:"px-2 py-1 text-xs bg-blue-600 text-white rounded",children:"Kaydet"}),e.jsx("button",{onClick:()=>vt(te.id),className:"px-2 py-1 text-xs border rounded",children:"ptal"})]}):e.jsx("button",{onClick:()=>We(te),className:"px-2 py-1 text-xs border rounded",children:"Dzenle"}),e.jsx("button",{onClick:()=>pe(te.id,te.isActive),className:`px-2 py-1 text-xs rounded ${te.isActive?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:te.isActive?"Pasifletir":"Aktifletir"}),e.jsx("button",{onClick:()=>me(te.id),className:"px-2 py-1 text-xs border rounded",children:"ifre Sfrla"})]})})]},te.id)})]})]})}),bt.size>0&&e.jsxs("div",{className:"px-3 py-2 border-t bg-gray-50 flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-700",children:["Seili: ",e.jsx("span",{className:"font-semibold",children:bt.size})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 text-xs rounded bg-red-600 text-white hover:bg-red-700",onClick:async()=>{const te=L.filter(Ue=>bt.has(Ue.id)&&Ue.isActive);if(te.length===0){l("Seilenlerde aktif kullanc yok");return}if(window.confirm(`${te.length} kullanc pasifletirilsin mi?`))try{r(!0);for(const Ue of te)await mr.updateUserStatus(Ue.id,!1);u(`${te.length} kullanc pasifletirildi`),setTimeout(()=>u(""),2e3),_e(new Set),await j(f)}catch{l("Toplu pasifletirme baarsz")}finally{r(!1)}},children:"Seilenleri Pasifletir"}),e.jsx("button",{className:"px-3 py-1.5 text-xs rounded border",onClick:()=>_e(new Set),children:"Seimi Temizle"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-3 py-2 border-b font-medium flex items-center justify-between",children:[e.jsx("span",{children:"Davetler"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>f&&j(f),className:"px-2 py-1 text-xs border rounded",children:"Yenile"}),Y.length>8&&e.jsx("button",{onClick:()=>G(te=>!te),className:"px-2 py-1 text-xs bg-indigo-600 text-white rounded",children:V?"Daralt":"Tm"})]})]}),Y.length===0?e.jsx("div",{className:"p-3 text-sm text-gray-600",children:"Grntlenecek davet yok."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"E-posta"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Rol"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Oluturulma"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Son Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Organizasyon"})]})}),e.jsx("tbody",{children:(V?Y:Y.slice(0,8)).map(te=>{const we=te.createdAt?new Date(te.createdAt):null,Ue=te.expiresAt?new Date(te.expiresAt):null,St=(te.acceptedAt?new Date(te.acceptedAt):null)?"Kabul edildi":Ue&&Ue<new Date?"Sresi doldu":"Beklemede",Ut=St==="Kabul edildi"?"bg-green-50 text-green-700 border border-green-200":St==="Beklemede"?"bg-amber-50 text-amber-700 border border-amber-200":"bg-red-50 text-red-700 border border-red-200";return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:te.email}),e.jsx("td",{className:"px-3 py-2",children:te.role||"MEMBER"}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`inline-flex items-center text-[10px] px-2 py-0.5 rounded-full ${Ut}`,children:St})}),e.jsx("td",{className:"px-3 py-2",children:we?we.toLocaleString():""}),e.jsx("td",{className:"px-3 py-2",children:Ue?Ue.toLocaleString():""}),e.jsx("td",{className:"px-3 py-2",children:te.organizationName||""})]},te.id)})})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-3 py-2 border-b font-medium",children:"Fatura Gemii"}),e.jsx("div",{className:"overflow-x-auto",children:E.length===0?e.jsxs("div",{className:"p-3 text-sm text-gray-600 space-y-2",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Fatura bulunamad"}),e.jsx("div",{children:"Olas nedenler:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-xs",children:[e.jsx("li",{children:"Henz Stripe mteri oluturulmad (ilk upgrade / deme ilemi yaplmad)."}),e.jsx("li",{children:"Aktif abonelik yok: subscription plan test veya balang aamasnda olabilir."}),e.jsx("li",{children:"Test modunda hi fatura kesilmedi; yalnzca proration olumu olabilir."}),e.jsx("li",{children:"Stripe API'den bo dnd; dashboarddan manuel kontrol edin."})]}),e.jsxs("div",{className:"text-xs mt-2 border-t pt-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"stripeCustomerId:"})," ",n?.tenant?.stripeCustomerId||""]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"stripeSubscriptionId:"})," ",n?.tenant?.stripeSubscriptionId||""]})]})]}):e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Numara"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Tarih"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Tutar"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Durum"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Balantlar"})]})}),e.jsx("tbody",{children:(O?E:E.slice(0,8)).map(te=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-3 py-2",children:te.number||te.id}),e.jsx("td",{className:"px-3 py-2",children:te.created?new Date(te.created).toLocaleDateString():"-"}),e.jsx("td",{className:"px-3 py-2",children:typeof te.total=="number"?`${(te.total/100).toLocaleString(void 0,{minimumFractionDigits:2})} ${String(te.currency||"").toUpperCase()}`:"-"}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:(()=>{const we=String(te.status||"").toLowerCase();return we==="paid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-green-50 text-green-700 border border-green-200":we==="open"||we==="draft"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-amber-50 text-amber-700 border border-amber-200":we==="uncollectible"||we==="void"||we==="unpaid"?"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-red-50 text-red-700 border border-red-200":"inline-flex items-center text-[10px] px-2 py-0.5 rounded-full bg-gray-50 text-gray-700 border border-gray-200"})(),children:(te.status||(te.paid?"paid":"-")).toUpperCase()})}),e.jsxs("td",{className:"px-3 py-2 space-x-2",children:[te.hostedInvoiceUrl&&e.jsx("a",{href:te.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"Grntle"}),te.pdf&&e.jsx("a",{href:te.pdf,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:"PDF"})]})]},te.id))})]})}),E.length>8&&e.jsx("div",{className:"p-3 border-t flex justify-center",children:e.jsx("button",{onClick:()=>$(te=>!te),className:"px-4 py-1 text-xs rounded bg-indigo-600 text-white hover:bg-indigo-700",children:O?"Daralt":"Tm"})})]})]}):null:e.jsx("div",{className:"text-sm text-gray-600",children:"Soldan bir irket sein"}),s&&e.jsx("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 text-red-700 text-sm",children:s})]})]})},Sf=({title:a,children:m})=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium mb-2",children:a}),m]}),ll=({title:a,value:m,max:t})=>{const h=typeof t=="number"?t<0?"":t:void 0;return e.jsxs("div",{className:"border rounded p-3 text-center",children:[e.jsxs("div",{className:"text-xl font-semibold",children:[m??0,h!==void 0?` / ${h}`:""]}),e.jsx("div",{className:"text-xs text-gray-600",children:a})]})},cl=({label:a,value:m,onChange:t,onClear:h})=>{const[f,c]=W.useState(m===void 0?"":String(m));return W.useEffect(()=>{c(m===void 0?"":String(m))},[m]),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:a}),e.jsx("input",{type:"number",value:f,onChange:n=>c(n.target.value),onBlur:()=>{if(f==="")return;const n=parseInt(f,10);if(isNaN(n)){c(m===void 0?"":String(m));return}t(n)},placeholder:"Bo = varsaylan",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm"}),e.jsx("div",{className:"mt-1",children:e.jsx("button",{onClick:h,className:"text-xs text-gray-600 underline",children:"Temizle"})})]})};function iE(a){const m=Math.floor(a/86400),t=Math.floor(a%86400/3600),h=Math.floor(a%3600/60),f=a%60,c=[];return m&&c.push(`${m}g`),t&&c.push(`${t}s`),h&&c.push(`${h}d`),f&&c.length===0&&c.push(`${f}sn`),c.join(" ")}const aE=()=>{const{t:a,i18n:m}=Zt("status"),t=[{key:"api",icon:e.jsx(Ex,{className:"h-5 w-5 text-emerald-600"})},{key:"database",icon:e.jsx(La,{className:"h-5 w-5 text-emerald-600"})},{key:"email",icon:e.jsx(Us,{className:"h-5 w-5 text-emerald-600"})},{key:"pdf",icon:e.jsx(qr,{className:"h-5 w-5 text-emerald-600"})},{key:"storage",icon:e.jsx(Ex,{className:"h-5 w-5 text-emerald-600"})}];function h(){return{components:{api:a("components.api"),database:a("components.database"),email:a("components.email"),pdf:a("components.pdf"),storage:a("components.storage")},status:{operational:a("status.operational")}}}const f=h(),c=new Date().toLocaleString(m.language||void 0);return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("header",{className:"bg-white border-b border-slate-200",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:a("title")}),e.jsx("p",{className:"text-slate-600 mt-1",children:a("subtitle")}),e.jsxs("div",{className:"mt-4 inline-flex items-center space-x-2 rounded-full bg-emerald-50 px-3 py-1 border border-emerald-200",children:[e.jsx(Dp,{className:"h-4 w-4 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-emerald-700",children:a("allOperational")})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:a("lastUpdated",{time:c})})]})}),e.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Bileenler"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-md border border-slate-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[n.icon,e.jsx("span",{className:"text-slate-800 font-medium",children:f.components[n.key]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"h-2.5 w-2.5 inline-flex rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-sm text-emerald-700",children:f.status.operational})]})]},n.key))})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:a("incidents.title")}),e.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[e.jsx(pn,{className:"h-5 w-5 text-slate-400"}),e.jsx("p",{children:a("incidents.none")})]})]}),e.jsxs("section",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-2",children:a("contact.title")}),e.jsx("p",{className:"text-slate-600",children:a("contact.text")}),e.jsx("p",{className:"mt-2",children:e.jsx("a",{href:"mailto:support@comptario.com",className:"text-indigo-600 hover:underline",children:a("contact.email")})})]})]})]})},oE=Gt.lazy(()=>Dr(()=>import("./AdminSecurityPage-zzQQD6Uk.js"),[])),Yx=()=>{const{t:a}=Zt("common"),{tenant:m}=Zs(),[t,h]=W.useState(!1),[f,c]=W.useState({username:"admin",password:"",totp:""}),[n,o]=W.useState([]),[i,r]=W.useState([]),[s,l]=W.useState({customers:[],suppliers:[],products:[],invoices:[],expenses:[]}),[d,u]=W.useState(!1),[x,b]=W.useState(""),[g,v]=W.useState("users"),[y,N]=W.useState("all"),[E,I]=W.useState("all"),[O,$]=W.useState(!1),[z,U]=W.useState("all"),[V,G]=W.useState({status:"",plan:"",startFrom:"",startTo:""}),[B,T]=W.useState(""),[D,A]=W.useState(null),[k,S]=W.useState({firstName:"",lastName:"",email:"",phone:""}),[j,C]=W.useState(null),[P,R]=W.useState("soft"),[L,Y]=W.useState(!1),[Z,ae]=W.useState(null),q=ve=>{A(ve),S({firstName:ve.firstName||"",lastName:ve.lastName||"",email:ve.email||"",phone:ve.phone||""})},X=()=>A(null),F=async()=>{if(D&&window.confirm(a("admin.users.updateConfirm","Bu kullancy gncellemek istediinize emin misiniz?")))try{u(!0),await mr.updateUserDetails(D.id,k);const ve=await mr.getUsers(E!=="all"?E:void 0);o(ve||[]),T("Kullanc gncellendi"),setTimeout(()=>T(""),2e3),X()}catch(ve){console.error("Kullanc gncellenemedi",ve)}finally{u(!1)}},M=async()=>{if(D&&window.confirm(a("admin.users.passwordResetConfirm","ifre sfrlama e-postas gnderilsin mi?")))try{u(!0),await mr.sendPasswordReset(D.id),T("ifre sfrlama e-postas gnderildi (simlasyon)"),setTimeout(()=>T(""),2500)}catch(ve){console.error("E-posta gnderilemedi",ve)}finally{u(!1)}},K=async ve=>{if(window.confirm(a("admin.users.markVerifiedConfirm","Bu kullancy dorulanm olarak iaretlemek istediinize emin misiniz?")))try{ae(ve),await mr.markUserVerified(ve),o(de=>de.map(Ye=>Ye.id===ve?{...Ye,isEmailVerified:!0}:Ye)),T("Kullanc doruland"),setTimeout(()=>T(""),2e3)}catch(de){console.error("Dorulama gncellenemedi",de),b("E-posta dorulamas gncellenemedi")}finally{ae(null)}},[se,oe]=W.useState(new Set),[ne,le]=W.useState(new Set),[Se,je]=W.useState(new Set),[ee,ce]=W.useState(new Set),[be,Te]=W.useState({}),[Ce,Pe]=W.useState({}),[Be,Ge]=W.useState({}),st=ve=>{const de=(ve||"").toLowerCase();return de.includes("enterprise")||de.includes("business")?"BUSINESS":de.includes("professional")||de==="pro"?"PRO":"STARTER"},bt=ve=>{const de=ve.toUpperCase();return de==="BUSINESS"?"enterprise":de==="PRO"?"professional":"free"},_e=ve=>ve?bt(ve):"",We=(ve,de,Ye)=>{ve(ut=>{const pt=new Set(ut);return Ye===void 0?pt.has(de)?pt.delete(de):pt.add(de):Ye?pt.add(de):pt.delete(de),pt})},[vt,At]=W.useState({customers:!1,suppliers:!1,products:!1,invoices:!1,expenses:!1}),[Nt,De]=W.useState({customers:"",suppliers:"",products:"",invoices:"",expenses:""});W.useEffect(()=>{if(bo.getToken()){h(!0);const de=m?.id||"all";N(de),I(de),U(de),Oe(de!=="all"?de:void 0)}},[]),W.useEffect(()=>{const ve=()=>{h(!1),b("Admin oturumunuz sona erdi. Ltfen yeniden giri yapn.")};return window.addEventListener("adminAuthExpired",ve),()=>window.removeEventListener("adminAuthExpired",ve)},[]),W.useEffect(()=>{t&&me(y!=="all"?y:void 0)},[y]),W.useEffect(()=>{t&&Ke(E!=="all"?E:void 0)},[E]);const ge=async ve=>{ve.preventDefault(),u(!0),b("");try{const de=await mr.login(f.username,f.password,f.totp||void 0);if(de.success){h(!0),bo.setToken(de.adminToken);const Ye=m?.id||"all";N(Ye),I(Ye),U(Ye),Oe(Ye!=="all"?Ye:void 0)}}catch(de){b(de.response?.data?.message||"Giri baarsz. 2FA etkinse 6 haneli kod ya da kurtarma kodu giriniz.")}finally{u(!1)}},Oe=async ve=>{try{u(!0);const[de,Ye]=await Promise.all([mr.getUsers(ve),mr.getTenants()]);o(de||[]),r(Ye||[]);const[ut,pt,Le,Je,ke]=await Promise.all([mr.getTableData("customers",ve).catch(()=>[]),mr.getTableData("suppliers",ve).catch(()=>[]),mr.getTableData("products",ve).catch(()=>[]),mr.getTableData("invoices",ve).catch(()=>[]),mr.getTableData("expenses",ve).catch(()=>[])]);l({customers:Array.isArray(ut)?ut.reverse():[],suppliers:Array.isArray(pt)?pt.reverse():[],products:Array.isArray(Le)?Le.reverse():[],invoices:Array.isArray(Je)?Je.reverse():[],expenses:Array.isArray(ke)?ke.reverse():[]})}catch(de){b("Veri ykleme baarsz"),console.error("Load data error:",de)}finally{u(!1)}},Ke=async ve=>{try{u(!0);const de=await mr.getUsers(ve);o(de||[])}catch(de){console.error("Kullanclar yklenemedi",de)}finally{u(!1)}},pe=async()=>{try{u(!0);const ve=await mr.getTenants({status:V.status||void 0,plan:V.plan?_e(V.plan):void 0,startFrom:V.startFrom||void 0,startTo:V.startTo||void 0});r(ve||[])}catch(ve){console.error("irketler yklenemedi",ve)}finally{u(!1)}};W.useEffect(()=>{t&&pe()},[V.status,V.plan,V.startFrom,V.startTo]);const me=async ve=>{try{u(!0);const[de,Ye,ut,pt,Le]=await Promise.all([mr.getTableData("customers",ve).catch(()=>[]),mr.getTableData("suppliers",ve).catch(()=>[]),mr.getTableData("products",ve).catch(()=>[]),mr.getTableData("invoices",ve).catch(()=>[]),mr.getTableData("expenses",ve).catch(()=>[])]);l({customers:Array.isArray(de)?de.reverse():[],suppliers:Array.isArray(Ye)?Ye.reverse():[],products:Array.isArray(ut)?ut.reverse():[],invoices:Array.isArray(pt)?pt.reverse():[],expenses:Array.isArray(Le)?Le.reverse():[]})}catch(de){console.error("Tablolar yklenemedi:",de)}finally{u(!1)}},xe=ve=>{At(de=>({...de,[ve]:!de[ve]}))},te=(ve,de)=>{De(Ye=>({...Ye,[ve]:de}))},we=(ve,de)=>{const Ye=Nt[de].toLowerCase();return Ye?ve.filter(ut=>Object.values(ut).some(pt=>String(pt||"").toLowerCase().includes(Ye))):ve},Ue=()=>{h(!1),bo.clearToken(),o([]),r([]),l({customers:[],suppliers:[],products:[],invoices:[],expenses:[]})},et=()=>({users:n.filter(de=>de.isActive).length,customers:s.customers.length,suppliers:s.suppliers.length,products:s.products.length,invoices:s.invoices.length,expenses:s.expenses.length}),dt=(ve,de,Ye)=>{const ut=we(de,ve),pt=vt[ve];return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>xe(ve),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[pt?e.jsx(Os,{className:"w-5 h-5"}):e.jsx(ms,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-medium capitalize",children:[ve," (",de.length,")"]})]})}),pt&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Vb,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Filtrele...",value:Nt[ve],onChange:Le=>te(ve,Le.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Nt[ve]&&e.jsx("button",{onClick:()=>te(ve,""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(kr,{className:"w-4 h-4"})})]})})]}),pt&&e.jsx("div",{className:"overflow-hidden",children:e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0",children:e.jsx("tr",{children:Ye.map(Le=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:Le},Le))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ut.slice(0,10).map((Le,Je)=>e.jsx("tr",{className:"hover:bg-gray-50",children:Ye.map(ke=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof Le[ke]=="object"?JSON.stringify(Le[ke]):Le[ke]||"-"},ke))},Je))})]}),ut.length>10&&e.jsxs("div",{className:"p-4 text-center text-sm text-gray-500 border-t border-gray-200",children:[ut.length-10," daha fazla kayt var (kaydrarak grn)"]})]})})]})},St=async(ve,de)=>{try{u(!0);const Ye=de?a("admin.users.deactivateConfirm","Kullancy pasifletirmek istediinize emin misiniz?"):a("admin.users.activateConfirm","Kullancy aktifletirmek istediinize emin misiniz?");if(!window.confirm(Ye))return;await mr.updateUserStatus(ve,!de);const ut=await mr.getUsers(E!=="all"?E:void 0);o(ut||[])}catch(Ye){console.error("Kullanc durumu gncellenemedi",Ye)}finally{u(!1)}};if(!t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-orange-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-red-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Admin Panel"}),e.jsx("p",{className:"text-gray-600",children:"Gvenli giri gereklidir"})]}),e.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kullanc Ad"}),e.jsx("input",{type:"text",value:f.username,onChange:ve=>c(de=>({...de,username:ve.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ifre"}),e.jsx("input",{type:"password",value:f.password,onChange:ve=>c(de=>({...de,password:ve.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"2FA Kodu (varsa)"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9A-Za-z\\-\\s]{4,}",placeholder:"123456 veya kurtarma kodu",value:f.totp,onChange:ve=>c(de=>({...de,totp:ve.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"2FA etkinse 6 haneli kodu ya da kurtarma kodunu girin."})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors disabled:opacity-50",children:d?"Giri yaplyor...":"Giri Yap"})]}),x&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:x})]})})});const Ut=et();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Admin Paneli"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{onClick:Ue,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"k Yap"})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-6 w-fit",children:[e.jsxs("button",{onClick:()=>v("users"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="users"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" Kullanclar (",Ut.users,")"]}),e.jsxs("button",{onClick:()=>v("tenants"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="tenants"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[" irketler (",i.length,")"]}),e.jsx("button",{onClick:()=>v("data"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="data"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Veri Taban"}),e.jsx("button",{onClick:()=>v("backups"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="backups"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Yedekleme"}),e.jsx("button",{onClick:()=>v("retention"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="retention"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Veri Temizleme"}),e.jsx("button",{onClick:()=>v("planLimits"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="planLimits"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Plan Limitleri"}),e.jsx("button",{onClick:()=>v("tenantConsole"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="tenantConsole"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Tenant Ynetim"}),e.jsx("button",{onClick:()=>v("status"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="status"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Durum"}),e.jsx("button",{onClick:()=>v("siteSettings"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="siteSettings"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Site Ayarlar"}),e.jsx("button",{onClick:()=>v("security"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="security"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:" Gvenlik"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Ut.users}),e.jsx("div",{className:"text-sm text-blue-800",children:"Kullanc"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ut.customers}),e.jsx("div",{className:"text-sm text-green-800",children:"Mteri"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Ut.suppliers}),e.jsx("div",{className:"text-sm text-purple-800",children:"Tedariki"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Ut.products}),e.jsx("div",{className:"text-sm text-yellow-800",children:"rn"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:Ut.invoices}),e.jsx("div",{className:"text-sm text-red-800",children:"Fatura"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Ut.expenses}),e.jsx("div",{className:"text-sm text-orange-800",children:"Gider"})]})]}),g==="users"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Kullanclar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"irket:"}),e.jsxs("select",{value:E,onChange:ve=>I(ve.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Tm"}),i.map(ve=>e.jsx("option",{value:ve.id,children:ve.companyName||ve.name},ve.id))]}),e.jsx("button",{onClick:async()=>{try{$(!0);const ve=E!=="all"?E:void 0,de=await mr.exportUsersCsv(ve),Ye=window.URL.createObjectURL(de),ut=document.createElement("a"),pt=i.find(ke=>ke.id===ve),Le=ve?pt?.companyName||pt?.name||ve:"tum",Je=String(Le).replace(/[^a-zA-Z0-9_-]+/g,"_").slice(0,50);ut.href=Ye,ut.download=`kullanicilar_${Je}.csv`,document.body.appendChild(ut),ut.click(),ut.remove(),window.URL.revokeObjectURL(Ye)}catch{b("CSV da aktarma baarsz")}finally{$(!1)}},disabled:O,className:"px-3 py-2 rounded-lg text-sm border border-gray-300 bg-white hover:bg-gray-50 disabled:opacity-50",children:O?"ndiriliyor":"CSV ndir"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ad Soyad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-posta"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"irket"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Yetki"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Son Giri"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Son Giri Saat Dilimi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"E-posta Dorulama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"lemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(E==="all"?n:n.filter(ve=>ve.tenant?.id===E)).map(ve=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[ve.firstName," ",ve.lastName]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ve.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ve.tenant?.companyName||ve.tenant?.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ve.role==="admin"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:ve.role==="admin"?"Ynetici":"Kullanc"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ve.lastLoginAt?new Date(ve.lastLoginAt).toLocaleString():""}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const de=ve.lastLoginTimeZone,Ye=ve.lastLoginUtcOffsetMinutes,ut=typeof Ye=="number"?`UTC${Ye>=0?"+":""}${(Ye/60).toFixed(1).replace(".0","")}`:"";return de||ut||""})()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ve.isEmailVerified?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"}`,children:ve.isEmailVerified?"Doruland":"Bekliyor"}),ve.isEmailVerified&&ve.emailVerifiedAt&&e.jsx("div",{className:"text-[11px] text-gray-500 mt-1",children:new Date(ve.emailVerifiedAt).toLocaleDateString()})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ve.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ve.isActive?"Aktif":"Pasif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>q(ve),className:"text-indigo-600 hover:text-indigo-900",title:"Dzenle",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{R("soft"),C(ve)},className:"text-red-600 hover:text-red-900",title:"Sil",children:e.jsx(Yr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>St(ve.id,ve.isActive),className:`px-3 py-1 rounded-md text-xs font-medium text-white ${ve.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:ve.isActive?"Pasifletir":"Aktifletir"}),!ve.isEmailVerified&&e.jsx("button",{onClick:()=>K(ve.id),disabled:Z===ve.id,className:"px-3 py-1 rounded-md text-xs font-medium text-indigo-700 bg-indigo-100 hover:bg-indigo-200 disabled:opacity-60",children:Z===ve.id?"leniyor":"Doruland say"})]})})]},ve.id))})]})})]})}),g==="tenants"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" irketler ve Abonelik Ynetimi"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Bu sayfadan tm irketleri grntleyebilir, plan ve durumlarn gncelleyebilir, sonraki deme tarihini ayarlayabilir veya abonelii iptal edebilirsiniz. Yaplan her deiiklik iin onay istenir."}),B&&e.jsx("div",{className:"mt-2 inline-block text-xs text-green-700 bg-green-50 border border-green-200 px-3 py-1 rounded",children:B})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Durum"}),e.jsxs("select",{value:V.status,onChange:ve=>G(de=>({...de,status:ve.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Tm"}),e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"suspended",children:"Askda"}),e.jsx("option",{value:"trial",children:"Deneme"}),e.jsx("option",{value:"expired",children:"Sresi Doldu"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Plan"}),e.jsxs("select",{value:V.plan,onChange:ve=>G(de=>({...de,plan:ve.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Tm"}),e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Balang ()"}),e.jsx("input",{type:"date",value:V.startFrom,onChange:ve=>G(de=>({...de,startFrom:ve.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-xs text-gray-500 mb-1",children:"Biti ()"}),e.jsx("input",{type:"date",value:V.startTo,onChange:ve=>G(de=>({...de,startTo:ve.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),e.jsx("button",{onClick:async()=>{u(!0);try{const ve=await mr.getTenants({status:V.status||void 0,plan:V.plan||void 0,startFrom:V.startFrom||void 0,startTo:V.startTo||void 0});r(ve||[])}catch(ve){console.error("irketler yklenemedi",ve)}finally{u(!1)}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Filtreleri Uygula"})]})]})}),e.jsx("div",{className:"p-6 space-y-6",children:i.map(ve=>{const de=be[ve.id],Ye=de?.limits?.effective?.maxUsers,ut=de?.tenant?.maxUsers,pt=de?.limits?.default?.maxUsers,Le=ve.maxUsers,Je=Ye??ut??Le??pt,Me=!!de?.tenant?.stripeCustomerId,He=!!(de&&!Me),ot=at=>{if(at!=null)return at===-1?"":at};return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"irket Ad"}),e.jsx("p",{className:"text-gray-600",children:ve.companyName||ve.name})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"URL Kodu"}),e.jsxs("p",{className:"text-gray-600",children:["@",ve.slug]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Abonelik Plan"}),se.has(ve.id)?e.jsxs("select",{autoFocus:!0,defaultValue:st(ve.subscriptionPlan),onBlur:()=>We(oe,ve.id,!1),onChange:async at=>{const ft=at.target.value,Kt=bt(ft);if(window.confirm(a("admin.tenants.updatePlanConfirm",{name:ve.companyName||ve.name,plan:ft,defaultValue:`${ve.companyName||ve.name} iin plan '${ft}' olarak gncellemek istediinize emin misiniz?`})))try{await mr.updateTenantSubscription(ve.id,{plan:Kt});const zt=await mr.getTenants();r(zt||[]),T("Plan ve limitler gncellendi"),setTimeout(()=>T(""),2e3)}catch(zt){console.error("Plan gncellenemedi",zt)}finally{We(oe,ve.id,!1)}},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"STARTER",children:"STARTER"}),e.jsx("option",{value:"PRO",children:"PRO"}),e.jsx("option",{value:"BUSINESS",children:"BUSINESS"})]}):e.jsx("button",{onClick:()=>We(oe,ve.id,!0),className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200",title:"Dzenlemek iin tklayn",children:st(ve.subscriptionPlan)||"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Durum"}),ne.has(ve.id)?e.jsxs("select",{autoFocus:!0,defaultValue:ve.status||"active",onBlur:()=>We(le,ve.id,!1),onChange:at=>{const ft=at.target.value;window.confirm(a("admin.tenants.updateStatusConfirm",{name:ve.companyName||ve.name,status:ft,defaultValue:`${ve.companyName||ve.name} iin durumu '${ft}' olarak gncellemek istediinize emin misiniz?`}))&&mr.updateTenantSubscription(ve.id,{status:ft}).then(()=>{r(Kt=>Kt.map(zt=>zt.id===ve.id?{...zt,status:ft}:zt)),T("Durum gncellendi"),setTimeout(()=>T(""),2e3)}).catch(Kt=>console.error("Durum gncellenemedi",Kt)).finally(()=>We(le,ve.id,!1))},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"active",children:"Aktif"}),e.jsx("option",{value:"suspended",children:"Askda"}),e.jsx("option",{value:"trial",children:"Deneme"}),e.jsx("option",{value:"expired",children:"Sresi Doldu"})]}):e.jsx("button",{onClick:()=>We(le,ve.id,!0),className:`px-2 py-1 text-xs rounded-full ${ve.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,title:"Dzenlemek iin tklayn",children:ve.status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Balang"}),e.jsx("p",{className:"text-gray-600",children:ve.createdAt?new Date(ve.createdAt).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Sonraki deme"}),Se.has(ve.id)?e.jsx("input",{autoFocus:!0,type:"date",defaultValue:ve.subscriptionExpiresAt?new Date(ve.subscriptionExpiresAt).toISOString().slice(0,10):"",onBlur:()=>We(je,ve.id,!1),onKeyDown:at=>{at.key==="Escape"&&We(je,ve.id,!1)},onChange:at=>{const ft=at.target.value;ft&&window.confirm(a("admin.tenants.updateNextPaymentConfirm",{name:ve.companyName||ve.name,date:ft,defaultValue:`${ve.companyName||ve.name} iin sonraki deme tarihini ${ft} olarak ayarlamak istediinize emin misiniz?`}))&&mr.updateTenantSubscription(ve.id,{nextBillingAt:ft}).then(()=>{T("Sonraki deme tarihi gncellendi"),setTimeout(()=>T(""),2e3)}).catch(Kt=>console.error("Tarih gncellenemedi",Kt)).finally(()=>We(je,ve.id,!1))},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}):e.jsx("button",{onClick:()=>We(je,ve.id,!0),className:"px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200",title:"Dzenlemek iin tklayn",children:ve.subscriptionExpiresAt?new Date(ve.subscriptionExpiresAt).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Abonelik"}),e.jsx("button",{onClick:()=>{window.confirm(a("admin.tenants.cancelSubscriptionConfirm",{name:ve.companyName||ve.name,defaultValue:`${ve.companyName||ve.name} iin abonelii iptal etmek istediinize emin misiniz?`}))&&mr.updateTenantSubscription(ve.id,{cancel:!0}).then(()=>{T("Abonelik iptal edildi"),setTimeout(()=>T(""),2e3)}).catch(at=>console.error("ptal edilemedi",at))},className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 text-sm",children:"ptal Et"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Tehlikeli Blge"}),e.jsxs("div",{className:"flex flex-wrap gap-3 items-center mt-2",children:[e.jsx("button",{onClick:async()=>{const at=ve.companyName||ve.name;if(window.confirm(a("admin.tenants.dangerDeleteTenantConfirm",{name:at,defaultValue:`DKKAT: '${at}' hesabn ve tm verilerini KALICI olarak silmek zeresiniz. Bu ilem geri alnamaz. Devam etmek istiyor musunuz?`})))try{u(!0),await mr.deleteTenant(ve.id,{hard:!0,backupBefore:!1}),r(Kt=>Kt.filter(zt=>zt.id!==ve.id)),E===ve.id?(I("all"),await Ke(void 0)):await Ke(E!=="all"?E:void 0),y===ve.id&&(N("all"),await me(void 0)),T("Hesap kalc olarak silindi"),setTimeout(()=>T(""),2500)}catch(Kt){console.error("Hesap silinemedi",Kt),alert("Hesap silinemedi. Konsolu kontrol edin.")}finally{u(!1)}},className:"px-4 py-2 border border-red-400 text-white bg-red-600 rounded-lg hover:bg-red-700 text-sm",children:"Hesab Kalc Olarak Sil"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Bu ilem geri alnamaz. Yalnzca yetkili yneticiler kullanmaldr."})]})]}),e.jsxs("div",{className:"md:col-span-2 border-t pt-3 mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Detaylar"}),e.jsx("button",{onClick:async()=>{const at=new Set(ee);if(at.has(ve.id)){at.delete(ve.id),ce(at);return}at.add(ve.id),ce(at);try{const[ft,Kt]=await Promise.all([mr.getTenantOverview(ve.id).catch(()=>null),mr.getTenantInvoices(ve.id).catch(()=>null)]);if(ft&&Te(zt=>({...zt,[ve.id]:ft})),Kt&&Array.isArray(Kt.invoices)&&Kt.invoices.length>0)Pe(zt=>({...zt,[ve.id]:Kt.invoices}));else try{const zt=Bu();if(zt?.id&&zt.id===ve.id){const Re=await Zu(ve.id);Array.isArray(Re?.invoices)&&Re.invoices.length>0&&Pe(rt=>({...rt,[ve.id]:Re.invoices}))}}catch{}}catch{}},className:"px-3 py-1 text-sm rounded-md border border-gray-300 hover:bg-gray-50",children:ee.has(ve.id)?"Gizle":"Gster"})]}),ee.has(ve.id)&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 border",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Plan ve Limitler"}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Plan: "}),e.jsx("span",{className:"font-medium",children:st(ve.subscriptionPlan)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Kullanc Limiti (maxUsers): "}),e.jsx("span",{className:"font-medium",children:ot(Je)??"-"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-md p-3 border",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Fatura Gemii"}),Array.isArray(Ce[ve.id])&&Ce[ve.id].length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-500",children:[e.jsx("th",{className:"py-1 pr-4",children:"Numara"}),e.jsx("th",{className:"py-1 pr-4",children:"Tarih"}),e.jsx("th",{className:"py-1 pr-4",children:"Tutar"}),e.jsx("th",{className:"py-1 pr-4",children:"Durum"}),e.jsx("th",{className:"py-1 pr-4",children:"Balantlar"})]})}),e.jsx("tbody",{children:Ce[ve.id].slice(0,Be[ve.id]?Ce[ve.id].length:6).map(at=>{const ft=at.status||(at.paid?"paid":"unknown"),Kt=(()=>{switch(ft){case"paid":return"bg-green-100 text-green-700 border border-green-200";case"open":return"bg-yellow-100 text-yellow-700 border border-yellow-200";case"draft":return"bg-blue-100 text-blue-700 border border-blue-200";case"uncollectible":return"bg-orange-100 text-orange-700 border border-orange-200";case"void":return"bg-gray-200 text-gray-600 border border-gray-300";case"upcoming":return"bg-purple-100 text-purple-700 border border-purple-200";default:return"bg-gray-100 text-gray-700 border border-gray-200"}})();return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-1 pr-4",children:at.number||at.id}),e.jsx("td",{className:"py-1 pr-4",children:at.created?new Date(at.created).toLocaleDateString():"-"}),e.jsx("td",{className:"py-1 pr-4",children:typeof at.total=="number"?`${(at.total/100).toLocaleString(void 0,{minimumFractionDigits:2})} ${at.currency?.toUpperCase()}`:"-"}),e.jsx("td",{className:"py-1 pr-4",children:e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium inline-block ${Kt}`,children:ft})}),e.jsxs("td",{className:"py-1 pr-4 space-x-2",children:[at.hostedInvoiceUrl&&e.jsx("a",{className:"text-blue-600 hover:underline",href:at.hostedInvoiceUrl,target:"_blank",rel:"noreferrer",children:"Grntle"}),at.pdf&&e.jsx("a",{className:"text-blue-600 hover:underline",href:at.pdf,target:"_blank",rel:"noreferrer",children:"PDF"})]})]},at.id)})})]}),Ce[ve.id].length>6&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("button",{onClick:()=>Ge(at=>({...at,[ve.id]:!at[ve.id]})),className:"text-xs px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-50",children:Be[ve.id]?"Daha az gster":`Tmn gster (${Ce[ve.id].length})`})})]}):e.jsxs("div",{className:"text-sm text-gray-500",children:["Fatura bulunamad.",He&&e.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(Stripe mteri ID yok  ilk abonelik/fatura ilemi sonras oluur)"})]})]})]})]})]})},ve.id)})})]})}),g==="tenants"&&e.jsx("div",{className:"mt-2"}),g==="data"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:" Veri Taban Tablolar"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"irket:"}),e.jsxs("select",{value:z,onChange:ve=>{const de=ve.target.value;U(de),N(de)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:"Tm"}),i.map(ve=>e.jsx("option",{value:ve.id,children:ve.companyName||ve.name},ve.id))]})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tablolar varsaylan olarak gizlidir. Grntlemek iin tablo balna tklayn."}),dt("customers",s.customers,["name","email","company","phone","totalSpent"]),dt("suppliers",s.suppliers,["name","email","company","phone","totalPaid"]),dt("products",s.products,["name","description","price","category","stock"]),dt("invoices",s.invoices,["invoiceNumber","customerName","amount","status","date"]),dt("expenses",s.expenses,["expenseNumber","supplierName","amount","category","date"])]})}),g==="backups"&&e.jsx(Z8,{}),g==="retention"&&e.jsx(X8,{}),g==="planLimits"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(eE,{})}),g==="tenantConsole"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(nE,{})}),g==="status"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx("div",{className:"p-6",children:e.jsx(aE,{})})}),g==="siteSettings"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx(sE,{})}),g==="security"&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsx(W.Suspense,{fallback:e.jsx("div",{className:"text-sm text-gray-500",children:"Ykleniyor..."}),children:e.jsx(oE,{})})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg shadow-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Kullanc Dzenle"}),e.jsx("button",{onClick:X,className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Ad"}),e.jsx("input",{type:"text",value:k.firstName,onChange:ve=>S(de=>({...de,firstName:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Soyad"}),e.jsx("input",{type:"text",value:k.lastName,onChange:ve=>S(de=>({...de,lastName:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"E-posta"}),e.jsx("input",{type:"email",value:k.email,onChange:ve=>S(de=>({...de,email:ve.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Telefon"}),e.jsx("input",{type:"tel",value:k.phone,onChange:ve=>S(de=>({...de,phone:ve.target.value})),placeholder:"+90...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("button",{onClick:M,className:"px-4 py-2 text-sm border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50",children:"ifre Sfrlama Maili Gnder"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:X,className:"px-4 py-2 text-sm border rounded-lg",children:a("common.cancel")}),e.jsx("button",{onClick:F,className:"px-4 py-2 text-sm rounded-lg bg-green-600 text-white hover:bg-green-700",children:"Kaydet"})]})]})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl border border-red-200",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-red-100 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Kullancy Sil"}),e.jsx("button",{onClick:()=>C(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"text-sm text-gray-700 leading-relaxed",children:[e.jsxs("p",{className:"mb-2",children:[e.jsxs("strong",{children:[j.firstName," ",j.lastName]})," - ",j.email]}),e.jsx("p",{className:"mb-2",children:"Bu ilemi dikkatli yapn. Soft silme kullancy pasif hale getirir ve gerektiinde geri dndrlebilir. Hard silme kalcdr ve kullanc kayd tamamen kaldrlr."}),P==="hard"&&e.jsx("p",{className:"text-red-600 font-medium",children:"DKKAT: Hard silme geri alnamaz. lgili ilikisel kaytlar (audit log vb. hari) cascade ile kaybolabilir."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"delMode",value:"soft",checked:P==="soft",onChange:()=>R("soft")}),e.jsx("span",{children:"Soft Sil (Pasifletir)"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"delMode",value:"hard",checked:P==="hard",onChange:()=>R("hard")}),e.jsx("span",{className:"text-red-600",children:"Hard Sil (Kalc)"})]})]})]}),e.jsxs("div",{className:"px-5 py-4 border-t flex items-center justify-between bg-red-50",children:[e.jsx("button",{onClick:()=>C(null),className:"px-4 py-2 text-sm rounded-lg border bg-white hover:bg-gray-50",disabled:L,children:a("common.cancel")}),e.jsx("button",{onClick:async()=>{if(!j)return;const ve=P==="hard",de=ve?"Bu kullanc kalc olarak silinecek. Onaylyor musunuz?":"Kullanc pasifletirilecek. Onaylyor musunuz?";if(window.confirm(de))try{Y(!0),await mr.deleteUser(j.id,{hard:ve}),o(Ye=>ve?Ye.filter(ut=>ut.id!==j.id):Ye.map(ut=>ut.id===j.id?{...ut,isActive:!1}:ut)),T(ve?"Kullanc kalc olarak silindi":"Kullanc pasifletirildi"),setTimeout(()=>T(""),2500),C(null)}catch(Ye){console.error("Silme hatas",Ye),Ye?.response?.status===404?(T("Kullanc zaten silinmi veya bulunamad (404)"),setTimeout(()=>T(""),2500),C(null),Ke(E!=="all"?E:void 0)):alert("Silme baarsz. Konsolu kontrol edin.")}finally{Y(!1)}},disabled:L,className:`px-4 py-2 text-sm rounded-lg text-white ${P==="hard"?"bg-red-600 hover:bg-red-700":"bg-orange-600 hover:bg-orange-700"} disabled:opacity-60`,children:L?"leniyor...":P==="hard"?"Kalc Sil":"Pasifletir"})]})]})})]})]})};function lE({isOpen:a,onClose:m,onSelectNewSale:t,onSelectExistingSale:h,onSelectReturn:f}){const{t:c}=Zt();return a?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c("invoices.newInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:c("invoices.selectInvoiceType")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:t,className:"w-full p-6 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-lg hover:from-blue-100 hover:to-blue-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:e.jsx(Vs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c("invoices.newSale")}),e.jsx("p",{className:"text-sm text-gray-600",children:c("invoices.newSaleDescription")}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:c("invoices.newSaleNote")})]})]})}),e.jsx("button",{onClick:h,className:"w-full p-6 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-lg hover:from-green-100 hover:to-green-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center group-hover:bg-green-600 transition-colors",children:e.jsx(qr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c("invoices.existingSale")}),e.jsx("p",{className:"text-sm text-gray-600",children:c("invoices.existingSaleDescription")}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:c("invoices.existingSaleNote")})]})]})}),e.jsx("button",{onClick:f,className:"w-full p-6 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg hover:from-red-100 hover:to-red-200 transition-all group",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors",children:e.jsx(wl,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c("invoices.returnInvoice")}),e.jsx("p",{className:"text-sm text-gray-600",children:c("invoices.returnInvoiceDescription")}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:c("invoices.returnInvoiceNote")})]})]})})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:c("common.cancel")})})})]})}):null}const En=a=>{if(a==null)return"";try{return String(a).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}catch{return String(a).toLowerCase().trim()}},ea=a=>{if(!a)return 0;if(a instanceof Date){const f=a.getTime();return Number.isFinite(f)?f:0}if(typeof a=="number")return Number.isFinite(a)?a:0;const m=String(a).trim();if(/^\d{4}-\d{2}-\d{2}/.test(m)){const f=new Date(m).getTime();return Number.isFinite(f)?f:0}const t=m.match(/^(\d{1,2})[./-](\d{1,2})[./-](\d{4})(?:[ T](\d{1,2}):(\d{2})(?::(\d{2}))?)?$/);if(t){const f=parseInt(t[1],10),c=parseInt(t[2],10)-1,n=parseInt(t[3],10),o=t[4]?parseInt(t[4],10):0,i=t[5]?parseInt(t[5],10):0,r=t[6]?parseInt(t[6],10):0,s=new Date(n,c,f,o,i,r).getTime();return Number.isFinite(s)?s:0}const h=new Date(m).getTime();return Number.isFinite(h)?h:0},Vr=a=>{if(typeof a=="number")return Number.isFinite(a)?a:0;if(a==null)return 0;const t=String(a).trim().replace(/\s/g,"").replace(/\.(?=\d{3}(?:\D|$))/g,"").replace(/,(?=\d{3}(?:\D|$))/g,"").replace(/,(?=\d{1,2}$)/,"."),h=parseFloat(t);return Number.isFinite(h)?h:0},cE=(a,m,t,h,f)=>{let c="",n="";switch(h){case"number":c=Vr(a),n=Vr(m);break;case"date":c=ea(a),n=ea(m);break;case"string":default:c=En(a),n=En(m)}if(f&&h==="string"){const o=f.indexOf(En(a)),i=f.indexOf(En(m));if(o!==-1||i!==-1){const r=(o===-1?Number.MAX_SAFE_INTEGER:o)-(i===-1?Number.MAX_SAFE_INTEGER:i);return t==="asc"?r:-r}}return c<n?t==="asc"?-1:1:c>n?t==="asc"?1:-1:0},Ps=(a,m,t,h,f,c)=>cE(t(a),t(m),h,f,c),dE=["draft","sent","paid","overdue","cancelled"],uE=["pending","approved","paid","rejected"],mE=["completed","pending","cancelled"];function hE({isOpen:a,onClose:m,onSelectSale:t,sales:h,existingInvoices:f}){const{formatCurrency:c}=es(),{t:n,i18n:o}=Zt(),[i,r]=W.useState(""),s=typeof window<"u"&&window.navigator?.language?window.navigator.language:"tr-TR",l=W.useMemo(()=>Tt.getItem("language")||o.language||s,[o.language,s]),d=N=>{if(N==null)return null;const E=String(N).trim();return E||null},u=W.useMemo(()=>{const N=new Set;return f.forEach(E=>{const I=d(E?.saleId);I&&N.add(I)}),N},[f]),x=W.useMemo(()=>h.filter(N=>{const E=d(N.id);return!(E&&u.has(E)||N.invoiceId)}),[h,u]),b=W.useMemo(()=>{if(!i.trim())return x;const N=En(i);return x.filter(E=>{const I=En(E.customerName).includes(N),O=En(E.productName).includes(N),$=E.saleNumber?En(E.saleNumber).includes(N):!1;return I||O||$})},[x,i]),g=N=>{if(!N)return"";const E=new Date(N);return Number.isNaN(E.getTime())?"":E.toLocaleDateString(l)};if(!a)return null;const v=N=>{const E=Vr(N.subtotal);if(E>0)return E;if(Array.isArray(N.items)&&N.items.length>0){const U=N.items.reduce((V,G)=>{const B=Vr(G?.quantity),T=Vr(G?.unitPrice);if(B<=0||T<=0){const D=Vr(G?.total);return V+(D>0?D:0)}return V+B*T},0);if(U>0)return U}const I=Vr(N.amount??N.total),O=Vr(N.taxAmount);if(I>0&&O>0&&I>O)return I-O;const $=Vr(N.quantity),z=Vr(N.unitPrice);return $>0&&z>0?$*z:I},y=N=>{he.info("existingSaleModal.selectSale",{saleId:N.id,saleNumber:N.saleNumber,customerName:N.customerName}),t(N)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n("sales.selectExistingSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:n("sales.selectSaleForInvoice")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:i,onChange:N=>r(N.target.value),placeholder:n("sales.searchSalesPlaceholder"),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:b.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n(i?"sales.noSalesFound":"sales.noInvoiceableSales")}),e.jsx("p",{className:"text-gray-500",children:n(i?"sales.changeSearchCriteria":"sales.allSalesInvoiced")})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:b.map(N=>e.jsx("div",{onClick:()=>y(N),className:"p-6 hover:bg-gray-50 cursor-pointer transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(is,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-medium",children:N.customerName})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Or,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:g(N.date)})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.productName}),N.saleNumber&&e.jsxs("p",{className:"text-sm text-gray-500",children:[n("sales.saleNumber"),": ",N.saleNumber]})]}),N.quantity&&N.unitPrice&&e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[N.quantity," ",n("sales.pieces"),"  ",c(N.unitPrice)]}),N.notes&&e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',N.notes,'"']})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center text-lg font-bold text-green-600 mb-2",children:[e.jsx(Pn,{className:"w-5 h-5 mr-1"}),c(v(N))]}),e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:n("sales.createInvoice")})]})]})},N.id))})}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:n("sales.salesWaitingForInvoice",{count:b.length})}),e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:n("common.cancel")})]})})]})})}function fE({isOpen:a,onClose:m,onSave:t,sale:h}){const{formatCurrency:f}=es(),{t:c,i18n:n}=Zt(),[o,i]=W.useState(null),[r,s]=W.useState(null),[l,d]=W.useState(!1),[u,x]=W.useState(null),[b,g]=W.useState({dueDate:"",status:"draft",notes:""}),v=typeof window<"u"&&window.navigator?.language?window.navigator.language:"tr-TR",y=W.useMemo(()=>Tt.getItem("language")||n.language||v,[n.language,v]);W.useEffect(()=>{let z=!1;async function U(){if(a){d(!0);try{const[V,G]=await Promise.allSettled([dp(),Up.getAll().then(B=>B.map(T=>({id:T.id,name:T.name,parentId:T.parentId??null,taxRate:sa(T.taxRate)})))]);if(z)return;V.status==="fulfilled"&&i(V.value||[]),G.status==="fulfilled"&&s(G.value||[])}catch(V){he.warn("invoiceFromSale.metaLoad.failed",V)}finally{z||d(!1)}}}return U(),()=>{z=!0}},[a]);const N=W.useMemo(()=>{try{const z=hn(),U=z?`products_cache_${z}`:"products_cache",V=Tt.getItem(U);if(!V)return[];const G=JSON.parse(V);if(Array.isArray(G))return G}catch(z){he.warn("invoiceFromSale.productsCache.parseFailed",z)}return[]},[]),E=W.useCallback(z=>{const U=up(z,{products:o??void 0,categories:r??void 0,defaultRate:nn,preferResolvedOverExisting:!0});return sa(U.taxRate)!==null?U:N.length?up(U,{products:N,categories:r??void 0,defaultRate:nn,preferResolvedOverExisting:!0}):U},[o,r,N]);W.useEffect(()=>{if(a&&h){const z=new Date;z.setDate(z.getDate()+30),g({dueDate:z.toISOString().split("T")[0],status:"draft",notes:h.notes||""})}},[a,h]);const I=W.useMemo(()=>{if(!h)return{lineItems:[],subtotal:0,tax:0,total:0};const z=Array.isArray(h.items)?h.items:[],U=Math.max(1,Vr(h.quantity)||1);let V=Vr(h.unitPrice);if(V<=0&&U>0){const k=Vr(h.subtotal);if(k>0)V=k/U;else{const S=Vr(h.amount);S>0&&(V=S/1.18/U)}}const G=h.productName||c("products.name","Product"),B=(z.length>0?z:[{productId:h.productId,productName:G,quantity:U,unitPrice:V,description:G}]).map(k=>{const S=Math.max(1,Vr(k.quantity)||U),j=Vr(k.unitPrice),C=j>0?j:V,P=k.productName||k.description||G,R={productId:k.productId??h.productId,productName:P,description:P,quantity:S,unitPrice:C,total:S*C,taxRate:sa(k.taxRate)??void 0};return E(R)}),{subtotal:T,taxAmount:D,total:A}=mp(B,0,nn);return{lineItems:B,subtotal:T,tax:D,total:A}},[h,E,c]),O=()=>{if(!h)return;if(!b.dueDate){window.alert(c("validation.dueDateRequired"));return}if(!I.lineItems.length){he.warn("invoiceFromSale.noLineItems",{saleId:h.id}),window.alert(c("invoices.noLineItemsError",{defaultValue:"Faturaya aktarlacak satr bulunamad."}));return}try{const G=Array.isArray(o)?o:[];for(const B of I.lineItems){let T=G.find(D=>String(D.id)===String(B.productId));if(!T&&B.description){const D=B.description.toLowerCase();T=G.find(A=>String(A.name||"").trim().toLowerCase()===D)||G.find(A=>String(A.name||"").toLowerCase().includes(D))}if(T){const D=Vr(T.stock??T.stockQuantity),A=B.quantity;if(D>0&&A>D){he.info("invoiceFromSale.stockWarning",{saleId:h.id,productId:T.id,requested:A,available:D}),x({product:T,requested:A,available:D});return}}}}catch(G){he.warn("invoiceFromSale.stockCheck.error",G)}const z=I.lineItems.map(G=>({...G})),U=Math.max(0,Vr(h.discountAmount)),V={saleId:h.id,issueDate:new Date().toISOString().split("T")[0],dueDate:b.dueDate,status:b.status,notes:b.notes.trim(),customerName:h.customerName,customerEmail:h.customerEmail,type:"service",items:z,lineItems:z,subtotal:I.subtotal,taxAmount:I.tax,total:I.total,discountAmount:U};he.info("invoiceFromSale.save.request",{saleId:h.id,lineItemCount:z.length,subtotal:I.subtotal});try{t(V),he.info("invoiceFromSale.save.success",{saleId:h.id}),m()}catch(G){he.error("invoiceFromSale.save.failed",G)}},$=W.useCallback(z=>{if(!z)return"";const U=new Date(z);return Number.isNaN(U.getTime())?"":U.toLocaleDateString(y)},[y]);return!a||!h?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c("invoices.createInvoiceFromSale")}),e.jsx("p",{className:"text-sm text-gray-500",children:c("invoices.completeInvoiceInfo")})]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("sales.saleInfo")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(is,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[c("invoices.customer"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:h.customerName})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[c("sales.saleDate"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:$(h.date)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(mn,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[c("sales.productService",{defaultValue:c("products.name","Product")}),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:h.productName})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[c("invoices.amountExclTax",{defaultValue:"Tutar (KDV Hari)"}),":"]}),e.jsx("span",{className:"ml-2 font-bold text-green-600",title:`Orijinal sat tutar (KDV dahil olabilir): ${f(Vr(h.amount))}`,children:l?e.jsxs("span",{className:"inline-flex items-center text-gray-500",children:[e.jsx(Gu,{className:"w-4 h-4 animate-spin mr-1"})," "]}):f(I.subtotal)})]})]}),h.saleNumber&&e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[e.jsxs("strong",{children:[c("sales.saleNumber"),":"]})," ",h.saleNumber]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("invoices.invoiceInfo",{defaultValue:"Fatura Bilgileri"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Or,{className:"w-4 h-4 inline mr-2"}),c("common.dueDate")," *"]}),e.jsx("input",{type:"date",value:b.dueDate,onChange:z=>g(U=>({...U,dueDate:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c("invoices.invoiceStatus",{defaultValue:"Invoice Status"})}),e.jsxs("select",{value:b.status,onChange:z=>g(U=>({...U,status:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"draft",children:c("status.draft",{defaultValue:"Taslak"})}),e.jsx("option",{value:"sent",children:c("status.sent",{defaultValue:"Gnderildi"})}),e.jsx("option",{value:"paid",children:c("status.paid",{defaultValue:"dendi"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c("invoices.invoiceNotes",{defaultValue:"Fatura Notlar"})}),e.jsx("textarea",{value:b.notes,onChange:z=>g(U=>({...U,notes:z.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:c("invoices.notesPlaceholder",{defaultValue:"Fatura ile ilgili notlar..."})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:c("invoices.invoiceTotals",{defaultValue:"Invoice Totals"})}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:c("invoice.subtotal")}),e.jsx("span",{children:f(I.subtotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:c("invoice.vat")}),e.jsx("span",{children:l?e.jsxs("span",{className:"inline-flex items-center text-gray-500",children:[e.jsx(Gu,{className:"w-4 h-4 animate-spin mr-1"})," "]}):f(I.tax)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-blue-300 pt-2",children:[e.jsx("span",{children:c("invoice.grandTotal")}),e.jsx("span",{children:f(I.total)})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:c("common.cancel")}),e.jsx("button",{onClick:O,disabled:!b.dueDate||l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c("invoices.createInvoice")})]})]})}),u&&e.jsx(xm,{isOpen:!0,product:u.product,requested:u.requested,available:u.available,onClose:()=>x(null)})]})}function pE({isOpen:a,onClose:m,customer:t,onEdit:h,onCreateInvoice:f,onRecordPayment:c,onViewHistory:n}){const{t:o,i18n:i}=Zt();if(!a||!t)return null;const r=(b,g)=>{const v=o(`common:${b}`,{defaultValue:""});if(typeof v=="string"&&v!==`common:${b}`&&v.trim()!=="")return v;const y=o(b,{defaultValue:g});return typeof y=="string"&&y!==b&&y.trim()!==""?y:g},s=()=>{const b=Tt.getItem("i18nextLng");return b&&b.length>=2?b.slice(0,2).toLowerCase():(i.resolvedLanguage||i.language||"en").slice(0,2).toLowerCase()},l=b=>b==="tr"?"tr-TR":b==="de"?"de-DE":b==="fr"?"fr-FR":"en-US",d=s(),u=b=>new Date(b).toLocaleDateString(l(d)),x={createdBy:{tr:"Oluturan",en:"Created by",de:"Erstellt von",fr:"Cr par"}[d]||"Created by",createdAt:{tr:"Oluturulma",en:"Created at",de:"Erstellt am",fr:"Cr le"}[d]||"Created at",updatedBy:{tr:"Son gncelleyen",en:"Last updated by",de:"Zuletzt aktualisiert von",fr:"Dernire mise  jour par"}[d]||"Last updated by",updatedAt:{tr:"Son gncelleme",en:"Last updated",de:"Zuletzt aktualisiert",fr:"Dernire mise  jour"}[d]||"Last updated"};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-bold text-2xl",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:r("customer.details","Customer Details")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h(t),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(hs,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`customer-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(l(d)):""})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(l(d)):""})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("customer.personalInfo","Personal Information")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(is,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.name","Name"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.name})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Us,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.email","Email"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.email})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(No,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.phone","Phone"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.phone})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.registeredAt","Registered Date"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:u(t.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("customer.companyInfo","Company Information")}),e.jsxs("div",{className:"space-y-4",children:[t.company&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Jr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.company","Company"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.company})]})]}),t.taxNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-3 text-xs font-bold flex items-center justify-center",children:"VN"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[r("customer.taxNumber","Tax Number"),":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.taxNumber})]})]})]})]})]}),t.address&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("customer.addressInfo","Address Information")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(jl,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsx("p",{className:"text-gray-700",children:t.address})]})})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:r("customer.quickActions","Quick Actions")}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>f?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:e.jsx("span",{children:r("customer.createInvoice","Create Invoice")})}),e.jsx("button",{onClick:()=>n?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:e.jsx("span",{children:r("customer.viewHistory","View History")})})]})]})]})]})})}function gE({isOpen:a,onClose:m,product:t,onEdit:h}){const{formatCurrency:f}=es(),{i18n:c}=Zt(),n=()=>{try{return Tt.getItem("i18nextLng")}catch{return null}},o=()=>{const l=n();return l&&l.length>=2?l.slice(0,2).toLowerCase():(c.resolvedLanguage||c.language||"en").slice(0,2).toLowerCase()},i=l=>l==="tr"?"tr-TR":l==="de"?"de-DE":l==="fr"?"fr-FR":"en-US",r=o(),s={edit:{tr:"Dzenle",en:"Edit",fr:"Modifier",de:"Bearbeiten"}[r]||"Edit",close:{tr:"Kapat",en:"Close",fr:"Fermer",de:"Schlieen"}[r]||"Close",recordInfo:{tr:"Kayt Bilgisi",en:"Record Info",fr:"Infos denregistrement",de:"Eintragsinfo"}[r]||"Record Info",createdBy:{tr:"Oluturan",en:"Created by",fr:"Cr par",de:"Erstellt von"}[r]||"Created by",createdAt:{tr:"Oluturulma",en:"Created at",fr:"Cr le",de:"Erstellt am"}[r]||"Created at",updatedBy:{tr:"Son gncelleyen",en:"Last updated by",fr:"Dernire mise  jour par",de:"Zuletzt aktualisiert von"}[r]||"Last updated by",updatedAt:{tr:"Son gncelleme",en:"Last updated",fr:"Dernire mise  jour",de:"Zuletzt aktualisiert"}[r]||"Last updated",features:{tr:"zellikler",en:"Features",fr:"Caractristiques",de:"Eigenschaften"}[r]||"Features",category:{tr:"Kategori",en:"Category",fr:"Catgorie",de:"Kategorie"}[r]||"Category",sku:{tr:"SKU",en:"SKU",fr:"SKU",de:"SKU"}[r]||"SKU",unit:{tr:"Birim",en:"Unit",fr:"Unit",de:"Einheit"}[r]||"Unit",registeredDate:{tr:"Kayt Tarihi",en:"Registered Date",fr:"Date denregistrement",de:"Registrierungsdatum"}[r]||"Registered Date",priceStock:{tr:"Fiyat ve Stok",en:"Price and Stock",fr:"Prix et Stock",de:"Preis und Bestand"}[r]||"Price and Stock",salePrice:{tr:"Sat Fiyat",en:"Sale Price",fr:"Prix de vente",de:"Verkaufspreis"}[r]||"Sale Price",cost:{tr:"Maliyet",en:"Cost",fr:"Cot",de:"Kosten"}[r]||"Cost",stockQty:{tr:"Stok Miktar",en:"Stock Quantity",fr:"Quantit en stock",de:"Bestandsmenge"}[r]||"Stock Quantity",critical:{tr:"Kritik Seviye",en:"Critical Level",fr:"Niveau critique",de:"Kritischer Bestand"}[r]||"Critical Level",description:{tr:"Aklama",en:"Description",fr:"Description",de:"Beschreibung"}[r]||"Description",notSpecified:{tr:"Belirtilmemi",en:"Not specified",fr:"Non spcifi",de:"Nicht angegeben"}[r]||"Not specified"};return!a||!t?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:e.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(mn,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.sku,": ",t.sku]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx("button",{type:"button",onClick:()=>{h(t),m()},className:"rounded-lg border border-indigo-100 px-4 py-2 text-sm font-medium text-indigo-600 transition-colors hover:bg-indigo-50",children:s.edit}),e.jsx("button",{type:"button",onClick:m,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600","aria-label":s.close,children:e.jsx(kr,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"grid gap-6 p-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s.recordInfo}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[s.createdBy,": ",e.jsx("span",{className:"font-medium",children:t.createdByName||""})]}),e.jsxs("div",{children:[s.createdAt,": ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(i(r)):""})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[s.updatedBy,": ",e.jsx("span",{className:"font-medium",children:t.updatedByName||""})]}),e.jsxs("div",{children:[s.updatedAt,": ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(i(r)):""})]})]})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s.features}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[e.jsx(Ea,{icon:Ri,label:s.category,value:t.category||s.notSpecified}),e.jsx(Ea,{icon:Ob,label:s.sku,value:t.sku}),e.jsx(Ea,{icon:ra,label:s.unit,value:t.unit}),e.jsx(Ea,{icon:Or,label:s.registeredDate,value:new Date(t.createdAt).toLocaleDateString(i(r))})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s.priceStock}),e.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[e.jsx(Ea,{icon:Pn,label:s.salePrice,value:f(t.unitPrice||0)}),e.jsx(Ea,{icon:Pn,label:s.cost,value:f(t.costPrice||0)}),e.jsx(Ea,{icon:ra,label:s.stockQty,value:`${t.stockQuantity} ${t.unit}`}),e.jsx(Ea,{icon:ra,label:s.critical,value:t.reorderLevel})]})]}),t.description&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:s.description}),e.jsx("p",{className:"mt-3 rounded-lg border border-gray-100 bg-gray-50 p-4 text-sm text-gray-700",children:t.description})]})]})]})})}function Ea({icon:a,label:m,value:t}){return e.jsxs("div",{className:"rounded-lg border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-500",children:[e.jsx(a,{className:"h-4 w-4 text-gray-400"}),m]}),e.jsx("div",{className:"mt-2 text-sm font-medium text-gray-900",children:t})]})}function xE({isOpen:a,onClose:m,supplier:t,onEdit:h,onCreateExpense:f,onViewHistory:c}){const{i18n:n}=Zt();if(!a||!t)return null;const o=()=>{const d=Tt.getItem("i18nextLng");return d&&d.length>=2?d.slice(0,2).toLowerCase():(n.resolvedLanguage||n.language||"en").slice(0,2).toLowerCase()},i=d=>d==="tr"?"tr-TR":d==="de"?"de-DE":d==="fr"?"fr-FR":"en-US",r=o(),s={details:{tr:"Tedariki Detaylar",en:"Supplier Details",fr:"Dtails Fournisseur",de:"Lieferant Details"}[r]||"Supplier Details",createdBy:{tr:"Oluturan",en:"Created by",fr:"Cr par",de:"Erstellt von"}[r]||"Created by",createdAt:{tr:"Oluturulma",en:"Created at",fr:"Cr le",de:"Erstellt am"}[r]||"Created at",updatedBy:{tr:"Son gncelleyen",en:"Last updated by",fr:"Dernire mise  jour par",de:"Zuletzt aktualisiert von"}[r]||"Last updated by",updatedAt:{tr:"Son gncelleme",en:"Last updated",fr:"Dernire mise  jour",de:"Zuletzt aktualisiert"}[r]||"Last updated",basicInfo:{tr:"Temel Bilgiler",en:"Basic Information",fr:"Informations de base",de:"Grundinformationen"}[r]||"Basic Information",supplierName:{tr:"Tedariki Ad",en:"Supplier Name",fr:"Nom du Fournisseur",de:"Lieferantenname"}[r]||"Supplier Name",email:{tr:"E-posta",en:"Email",fr:"E-mail",de:"E-Mail"}[r]||"Email",phone:{tr:"Telefon",en:"Phone",fr:"Tlphone",de:"Telefon"}[r]||"Phone",registeredAt:{tr:"Kayt Tarihi",en:"Registered Date",fr:"Date d'enregistrement",de:"Registrierungsdatum"}[r]||"Registered Date",companyInfo:{tr:"irket Bilgileri",en:"Company Information",fr:"Informations Socit",de:"Firmendaten"}[r]||"Company Information",company:{tr:"irket",en:"Company",fr:"Socit",de:"Firma"}[r]||"Company",category:{tr:"Kategori",en:"Category",fr:"Catgorie",de:"Kategorie"}[r]||"Category",taxNumber:{tr:"Vergi No",en:"Tax Number",fr:"Numro Fiscal",de:"Steuernummer"}[r]||"Tax Number",addressInfo:{tr:"Adres Bilgileri",en:"Address Information",fr:"Informations d'adresse",de:"Adressinformationen"}[r]||"Address Information",quickActions:{tr:"Hzl lemler",en:"Quick Actions",fr:"Actions Rapides",de:"Schnellaktionen"}[r]||"Quick Actions",createExpense:{tr:"Gider Olutur",en:"Create Expense",fr:"Crer Dpense",de:"Ausgabe erstellen"}[r]||"Create Expense",viewHistory:{tr:"Gemi lemler",en:"View History",fr:"Historique",de:"Verlauf anzeigen"}[r]||"View History",edit:{tr:"Dzenle",en:"Edit",fr:"Modifier",de:"Bearbeiten"}[r]||"Edit"},l=d=>new Date(d).toLocaleDateString(i(r));return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-bold text-2xl",children:t.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:s.details})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})})]}),e.jsxs("div",{className:"p-6",id:`supplier-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[s.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[s.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(i(r)):""})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[s.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[s.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(i(r)):""})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s.basicInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(is,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.supplierName,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.name})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Us,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.email,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.email})]})]}),t.phone&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(No,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.phone,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.phone})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.registeredAt,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:l(t.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s.companyInfo}),e.jsxs("div",{className:"space-y-4",children:[t.company&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Jr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.company,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.company})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Ri,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.category,":"]}),e.jsx("span",{className:"ml-2",children:e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:t.category})})]})]}),t.taxNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-3 text-xs font-bold flex items-center justify-center",children:"VN"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[s.taxNumber,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:t.taxNumber})]})]})]})]})]}),t.address&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s.addressInfo}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(jl,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsx("p",{className:"text-gray-700",children:t.address})]})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:s.quickActions}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>f?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:e.jsx("span",{children:s.createExpense})}),e.jsx("button",{onClick:()=>c?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:e.jsx("span",{children:s.viewHistory})}),e.jsxs("button",{onClick:()=>{m(),setTimeout(()=>h(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:s.edit})]})]})]})]})]})})}function Hp({isOpen:a,onClose:m,invoice:t,onEdit:h,onDownload:f}){const{formatCurrency:c}=es(),{t:n,i18n:o}=Zt(),r=(()=>{try{const N=Tt.getItem("i18nextLng");if(N&&typeof N=="string"&&N.length>=2)return N.slice(0,2).toLowerCase()}catch{}return(o.resolvedLanguage||o.language||"en").slice(0,2).toLowerCase()})(),s=y=>y==="tr"?"tr-TR":y==="de"?"de-DE":y==="fr"?"fr-FR":"en-US",l={tr:{createdBy:"Oluturan",createdAt:"Oluturulma",updatedBy:"Son gncelleyen",updatedAt:"Son gncelleme",noCustomer:"Mteri Yok"},en:{createdBy:"Created by",createdAt:"Created at",updatedBy:"Last updated by",updatedAt:"Last updated",noCustomer:"No Customer"},de:{createdBy:"Erstellt von",createdAt:"Erstellt am",updatedBy:"Zuletzt aktualisiert von",updatedAt:"Zuletzt aktualisiert",noCustomer:"Kein Kunde"},fr:{createdBy:"Cr par",createdAt:"Cr le",updatedBy:"Dernire mise  jour par",updatedAt:"Dernire mise  jour",noCustomer:"Aucun Client"}},d=l[r]||l.en,u=W.useMemo(()=>({draft:{label:Rt(n,"draft"),class:"bg-gray-100 text-gray-800"},sent:{label:Rt(n,"sent"),class:"bg-blue-100 text-blue-800"},paid:{label:Rt(n,"paid"),class:"bg-green-100 text-green-800"},overdue:{label:Rt(n,"overdue"),class:"bg-red-100 text-red-800"}}),[n]);if(!a||!t)return null;const x=y=>new Date(y).toLocaleDateString(s(r)),b=y=>{const N=typeof y=="string"?parseFloat(y):y;return c(Number.isFinite(N)?N:0)},g=(y,N,E)=>{const I=y?.trim(),O=[N?.firstName,N?.lastName].filter(Boolean).join(" ").trim();return I||(O.length?O:void 0)||N?.email||E||""},v=y=>{const N=$r(y),I=(O=>O in u)(N)?u[N]:{label:Rt(n,N),class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${I.class}`,children:I.label})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:y=>y.target===y.currentTarget&&m(),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.invoiceNumber}),e.jsx("p",{className:"text-sm text-gray-500",children:n("invoice.details")})]}),v(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>f?.(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:n("invoice.downloadPdf")})]}),e.jsxs("button",{onClick:()=>{m(),setTimeout(()=>h?.(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:n("common.edit")})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`invoice-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[d.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:g(t.createdByName,t.createdByUser,t.createdBy)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[d.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(s(r)):""})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[d.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:g(t.updatedByName,t.updatedByUser,t.updatedBy)})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[d.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(s(r)):""})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("invoice.information")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoice.type"),":"]}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${t.type==="product"?"bg-blue-100 text-blue-800":t.type==="service"?"bg-green-100 text-green-800":"bg-indigo-100 text-indigo-800"}`,children:t.type==="product"?n("invoice.productSale"):t.type==="service"?n("invoice.serviceSale"):n("invoice.generalSale","Genel")})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[n("invoice.issueDate"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:x(t.issueDate)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[n("invoice.dueDate"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:x(t.dueDate)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("invoice.customerInfo")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.customer?.name||t.customerName||n("common:noCustomer",{defaultValue:d.noCustomer})}),(t.customer?.email||t.customerEmail)&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Us,{className:"w-4 h-4 mr-2"}),t.customer?.email||t.customerEmail]}),(t.customer?.address||t.customerAddress)&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(jl,{className:"w-4 h-4 mr-2 mt-0.5"}),e.jsx("span",{children:t.customer?.address||t.customerAddress})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("invoice.itemsServices")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:n("invoice.description")}),e.jsx("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:n("invoice.quantity")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:n("invoice.unitPrice")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:n("invoice.total")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Array.isArray(t.items)&&t.items.map((y,N)=>{const E=Number(y?.quantity)||0,I=Number(y?.unitPrice)||0,O=E*I||Number(y?.total)||0;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:y?.description||""}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-center",children:y?.quantity??""}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:b(I)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:b(O)})]},`${y?.description??"item"}-${N}`)})})]})})]}),e.jsx("div",{className:"flex justify-end mb-8",children:e.jsxs("div",{className:"w-80 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoice.subtotal"),":"]}),e.jsx("span",{className:"font-medium",children:b(Number(t.subtotal)||0)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[n("invoice.vat"),":"]}),e.jsx("span",{className:"font-medium",children:b(Number(t.taxAmount)||0)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-300 pt-3",children:[e.jsxs("span",{children:[n("invoice.grandTotal"),":"]}),e.jsx("span",{children:b(Number(t.total)||0)})]})]})}),t.notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n("invoice.notes")}),e.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-4 rounded-lg",children:t.notes})]})]})]})})}function hv({isOpen:a,onClose:m,expense:t,onEdit:h,onDownload:f}){const{formatCurrency:c}=es(),{t:n,i18n:o}=Zt(),i=(O,$)=>{const z=n(`common:${O}`,{defaultValue:""});if(z&&z!==`common:${O}`&&z.trim()!=="")return z;const U=n(O,{defaultValue:""});return U&&U!==O&&U.trim()!==""?U:$},r=()=>{const O=Tt.getItem("i18nextLng");return O&&typeof O=="string"&&O.length>=2?O.slice(0,2).toLowerCase():(o?.resolvedLanguage||o?.language||"en").toString().slice(0,2).toLowerCase()},s=O=>O==="tr"?"tr-TR":O==="de"?"de-DE":O==="fr"?"fr-FR":"en-US",l={tr:{createdBy:"Oluturan",createdAt:"Oluturulma",updatedBy:"Son gncelleyen",updatedAt:"Son gncelleme"},en:{createdBy:"Created by",createdAt:"Created at",updatedBy:"Last updated by",updatedAt:"Last updated"},de:{createdBy:"Erstellt von",createdAt:"Erstellt am",updatedBy:"Zuletzt aktualisiert von",updatedAt:"Zuletzt aktualisiert"},fr:{createdBy:"Cr par",createdAt:"Cr le",updatedBy:"Dernire mise  jour par",updatedAt:"Dernire mise  jour"}},d=r(),u=l[d]||l.en,x=W.useMemo(()=>({draft:{label:Rt(n,"draft"),className:"bg-gray-100 text-gray-800"},approved:{label:Rt(n,"approved"),className:"bg-blue-100 text-blue-800"},paid:{label:Rt(n,"paid"),className:"bg-green-100 text-green-800"},pending:{label:Rt(n,"pending"),className:"bg-yellow-100 text-yellow-800"},rejected:{label:Rt(n,"rejected"),className:"bg-red-100 text-red-800"}}),[n]);if(!a||!t)return null;const b=typeof t.supplier=="string"?void 0:t.supplier,g=typeof t.supplier=="string"?t.supplier:t.supplier?.name,v=O=>n(`expenseCategories.${O}`)||O,y=O=>{const $=new Date(O);return Number.isNaN($.getTime())?"":$.toLocaleDateString(s(d))},N=O=>{const $=typeof O=="string"?parseFloat(O):O;return c($||0)},E=O=>{const $=(O||"").trim(),z=(o?.language||"tr").slice(0,2).toLowerCase(),U=z==="tr"?"Tedariki Yok":z==="de"?"Kein Lieferant":z==="fr"?"Aucun Fournisseur":"No Supplier";if(!$)return n("common:noSupplier",{defaultValue:U});const V=$.toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(V)?n("common:noSupplier",{defaultValue:U}):$},I=O=>{const $=$r(O),z=x[$]||{label:Rt(n,$),className:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${z.className}`,children:z.label})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.expenseNumber}),e.jsx("p",{className:"text-sm text-gray-500",children:i("expense.details","Expense Details")})]}),I(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[f&&e.jsxs("button",{onClick:()=>f(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:n("invoice.downloadPdf")})]}),e.jsxs("button",{onClick:()=>{m(),setTimeout(()=>h(t),100)},className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:n("common.edit")})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`expense-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(s(d)):""})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(s(d)):""})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("expense.information","Expense Information")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[i("expense.date","Expense Date"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:y(t.expenseDate)})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Ri,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[i("expense.category","Category"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:v(t.category)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("expense.supplier","Supplier")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Jr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[i("expense.supplier","Supplier"),":"]}),e.jsx("span",{className:"ml-2 font-medium",children:E(g)})]}),b?.email&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"E-posta:"}),e.jsx("span",{className:"ml-2 font-medium",children:b.email})]}),b?.address&&e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Adres:"}),e.jsx("span",{className:"ml-2 font-medium",children:b.address})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("invoice.description")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.description})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("expense.amount","Amount")}),e.jsx("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-red-800 font-medium text-lg",children:[i("expense.amount","Amount"),":"]}),e.jsx("span",{className:"text-2xl font-bold text-red-600",children:N(t.amount)})]})})]}),t.receiptUrl&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:i("expense.receipt","Receipt")}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fn,{className:"w-5 h-5 text-blue-600"}),e.jsx("a",{href:t.receiptUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:i("expense.viewReceipt","View Receipt")})]})})]}),t.notes&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n("invoice.notes")}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:t.notes})})]})]})]})})}const dl=a=>{if(typeof a=="number")return Number.isFinite(a)?a:0;if(a==null)return 0;const m=String(a).trim();if(!m)return 0;if(m.includes(".")&&m.includes(",")){const f=m.replace(/\./g,"").replace(/,/g,"."),c=Number.parseFloat(f);return Number.isFinite(c)?c:0}if(m.includes(",")&&!m.includes(".")){const h=Number.parseFloat(m.replace(/,/g,"."));return Number.isFinite(h)?h:0}const t=Number.parseFloat(m.replace(/\s/g,""));return Number.isFinite(t)?t:0};function Kp({isOpen:a,onClose:m,sale:t,onEdit:h,onDelete:f,onDownload:c}){const{formatCurrency:n}=es(),{t:o,i18n:i}=Zt();if(!a||!t)return null;const r=()=>{const B=Tt.getItem("i18nextLng");return B&&B.length>=2?B.slice(0,2).toLowerCase():(i.resolvedLanguage||i.language||"en").slice(0,2).toLowerCase()},s=B=>B==="tr"?"tr-TR":B==="de"?"de-DE":B==="fr"?"fr-FR":"en-US",l=r(),d=s(l),u={details:{tr:"Sat Detaylar",en:"Sale Details",fr:"Dtails de vente",de:"Verkaufsdetails"}[l]||"Sale Details",createdBy:{tr:"Oluturan",en:"Created by",fr:"Cr par",de:"Erstellt von"}[l]||"Created by",createdAt:{tr:"Oluturulma",en:"Created at",fr:"Cr le",de:"Erstellt am"}[l]||"Created at",updatedBy:{tr:"Son gncelleyen",en:"Last updated by",fr:"Dernire mise  jour par",de:"Zuletzt aktualisiert von"}[l]||"Last updated by",updatedAt:{tr:"Son gncelleme",en:"Last updated",fr:"Dernire mise  jour",de:"Zuletzt aktualisiert"}[l]||"Last updated",saleInfo:{tr:"Sat Bilgileri",en:"Sale Information",fr:"Informations de vente",de:"Verkaufsinformationen"}[l]||"Sale Information",saleDate:{tr:"Sat Tarihi",en:"Sale Date",fr:"Date de vente",de:"Verkaufsdatum"}[l]||"Sale Date",paymentMethod:{tr:"deme Yntemi",en:"Payment Method",fr:"Mthode de paiement",de:"Zahlungsmethode"}[l]||"Payment Method",customerInfo:{tr:"Mteri Bilgileri",en:"Customer Information",fr:"Informations client",de:"Kundeninformationen"}[l]||"Customer Information",customer:{tr:"Mteri",en:"Customer",fr:"Client",de:"Kunde"}[l]||"Customer",email:{tr:"E-posta",en:"Email",fr:"E-mail",de:"E-Mail"}[l]||"Email",itemsInfo:{tr:"rn/Hizmet Bilgileri",en:"Product/Service Information",fr:"Informations Produit/Service",de:"Produkt-/Dienstleistungsinformationen"}[l]||"Product/Service Information",productService:{tr:"rn/Hizmet",en:"Product/Service",fr:"Produit/Service",de:"Produkt/Dienstleistung"}[l]||"Product/Service",quantity:{tr:"Miktar",en:"Quantity",fr:"Quantit",de:"Menge"}[l]||"Quantity",unitPrice:{tr:"Birim Fiyat",en:"Unit Price",fr:"Prix unitaire",de:"Stckpreis"}[l]||"Unit Price",total:{tr:"Toplam",en:"Total",fr:"Total",de:"Gesamt"}[l]||"Total",grandTotalExclVat:{tr:"Genel Toplam (KDV Hari):",en:"Grand Total (excl. VAT):",fr:"Total gnral (HT):",de:"Gesamtsumme (ohne MwSt.):"}[l]||"Grand Total (excl. VAT):",downloadPdf:{tr:"PDF ndir",en:"Download PDF",fr:"Tlcharger PDF",de:"PDF herunterladen"}[l]||"Download PDF",edit:{tr:"Dzenle",en:"Edit",fr:"Modifier",de:"Bearbeiten"}[l]||"Edit",delete:{tr:"Sil",en:"Delete",fr:"Supprimer",de:"Lschen"}[l]||"Delete",amountInfo:{tr:"Tutar Bilgileri",en:"Amount Information",fr:"Informations de montant",de:"Betragsinformationen"}[l]||"Amount Information",totalExclVat:{tr:"Toplam Tutar (KDV Hari):",en:"Total Amount (excl. VAT):",fr:"Montant total (HT):",de:"Gesamtbetrag (ohne MwSt.):"}[l]||"Total Amount (excl. VAT):",notes:{tr:"Notlar",en:"Notes",fr:"Notes",de:"Notizen"}[l]||"Notes"},x=B=>{if(!B)return"";const T=new Date(B);return Number.isNaN(T.getTime())?"":T.toLocaleDateString(d)},b=B=>{if(!B)return"";const T=new Date(B);return Number.isNaN(T.getTime())?"":T.toLocaleString(d)},g=B=>n(dl(B)),v=B=>{const T=dl(B.total);return T>0?T:dl(B.unitPrice)*dl(B.quantity)},y=Array.isArray(t.items)?t.items:[],N=y.length>0,E=N?y.reduce((B,T)=>B+v(T),0):0,I=dl(t.quantity),O=dl(t.unitPrice),$=N?0:O*I,z=!N&&(I>0||O>0),U={createdByName:t.createdByName||"",createdAt:b(t.createdAt),updatedByName:t.updatedByName||"",updatedAt:b(t.updatedAt)},V=B=>{const T=$r(B),D=["completed","paid","invoiced","approved"].includes(T),A=["cancelled"].includes(T),k=D?"completed":A?"cancelled":"pending",j={completed:{label:Rt(o,"completed"),class:"bg-green-100 text-green-800"},pending:{label:Rt(o,"pending"),class:"bg-yellow-100 text-yellow-800"},cancelled:{label:Rt(o,"cancelled"),class:"bg-red-100 text-red-800"}}[k]||{label:Rt(o,T),class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${j.class}`,children:j.label})},G=B=>{const T=(B||"").toString().toLowerCase();return{cash:o("payments.methods.cash","Nakit"),card:o("payments.methods.card","Kredi/Banka Kart"),transfer:o("payments.methods.transfer","Havale/EFT"),check:o("payments.methods.check","ek")}[T]||B||""};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.saleNumber||`SAL-${t.id}`}),e.jsx("p",{className:"text-sm text-gray-500",children:o("sales.details",u.details)})]}),V(t.status)]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c&&e.jsxs("button",{onClick:()=>c(t),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:u.downloadPdf})]}),e.jsxs("button",{onClick:()=>h(t),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:u.edit})]}),f&&e.jsxs("button",{onClick:()=>f(t.id),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(Yr,{className:"w-4 h-4"}),e.jsx("span",{children:u.delete})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`sale-${t.id}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:U.createdByName})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:U.createdAt})]})]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:U.updatedByName})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[u.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:U.updatedAt})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.saleInfo}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[u.saleDate,":"]}),e.jsx("span",{className:"ml-2 font-medium",children:x(t.date)})]}),t.paymentMethod&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(xi,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[u.paymentMethod,":"]}),e.jsx("span",{className:"ml-2 font-medium",children:G(t.paymentMethod)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.customerInfo}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(is,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{className:"text-gray-600",children:[u.customer,":"]}),e.jsx("span",{className:"ml-2 font-medium",children:t.customerName||""})]}),t.customerEmail&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"w-4 h-4 text-gray-400 mr-2 text-xs",children:"@"}),e.jsxs("span",{className:"text-gray-600",children:[u.email,":"]}),e.jsx("span",{className:"ml-2 font-medium",children:t.customerEmail})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.itemsInfo}),N?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.productService}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.quantity}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.unitPrice}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.total})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map((B,T)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mn,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:B.productName})]})}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-700",children:B.quantity}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:g(B.unitPrice)}),e.jsx("td",{className:"px-4 py-3 text-right font-medium text-gray-900",children:g(v(B))})]},T))}),e.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"px-4 py-4 text-right font-semibold text-gray-900",children:u.grandTotalExclVat}),e.jsx("td",{className:"px-4 py-4 text-right font-bold text-green-600 text-lg",children:g(E)})]})})]})}):e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(mn,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.productName||""})]}),z&&e.jsxs("div",{className:"text-sm text-gray-600 ml-8",children:[e.jsxs("span",{children:[u.quantity,": ",t.quantity??""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[u.unitPrice,": ",t.unitPrice!=null?g(t.unitPrice):""]}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:[u.total,": ",g($)]})]})]})]}),!N&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.amountInfo}),e.jsx("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-green-800 font-medium text-lg",children:o("sales.totalExclVat",u.totalExclVat)}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:g($)})]})})]}),t.notes&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.notes}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-gray-700",children:t.notes})})]})]})]})})}const yE={TRY:{symbol:"",locale:"tr-TR",name:"Trk Liras"},USD:{symbol:"$",locale:"en-US",name:"US Dollar"},EUR:{symbol:"",locale:"en-US",name:"Euro"}},fv=(a,m="TRY")=>{const t=typeof a=="number"?a:0,h=yE[m];return h?`${h.symbol}${t.toLocaleString(h.locale,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${t.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})}`};function bE({isOpen:a=!0,onClose:m,bankAccount:t,bank:h,onEdit:f,onAddTransaction:c,onViewTransactions:n}){const{t:o,i18n:i}=Zt(),r=t||h;if(!a||!r)return null;const s=()=>{const y=Tt.getItem("i18nextLng");return y&&y.length>=2?y.slice(0,2).toLowerCase():(i.resolvedLanguage||i.language||"en").slice(0,2).toLowerCase()},l=y=>y==="tr"?"tr-TR":y==="de"?"de-DE":y==="fr"?"fr-FR":"en-US",d=s(),u={currentBalance:{tr:"Mevcut Bakiye",en:"Current Balance",fr:"Solde actuel",de:"Aktueller Kontostand"}[d]||"Current Balance",accountInfo:{tr:"Hesap Bilgileri",en:"Account Information",fr:"Informations du compte",de:"Kontoinformationen"}[d]||"Account Information",accountName:{tr:"Hesap Ad",en:"Account Name",fr:"Nom du compte",de:"Kontoname"}[d]||"Account Name",accountNo:{tr:"Hesap No",en:"Account No",fr:"N de compte",de:"Kontonummer"}[d]||"Account No",accountType:{tr:"Hesap Tr",en:"Account Type",fr:"Type de compte",de:"Kontotyp"}[d]||"Account Type",openingDate:{tr:"Al Tarihi",en:"Opening Date",fr:"Date d'ouverture",de:"Erffnungsdatum"}[d]||"Opening Date",bankInfo:{tr:"Banka Bilgileri",en:"Bank Information",fr:"Informations bancaires",de:"Bankinformationen"}[d]||"Bank Information",bank:{tr:"Banka",en:"Bank",fr:"Banque",de:"Bank"}[d]||"Bank",swiftBic:{tr:"SWIFT/BIC",en:"SWIFT/BIC",fr:"SWIFT/BIC",de:"SWIFT/BIC"}[d]||"SWIFT/BIC",routingNumber:{tr:"Routing Numaras",en:"Routing Number",fr:"Numro de routage",de:"Routing-Nummer"}[d]||"Routing Number",branchCode:{tr:"ube Kodu",en:"Branch Code",fr:"Code agence",de:"Filialcode"}[d]||"Branch Code",currency:{tr:"Para Birimi",en:"Currency",fr:"Devise",de:"Whrung"}[d]||"Currency",quickActions:{tr:"Hzl lemler",en:"Quick Actions",fr:"Actions rapides",de:"Schnellaktionen"}[d]||"Quick Actions",copyIban:{tr:"IBAN Kopyala",en:"Copy IBAN",fr:"Copier IBAN",de:"IBAN kopieren"}[d]||"Copy IBAN",ibanCopied:{tr:"IBAN kopyaland!",en:"IBAN copied!",fr:"IBAN copi!",de:"IBAN kopiert!"}[d]||"IBAN copied!",notSpecified:{tr:"Belirtilmemi",en:"Not specified",fr:"Non spcifi",de:"Nicht angegeben"}[d]||"Not specified"},x=y=>y?new Date(y).toLocaleDateString(l(d)):u.notSpecified,b=(y,N="TRY")=>fv(y,N),g=y=>{const N={tr:{checking:"Vadesiz Hesap",savings:"Vadeli Hesap",business:"Ticari Hesap"},en:{checking:"Checking Account",savings:"Savings Account",business:"Business Account"},fr:{checking:"Compte courant",savings:"Compte pargne",business:"Compte professionnel"},de:{checking:"Girokonto",savings:"Sparkonto",business:"Geschftskonto"}};return(N[d]||N.en)[y]||y},v=y=>{const N={tr:{TRY:"Trk Liras",USD:"Amerikan Dolar",EUR:"Euro",GBP:"ngiliz Sterlini"},en:{TRY:"Turkish Lira",USD:"US Dollar",EUR:"Euro",GBP:"British Pound"},fr:{TRY:"Livre turque",USD:"Dollar amricain",EUR:"Euro",GBP:"Livre sterling"},de:{TRY:"Trkische Lira",USD:"US-Dollar",EUR:"Euro",GBP:"Britisches Pfund"}};return(N[d]||N.en)[y]||y};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(xi,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r.bankName}),e.jsx("p",{className:"text-sm text-gray-500",children:o("banks.viewDetails",{defaultValue:"Banka Hesap Detaylar"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(r),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:o("common.edit"),children:e.jsx(hs,{className:"w-5 h-5 text-gray-500"})}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6",id:`bank-${r.id}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:u.currentBalance}),e.jsx("p",{className:"text-3xl font-bold",children:b(r.balance,r.currency)}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:v(r.currency)})]}),e.jsx("div",{className:"text-right",children:(()=>{const y=r?.isActive!==!1;return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y?"bg-green-400 text-green-900":"bg-gray-400 text-gray-900"}`,children:y?o("chartOfAccounts.active",{defaultValue:"Aktif"}):o("chartOfAccounts.passive",{defaultValue:"Pasif"})})})()})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.accountInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(is,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.accountName,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.accountName})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ku,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.accountNo,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.accountNumber})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Hu,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.accountType,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:g(r.accountType)})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.openingDate,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:x(r.createdAt)})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:u.bankInfo}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Jr,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.bank,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.bankName})]})]}),e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx(ni,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"IBAN:"}),e.jsx("div",{className:"ml-2 font-medium text-gray-900 font-mono text-xs bg-gray-100 p-2 rounded mt-1",children:r.iban})]})]}),!!r.swiftBic&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ni,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.swiftBic,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.swiftBic})]})]}),!!r.routingNumber&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ku,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.routingNumber,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.routingNumber})]})]}),!!r.branchCode&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ku,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.branchCode,":"]}),e.jsx("span",{className:"ml-2 font-medium text-gray-900",children:r.branchCode})]})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Pn,{className:"w-4 h-4 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-600",children:[u.currency,":"]}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[r.currency," - ",v(r.currency)]})]})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:u.quickActions}),e.jsx("div",{className:"flex flex-wrap gap-3",children:e.jsxs("button",{onClick:()=>{const y=r.iban.replace(/\s/g,"");navigator.clipboard.writeText(y),alert(u.ibanCopied)},className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[e.jsx(ni,{className:"w-4 h-4"}),e.jsx("span",{children:u.copyIban})]})})]})]})]})})}const na=({isOpen:a,title:m,message:t,confirmText:h,cancelText:f,danger:c=!1,onConfirm:n,onCancel:o})=>{const{t:i}=Zt("common"),r=m??i("confirm",{defaultValue:"Onay"}),s=h??i("yes",{defaultValue:"Evet"}),l=f??i("cancel",{defaultValue:"ptal"});return a?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:o}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r})}),e.jsx("div",{className:"px-5 py-4 text-gray-700 whitespace-pre-line",children:t}),e.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 flex justify-end gap-2",children:[e.jsx("button",{onClick:o,className:"inline-flex items-center px-4 py-2 rounded-md border border-gray-200 bg-white text-gray-700 hover:bg-gray-50",children:l}),e.jsx("button",{onClick:n,className:`inline-flex items-center px-4 py-2 rounded-md text-white focus:outline-none ${c?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:s})]})]})]}):null};const{entries:pv,setPrototypeOf:Qx,isFrozen:vE,getPrototypeOf:wE,getOwnPropertyDescriptor:kE}=Object;let{freeze:gn,seal:ii,create:wp}=Object,{apply:kp,construct:Np}=typeof Reflect<"u"&&Reflect;gn||(gn=function(m){return m});ii||(ii=function(m){return m});kp||(kp=function(m,t){for(var h=arguments.length,f=new Array(h>2?h-2:0),c=2;c<h;c++)f[c-2]=arguments[c];return m.apply(t,f)});Np||(Np=function(m){for(var t=arguments.length,h=new Array(t>1?t-1:0),f=1;f<t;f++)h[f-1]=arguments[f];return new m(...h)});const nu=xn(Array.prototype.forEach),NE=xn(Array.prototype.lastIndexOf),Zx=xn(Array.prototype.pop),mc=xn(Array.prototype.push),jE=xn(Array.prototype.splice),Su=xn(String.prototype.toLowerCase),Cf=xn(String.prototype.toString),Af=xn(String.prototype.match),hc=xn(String.prototype.replace),SE=xn(String.prototype.indexOf),CE=xn(String.prototype.trim),gi=xn(Object.prototype.hasOwnProperty),dn=xn(RegExp.prototype.test),fc=AE(TypeError);function xn(a){return function(m){m instanceof RegExp&&(m.lastIndex=0);for(var t=arguments.length,h=new Array(t>1?t-1:0),f=1;f<t;f++)h[f-1]=arguments[f];return kp(a,m,h)}}function AE(a){return function(){for(var m=arguments.length,t=new Array(m),h=0;h<m;h++)t[h]=arguments[h];return Np(a,t)}}function Mr(a,m){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Su;Qx&&Qx(a,null);let h=m.length;for(;h--;){let f=m[h];if(typeof f=="string"){const c=t(f);c!==f&&(vE(m)||(m[h]=c),f=c)}a[f]=!0}return a}function EE(a){for(let m=0;m<a.length;m++)gi(a,m)||(a[m]=null);return a}function Zi(a){const m=wp(null);for(const[t,h]of pv(a))gi(a,t)&&(Array.isArray(h)?m[t]=EE(h):h&&typeof h=="object"&&h.constructor===Object?m[t]=Zi(h):m[t]=h);return m}function pc(a,m){for(;a!==null;){const h=kE(a,m);if(h){if(h.get)return xn(h.get);if(typeof h.value=="function")return xn(h.value)}a=wE(a)}function t(){return null}return t}const Xx=gn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ef=gn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Tf=gn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),TE=gn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),_f=gn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_E=gn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jx=gn(["#text"]),ey=gn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Pf=gn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ty=gn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),iu=gn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),PE=ii(/\{\{[\w\W]*|[\w\W]*\}\}/gm),DE=ii(/<%[\w\W]*|[\w\W]*%>/gm),IE=ii(/\$\{[\w\W]*/gm),ME=ii(/^data-[\-\w.\u00B7-\uFFFF]+$/),RE=ii(/^aria-[\-\w]+$/),gv=ii(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zE=ii(/^(?:\w+script|data):/i),LE=ii(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xv=ii(/^html$/i),OE=ii(/^[a-z][.\w]*(-[.\w]+)+$/i);var ry=Object.freeze({__proto__:null,ARIA_ATTR:RE,ATTR_WHITESPACE:LE,CUSTOM_ELEMENT:OE,DATA_ATTR:ME,DOCTYPE_NAME:xv,ERB_EXPR:DE,IS_ALLOWED_URI:gv,IS_SCRIPT_OR_DATA:zE,MUSTACHE_EXPR:PE,TMPLIT_EXPR:IE});const gc={element:1,text:3,progressingInstruction:7,comment:8,document:9},FE=function(){return typeof window>"u"?null:window},BE=function(m,t){if(typeof m!="object"||typeof m.createPolicy!="function")return null;let h=null;const f="data-tt-policy-suffix";t&&t.hasAttribute(f)&&(h=t.getAttribute(f));const c="dompurify"+(h?"#"+h:"");try{return m.createPolicy(c,{createHTML(n){return n},createScriptURL(n){return n}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},sy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yv(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:FE();const m=jt=>yv(jt);if(m.version="3.3.0",m.removed=[],!a||!a.document||a.document.nodeType!==gc.document||!a.Element)return m.isSupported=!1,m;let{document:t}=a;const h=t,f=h.currentScript,{DocumentFragment:c,HTMLTemplateElement:n,Node:o,Element:i,NodeFilter:r,NamedNodeMap:s=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:l,DOMParser:d,trustedTypes:u}=a,x=i.prototype,b=pc(x,"cloneNode"),g=pc(x,"remove"),v=pc(x,"nextSibling"),y=pc(x,"childNodes"),N=pc(x,"parentNode");if(typeof n=="function"){const jt=t.createElement("template");jt.content&&jt.content.ownerDocument&&(t=jt.content.ownerDocument)}let E,I="";const{implementation:O,createNodeIterator:$,createDocumentFragment:z,getElementsByTagName:U}=t,{importNode:V}=h;let G=sy();m.isSupported=typeof pv=="function"&&typeof N=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:T,TMPLIT_EXPR:D,DATA_ATTR:A,ARIA_ATTR:k,IS_SCRIPT_OR_DATA:S,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:C}=ry;let{IS_ALLOWED_URI:P}=ry,R=null;const L=Mr({},[...Xx,...Ef,...Tf,..._f,...Jx]);let Y=null;const Z=Mr({},[...ey,...Pf,...ty,...iu]);let ae=Object.seal(wp(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,X=null;const F=Object.seal(wp(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let M=!0,K=!0,se=!1,oe=!0,ne=!1,le=!0,Se=!1,je=!1,ee=!1,ce=!1,be=!1,Te=!1,Ce=!0,Pe=!1;const Be="user-content-";let Ge=!0,st=!1,bt={},_e=null;const We=Mr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let vt=null;const At=Mr({},["audio","video","img","source","image","track"]);let Nt=null;const De=Mr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",Oe="http://www.w3.org/2000/svg",Ke="http://www.w3.org/1999/xhtml";let pe=Ke,me=!1,xe=null;const te=Mr({},[ge,Oe,Ke],Cf);let we=Mr({},["mi","mo","mn","ms","mtext"]),Ue=Mr({},["annotation-xml"]);const et=Mr({},["title","style","font","a","script"]);let dt=null;const St=["application/xhtml+xml","text/html"],Ut="text/html";let ve=null,de=null;const Ye=t.createElement("form"),ut=function(Ie){return Ie instanceof RegExp||Ie instanceof Function},pt=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(de&&de===Ie)){if((!Ie||typeof Ie!="object")&&(Ie={}),Ie=Zi(Ie),dt=St.indexOf(Ie.PARSER_MEDIA_TYPE)===-1?Ut:Ie.PARSER_MEDIA_TYPE,ve=dt==="application/xhtml+xml"?Cf:Su,R=gi(Ie,"ALLOWED_TAGS")?Mr({},Ie.ALLOWED_TAGS,ve):L,Y=gi(Ie,"ALLOWED_ATTR")?Mr({},Ie.ALLOWED_ATTR,ve):Z,xe=gi(Ie,"ALLOWED_NAMESPACES")?Mr({},Ie.ALLOWED_NAMESPACES,Cf):te,Nt=gi(Ie,"ADD_URI_SAFE_ATTR")?Mr(Zi(De),Ie.ADD_URI_SAFE_ATTR,ve):De,vt=gi(Ie,"ADD_DATA_URI_TAGS")?Mr(Zi(At),Ie.ADD_DATA_URI_TAGS,ve):At,_e=gi(Ie,"FORBID_CONTENTS")?Mr({},Ie.FORBID_CONTENTS,ve):We,q=gi(Ie,"FORBID_TAGS")?Mr({},Ie.FORBID_TAGS,ve):Zi({}),X=gi(Ie,"FORBID_ATTR")?Mr({},Ie.FORBID_ATTR,ve):Zi({}),bt=gi(Ie,"USE_PROFILES")?Ie.USE_PROFILES:!1,M=Ie.ALLOW_ARIA_ATTR!==!1,K=Ie.ALLOW_DATA_ATTR!==!1,se=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,oe=Ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=Ie.SAFE_FOR_TEMPLATES||!1,le=Ie.SAFE_FOR_XML!==!1,Se=Ie.WHOLE_DOCUMENT||!1,ce=Ie.RETURN_DOM||!1,be=Ie.RETURN_DOM_FRAGMENT||!1,Te=Ie.RETURN_TRUSTED_TYPE||!1,ee=Ie.FORCE_BODY||!1,Ce=Ie.SANITIZE_DOM!==!1,Pe=Ie.SANITIZE_NAMED_PROPS||!1,Ge=Ie.KEEP_CONTENT!==!1,st=Ie.IN_PLACE||!1,P=Ie.ALLOWED_URI_REGEXP||gv,pe=Ie.NAMESPACE||Ke,we=Ie.MATHML_TEXT_INTEGRATION_POINTS||we,Ue=Ie.HTML_INTEGRATION_POINTS||Ue,ae=Ie.CUSTOM_ELEMENT_HANDLING||{},Ie.CUSTOM_ELEMENT_HANDLING&&ut(Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&ut(Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&typeof Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(K=!1),be&&(ce=!0),bt&&(R=Mr({},Jx),Y=[],bt.html===!0&&(Mr(R,Xx),Mr(Y,ey)),bt.svg===!0&&(Mr(R,Ef),Mr(Y,Pf),Mr(Y,iu)),bt.svgFilters===!0&&(Mr(R,Tf),Mr(Y,Pf),Mr(Y,iu)),bt.mathMl===!0&&(Mr(R,_f),Mr(Y,ty),Mr(Y,iu))),Ie.ADD_TAGS&&(typeof Ie.ADD_TAGS=="function"?F.tagCheck=Ie.ADD_TAGS:(R===L&&(R=Zi(R)),Mr(R,Ie.ADD_TAGS,ve))),Ie.ADD_ATTR&&(typeof Ie.ADD_ATTR=="function"?F.attributeCheck=Ie.ADD_ATTR:(Y===Z&&(Y=Zi(Y)),Mr(Y,Ie.ADD_ATTR,ve))),Ie.ADD_URI_SAFE_ATTR&&Mr(Nt,Ie.ADD_URI_SAFE_ATTR,ve),Ie.FORBID_CONTENTS&&(_e===We&&(_e=Zi(_e)),Mr(_e,Ie.FORBID_CONTENTS,ve)),Ge&&(R["#text"]=!0),Se&&Mr(R,["html","head","body"]),R.table&&(Mr(R,["tbody"]),delete q.tbody),Ie.TRUSTED_TYPES_POLICY){if(typeof Ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw fc('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fc('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=Ie.TRUSTED_TYPES_POLICY,I=E.createHTML("")}else E===void 0&&(E=BE(u,f)),E!==null&&typeof I=="string"&&(I=E.createHTML(""));gn&&gn(Ie),de=Ie}},Le=Mr({},[...Ef,...Tf,...TE]),Je=Mr({},[..._f,..._E]),ke=function(Ie){let ht=N(Ie);(!ht||!ht.tagName)&&(ht={namespaceURI:pe,tagName:"template"});const Vt=Su(Ie.tagName),Ne=Su(ht.tagName);return xe[Ie.namespaceURI]?Ie.namespaceURI===Oe?ht.namespaceURI===Ke?Vt==="svg":ht.namespaceURI===ge?Vt==="svg"&&(Ne==="annotation-xml"||we[Ne]):!!Le[Vt]:Ie.namespaceURI===ge?ht.namespaceURI===Ke?Vt==="math":ht.namespaceURI===Oe?Vt==="math"&&Ue[Ne]:!!Je[Vt]:Ie.namespaceURI===Ke?ht.namespaceURI===Oe&&!Ue[Ne]||ht.namespaceURI===ge&&!we[Ne]?!1:!Je[Vt]&&(et[Vt]||!Le[Vt]):!!(dt==="application/xhtml+xml"&&xe[Ie.namespaceURI]):!1},Me=function(Ie){mc(m.removed,{element:Ie});try{N(Ie).removeChild(Ie)}catch{g(Ie)}},He=function(Ie,ht){try{mc(m.removed,{attribute:ht.getAttributeNode(Ie),from:ht})}catch{mc(m.removed,{attribute:null,from:ht})}if(ht.removeAttribute(Ie),Ie==="is")if(ce||be)try{Me(ht)}catch{}else try{ht.setAttribute(Ie,"")}catch{}},ot=function(Ie){let ht=null,Vt=null;if(ee)Ie="<remove></remove>"+Ie;else{const lt=Af(Ie,/^[\r\n\t ]+/);Vt=lt&&lt[0]}dt==="application/xhtml+xml"&&pe===Ke&&(Ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ie+"</body></html>");const Ne=E?E.createHTML(Ie):Ie;if(pe===Ke)try{ht=new d().parseFromString(Ne,dt)}catch{}if(!ht||!ht.documentElement){ht=O.createDocument(pe,"template",null);try{ht.documentElement.innerHTML=me?I:Ne}catch{}}const Ve=ht.body||ht.documentElement;return Ie&&Vt&&Ve.insertBefore(t.createTextNode(Vt),Ve.childNodes[0]||null),pe===Ke?U.call(ht,Se?"html":"body")[0]:Se?ht.documentElement:Ve},at=function(Ie){return $.call(Ie.ownerDocument||Ie,Ie,r.SHOW_ELEMENT|r.SHOW_COMMENT|r.SHOW_TEXT|r.SHOW_PROCESSING_INSTRUCTION|r.SHOW_CDATA_SECTION,null)},ft=function(Ie){return Ie instanceof l&&(typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof s)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"||typeof Ie.hasChildNodes!="function")},Kt=function(Ie){return typeof o=="function"&&Ie instanceof o};function zt(jt,Ie,ht){nu(jt,Vt=>{Vt.call(m,Ie,ht,de)})}const Re=function(Ie){let ht=null;if(zt(G.beforeSanitizeElements,Ie,null),ft(Ie))return Me(Ie),!0;const Vt=ve(Ie.nodeName);if(zt(G.uponSanitizeElement,Ie,{tagName:Vt,allowedTags:R}),le&&Ie.hasChildNodes()&&!Kt(Ie.firstElementChild)&&dn(/<[/\w!]/g,Ie.innerHTML)&&dn(/<[/\w!]/g,Ie.textContent)||Ie.nodeType===gc.progressingInstruction||le&&Ie.nodeType===gc.comment&&dn(/<[/\w]/g,Ie.data))return Me(Ie),!0;if(!(F.tagCheck instanceof Function&&F.tagCheck(Vt))&&(!R[Vt]||q[Vt])){if(!q[Vt]&&mt(Vt)&&(ae.tagNameCheck instanceof RegExp&&dn(ae.tagNameCheck,Vt)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Vt)))return!1;if(Ge&&!_e[Vt]){const Ne=N(Ie)||Ie.parentNode,Ve=y(Ie)||Ie.childNodes;if(Ve&&Ne){const lt=Ve.length;for(let kt=lt-1;kt>=0;--kt){const Ot=b(Ve[kt],!0);Ot.__removalCount=(Ie.__removalCount||0)+1,Ne.insertBefore(Ot,v(Ie))}}}return Me(Ie),!0}return Ie instanceof i&&!ke(Ie)||(Vt==="noscript"||Vt==="noembed"||Vt==="noframes")&&dn(/<\/no(script|embed|frames)/i,Ie.innerHTML)?(Me(Ie),!0):(ne&&Ie.nodeType===gc.text&&(ht=Ie.textContent,nu([B,T,D],Ne=>{ht=hc(ht,Ne," ")}),Ie.textContent!==ht&&(mc(m.removed,{element:Ie.cloneNode()}),Ie.textContent=ht)),zt(G.afterSanitizeElements,Ie,null),!1)},rt=function(Ie,ht,Vt){if(Ce&&(ht==="id"||ht==="name")&&(Vt in t||Vt in Ye))return!1;if(!(K&&!X[ht]&&dn(A,ht))){if(!(M&&dn(k,ht))){if(!(F.attributeCheck instanceof Function&&F.attributeCheck(ht,Ie))){if(!Y[ht]||X[ht]){if(!(mt(Ie)&&(ae.tagNameCheck instanceof RegExp&&dn(ae.tagNameCheck,Ie)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Ie))&&(ae.attributeNameCheck instanceof RegExp&&dn(ae.attributeNameCheck,ht)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(ht,Ie))||ht==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&dn(ae.tagNameCheck,Vt)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(Vt))))return!1}else if(!Nt[ht]){if(!dn(P,hc(Vt,j,""))){if(!((ht==="src"||ht==="xlink:href"||ht==="href")&&Ie!=="script"&&SE(Vt,"data:")===0&&vt[Ie])){if(!(se&&!dn(S,hc(Vt,j,"")))){if(Vt)return!1}}}}}}}return!0},mt=function(Ie){return Ie!=="annotation-xml"&&Af(Ie,C)},Dt=function(Ie){zt(G.beforeSanitizeAttributes,Ie,null);const{attributes:ht}=Ie;if(!ht||ft(Ie))return;const Vt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y,forceKeepAttr:void 0};let Ne=ht.length;for(;Ne--;){const Ve=ht[Ne],{name:lt,namespaceURI:kt,value:Ot}=Ve,Pt=ve(lt),$t=Ot;let sr=lt==="value"?$t:CE($t);if(Vt.attrName=Pt,Vt.attrValue=sr,Vt.keepAttr=!0,Vt.forceKeepAttr=void 0,zt(G.uponSanitizeAttribute,Ie,Vt),sr=Vt.attrValue,Pe&&(Pt==="id"||Pt==="name")&&(He(lt,Ie),sr=Be+sr),le&&dn(/((--!?|])>)|<\/(style|title|textarea)/i,sr)){He(lt,Ie);continue}if(Pt==="attributename"&&Af(sr,"href")){He(lt,Ie);continue}if(Vt.forceKeepAttr)continue;if(!Vt.keepAttr){He(lt,Ie);continue}if(!oe&&dn(/\/>/i,sr)){He(lt,Ie);continue}ne&&nu([B,T,D],Lt=>{sr=hc(sr,Lt," ")});const Yt=ve(Ie.nodeName);if(!rt(Yt,Pt,sr)){He(lt,Ie);continue}if(E&&typeof u=="object"&&typeof u.getAttributeType=="function"&&!kt)switch(u.getAttributeType(Yt,Pt)){case"TrustedHTML":{sr=E.createHTML(sr);break}case"TrustedScriptURL":{sr=E.createScriptURL(sr);break}}if(sr!==$t)try{kt?Ie.setAttributeNS(kt,lt,sr):Ie.setAttribute(lt,sr),ft(Ie)?Me(Ie):Zx(m.removed)}catch{He(lt,Ie)}}zt(G.afterSanitizeAttributes,Ie,null)},_t=function jt(Ie){let ht=null;const Vt=at(Ie);for(zt(G.beforeSanitizeShadowDOM,Ie,null);ht=Vt.nextNode();)zt(G.uponSanitizeShadowNode,ht,null),Re(ht),Dt(ht),ht.content instanceof c&&jt(ht.content);zt(G.afterSanitizeShadowDOM,Ie,null)};return m.sanitize=function(jt){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ht=null,Vt=null,Ne=null,Ve=null;if(me=!jt,me&&(jt="<!-->"),typeof jt!="string"&&!Kt(jt))if(typeof jt.toString=="function"){if(jt=jt.toString(),typeof jt!="string")throw fc("dirty is not a string, aborting")}else throw fc("toString is not a function");if(!m.isSupported)return jt;if(je||pt(Ie),m.removed=[],typeof jt=="string"&&(st=!1),st){if(jt.nodeName){const Ot=ve(jt.nodeName);if(!R[Ot]||q[Ot])throw fc("root node is forbidden and cannot be sanitized in-place")}}else if(jt instanceof o)ht=ot("<!---->"),Vt=ht.ownerDocument.importNode(jt,!0),Vt.nodeType===gc.element&&Vt.nodeName==="BODY"||Vt.nodeName==="HTML"?ht=Vt:ht.appendChild(Vt);else{if(!ce&&!ne&&!Se&&jt.indexOf("<")===-1)return E&&Te?E.createHTML(jt):jt;if(ht=ot(jt),!ht)return ce?null:Te?I:""}ht&&ee&&Me(ht.firstChild);const lt=at(st?jt:ht);for(;Ne=lt.nextNode();)Re(Ne),Dt(Ne),Ne.content instanceof c&&_t(Ne.content);if(st)return jt;if(ce){if(be)for(Ve=z.call(ht.ownerDocument);ht.firstChild;)Ve.appendChild(ht.firstChild);else Ve=ht;return(Y.shadowroot||Y.shadowrootmode)&&(Ve=V.call(h,Ve,!0)),Ve}let kt=Se?ht.outerHTML:ht.innerHTML;return Se&&R["!doctype"]&&ht.ownerDocument&&ht.ownerDocument.doctype&&ht.ownerDocument.doctype.name&&dn(xv,ht.ownerDocument.doctype.name)&&(kt="<!DOCTYPE "+ht.ownerDocument.doctype.name+`>
`+kt),ne&&nu([B,T,D],Ot=>{kt=hc(kt,Ot," ")}),E&&Te?E.createHTML(kt):kt},m.setConfig=function(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};pt(jt),je=!0},m.clearConfig=function(){de=null,je=!1},m.isValidAttribute=function(jt,Ie,ht){de||pt({});const Vt=ve(jt),Ne=ve(Ie);return rt(Vt,Ne,ht)},m.addHook=function(jt,Ie){typeof Ie=="function"&&mc(G[jt],Ie)},m.removeHook=function(jt,Ie){if(Ie!==void 0){const ht=NE(G[jt],Ie);return ht===-1?void 0:jE(G[jt],ht,1)[0]}return Zx(G[jt])},m.removeHooks=function(jt){G[jt]=[]},m.removeAllHooks=function(){G=sy()},m}var bv=yv();const aP=Object.freeze(Object.defineProperty({__proto__:null,default:bv},Symbol.toStringTag,{value:"Module"})),vv=a=>{const m=/^(?:(?:https?|mailto|ftp|tel|file|sms|cid|data):|[^a-z]|[a-z+.-]+(?:[^a-z+.-]|$))/i;return bv.sanitize(a,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","strong","b","em","i","u","s","code","pre","blockquote","hr","ul","ol","li","a","img","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["href","target","rel","src","alt","title","colspan","rowspan"],ALLOW_DATA_ATTR:!1,ALLOWED_URI_REGEXP:m,FORBID_TAGS:["script","style"]})},UE=a=>{const m=a.description??a.name??a.productName??"",t=Number(a.quantity??a.qty??0),h=Number(a.unitPrice??a.price??a.unit_price??0),f=Number(a.total??(Number.isFinite(t)&&Number.isFinite(h)?t*h:0)),c=a.id??`${m}-${h}-${f}`;return{key:String(c),description:m,quantity:t,unitPrice:h,total:f}},wv=({isOpen:a,onClose:m,quote:t,onEdit:h,onChangeStatus:f,onRevise:c})=>{const{t:n,i18n:o}=Zt(),{formatCurrency:i}=es(),[r,s]=Gt.useState(!1),l=()=>{const z=Tt.getItem("i18nextLng");return z&&z.length>=2?z.slice(0,2).toLowerCase():(o.resolvedLanguage||o.language||"en").slice(0,2).toLowerCase()},d=z=>z==="tr"?"tr-TR":z==="de"?"de-DE":z==="fr"?"fr-FR":"en-US",u=l(),x={createdBy:{tr:"Oluturan",en:"Created by",fr:"Cr par",de:"Erstellt von"}[u]||"Created by",createdAt:{tr:"Oluturulma",en:"Created at",fr:"Cr le",de:"Erstellt am"}[u]||"Created at",updatedBy:{tr:"Son gncelleyen",en:"Last updated by",fr:"Dernire mise  jour par",de:"Zuletzt aktualisiert von"}[u]||"Last updated by",updatedAt:{tr:"Son gncelleme",en:"Last updated",fr:"Dernire mise  jour",de:"Zuletzt aktualisiert"}[u]||"Last updated",status:{draft:{tr:"Taslak",en:"Draft",fr:"Brouillon",de:"Entwurf"}[u]||"Draft",sent:{tr:"Gnderildi",en:"Sent",fr:"Envoy",de:"Gesendet"}[u]||"Sent",viewed:{tr:"Grntlendi",en:"Viewed",fr:"Consult",de:"Gesehen"}[u]||"Viewed",accepted:{tr:"Kabul Edildi",en:"Accepted",fr:"Accept",de:"Angenommen"}[u]||"Accepted",declined:{tr:"Reddedildi",en:"Declined",fr:"Refus",de:"Abgelehnt"}[u]||"Declined",expired:{tr:"Sresi Doldu",en:"Expired",fr:"Expir",de:"Abgelaufen"}[u]||"Expired"}},b={draft:{label:n("quotes.statusLabels.draft",{defaultValue:x.status.draft}),className:"bg-gray-100 text-gray-800"},sent:{label:n("quotes.statusLabels.sent",{defaultValue:x.status.sent}),className:"bg-blue-100 text-blue-800"},viewed:{label:n("quotes.statusLabels.viewed",{defaultValue:x.status.viewed}),className:"bg-indigo-100 text-indigo-800"},accepted:{label:n("quotes.statusLabels.accepted",{defaultValue:x.status.accepted}),className:"bg-green-100 text-green-800"},declined:{label:n("quotes.statusLabels.declined",{defaultValue:x.status.declined}),className:"bg-red-100 text-red-800"},expired:{label:n("quotes.statusLabels.expired",{defaultValue:x.status.expired}),className:"bg-yellow-100 text-yellow-800"}},g=W.useMemo(()=>{if(!t?.validUntil)return null;const z=new Date(t.validUntil).getTime(),U=new Date().setHours(0,0,0,0);return Math.ceil((z-U)/(1e3*60*60*24))},[t?.validUntil]);if(!a||!t)return null;const v=z=>new Date(z).toLocaleDateString(d(u)),y=z=>{const U=String(z),V=x.status;switch(U){case"draft":return n("quotes.statusLabels.draft",{defaultValue:V.draft});case"sent":return n("quotes.statusLabels.sent",{defaultValue:V.sent});case"viewed":return n("quotes.statusLabels.viewed",{defaultValue:V.viewed});case"accepted":return n("quotes.statusLabels.accepted",{defaultValue:V.accepted});case"declined":return n("quotes.statusLabels.declined",{defaultValue:V.declined});case"expired":return n("quotes.statusLabels.expired",{defaultValue:V.expired});default:return z}},N=new Date().toISOString().slice(0,10),E=t.status==="accepted"||t.status==="declined"||t.status==="expired",I=t.status==="accepted",O=t.validUntil?t.validUntil<N:!1,$=!E&&O;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:z=>z.target===z.currentTarget&&m(),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t.quoteNumber,t.version&&t.version>1&&e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:n("quotes.version",{n:t.version})})]}),e.jsx("p",{className:"text-sm text-gray-500",children:n("quotes.viewModal.details")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b[t.status].className}`,children:b[t.status].label}),I&&e.jsxs("span",{className:"ml-1 inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",title:n("quotes.lockedHint")||"Kabul edildi. Bu teklif kilitli.",children:[e.jsx(Bn,{className:"w-3 h-3"}),n("quotes.locked",{defaultValue:"Kilitli"})]}),$&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:n("quotes.statusLabels.expired")}),c&&E&&t.status!=="accepted"&&e.jsxs("button",{onClick:()=>{m(),setTimeout(()=>c(t),100)},className:"inline-flex items-center gap-1 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",title:n("quotes.actions.revise"),children:[e.jsx(Fc,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:n("quotes.actions.revise")})]}),f&&t.status==="draft"&&e.jsxs("button",{onClick:()=>f(t,"sent"),className:"inline-flex items-center gap-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",title:n("quotes.actions.send"),children:[e.jsx(Gb,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:n("quotes.actions.send")})]}),f&&(t.status==="sent"||t.status==="viewed")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",title:n("quotes.actions.accept"),children:[e.jsx(ns,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:n("quotes.actions.accept")})]}),e.jsxs("button",{onClick:()=>f(t,"declined"),className:"inline-flex items-center gap-1 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",title:n("quotes.actions.decline"),children:[e.jsx(Sl,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:n("quotes.actions.decline")})]})]}),h&&!I&&e.jsx("button",{onClick:()=>{m(),setTimeout(()=>h(t),100)},className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.createdBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.createdAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.createdAt?new Date(t.createdAt).toLocaleString(d(u)):""})]})]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.updatedBy,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedByName||""})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[x.updatedAt,":"]})," ",e.jsx("span",{className:"font-medium",children:t.updatedAt?new Date(t.updatedAt).toLocaleString(d(u)):""})]})]})]}),I&&e.jsxs("div",{className:"rounded-md border border-gray-200 bg-gray-50 text-gray-800 px-3 py-2 text-sm",children:[" ",n("quotes.lockedBanner",{defaultValue:"Bu teklif kabul edildi ve kilitlidir. Dzenleme veya silme yaplamaz."})]}),Array.isArray(t.items)&&t.items.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:n("invoices.productsAndServices")}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:n("invoices.description")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:n("invoices.quantity")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:n("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:n("invoices.totalInclVAT")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(t.items??[]).map(z=>{const U=UE(z);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:U.description}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:U.quantity}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:i(U.unitPrice,t.currency)}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:i(U.total,t.currency)})]},U.key)})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Or,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[n("quotes.table.date"),":"]}),e.jsx("span",{className:"font-medium",children:v(t.issueDate)})]}),t.validUntil&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(Or,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[n("quotes.validUntil"),":"]}),e.jsx("span",{className:"font-medium",children:v(t.validUntil)}),typeof g=="number"&&g>=0&&!$&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:n("quotes.expiresIn",{days:g})}),$&&e.jsx("span",{className:"ml-2 text-xs text-red-600",children:n("quotes.expiredOn",{date:v(t.validUntil)})})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(is,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[n("quotes.table.customer"),":"]}),e.jsx("span",{className:"font-medium",children:t.customerName})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(gC,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"mr-2 text-gray-500",children:[n("quotes.table.amount"),":"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(t.total,t.currency)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsxs("span",{className:"mr-2 text-gray-500",children:[n("quotes.createModal.currency"),":"]}),e.jsx("span",{className:"font-medium",children:t.currency})]})]})]}),Array.isArray(t.revisions)&&t.revisions.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:n("quotes.revisionHistory",{defaultValue:"Revizyon Gemii"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"15%"},children:"v"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"25%"},children:n("quotes.table.date")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"25%"},children:n("quotes.validUntil")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"20%"},children:n("quotes.table.status")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",style:{width:"15%"},children:n("quotes.table.amount")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.revisions.map((z,U)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-2 text-sm text-gray-800",children:["v",z.version]}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:v(z.issueDate)}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:z.validUntil?v(z.validUntil):"-"}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-700",children:y(z.status)}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:i(Number(z.total||0),t.currency)})]},`rev-${U}`))})]})})]}),t.scopeOfWorkHtml&&String(t.scopeOfWorkHtml).trim().length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:n("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx("div",{className:"prose max-w-none prose-sm text-gray-800 border border-gray-200 rounded-lg p-4 bg-white",dangerouslySetInnerHTML:{__html:vv(String(t.scopeOfWorkHtml||""))}})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:async()=>{const{generateQuotePDF:z}=await Dr(async()=>{const{generateQuotePDF:U}=await import("./pdfGenerator-CM7tmRPw.js").then(V=>V.p);return{generateQuotePDF:U}},[]);await z({id:t.id,quoteNumber:t.quoteNumber,customerName:t.customerName,customerId:t.customerId,issueDate:t.issueDate,validUntil:t.validUntil,status:t.status,currency:t.currency,total:t.total,items:(t.items||[]).map(U=>({description:U.description,quantity:U.quantity,unitPrice:U.unitPrice,total:U.total})),scopeOfWorkHtml:t.scopeOfWorkHtml||""},{filename:t.quoteNumber})},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",title:n("quotes.actions.downloadPdf"),children:[e.jsx(vl,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:n("quotes.actions.downloadPdf")})]}),t.publicId&&e.jsxs("button",{onClick:async()=>{try{const U=`${typeof window<"u"?window.location.origin:""}/public/quote/${encodeURIComponent(String(t.publicId))}`;await navigator.clipboard.writeText(U);try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:n("quotes.actions.copyPublicLinkSuccess",{defaultValue:"Balant kopyaland."}),tone:"success"}}))}catch(V){he.debug("Public quote toast dispatch failed",V)}f&&t.status==="draft"&&f(t,"sent")}catch(z){console.warn("Clipboard copy failed, showing fallback",z);try{const V=`${typeof window<"u"?window.location.origin:""}/public/quote/${encodeURIComponent(String(t.publicId))}`;alert(V)}catch(U){he.debug("Public quote link alert fallback failed",U)}}},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",title:n("quotes.actions.copyPublicLink",{defaultValue:"Public Link Kopyala"}),children:[e.jsx(Mp,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:n("quotes.actions.copyPublicLink",{defaultValue:"Public Link Kopyala"})})]})]})]})]})}),r&&e.jsx(na,{isOpen:!0,title:n("common.confirm",{defaultValue:"Onay"}),message:n("quotes.confirmAccept",{defaultValue:"Teklifi kabul etmek istediinizden emin misiniz? Bu ilem geri alnamaz."}),confirmText:n("common.yes",{defaultValue:"Evet"}),cancelText:n("common.no",{defaultValue:"Hayr"}),onCancel:()=>s(!1),onConfirm:()=>{s(!1),f&&t&&f(t,"accepted")}})]})},Gp=({value:a,onChange:m,placeholder:t,height:h=220,readOnly:f,className:c})=>{const n=W.useRef(null),o=W.useRef(!1),i=W.useRef(null),[r,s]=W.useState(!1),l=W.useRef(null),[d,u]=W.useState(!1),[x,b]=W.useState(!1),[g,v]=W.useState({r:3,c:3});W.useEffect(()=>{const V=n.current;V&&typeof a=="string"&&a!==V.innerHTML&&(V.innerHTML=a||"")},[a]);const y=()=>{const V=n.current;if(!V)return;document.activeElement!==V&&V.focus();const G=window.getSelection?.();G&&l.current&&(G.removeAllRanges(),G.addRange(l.current))},N=(V,G)=>{try{y(),document.execCommand(V,!1,G);const B=n.current;B&&m&&m(B.innerHTML)}catch{}},E=V=>{try{y(),document.execCommand("insertHTML",!1,V);const G=n.current;G&&m&&m(G.innerHTML)}catch{}},I=()=>{n.current&&m&&m(n.current.innerHTML)},O=V=>{(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="b"&&(V.preventDefault(),N("bold")),(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="u"&&(V.preventDefault(),N("underline")),(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="i"&&(V.preventDefault(),N("italic")),(V.ctrlKey||V.metaKey)&&V.key.toLowerCase()==="z"&&(V.preventDefault(),N("undo")),(V.ctrlKey||V.metaKey)&&V.shiftKey&&V.key.toLowerCase()==="z"&&(V.preventDefault(),N("redo"))},$=({title:V,onClick:G,children:B})=>e.jsx("button",{type:"button",onMouseDown:T=>{T.preventDefault(),G()},title:V,className:"inline-flex items-center justify-center w-8 h-8 rounded-md text-slate-700 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:B}),z=()=>e.jsx("span",{className:"w-px h-6 bg-slate-200","aria-hidden":"true"}),U=typeof h=="number"?`${h}px`:h;return W.useEffect(()=>{const V=n.current;if(!V)return;const G=(T,D)=>D?T===D||T.contains(D):!1,B=()=>{const T=window.getSelection?.();if(!T||T.rangeCount===0)return;const D=T.getRangeAt(0);G(V,D.commonAncestorContainer)&&(l.current=D.cloneRange())};return document.addEventListener("selectionchange",B),()=>document.removeEventListener("selectionchange",B)},[]),e.jsxs("div",{className:c,children:[!f&&e.jsxs("div",{className:"flex flex-wrap items-center gap-1 border border-slate-200 rounded-t-md bg-white px-2 py-1.5 shadow-sm relative",children:[e.jsx($,{title:"Kaln (Ctrl+B)",onClick:()=>N("bold"),children:e.jsx(yC,{className:"w-4 h-4"})}),e.jsx($,{title:"talik (Ctrl+I)",onClick:()=>N("italic"),children:e.jsx(LC,{className:"w-4 h-4"})}),e.jsx($,{title:"Alt izili (Ctrl+U)",onClick:()=>N("underline"),children:e.jsx(JC,{className:"w-4 h-4"})}),e.jsx($,{title:"st izili",onClick:()=>N("strikeThrough"),children:e.jsx(ZC,{className:"w-4 h-4"})}),e.jsx(z,{}),e.jsxs("div",{className:"relative",children:[e.jsx($,{title:"Balk (H1H6)",onClick:()=>u(V=>!V),children:e.jsx(Tx,{className:"w-4 h-4"})}),d&&e.jsx("div",{className:"absolute z-50 mt-1 w-44 bg-white border border-slate-200 rounded-md shadow-lg p-1",children:[{tag:"P",label:"Paragraf",Icon:_x},{tag:"H1",label:"Balk 1",Icon:Tx},{tag:"H2",label:"Balk 2",Icon:_C},{tag:"H3",label:"Balk 3",Icon:PC},{tag:"H4",label:"Balk 4",Icon:DC},{tag:"H5",label:"Balk 5",Icon:IC},{tag:"H6",label:"Balk 6",Icon:MC}].map(({tag:V,label:G,Icon:B})=>e.jsxs("button",{type:"button",onMouseDown:T=>{T.preventDefault(),N("formatBlock",V),u(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 text-sm text-slate-700 rounded hover:bg-slate-100",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:G})]},V))})]}),e.jsx(z,{}),e.jsx($,{title:"Madde aretli Liste",onClick:()=>N("insertUnorderedList"),children:e.jsx(BC,{className:"w-4 h-4"})}),e.jsx($,{title:"Numaral Liste",onClick:()=>N("insertOrderedList"),children:e.jsx(FC,{className:"w-4 h-4"})}),e.jsx(z,{}),e.jsx($,{title:"Sola Hizala",onClick:()=>N("justifyLeft"),children:e.jsx(hC,{className:"w-4 h-4"})}),e.jsx($,{title:"Ortala",onClick:()=>N("justifyCenter"),children:e.jsx(uC,{className:"w-4 h-4"})}),e.jsx($,{title:"Saa Hizala",onClick:()=>N("justifyRight"),children:e.jsx(fC,{className:"w-4 h-4"})}),e.jsx($,{title:"ki Yana Yasla",onClick:()=>N("justifyFull"),children:e.jsx(mC,{className:"w-4 h-4"})}),e.jsx(z,{}),e.jsx($,{title:"Alnt",onClick:()=>N("formatBlock","BLOCKQUOTE"),children:e.jsx(Kb,{className:"w-4 h-4"})}),e.jsx($,{title:"Kod Blou",onClick:()=>N("formatBlock","PRE"),children:e.jsx(NC,{className:"w-4 h-4"})}),e.jsx($,{title:"Yatay izgi",onClick:()=>N("insertHorizontalRule"),children:e.jsx(_x,{className:"w-4 h-4"})}),e.jsx(z,{}),e.jsx($,{title:"Alt indis",onClick:()=>N("subscript"),children:e.jsxs("span",{className:"text-[10px] font-semibold",children:["x",e.jsx("sub",{children:"2"})]})}),e.jsx($,{title:"st indis",onClick:()=>N("superscript"),children:e.jsxs("span",{className:"text-[10px] font-semibold",children:["x",e.jsx("sup",{children:"2"})]})}),e.jsx(z,{}),e.jsx($,{title:"Balant Ekle",onClick:()=>{const V=window.prompt("Balant URLsi:");V&&N("createLink",V)},children:e.jsx(Mp,{className:"w-4 h-4"})}),e.jsx($,{title:"Grsel Ekle",onClick:()=>i.current?.click(),children:e.jsx(zC,{className:"w-4 h-4"})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:async V=>{const G=V.target.files?.[0];if(!G)return;const B=new FileReader;B.onload=()=>{try{const T=String(B.result||"");T&&N("insertImage",T)}catch{}},B.readAsDataURL(G),V.currentTarget.value=""}}),e.jsx(z,{}),e.jsxs("div",{className:"relative",children:[e.jsx($,{title:"Tablo Ekle",onClick:()=>b(V=>!V),children:e.jsx("span",{className:"grid grid-cols-3 grid-rows-3 gap-[1px] w-4 h-4",children:Array.from({length:9}).map((V,G)=>e.jsx("span",{className:"bg-slate-500/50"},G))})}),x&&e.jsxs("div",{className:"absolute z-50 mt-1 bg-white border border-slate-200 rounded-md shadow-lg p-2",children:[e.jsx("div",{className:"grid grid-cols-6 gap-1",children:Array.from({length:36}).map((V,G)=>{const B=Math.floor(G/6)+1,T=G%6+1,D=B<=g.r&&T<=g.c;return e.jsx("div",{onMouseEnter:()=>v({r:B,c:T}),onMouseDown:A=>{A.preventDefault();const k=Array.from({length:B}).map(()=>`<tr>${Array.from({length:T}).map(()=>"<td>&nbsp;</td>").join("")}</tr>`).join("");E(`<table><tbody>${k}</tbody></table>`),b(!1)},className:`w-5 h-5 border ${D?"bg-indigo-500 border-indigo-500":"bg-white border-slate-200"} cursor-pointer`},G)})}),e.jsxs("div",{className:"text-xs text-slate-600 mt-2 text-center",children:[g.r,"  ",g.c]})]})]}),e.jsx(z,{}),e.jsx($,{title:"Geri Al (Ctrl+Z)",onClick:()=>N("undo"),children:e.jsx(eA,{className:"w-4 h-4"})}),e.jsx($,{title:"Yinele (Shift+Ctrl+Z)",onClick:()=>N("redo"),children:e.jsx(KC,{className:"w-4 h-4"})}),e.jsx($,{title:"Biimlendirmeyi Temizle",onClick:()=>N("removeFormat"),children:e.jsx(SC,{className:"w-4 h-4"})})]}),e.jsx("div",{ref:n,className:`border border-slate-200 ${f?"rounded-md":"rounded-b-md"} p-3 focus:outline-none min-h-[140px] prose prose-sm max-w-none bg-white ${r?"ring-2 ring-indigo-500":""}`,contentEditable:!f,suppressContentEditableWarning:!0,onInput:I,onKeyDown:O,style:{height:U,overflowY:"auto"},"data-placeholder":t||"",onFocus:V=>{s(!0),u(!1),b(!1),!a&&!o.current&&(V.currentTarget.innerHTML="",o.current=!0)},onBlur:()=>s(!1)}),e.jsx("style",{children:`
        .prose h1 { font-size: 1.25rem; font-weight: 700; margin: 0.5rem 0; }
        .prose h2 { font-size: 1.1rem; font-weight: 700; margin: 0.5rem 0; }
        .prose p { margin: 0.25rem 0; }
        .prose ul { list-style: disc; padding-left: 1.25rem; margin: 0.25rem 0; }
        .prose ol { list-style: decimal; padding-left: 1.25rem; margin: 0.25rem 0; }
        .prose blockquote { border-left: 3px solid #e5e7eb; color: #374151; padding-left: 0.75rem; margin: 0.5rem 0; }
        .prose pre { background: #0f172a; color: #e5e7eb; padding: 0.5rem 0.75rem; border-radius: 0.375rem; overflow-x: auto; }
        .prose code { background: #f1f5f9; padding: 0.1rem 0.3rem; border-radius: 0.25rem; }
        .prose img { max-width: 100%; height: auto; border-radius: 0.25rem; }
        .prose table { width: 100%; border-collapse: collapse; margin: 0.5rem 0; }
        .prose th, .prose td { border: 1px solid #e5e7eb; padding: 6px; }
        .prose thead th { background: #f9fafb; }
      `})]})},kv=({isOpen:a,onClose:m,quote:t,onSave:h,products:f=[]})=>{const{t:c,i18n:n}=Zt(),i=(()=>{const G=Tt.getItem("i18nextLng");return G&&G.length>=2?G.slice(0,2).toLowerCase():(n.resolvedLanguage||n.language||"en").slice(0,2).toLowerCase()})(),r={draft:{tr:"Taslak",en:"Draft",fr:"Brouillon",de:"Entwurf"}[i]||"Draft",sent:{tr:"Gnderildi",en:"Sent",fr:"Envoy",de:"Gesendet"}[i]||"Sent"},[s,l]=W.useState(null),[d,u]=W.useState([]),[x,b]=W.useState(null),[g,v]=W.useState(""),[y,N]=W.useState(null);W.useEffect(()=>{if(t){l({...t});const G=Array.isArray(t.items)&&t.items.length>0?t.items.map(B=>({...B})):[{id:"l1",description:"",quantity:1,unitPrice:0,total:0}];u(G),v(t.scopeOfWorkHtml||"")}else l(null),u([]),v("")},[t]);const E=W.useMemo(()=>d.reduce((G,B)=>G+(Number(B.total)||0),0),[d]);if(!a||!s)return null;const I=()=>{u(G=>[...G,{id:`l${Date.now()}`,description:"",quantity:1,unitPrice:0,total:0}])},O=G=>{u(B=>B.length===1?B:B.filter(T=>T.id!==G))},$=(G,B,T)=>{u(D=>D.map(A=>{if(A.id!==G)return A;const k={...A,[B]:T},S=Number(B==="quantity"?T:k.quantity)||0,j=Number(B==="unitPrice"?T:k.unitPrice)||0;return k.total=S*j,k}))},z=G=>{const B=(G||"").trim().toLowerCase();return f.filter(T=>!B||T.name.toLowerCase().includes(B)||(T.sku||"").toLowerCase().includes(B)||(T.category||"").toLowerCase().includes(B)).slice(0,12)},U=(G,B)=>{u(T=>T.map(D=>{if(D.id!==G)return D;const A=D.quantity>0?D.quantity:1,k=Number(B.unitPrice??B.price??D.unitPrice??0);return{...D,productId:String(B.id),description:B.name,unit:B.unit,unitPrice:k,quantity:A,total:A*k}})),b(null)},V=()=>{if(!s||!s.customerName||!s.issueDate)return;const G={...s,items:d,total:E,...g?{scopeOfWorkHtml:g}:{scopeOfWorkHtml:""}};N({title:c("common.confirm",{defaultValue:"Onay"}),message:c("quotes.saveConfirm",{defaultValue:"Deiiklikleri kaydetmek istiyor musunuz?"}),onConfirm:()=>{h(G),m(),N(null)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c("quotes.editModal.title")}),e.jsx("p",{className:"text-sm text-gray-500",children:c("quotes.editModal.subtitle")})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.editModal.quoteNumber")}),e.jsx("input",{type:"text",value:s.quoteNumber,onChange:G=>l({...s,quoteNumber:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.createModal.customer")}),e.jsx("input",{type:"text",value:s.customerName,onChange:G=>l({...s,customerName:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.createModal.date")}),e.jsx("input",{type:"date",value:s.issueDate,onChange:G=>l({...s,issueDate:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.createModal.currency")}),e.jsxs("select",{value:s.currency,onChange:G=>l({...s,currency:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.validUntil")}),e.jsx("input",{type:"date",value:s.validUntil||"",onChange:G=>l({...s,validUntil:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.createModal.amount")}),e.jsx("input",{type:"text",value:Number(E||0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-gray-50 text-gray-700"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.table.status")}),e.jsxs("select",{value:s.status,onChange:G=>l({...s,status:G.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"draft",children:c("common:status.draft",{defaultValue:r.draft})}),e.jsx("option",{value:"sent",children:c("common:status.sent",{defaultValue:r.sent})}),e.jsx("option",{value:"viewed",children:c("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:c("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:c("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:c("quotes.statusLabels.expired")})]})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:c("invoices.productsAndServices")}),e.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:c("invoices.addLine")})]})]}),e.jsx("div",{className:"overflow-x-auto",style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"45%"},children:c("invoices.description")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"15%"},children:c("invoices.quantity")}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",style:{width:"20%"},children:c("invoices.unitPriceExclVAT")}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",style:{width:"15%"},children:c("invoices.totalInclVAT")}),e.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium text-gray-700",style:{width:"5%"},children:c("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:d.map(G=>{const B=z(String(G.description||""));return e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2",style:{position:"relative"},children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:G.description||"",onChange:T=>{$(G.id,"description",T.target.value),T.target.value.length>0&&b(G.id)},onClick:()=>{G.description?.length>0&&b(G.id)},onBlur:()=>setTimeout(()=>b(T=>T===G.id?null:T),200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:c("invoices.productServiceDescription")}),x===G.id&&B.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[400px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-indigo-50 p-2 text-xs font-medium text-indigo-700 border-b border-indigo-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ms,{className:"w-3 h-3 mr-1"}),B.length," rn bulundu"]})}),B.map(T=>e.jsxs("button",{type:"button",onMouseDown:D=>D.preventDefault(),onClick:()=>U(G.id,T),className:"w-full p-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-0.5",children:T.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[T.sku&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded",children:["SKU: ",T.sku]}),e.jsx("span",{className:"font-medium text-green-600",children:(T.unitPrice??T.price??0).toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]},`${G.id}-${T.id}`))]})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"number",value:G.quantity,onChange:T=>$(G.id,"quantity",parseInt(T.target.value,10)||1),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:1,step:1})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"number",value:G.unitPrice,onChange:T=>$(G.id,"unitPrice",parseFloat(T.target.value)||0),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:0,step:.01})}),e.jsx("td",{className:"px-3 py-2 text-right text-sm font-medium text-gray-900",children:(G.total||0).toLocaleString("tr-TR",{minimumFractionDigits:2})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("button",{onClick:()=>O(G.id),disabled:d.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Yr,{className:"w-4 h-4"})})})]},G.id)})})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx(Gp,{value:g,onChange:v,placeholder:c("quotes.scopeOfWork.placeholder",{defaultValue:"Proje kapsam, teslimatlar, varsaymlar ve hariler..."}),height:220}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:c("quotes.scopeOfWork.note",{defaultValue:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."})})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:c("common.cancel")}),e.jsx("button",{onClick:V,className:"px-5 py-2 text-white bg-indigo-600 rounded-lg hover:bg-indigo-700",children:c("common.update")})]})]})}),y&&e.jsx(na,{isOpen:!0,title:y.title,message:y.message,confirmText:c("common.yes",{defaultValue:"Evet"}),cancelText:c("common.no",{defaultValue:"Hayr"}),onConfirm:y.onConfirm,onCancel:()=>N(null)})]})},VE=a=>{if(typeof a!="object"||a===null)return!1;const m=Object.getPrototypeOf(a);return m===null||m===Object.prototype},lo=(a,m="")=>typeof a=="string"?a:m,qE=a=>{if(typeof a=="number")return Number.isFinite(a)?a:void 0;if(typeof a=="string"){const m=Number(a);return Number.isFinite(m)?m:void 0}},Ma=a=>typeof a=="string"?a.trim().toLowerCase():"",$E=(a,m)=>{if(!VE(a))return null;const t=lo(a.id).trim()||m,h=lo(a.quoteNumber).trim()||m,f=lo(a.customerName).trim(),c=lo(a.issueDate).slice(0,10)||void 0,n=qE(a.total),o=typeof a.version=="number"?a.version:void 0,i=lo(a.status).toLowerCase(),r=lo(a.currency)||void 0,s=lo(a.customerEmail)||void 0;return{id:t,quoteNumber:h,customerName:f,issueDate:c,total:n,status:i,version:o,currency:r,customerEmail:s}},HE=(a,m)=>{try{const t=hn()||"",h=t?`quotes_cache_${t}`:"quotes_cache",f=Tt.getItem(h);if(!f)return[];const c=JSON.parse(f);if(!Array.isArray(c))return[];const n=Ma(a),o=Ma(m);return c.map((i,r)=>$E(i,`quote-${r}`)).filter(i=>!!i).filter(i=>{const r=Ma(i.customerName),s=Ma(i.customerEmail);return(n?r===n:!1)||(o?s===o:!1)})}catch(t){return he.warn("[CustomerHistoryModal] Failed to read quote cache",t),[]}};function KE({isOpen:a,onClose:m,customer:t,invoices:h,sales:f=[],onViewInvoice:c,onCreateInvoice:n,onViewSale:o,onViewQuote:i}){const{formatCurrency:r}=es(),{t:s}=Zt(),l=Ma(t?.name),d=Ma(t?.email),u=W.useMemo(()=>f.length?!l&&!d?[]:f.filter(y=>{const N=Ma(y.customerName),E=Ma(y.customerEmail);return(l?N===l:!1)||(d?E===d:!1)}):[],[f,l,d]),x=W.useMemo(()=>HE(t?.name,t?.email),[t?.name,t?.email]),b=W.useMemo(()=>({paid:` ${Rt(s,"paid")}`,sent:` ${Rt(s,"sent")}`,overdue:` ${Rt(s,"overdue")}`,draft:` ${Rt(s,"draft")}`}),[s]);if(!a||!t)return null;const g=y=>{if(!y)return"";const N=new Date(y);return Number.isNaN(N.getTime())?"":N.toLocaleDateString("tr-TR")},v=y=>{const N=typeof y=="number"&&Number.isFinite(y)?y:0;return r(N)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[t.name," - ",s("customer.history")]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[h.length+u.length," ",s("customer.transactions")]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:h.length===0&&u.length===0&&x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("customer.noHistory")}),e.jsxs("p",{className:"text-gray-500 mb-6",children:[t.name," ",s("customer.noHistoryDesc")]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[" ",e.jsx("strong",{children:s("customer.tip")})," ",s("customer.tipDesc")]}),e.jsx("button",{onClick:()=>n?.(t),className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:s("customer.createInvoice")})]})]}):e.jsxs("div",{className:"space-y-4",children:[x.map((y,N)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 text-sm font-bold",children:"Q"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-purple-600",children:[e.jsx("button",{onClick:()=>i?.(y),className:"text-purple-600 hover:text-purple-800 transition-colors cursor-pointer",title:s("quotes.view")||"Teklifi grntle",children:y.quoteNumber}),y.version&&y.version>1?e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["v",y.version]}):null]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),g(y.issueDate)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:v(y.total)}),e.jsx("div",{className:"text-xs text-gray-500",children:(()=>{const E=$r(String(y.status||""));return Rt(s,E)})()})]})]})},`quote-${N}`)),u.map((y,N)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-sm font-bold",children:"S"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-600",children:e.jsx("button",{onClick:()=>o?.(y),className:"text-green-600 hover:text-green-800 transition-colors cursor-pointer",title:s("sales.view")||"Sat grntle",children:y.saleNumber||`SAL-${y.id}`})}),e.jsx("p",{className:"text-sm text-gray-600",children:y.productName}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),g(y.date||y.saleDate||y.createdAt)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-green-600",children:["+",v(y.amount)]}),e.jsx("div",{className:"text-sm text-gray-500",children:(()=>{const E=$r(String(y.status||"")),I={completed:` ${Rt(s,"completed")}`,pending:` ${Rt(s,"pending")}`,cancelled:` ${Rt(s,"cancelled")}`};return E in I?I[E]:Rt(s,E)})()})]})]})},`sale-${N}`)),h.map((y,N)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>c?.(y),className:"font-medium text-blue-600 hover:text-blue-800 transition-colors cursor-pointer",title:s("common.view",{defaultValue:"Grntle"}),children:y.invoiceNumber||s("invoices.unnamed",{defaultValue:"Fatura"})}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),g(y.issueDate)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:v(y.total)}),e.jsx("div",{className:"text-sm text-gray-500",children:(()=>{const E=$r(String(y.status||""));return b[E]||Rt(s,E)})()})]})]})},`invoice-${N}`))]})}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Kapat"})})]})})}function GE({isOpen:a,onClose:m,supplier:t,expenses:h,onViewExpense:f,onCreateExpense:c}){const{formatCurrency:n}=es(),{t:o,i18n:i}=Zt(),r=W.useMemo(()=>({paid:` ${Rt(o,"paid")}`,approved:` ${Rt(o,"approved")}`,draft:` ${Rt(o,"draft")}`}),[o]),s=b=>{if(!b)return"";const g=b instanceof Date?b:new Date(b);return Number.isNaN(g.getTime())?"":g.toLocaleDateString(i.language==="tr"?"tr-TR":void 0)},l=b=>{const g=typeof b=="number"&&Number.isFinite(b)?b:0;return n(g)},d=W.useMemo(()=>Array.isArray(h)?h.filter(Boolean).map((b,g)=>({...b,_rowId:b.id||b.expenseNumber||`expense-${g}`})):[],[h]);if(!a||!t)return null;const u=()=>{c?.(t)},x=b=>{f?.(b)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[t.name," - ",o("supplier.expenseHistory")]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d.length," ",o("supplier.expensesFound")]})]}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsx("div",{className:"p-6",children:d.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o("supplier.noExpenseHistory")}),e.jsxs("p",{className:"text-gray-500 mb-6",children:[t.name," ",o("supplier.noExpenseHistoryDesc")]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-red-800",children:[" ",e.jsx("strong",{children:o("supplier.tip")})," ",o("supplier.tipDesc")]}),e.jsx("button",{onClick:u,className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:o("supplier.createExpense")})]})]}):e.jsx("div",{className:"space-y-4",children:d.map(b=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(fn,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>x(b),className:"font-medium text-red-600 hover:text-red-800 transition-colors cursor-pointer",title:o("supplier.viewExpense"),children:b.expenseNumber||o("expenses.unnamed",{defaultValue:"Gider"})}),e.jsx("p",{className:"text-sm text-gray-600",children:b.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),s(b.expenseDate||b.date)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-red-600",children:["-",l(b.amount)]}),e.jsx("div",{className:"text-sm text-gray-500",children:(()=>{const g=$r(String(b.status||""));return r[g]||Rt(o,g)})()})]})]})},b._rowId))})}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:m,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Kapat"})})]})})}function WE({isOpen:a,onClose:m,title:t,message:h,relatedItems:f,itemType:c}){if(!a)return null;const n=i=>e.jsx("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:i.invoiceNumber??i.id}),e.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:[i.total??""," TL - ",i.status??"pending"]})]})},i.id),o=i=>e.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:i.expenseNumber??i.id}),e.jsx("span",{className:"ml-3 text-sm text-gray-600",children:i.description??""})]}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[i.amount??""," TL"]})]},i.id);return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:m}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("button",{onClick:m,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:e.jsx(kr,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:e.jsx(pn,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:t}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:h}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Bal ",c==="invoice"?"Faturalar":"Giderler",":"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.map(i=>c==="invoice"?n(i):o(i))})]}),e.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Anladm"}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-3",children:["Silmek iin nce bal ",c==="invoice"?"faturalar":"giderleri"," silmeniz gerekir."]})]})]})})}const Cn=({page:a,pageSize:m,total:t,onPageChange:h,onPageSizeChange:f,pageSizeOptions:c=[20,50,100],className:n=""})=>{const{t:o}=Zt(),i=Math.max(1,Math.ceil(t/m)),r=t===0?0:(a-1)*m+1,s=Math.min(t,a*m),l=()=>h(Math.max(1,a-1)),d=()=>h(Math.min(i,a+1)),u=[],x=5;let b=Math.max(1,a-Math.floor(x/2)),g=Math.min(i,b+x-1);g-b+1<x&&(b=Math.max(1,g-x+1));for(let v=b;v<=g;v++)u.push(v);return e.jsxs("div",{className:`flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between ${n}`,children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsxs("span",{children:[o("pagination.itemsPerPage",{defaultValue:"Sayfa bana"}),":"]}),e.jsx("select",{value:m,onChange:v=>f(Number(v.target.value)),className:"px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500",children:c.map(v=>e.jsx("option",{value:v,children:v},v))}),e.jsx("span",{className:"ml-2 text-gray-500",children:o("pagination.range",{start:r,end:s,total:t,defaultValue:`${r}-${s} / ${t}`})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:l,disabled:a<=1,className:`px-3 py-1.5 text-sm rounded-lg border ${a<=1?"text-gray-300 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:o("pagination.previous",{defaultValue:"nceki"})}),b>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h(1),className:"px-3 py-1.5 text-sm rounded-lg border text-gray-700 border-gray-300 hover:bg-gray-50",children:"1"}),b>2&&e.jsx("span",{className:"px-2 text-gray-400",children:""})]}),u.map(v=>e.jsx("button",{onClick:()=>h(v),className:`px-3 py-1.5 text-sm rounded-lg border ${v===a?"bg-gray-900 text-white border-gray-900":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:v},v)),g<i&&e.jsxs(e.Fragment,{children:[g<i-1&&e.jsx("span",{className:"px-2 text-gray-400",children:""}),e.jsx("button",{onClick:()=>h(i),className:"px-3 py-1.5 text-sm rounded-lg border text-gray-700 border-gray-300 hover:bg-gray-50",children:i})]}),e.jsx("button",{onClick:d,disabled:a>=i,className:`px-3 py-1.5 text-sm rounded-lg border ${a>=i?"text-gray-300 border-gray-200 cursor-not-allowed":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:o("pagination.next",{defaultValue:"Sonraki"})})]})]})},Cu=()=>new Date().toISOString(),YE=a=>{if(typeof a!="object"||a===null)return!1;const m=Object.getPrototypeOf(a);return m===null||m===Object.prototype},au=(a,m="")=>typeof a=="string"?a:m,QE=(a,m)=>{if(!YE(a))return null;const t=au(a.id).trim();if(!t)return null;const h=au(a.name).trim()||"Grnm",f=au(a.createdAt)||Cu(),c=au(a.updatedAt)||f,n=a.state??m??{},o=typeof a.isDefault=="boolean"?a.isDefault:void 0;return{id:t,name:h,state:n,createdAt:f,updatedAt:c,isDefault:o}},Nv=(a,m)=>Array.isArray(a)?a.map(t=>QE(t,m)).filter(t=>!!t):[],ZE=(a,m)=>{if(!a)return[];try{const t=JSON.parse(a);return Nv(t,m)}catch(t){return he.warn("[useSavedListViews] Failed to parse localStorage snapshot",t),[]}},XE=a=>{if(!a)return"";if(a.id)return String(a.id);const m=a?.tenantId;return m?String(m):""};function Ba({listType:a,initialState:m}){const{tenant:t}=Zs(),f=XE(t)||"anon",c=W.useMemo(()=>`saved_lv_${a}`,[a]),n=W.useMemo(()=>`lv_${f}_${a}`,[f,a]),[o,i]=W.useState([]),[r,s]=W.useState(null);W.useEffect(()=>{try{let N=Nv(ps(c,{tenantId:f,fallbackToBase:!0})??[],m),E=!1;if(!N.length){const O=Tt.getItem(n),$=ZE(O,m);$.length&&(N=$,E=!0)}i(N);const I=N.find(O=>O.isDefault);s(I?I.id:null),E&&N.length&&(Lr(c,N,{tenantId:f,mirrorToBase:!0}),Tt.removeItem(n))}catch(N){he.warn("[useSavedListViews] Unable to read from localStorage",N),i([]),s(null)}},[c,f,m,n]);const l=W.useCallback(N=>{i(N),Lr(c,N,{tenantId:f,mirrorToBase:!0})},[c,f]),d=W.useCallback((N,E)=>{const I=Cu(),O=crypto?.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2),$={id:O,name:N.trim()||"Grnm",state:E,createdAt:I,updatedAt:I},z=[$,...o];return l(z),s(O),$},[o,l]),u=W.useCallback((N,E)=>{const I=o.map(O=>O.id===N?{...O,...E,updatedAt:Cu()}:O);l(I)},[o,l]),x=W.useCallback(N=>{const E=o.filter(I=>I.id!==N);l(E),r===N&&s(null)},[o,l,r]),b=W.useCallback(N=>{const E=o.map(I=>({...I,isDefault:N?I.id===N:!1,updatedAt:Cu()}));l(E),s(N)},[o,l]),g=W.useCallback((N,E)=>u(N,{name:E}),[u]),v=W.useCallback(()=>o.find(N=>N.isDefault)||null,[o]),y=W.useCallback(()=>{l([]),s(null)},[l]);return{views:o,activeViewId:r,setActiveViewId:s,saveCurrent:d,updateView:u,deleteView:x,setDefault:b,renameView:g,getDefault:v,clearAll:y}}function jo({listType:a,title:m,getState:t,applyState:h,presets:f=[]}){const{t:c,i18n:n}=Zt("common"),{tenant:o}=Zs(),i=String(o?.subscriptionPlan||"").toLowerCase(),r=["business","enterprise"].some(j=>i.includes(j)),{views:s,activeViewId:l,setActiveViewId:d,saveCurrent:u,deleteView:x,setDefault:b,renameView:g,getDefault:v}=Ba({listType:a});v();const[y,N]=Gt.useState(!1),[E,I]=Gt.useState(""),[O,$]=Gt.useState(!1),[z,U]=Gt.useState(!1),V=Gt.useRef(null),G=Gt.useRef(null),[B,T]=Gt.useState(!1),D=(n.language||"tr").split("-")[0],A={presetsBtn:{tr:"Hazr Filtreler",en:"Preset Filters",fr:"Filtres prts",de:"Vordefinierte Filter"},noPresets:{tr:"n tanml filtre yok",en:"No preset filters",fr:"Aucun filtre prdfini",de:"Keine vordefinierten Filter"},viewsBtn:{tr:"Grnmler",en:"Views",fr:"Vues",de:"Ansichten"},noViews:{tr:"Henz kaydedilmi grnm yok.",en:"No saved views yet.",fr:"Aucune vue enregistre.",de:"Noch keine gespeicherten Ansichten."},defaultV:{tr:"Varsaylan grnm",en:"Default view",fr:"Vue par dfaut",de:"Standardansicht"},makeDefault:{tr:"Varsaylan yap",en:"Set default",fr:"Dfinir par dfaut",de:"Als Standard festlegen"},rename:{tr:"Yeniden adlandr",en:"Rename",fr:"Renommer",de:"Umbenennen"},del:{tr:"Sil",en:"Delete",fr:"Supprimer",de:"Lschen"},namePh:{tr:"Grnm ad",en:"View name",fr:"Nom de la vue",de:"Name der Ansicht"},save:{tr:"Kaydet",en:"Save",fr:"Enregistrer",de:"Speichern"},saveTitle:{tr:"Mevcut filtreleri adla kaydet",en:"Save current filters with name",fr:"Enregistrer les filtres actuels avec un nom",de:"Aktuelle Filter mit Namen speichern"},planReq:{tr:"Bu zellik Business planda",en:"This feature requires Business plan",fr:"Fonction disponible avec le plan Business",de:"Funktion erfordert den Business-Tarif"},planNote:{tr:"Grnm kaydetme Business plan ile aktif.",en:"Saving views is available on Business plan.",fr:"Lenregistrement des vues est disponible avec le plan Business.",de:"Ansichten speichern ist im Business-Tarif verfgbar."}};Gt.useEffect(()=>{const j=P=>{const R=P.target;z&&V.current&&!V.current.contains(R)&&U(!1),O&&G.current&&!G.current.contains(R)&&$(!1)},C=P=>{P.key==="Escape"&&($(!1),U(!1))};return document.addEventListener("mousedown",j),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("keydown",C)}},[O,z]),Gt.useEffect(()=>{if(B)return;const j=v();if(j&&j.state)try{h(j.state)}catch{}T(!0)},[s]);const k=()=>{const j=E.trim();if(!j)return;const C=t(),P=u(j,C);I(""),N(!1),h(P.state)},S=j=>{const C=s.find(P=>P.id===j);C&&(d(j),h(C.state))};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",ref:V,children:[e.jsxs("button",{type:"button",onClick:()=>{U(j=>!j),$(!1)},className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",title:A.presetsBtn[D],children:[e.jsx(ra,{className:"h-4 w-4"}),e.jsx("span",{children:A.presetsBtn[D]}),e.jsx(ms,{className:"h-3.5 w-3.5"})]}),z&&e.jsx("div",{className:"absolute z-20 mt-2 w-56 rounded-lg border border-gray-200 bg-white p-1 shadow-lg",children:f.length===0?e.jsx("div",{className:"px-3 py-2 text-sm text-gray-500",children:A.noPresets[D]}):f.map(j=>e.jsx("button",{type:"button",onClick:()=>{U(!1),j.apply()},className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",children:e.jsx("span",{children:j.label})},j.id))})]}),e.jsxs("div",{className:"relative",ref:G,children:[e.jsxs("button",{type:"button",onClick:()=>{$(j=>!j),U(!1)},className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 hover:bg-gray-50",title:A.viewsBtn[D],children:[e.jsx(vC,{className:"h-4 w-4"}),e.jsx("span",{children:A.viewsBtn[D]}),e.jsx(ms,{className:"h-3.5 w-3.5"})]}),O&&e.jsxs("div",{className:"absolute right-0 z-20 mt-2 w-80 rounded-lg border border-gray-200 bg-white p-2 shadow-lg",children:[e.jsx("div",{className:"max-h-64 overflow-auto",children:s.length===0?e.jsx("div",{className:"px-2 py-3 text-sm text-gray-500",children:A.noViews[D]}):s.map(j=>e.jsxs("div",{className:"flex items-center justify-between rounded-md px-2 py-2 hover:bg-gray-50",children:[e.jsx("button",{type:"button",onClick:()=>S(j.id),className:`truncate text-left text-sm ${l===j.id?"text-indigo-700 font-medium":"text-gray-700"}`,title:j.name,children:j.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{type:"button",onClick:()=>{b(j.id);try{h(j.state)}catch{}},className:`inline-flex h-7 w-7 items-center justify-center rounded-md ${j.isDefault?"text-yellow-600 bg-yellow-50":"text-gray-400 hover:bg-gray-100"}`,title:j.isDefault?A.defaultV[D]:A.makeDefault[D],children:e.jsx(Bc,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>{const C=prompt("Yeni ad",j.name);C&&C.trim()&&g(j.id,C.trim())},className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-gray-400 hover:bg-gray-100",title:A.rename[D],children:"Aa"}),e.jsx("button",{type:"button",onClick:()=>x(j.id),className:"inline-flex h-7 w-7 items-center justify-center rounded-md text-red-500 hover:bg-red-50",title:A.del[D],children:e.jsx(Yr,{className:"h-4 w-4"})})]})]},j.id))}),e.jsxs("div",{className:"mt-2 border-t pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(bC,{className:"h-4 w-4 text-gray-500"}),e.jsx("input",{type:"text",value:E,onChange:j=>I(j.target.value),placeholder:A.namePh[D],className:"flex-1 rounded-md border border-gray-200 px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!r})]}),e.jsx("button",{type:"button",onClick:k,disabled:!r||!E.trim(),className:`rounded-md px-3 py-1.5 text-sm font-medium ${r?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,title:r?A.saveTitle[D]:A.planReq[D],children:A.save[D]})]}),!r&&e.jsx("div",{className:"mt-1 text-[11px] text-gray-500",children:A.planNote[D]})]})]})]})]})}const Df=a=>(a||"").toLowerCase(),Ju=[20,50,100],Au=a=>Ju.includes(a),JE=()=>{const a=Tt.getItem("customers_pageSize"),m=a?Number(a):Ju[0];return Au(m)?m:Ju[0]};function eT({customers:a,onAddCustomer:m,onEditCustomer:t,onDeleteCustomer:h,onViewCustomer:f,onSelectCustomer:c,onImportCustomers:n,selectionMode:o=!1}){const{t:i,i18n:r}=Zt(),s=()=>{const q=Tt.getItem("i18nextLng");return q&&q.length>=2?q.slice(0,2).toLowerCase():(r.resolvedLanguage||r.language||"en").slice(0,2).toLowerCase()},l=q=>q==="tr"?"tr-TR":q==="de"?"de-DE":q==="fr"?"fr-FR":"en-US",d=s(),u={emailExists:{tr:"E-posta var",en:"Has email",fr:"E-mail prsent",de:"E-Mail vorhanden"}[d]||"Has email",phoneExists:{tr:"Telefon var",en:"Has phone",fr:"Tlphone prsent",de:"Telefon vorhanden"}[d]||"Has phone",companyExists:{tr:"irketi olanlar",en:"Has company",fr:"A une entreprise",de:"Hat Firma"}[d]||"Has company",from:{tr:"Balang",en:"From",fr:"De",de:"Von"}[d]||"From",to:{tr:"Biti",en:"To",fr:"",de:"Bis"}[d]||"To",clear:{tr:"Temizle",en:"Clear",fr:"Effacer",de:"Lschen"}[d]||"Clear"},x=W.useRef(null),[b,g]=W.useState(""),[v,y]=W.useState(!1),[N,E]=W.useState(!1),[I,O]=W.useState(!1),[$,z]=W.useState(""),[U,V]=W.useState(""),[G,B]=W.useState(1),[T,D]=W.useState(()=>JE()),{getDefault:A}=Ba({listType:"customers"});W.useEffect(()=>{const q=A();if(q&&q.state)try{g(q.state.searchTerm??""),y(!!q.state.hasEmailOnly),E(!!q.state.hasPhoneOnly),O(!!q.state.hasCompanyOnly),z(q.state.startDate??""),V(q.state.endDate??""),q.state.pageSize&&Au(q.state.pageSize)&&C(q.state.pageSize)}catch(X){he.warn("Failed to apply default customer saved view",X)}},[]);const k=W.useMemo(()=>Array.isArray(a)?a.filter(Boolean):[],[a]),S=W.useMemo(()=>{const q=b.trim().toLowerCase();return k.filter(X=>{const F=Df(X?.name),M=Df(X?.email),K=Df(X?.company),se=!q||F.includes(q)||M.includes(q)||K.includes(q),oe=!v||!!(X?.email&&X.email.trim()),ne=!N||!!(X?.phone&&X.phone.trim()),le=!I||!!(X?.company&&X.company.trim()),Se=X?.createdAt?new Date(X.createdAt):null;let je=!0;return $&&Se&&(je=je&&Se>=new Date($)),U&&Se&&(je=je&&Se<=new Date(U)),se&&oe&&ne&&le&&je})},[k,b,v,N,I,$,U]),j=W.useMemo(()=>{const q=(G-1)*T;return S.slice(q,q+T)},[S,G,T]);W.useEffect(()=>{B(1)},[b,v,N,I,$,U]);const C=q=>{const X=Au(q)?q:Ju[0];D(X),Tt.setItem("customers_pageSize",String(X)),B(1)},P=()=>{x.current?.click()},R=q=>{const X=q.target.files?.[0];if(!X){q.target.value="";return}n&&n(X),q.target.value=""},L=()=>{if(typeof document>"u"){he.debug("CustomerList: download skipped (no document)");return}try{const q=["Name,Email,Phone,Address,Company,TaxNumber","John Doe,john.doe@email.com,+1-555-123-4567,123 Main Street New York NY USA,Tech Solutions Inc,123456789","Jane Smith,jane.smith@company.com,+1-555-987-6543,456 Oak Avenue Los Angeles CA USA,Marketing Pro LLC,987654321","Michael Johnson,m.johnson@business.org,+1-555-456-7890,789 Pine Road Chicago IL USA,Johnson & Associates,456789123"].join(`
`),X=new Blob(["\uFEFF"+q],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a");if(F.download===void 0){he.warn("CustomerList: download attribute unsupported");return}const M=URL.createObjectURL(X);F.setAttribute("href",M),F.setAttribute("download","customer_import_template.csv"),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(M)}catch(q){he.error("CustomerList: template download failed",q)}},Y=()=>e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:o?"Mteri Se":i("customers.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.length," ",i("customers.customersRegistered")]})]}),!o&&e.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 sm:justify-end",children:[e.jsx("input",{ref:x,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:R}),e.jsxs("button",{type:"button",onClick:L,className:"flex items-center gap-2 rounded-lg border border-blue-200 px-4 py-2 text-blue-600 transition-colors hover:bg-blue-50",title:i("customers.downloadTemplate"),children:[e.jsx(vs,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.downloadTemplate")})]}),e.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-2 rounded-lg border border-purple-200 px-4 py-2 text-purple-600 transition-colors hover:bg-purple-50 disabled:cursor-not-allowed disabled:border-gray-200 disabled:text-gray-300",disabled:!n,children:[e.jsx(zp,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.importCSV")})]}),e.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 rounded-lg bg-purple-600 px-4 py-2 text-white transition-colors hover:bg-purple-700",children:[e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:i("customers.newCustomer")})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400"}),e.jsx("input",{type:"text",value:b,onChange:q=>g(q.target.value),placeholder:i("customers.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"mt-3 flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("label",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",checked:v,onChange:q=>y(q.target.checked)}),u.emailExists]}),e.jsxs("label",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",checked:N,onChange:q=>E(q.target.checked)}),u.phoneExists]}),e.jsxs("label",{className:"text-sm text-gray-700 inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",checked:I,onChange:q=>O(q.target.checked)}),u.companyExists]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:u.from}),e.jsx("input",{type:"date",lang:l(d),value:$,onChange:q=>z(q.target.value),className:"px-2 py-1 border border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:u.to}),e.jsx("input",{type:"date",lang:l(d),value:U,onChange:q=>V(q.target.value),className:"px-2 py-1 border border-gray-300 rounded"}),($||U)&&e.jsx("button",{onClick:()=>{z(""),V("")},className:"px-2 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:u.clear})]})]}),e.jsx("div",{className:"flex w-full flex-wrap justify-start gap-2 sm:justify-end",children:e.jsx(jo,{listType:"customers",getState:()=>({searchTerm:b,hasEmailOnly:v,hasPhoneOnly:N,hasCompanyOnly:I,startDate:$,endDate:U,pageSize:T}),applyState:q=>{const X=q??{};g(X.searchTerm??""),y(!!X.hasEmailOnly),E(!!X.hasPhoneOnly),O(!!X.hasCompanyOnly),z(X.startDate??""),V(X.endDate??""),X.pageSize&&Au(X.pageSize)&&C(X.pageSize)},presets:[{id:"with-email",label:i("presets.withEmail"),apply:()=>{y(!0),E(!1),O(!1)}},{id:"with-phone",label:i("presets.withPhone"),apply:()=>{E(!0),y(!1),O(!1)}},{id:"with-company",label:i("presets.withCompany"),apply:()=>{O(!0),y(!1),E(!1)}},{id:"added-this-month",label:i("presets.addedThisMonth"),apply:()=>{const q=new Date,X=new Date(q.getFullYear(),q.getMonth(),1).toISOString().slice(0,10),F=new Date(q.getFullYear(),q.getMonth()+1,0).toISOString().slice(0,10);z(X),V(F)}}]})})]})]})]}),Z=()=>e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Jr,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:i(b?"customers.noCustomersFound":"customers.noCustomers")}),e.jsx("p",{className:"mb-4 text-gray-500",children:i(b?"customers.noCustomersFoundDesc":"customers.noCustomersDesc")}),!o&&!b&&e.jsx("button",{type:"button",onClick:m,className:"rounded-lg bg-purple-600 px-4 py-2 text-sm font-medium text-white hover:bg-purple-700",children:i("customers.createFirstCustomer")})]}),ae=(q,X)=>{const F=q?.id!=null?String(q.id):`customer-${X}`,M=q?.name?.trim()||"simsiz Mteri",K=q?.email||"E-posta bilgisi yok",se=q?.phone,oe=M.charAt(0).toUpperCase()||"?",ne=()=>{if(o){c?.(q);return}f(q)},le=je=>{je.stopPropagation(),t(q)},Se=je=>{je.stopPropagation(),q?.id&&h(String(q.id))};return e.jsx("div",{className:"p-4 transition-colors hover:bg-gray-50",role:"button",tabIndex:0,onClick:ne,onKeyDown:je=>{je.key==="Enter"&&ne()},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100",children:e.jsx("span",{className:"text-lg font-semibold text-purple-600",children:oe})}),e.jsxs("div",{children:[o?e.jsx("h3",{className:"font-semibold text-gray-900",children:M}):e.jsx("button",{type:"button",onClick:je=>{je.stopPropagation(),f(q)},className:"font-semibold text-purple-600 transition-colors hover:text-purple-800",children:M}),q?.company&&e.jsxs("p",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Jr,{className:"mr-1 h-3 w-3"}),q.company]}),e.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Us,{className:"h-3 w-3"}),K]}),se&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(No,{className:"h-3 w-3"}),se]})]})]})]}),!o&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:le,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-blue-50 hover:text-blue-600",children:e.jsx(hs,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:Se,className:"rounded-lg p-2 text-gray-400 transition-colors hover:bg-red-50 hover:text-red-600",children:e.jsx(Yr,{className:"h-4 w-4"})})]})]})},F)};return e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white",children:[Y(),e.jsx("div",{className:"divide-y divide-gray-200",children:S.length===0?Z():j.map(ae)}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx(Cn,{page:G,pageSize:T,total:S.length,onPageChange:B,onPageSizeChange:C})})]})}const pi=async()=>(await Dr(async()=>{const{productCategoriesApi:a}=await Promise.resolve().then(()=>Ic);return{productCategoriesApi:a}},void 0)).productCategoriesApi,Mc=[20,50,100],co="Genel",tT="product-categories-updated",rT=new Set(["hizmet","hizmetler","services","servisler","dienstleistungen"]),sT=new Set(["urun","urunler","rn","rnler","products","produits","produkte"]),If=a=>typeof a=="object"&&a!==null,xc=()=>{if(!(typeof window>"u"))try{window.dispatchEvent(new Event(tT))}catch(a){he.debug("Product category event dispatch failed",a)}},ny=a=>{const m=(a||"").trim(),t=m.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase();return rT.has(t)?"__MAIN_SERVICES__":sT.has(t)?"__MAIN_PRODUCTS__":m},On=(a,m)=>ny(a).localeCompare(ny(m),"tr-TR",{sensitivity:"accent"})===0,yc=a=>{if(!If(a))return null;const m="response"in a?a.response:void 0;if(!If(m))return null;const t="data"in m?m.data:void 0;return If(t)?t:null},nT=()=>{try{const a=Tt.getItem("i18nextLng");if(a&&a.length>=2)return a.slice(0,2).toLowerCase()}catch(a){he.debug("Unable to read preferred language",a)}return"en"},Eu=a=>Mc.includes(a),iT=()=>{try{const a=Tt.getItem("products_pageSize"),m=a?Number(a):Mc[0];return Eu(m)?m:Mc[0]}catch(a){return he.debug("Unable to read saved product page size",a),Mc[0]}},bc=(a,m)=>{const t=a.trim();switch(t){case"Hizmetler":return m("products.mainCategories.services");case"rnler":return m("products.mainCategories.products");default:return t}};function aT({products:a,categories:m,onAddProduct:t,onEditProduct:h,onDeleteProduct:f,onViewProduct:c,onEditCategory:n,onDeleteCategory:o,onBulkAction:i,onImportProducts:r}){const{formatCurrency:s}=es(),{t:l}=Zt(),d=nT(),u={sort:{tr:"Sralama",en:"Sort",fr:"Tri",de:"Sortierung"}[d]||"Sort",showArchived:{tr:"Arivlenmileri gster",en:"Show archived",fr:"Afficher archivs",de:"Archivierte anzeigen"}[d]||"Show archived",hideArchived:{tr:"Arivlenmileri gizle",en:"Hide archived",fr:"Masquer archivs",de:"Archivierte ausblenden"}[d]||"Hide archived"},[x,b]=W.useState(null),[g,v]=W.useState(""),[y,N]=W.useState("all"),[E,I]=W.useState("all"),[O,$]=W.useState("recent"),[z,U]=W.useState(!1),[V,G]=W.useState(null),[B,T]=W.useState([]),[D,A]=W.useState(null),[k,S]=W.useState(!1),[j,C]=W.useState([]),[P,R]=W.useState(!1),L=W.useRef(null),[Y,Z]=W.useState(null),[ae,q]=W.useState(1),[X,F]=W.useState(iT),{getDefault:M}=Ba({listType:"products"});W.useEffect(()=>{const Le=M();Le?.state&&(v(Le.state.searchTerm??""),N(Le.state.categoryFilter??"all"),I(Le.state.stockFilter??"all"),$(Le.state.sortOption??"recent"),Le.state.pageSize&&Eu(Le.state.pageSize)&&pt(Le.state.pageSize))},[]),W.useEffect(()=>{(async()=>{try{const ke=await(await pi()).getAll({includeInactive:!0});C(ke)}catch(Je){he.error("Kategoriler yklenirken hata:",Je)}})()},[]);const K=Gt.useRef(null),se=Gt.useRef(null),oe=Gt.useRef(null),ne=Gt.useRef(null),le=W.useMemo(()=>j.filter(Je=>Je.isActive).map(Je=>Je.name.trim()).filter(Je=>!!Je).sort((Je,ke)=>Je.localeCompare(ke,"tr-TR")),[j]),Se=W.useMemo(()=>j.filter(Le=>!Le.isActive).sort((Le,Je)=>Le.name.localeCompare(Je.name,"tr-TR")),[j]),je=Gt.useCallback(Le=>j.find(Je=>Je.name.localeCompare(Le,"tr-TR",{sensitivity:"accent"})===0)||null,[j]),ee=Gt.useCallback((Le,Je)=>{if(!Le||!Je)return!1;let ke=Le;const Me=new Map(j.map(He=>[He.id,He]));for(;ke;){if(ke.id===Je.id)return!0;ke=ke.parentId?Me.get(ke.parentId):void 0}return!1},[j]),ce=W.useMemo(()=>{const Je=le.filter(Me=>j.find(ot=>ot.name.localeCompare(Me,"tr-TR",{sensitivity:"accent"})===0)?.isProtected||On(Me,co)).map(Me=>{const He=j.find(at=>at.name.localeCompare(Me,"tr-TR",{sensitivity:"accent"})===0),ot=le.filter(at=>{const ft=j.find(Kt=>Kt.name.localeCompare(at,"tr-TR",{sensitivity:"accent"})===0);return!ft?.isProtected&&!On(at,co)&&ft?.parentId===He?.id});return{mainCategory:Me,subCategories:ot,categoryObj:He}}),ke=le.filter(Me=>{const He=j.find(ot=>ot.name.localeCompare(Me,"tr-TR",{sensitivity:"accent"})===0);return!He?.isProtected&&!On(Me,co)&&!He?.parentId});return{hierarchicalCategories:Je,orphanSubCategories:ke}},[le,j]),{hierarchicalCategories:be,orphanSubCategories:Te}=ce,Ce=W.useMemo(()=>{const Le=new Map;return a.forEach(Je=>{const ke=(Je.category||co).trim()||co;Le.set(ke,(Le.get(ke)??0)+1)}),Le},[a]);Gt.useEffect(()=>{y!=="all"&&!le.some(Le=>On(Le,y))&&N("all")},[le,y]),Gt.useEffect(()=>{if(!V)return;const Le=Je=>{const ke=Je.target,He={category:K,stock:se,sort:oe}[V]?.current;He&&!He.contains(ke)&&G(null)};return document.addEventListener("mousedown",Le),()=>document.removeEventListener("mousedown",Le)},[V]),Gt.useEffect(()=>{T(Le=>Le.filter(Je=>a.some(ke=>ke.id===Je)))},[a]);const Pe=W.useMemo(()=>{const Le=Math.floor(a.reduce((He,ot)=>{const at=Number(ot.stockQuantity)||0;return He+at},0)),Je=a.reduce((He,ot)=>{const at=Number(ot.stockQuantity)||0,ft=Number(ot.unitPrice)||0;return He+at*ft},0),ke=a.filter(He=>{const ot=Number(He.stockQuantity)||0,at=Number(He.reorderLevel)||0;return ot<at}).length,Me=a.filter(He=>He.status!=="archived").length;return{totalStock:Le,totalValue:Je,lowStock:ke,activeCount:Me}},[a]),Be=W.useMemo(()=>{const Le=g.trim().toLowerCase(),Je=ot=>Le?ot.name.toLowerCase().includes(Le)||ot.sku.toLowerCase().includes(Le)||ot.category.toLowerCase().includes(Le):!0,ke=ot=>{if(y==="all")return!0;const at=je(y);if(at){const ft=je(ot.category);return ft?ee(ft,at):On(ot.category,y)}return On(ot.category,y)},Me=ot=>E==="all"?!0:E==="low"?ot.stockQuantity<ot.reorderLevel:E==="out"?ot.stockQuantity===0:E==="overstock"?ot.stockQuantity>ot.reorderLevel*2:!0;return a.filter(ot=>Je(ot)&&ke(ot)&&Me(ot)).sort((ot,at)=>{switch(O){case"price-desc":return at.unitPrice-ot.unitPrice;case"price-asc":return ot.unitPrice-at.unitPrice;case"stock-desc":return at.stockQuantity-ot.stockQuantity;case"stock-asc":return ot.stockQuantity-at.stockQuantity;case"recent":default:return new Date(at.createdAt).getTime()-new Date(ot.createdAt).getTime()}})},[a,g,y,E,O,je,ee]),Ge=Le=>{const Je=j.find(ke=>ke.name.localeCompare(Le,"tr-TR",{sensitivity:"accent"})===0);A({id:Je?.id||"",name:Le.trim(),taxRate:Je?.taxRate??18,isActive:Je?.isActive??!0,isProtected:Je?.isProtected??!1})},st=async(Le,Je,ke)=>{if(!D)try{await(await pi()).create({name:Le.trim(),taxRate:Je,parentId:ke});const ft=await(await pi()).getAll({includeInactive:!0});C(ft),xc(),S(!1);return}catch(at){he.error("Kategori eklenirken hata:",at);const ft=yc(at);typeof ft?.message=="string"&&alert(ft.message);return}const Me=D.name,He=Le.trim(),ot=j.find(at=>at.name.localeCompare(Me,"tr-TR",{sensitivity:"accent"})===0);if(!ot){he.error("Kategori bulunamad:",Me),A(null);return}if(ot.isProtected&&He!==Me){alert(`"${Me}" ana kategori olduu iin ismi deitirilemez. Sadece KDV oran gncellenebilir.`),A(null);return}try{await(await pi()).update(ot.id,{name:He!==Me?He:void 0,taxRate:Je!==D.taxRate?Je:void 0});const ft=await(await pi()).getAll({includeInactive:!0});if(C(ft),xc(),He!==Me){if(le.some(zt=>!On(zt,Me)&&On(zt,He)))return;n(Me,He)}A(null)}catch(at){he.error("Kategori gncellenirken hata:",at);const ft=yc(at);typeof ft?.message=="string"&&b({title:l("common.error"),message:ft.message})}},bt=async Le=>{try{await(await pi()).delete(Le);const ke=await(await pi()).getAll({includeInactive:!0});C(ke),xc(),A(null)}catch(Je){he.error("Kategori arivlenirken hata:",Je);const ke=yc(Je);if(ke?.code==="CATEGORY_HAS_PRODUCTS"){const Me=Number(ke?.count??0);A(null),b({title:l("common.warning"),message:l("products.cannotArchiveCategoryWithProducts",{count:Me})})}else typeof ke?.message=="string"&&(A(null),b({title:l("common.error"),message:ke.message}))}},_e=async Le=>{try{await(await pi()).update(Le,{isActive:!0});const ke=await(await pi()).getAll({includeInactive:!0});C(ke),xc(),A(null)}catch(Je){he.error("Kategori aktif edilirken hata:",Je);const ke=yc(Je);typeof ke?.message=="string"&&b({title:l("common.error"),message:ke.message})}},We=async Le=>{if(typeof window>"u")return;if(On(Le,co)){b({title:l("common.warning"),message:l("products.generalCategoryCannotDeleteAlert")});return}const Je=j.find(Me=>Me.name.localeCompare(Le,"tr-TR",{sensitivity:"accent"})===0);if(Je?.isProtected){b({title:l("common.warning"),message:l("products.categoryCannotDeleteProtected",{category:Le})});return}const ke=Ce.get(Le)??0;if(ke>0){b({title:l("common.warning"),message:l("products.deleteCategoryWithProducts",{count:ke})});return}Z({title:l("products.deleteCategory"),message:l("products.deleteCategoryConfirm"),confirmText:l("common.yes"),cancelText:l("common.no"),onConfirm:async()=>{try{if(Je){await(await pi()).delete(Je.id);const He=await(await pi()).getAll({includeInactive:!0});C(He),xc()}o(Le)}catch(Me){he.error("Kategori silinirken hata:",Me);const He=yc(Me);He?.code==="CATEGORY_HAS_PRODUCTS"?b({title:l("common.warning"),message:l("products.deleteCategoryWithProducts",{count:He.count})}):typeof He?.message=="string"&&b({title:l("common.error"),message:He.message})}finally{Z(null)}}})},vt=[{value:"all",label:l("products.filterCategory")},...le.map(Le=>({value:Le,label:bc(Le,l)}))],At={all:l("products.allStock"),low:l("products.lowStockFilter"),out:l("products.outOfStock"),overstock:l("products.overstock")},Nt={recent:l("products.newest"),"price-desc":l("products.priceHighLow"),"price-asc":l("products.priceLowHigh"),"stock-desc":l("products.stockHighLow"),"stock-asc":l("products.stockLowHigh")},De=[{id:"category",label:l("products.category"),value:y,display:y==="all"?l("products.filterCategory"):bc(y,l),options:vt,onChange:N,defaultValue:"all",menuRef:K},{id:"stock",label:l("products.stock"),value:E,display:At[E]??E,options:Object.entries(At).map(([Le,Je])=>({value:Le,label:Je})),onChange:I,defaultValue:"all",menuRef:se},{id:"sort",label:l("products.sort",{defaultValue:u.sort}),value:O,display:Nt[O]??O,options:Object.entries(Nt).map(([Le,Je])=>({value:Le,label:Je})),onChange:$,defaultValue:"recent",menuRef:oe}],ge=+(y!=="all")+ +(E!=="all")+ +(O!=="recent"),Oe=()=>{N("all"),I("all"),$("recent"),G(null),T([])},Ke=()=>{L.current?.click()},pe=Le=>{const Je=Le.target.files?.[0];if(!Je){Le.target.value="";return}r&&r(Je),Le.target.value=""},me=()=>{const Le=["Name,SKU,UnitPrice,CostPrice,TaxRate,StockQuantity,ReorderLevel,Unit,Category,Description",'rnek rn A,SKU-001,199.90,120.00,18,50,10,adet,Genel,"Aklama: rnek rn A"','rnek rn B,SKU-002,49.99,25.00,10,200,20,adet,Genel,"Aklama: rnek rn B"'].join(`
`),Je=new Blob(["\uFEFF"+Le],{type:"text/csv;charset=utf-8;"}),ke=document.createElement("a");if(ke.download!==void 0){const Me=URL.createObjectURL(Je);ke.setAttribute("href",Me),ke.setAttribute("download","product_import_template.csv"),ke.style.visibility="hidden",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL(Me)}},xe=Le=>{N(Le),V==="category"&&G(null),typeof window<"u"&&window.innerWidth<1024&&U(!1)},te=W.useMemo(()=>{const Le=(ae-1)*X;return Be.slice(Le,Le+X)},[Be,ae,X]),we=W.useMemo(()=>te.map(Le=>Le.id),[te]),Ue=W.useMemo(()=>we.filter(Le=>B.includes(Le)),[we,B]),et=we.length>0&&Ue.length===we.length,dt=Ue.length>0&&!et,St=Ue.length>0,Ut=a.length>0,ve=[{action:"update-price",label:l("products.updatePrice")},{action:"assign-category",label:l("products.assignCategory")},{action:"archive",label:l("products.archive")},{action:"delete",label:l("products.delete"),tone:"danger"}],de=Le=>{T(Je=>Je.includes(Le)?Je.filter(ke=>ke!==Le):[...Je,Le])},Ye=Le=>{T(Je=>{if(we.length===0)return Je;if(we.every(He=>Je.includes(He)))return Je.filter(He=>!we.includes(He));const Me=new Set([...Je,...we]);return Array.from(Me)})},ut=Le=>{Ue.length&&(i?.(Le,Ue),T(Je=>Je.filter(ke=>!Ue.includes(ke))))};Gt.useEffect(()=>{ne.current&&(ne.current.indeterminate=dt)},[dt]),W.useEffect(()=>{q(1)},[g,y,E,O]);const pt=Le=>{const Je=Eu(Le)?Le:Mc[0];F(Je),Tt.setItem("products_pageSize",String(Je)),q(1)};return e.jsxs("div",{className:"space-y-6",children:[Y&&e.jsx(na,{isOpen:!0,title:Y.title,message:Y.message,confirmText:Y.confirmText,cancelText:Y.cancelText,danger:!0,onConfirm:Y.onConfirm,onCancel:()=>Z(null)}),x&&e.jsx(Ra,{isOpen:!0,title:x.title,message:x.message,onClose:()=>b(null)}),e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.totalProducts")}),e.jsx(mn,{className:"h-5 w-5 text-indigo-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:Pe.activeCount}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.activeProductsDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.stockValue")}),e.jsx(xC,{className:"h-5 w-5 text-emerald-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:s(Pe.totalValue||0)}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.totalStockCostDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.totalStock")}),e.jsx(ra,{className:"h-5 w-5 text-blue-500"})]}),e.jsxs("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:[Pe.totalStock.toLocaleString("tr-TR")," ",l("products.unit")]}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.totalUnitsDesc")})]}),e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:l("products.lowStock")}),e.jsx(pn,{className:"h-5 w-5 text-orange-500"})]}),e.jsx("p",{className:"mt-3 text-2xl font-semibold text-gray-900",children:Pe.lowStock}),e.jsx("p",{className:"text-xs text-gray-500",children:l("products.criticalLevelDesc")})]})]}),e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row",children:[e.jsx("aside",{className:`${z?"block":"hidden"} lg:block lg:w-72 lg:flex-shrink-0`,children:e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white p-4 lg:sticky lg:top-24",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:l("products.productCategories")}),e.jsxs("p",{className:"text-xs text-gray-500",children:[le.length," ",l("products.categoriesCount")," - ",a.length," ",l("products.productsCount")]})]}),e.jsxs("button",{type:"button",onClick:()=>{A(null),S(!0)},className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 transition-colors hover:bg-gray-50",children:[e.jsx(Ri,{className:"h-4 w-4"}),l("products.addCategory")]})]}),e.jsxs("div",{className:"mt-4 space-y-1",children:[e.jsxs("button",{type:"button",onClick:()=>xe("all"),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${y==="all"?"bg-indigo-50 text-indigo-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"truncate",children:l("products.allProducts")}),e.jsx("span",{className:"text-xs text-gray-500",children:a.length})]}),e.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[le.length," ",l("products.categoriesCount")]}),e.jsx("button",{type:"button",onClick:()=>R(Le=>!Le),className:"text-[11px] text-indigo-600 hover:text-indigo-700",children:P?l("products.hideArchived",{defaultValue:u.hideArchived}):l("products.showArchived",{defaultValue:u.showArchived})})]}),le.length===0?e.jsx("p",{className:"rounded-lg bg-gray-50 px-3 py-2 text-xs text-gray-500",children:l("products.noCategories")}):e.jsxs(e.Fragment,{children:[be.map(({mainCategory:Le,subCategories:Je,categoryObj:ke})=>{const Me=Ce.get(Le)??0,He=y!=="all"&&On(Le,y),ot=On(Le,co),at=ke?.isProtected||!1;return e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsxs("div",{className:"ml-2",children:[e.jsxs("button",{type:"button",onClick:()=>xe(Le),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm font-medium transition-colors ${He?"bg-indigo-50 text-indigo-600":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500"}),bc(Le,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:Me})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>Ge(Le),className:"text-gray-400 transition-colors hover:text-gray-600",title:l(at?"products.mainCategoryEditTooltip":"products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>We(Le),disabled:ot||at,className:`transition-colors ${ot||at?"cursor-not-allowed text-gray-300":"text-red-500 hover:text-red-600"}`,title:ot?l("products.generalCategoryCannotDelete"):at?l("products.mainCategoryCannotDelete"):void 0,children:l("products.deleteCategory")})]})]}),Je.length>0&&e.jsx("div",{className:"ml-6 space-y-1",children:Je.map(ft=>{const Kt=Ce.get(ft)??0,zt=y!=="all"&&On(ft,y);return e.jsxs("div",{children:[e.jsxs("button",{type:"button",onClick:()=>xe(ft),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${zt?"bg-gray-50 text-gray-700":"text-gray-600 hover:bg-gray-25"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),bc(ft,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:Kt})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>Ge(ft),className:"text-gray-400 transition-colors hover:text-gray-600",title:l("products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>We(ft),className:"text-red-500 transition-colors hover:text-red-600",children:l("products.deleteCategory")})]})]},ft)})})]},Le)}),Te.length>0&&e.jsxs("div",{className:"space-y-1 mt-4",children:[e.jsx("div",{className:"px-2 py-1",children:e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:l("products.subCategories")})}),Te.map(Le=>{const Je=Ce.get(Le)??0,ke=y!=="all"&&On(Le,y);return e.jsxs("div",{className:"ml-4",children:[e.jsxs("button",{type:"button",onClick:()=>xe(Le),className:`flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm transition-colors ${ke?"bg-gray-50 text-gray-700":"text-gray-600 hover:bg-gray-25"}`,children:[e.jsxs("span",{className:"truncate flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),bc(Le,l)]}),e.jsx("span",{className:"text-xs text-gray-500",children:Je})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-2 px-5 text-[11px]",children:[e.jsx("button",{type:"button",onClick:()=>Ge(Le),className:"text-gray-400 transition-colors hover:text-gray-600",title:l("products.editCategoryTooltip"),children:l("products.editCategory")}),e.jsx("span",{className:"text-gray-300",children:"-"}),e.jsx("button",{type:"button",onClick:()=>We(Le),className:"text-red-500 transition-colors hover:text-red-600",children:l("products.deleteCategory")})]})]},Le)})]}),P&&e.jsxs("div",{className:"space-y-1 mt-4",children:[e.jsxs("div",{className:"px-2 py-1 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:l("products.archivedCategories")}),e.jsx("span",{className:"text-[11px] text-gray-400",children:Se.length})]}),Se.length===0?e.jsx("div",{className:"ml-2 rounded-lg px-3 py-2 text-xs text-gray-400 bg-gray-50",children:l("products.noArchivedCategories")}):Se.map(Le=>{const Je=Ce.get(Le.name)??0;return e.jsxs("div",{className:"ml-2 flex items-center justify-between rounded-lg px-3 py-2 text-sm text-gray-500 bg-gray-50",children:[e.jsx("span",{className:"truncate",children:Le.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[11px] text-gray-400",children:Je}),e.jsx("button",{type:"button",onClick:()=>_e(Le.id),className:"text-[11px] rounded border border-emerald-200 bg-white px-2 py-1 text-emerald-600 hover:border-emerald-300 hover:text-emerald-700",children:l("products.activate")})]})]},Le.id)})]})]})]})]})}),e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-6",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:l("products.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[Be.length," ",l("products.title").toLowerCase()," - ",l("invoice.total"),": ",a.length]})]}),e.jsxs("button",{type:"button",onClick:()=>U(Le=>!Le),className:"inline-flex items-center gap-2 rounded-lg border border-gray-200 px-3 py-2 text-sm font-medium text-gray-600 transition-colors hover:bg-gray-50 lg:hidden",children:[e.jsx(Ri,{className:"h-4 w-4"}),l(z?"common.close":"products.manageCategories")]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"lg:sticky lg:top-16 lg:z-20",children:e.jsxs("div",{className:"rounded-xl border border-gray-200 bg-white/95 p-4 shadow-sm backdrop-blur",children:[e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:g,onChange:Le=>v(Le.target.value),placeholder:l("products.search"),className:"w-full rounded-lg border border-gray-300 py-2 pl-9 pr-3 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("input",{ref:L,type:"file",accept:".csv,.xls,.xlsx",className:"hidden",onChange:pe}),e.jsxs("button",{type:"button",onClick:me,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-blue-200 px-3 py-2 text-sm font-semibold text-blue-600 transition-colors hover:bg-blue-50",title:l("customers.downloadTemplate"),children:[e.jsx(vs,{className:"h-4 w-4"}),l("customers.downloadTemplate")]}),e.jsxs("button",{type:"button",onClick:Ke,className:"inline-flex items-center justify-center gap-2 rounded-lg border border-purple-200 px-3 py-2 text-sm font-semibold text-purple-600 transition-colors hover:bg-purple-50 disabled:cursor-not-allowed disabled:border-gray-200 disabled:text-gray-300",disabled:!r,title:l("customers.importCSV"),children:[e.jsx(zp,{className:"h-4 w-4"}),l("customers.importCSV")]}),e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-indigo-700",children:[e.jsx(Vs,{className:"h-4 w-4"}),l("products.newProduct")]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[De.map(({id:Le,label:Je,display:ke,value:Me,options:He,onChange:ot,defaultValue:at,menuRef:ft})=>{const Kt=Me!==at;return e.jsxs("div",{ref:ft,className:"relative flex items-center gap-1",children:[e.jsxs("button",{type:"button",onClick:()=>G(zt=>zt===Le?null:Le),className:`inline-flex items-center gap-2 rounded-full border px-3 py-1.5 text-sm transition-colors ${Kt?"border-indigo-200 bg-indigo-50 text-indigo-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 hover:text-gray-800"}`,children:[e.jsxs("span",{className:"whitespace-nowrap",children:[Je,": ",ke]}),e.jsx(ms,{className:"h-3.5 w-3.5"})]}),Kt&&e.jsx("button",{type:"button",onClick:()=>{ot(at),V===Le&&G(null)},className:"inline-flex h-6 w-6 items-center justify-center rounded-full border border-gray-200 bg-white text-gray-500 transition-colors hover:border-gray-300 hover:text-gray-700",children:e.jsx(kr,{className:"h-3.5 w-3.5"})}),V===Le&&e.jsx("div",{className:"absolute left-0 top-[calc(100%+0.5rem)] z-20 w-56 rounded-lg border border-gray-200 bg-white p-1 shadow-lg",children:He.map(zt=>{const Re=zt.value===Me;return e.jsxs("button",{type:"button",onClick:()=>{ot(zt.value),G(null)},className:`flex w-full items-center justify-between rounded-md px-3 py-2 text-sm transition-colors ${Re?"bg-indigo-50 text-indigo-700":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{children:zt.label}),Re&&e.jsx(ns,{className:"h-4 w-4"})]},zt.value)})})]},Le)}),ge>0&&e.jsx("button",{type:"button",onClick:Oe,className:"ml-auto text-sm font-medium text-indigo-600 transition-colors hover:text-indigo-700",children:l("archive.clearFilters",{defaultValue:l("common.actions.clear")})})]}),e.jsx("div",{className:"mt-3 flex items-center justify-end",children:e.jsx(jo,{listType:"products",getState:()=>({searchTerm:g,categoryFilter:y,stockFilter:E,sortOption:O,pageSize:X}),applyState:Le=>{v(Le.searchTerm??""),N(Le.categoryFilter??"all"),I(Le.stockFilter??"all"),$(Le.sortOption??"recent"),Le.pageSize&&Eu(Le.pageSize)&&pt(Le.pageSize)},presets:[{id:"low-stock",label:l("products.lowStockFilter"),apply:()=>I("low")},{id:"out-of-stock",label:l("products.outOfStock"),apply:()=>I("out")},{id:"price-high",label:l("products.priceHighLow"),apply:()=>$("price-desc")},{id:"price-low",label:l("products.priceLowHigh"),apply:()=>$("price-asc")}]})}),St&&e.jsxs("div",{className:"mt-3 flex flex-col gap-3 rounded-lg border border-indigo-100 bg-indigo-50 px-4 py-3 text-sm text-indigo-900 md:flex-row md:items-center md:justify-between",children:[e.jsxs("span",{className:"font-medium",children:["Toplu islem icin ",Ue.length," urun secildi"]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ve.map(({action:Le,label:Je,tone:ke})=>e.jsx("button",{type:"button",onClick:()=>ut(Le),className:`rounded-full px-3 py-1.5 text-sm font-medium transition-colors ${ke==="danger"?"border border-red-200 bg-white text-red-600 hover:border-red-300 hover:text-red-700":"border border-indigo-200 bg-white text-indigo-600 hover:border-indigo-300 hover:text-indigo-700"}`,children:Je},Le)),e.jsx("button",{type:"button",onClick:()=>T(Le=>Le.filter(Je=>!Ue.includes(Je))),className:"rounded-full border border-gray-200 px-3 py-1.5 text-sm font-medium text-gray-600 transition-colors hover:border-gray-300 hover:text-gray-800",children:"Secimleri kaldir"})]})]})]})}),e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white",children:Be.length===0?Ut?e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-16",children:[e.jsx(mn,{className:"h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l("products.noProducts")}),e.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:l("transactions.noTransactions")}),e.jsx("button",{type:"button",onClick:Oe,className:"rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-100",children:l("common.search")})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 py-16",children:[e.jsx(mn,{className:"h-12 w-12 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l("products.noProductsYet")}),e.jsx("p",{className:"max-w-md text-center text-sm text-gray-500",children:"Urun ekleyerek envanterinizi takip etmeye baslayin. Fiyat, stok ve kategori bilgileriniz burada gorunecek."}),e.jsx("button",{type:"button",onClick:t,className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-700",children:l("products.addFirstProduct")})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm table-auto lg:min-w-[1024px] divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"hidden md:table-cell w-12 px-4 py-3",children:e.jsx("input",{ref:ne,type:"checkbox",checked:we.length>0&&et,onChange:Ye,"aria-label":l("common.yes"),className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("th",{className:"px-4 md:px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500 w-full md:w-[320px]",children:l("products.name")}),e.jsx("th",{className:"hidden lg:table-cell w-40 px-4 md:px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.category")}),e.jsx("th",{className:"hidden lg:table-cell w-32 px-4 md:px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.price")}),e.jsx("th",{className:"hidden xl:table-cell w-32 px-4 md:px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.stock")}),e.jsx("th",{className:"hidden xl:table-cell w-32 px-4 md:px-6 py-3 text-left text-xs font-semibold uppercase tracking-wide text-gray-500",children:l("products.status")}),e.jsx("th",{className:"hidden md:table-cell sticky right-0 z-10 w-32 lg:w-44 min-w-[140px] lg:min-w-[176px] px-4 md:px-6 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-500 bg-gray-50",children:l("products.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:te.map(Le=>{const Je=B.includes(Le.id),ke=Le.stockQuantity===0,Me=!ke&&Le.stockQuantity<Le.reorderLevel,He=l(ke?"products.depleted":Me?"products.critical":"products.inStock"),ot=ke?"danger":Me?"warning":"success",at=ot==="danger"?"bg-red-100 text-red-700":ot==="warning"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700";return e.jsxs("tr",{className:`group transition-colors hover:bg-gray-50 ${Je?"bg-indigo-50":""}`,children:[e.jsx("td",{className:"hidden md:table-cell px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:Je,onChange:()=>de(Le.id),"aria-label":`Urunu sec: ${Le.name}`,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("td",{className:"whitespace-nowrap px-4 md:px-6 py-4 align-top",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-indigo-100",children:e.jsx(mn,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:()=>c(Le),className:"block max-w-[220px] truncate text-left font-medium text-gray-900 transition-colors hover:text-indigo-600",children:Le.name}),e.jsx("div",{className:"md:hidden",children:e.jsx("input",{type:"checkbox",checked:Je,onChange:()=>de(Le.id),"aria-label":`Urunu sec: ${Le.name}`,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})})]}),e.jsx("div",{className:"hidden text-xs text-gray-500 lg:block",children:e.jsxs("span",{className:"inline-block max-w-[260px] truncate",title:`SKU: ${Le.sku}`,children:["SKU: ",Le.sku]})}),e.jsxs("div",{className:"mt-3 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"SKU:"}),e.jsx("span",{className:"text-gray-900",children:Le.sku||""})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[l("products.category"),":"]}),e.jsx("span",{className:"text-gray-900",children:Le.category})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[l("products.price"),":"]}),e.jsx("span",{className:"text-gray-900 font-semibold",children:s(Le.unitPrice||0)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[l("products.stock"),":"]}),e.jsxs("span",{className:"text-gray-900",children:[Math.floor(Le.stockQuantity)," ",Le.unit]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${at}`,children:He})})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{type:"button",onClick:()=>c(Le),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-indigo-600",title:l("products.viewProduct"),children:e.jsx(Wr,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>h(Le),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-blue-600",title:l("products.edit"),children:e.jsx(hs,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>f(Le.id),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-red-600",title:l("products.delete"),children:e.jsx(Yr,{className:"h-4 w-4"})})]})]})]})}),e.jsx("td",{className:"hidden lg:table-cell w-40 whitespace-nowrap px-4 md:px-6 py-4 text-sm text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(Ri,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"truncate",title:Le.category,children:Le.category})]})}),e.jsxs("td",{className:"hidden lg:table-cell w-32 whitespace-nowrap px-4 md:px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-semibold",children:s(Le.unitPrice||0)}),e.jsxs("div",{className:"hidden text-xs text-gray-500 lg:block",children:[l("products.costPrice"),": ",s(Le.costPrice||0)]})]}),e.jsxs("td",{className:"hidden xl:table-cell w-32 whitespace-nowrap px-4 md:px-6 py-4 text-sm text-gray-900",title:`${l("products.minStock")}: ${Math.floor(Le.reorderLevel)}`,children:[e.jsxs("div",{className:"font-semibold",children:[Math.floor(Le.stockQuantity)," ",Le.unit]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[l("products.minStock"),": ",Math.floor(Le.reorderLevel)]})]}),e.jsx("td",{className:"hidden xl:table-cell w-32 whitespace-nowrap px-4 md:px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${at}`,children:He})}),e.jsx("td",{className:"hidden md:table-cell sticky right-0 w-32 lg:w-44 min-w-[140px] lg:min-w-[176px] whitespace-nowrap px-4 md:px-6 py-4 text-right text-sm font-medium bg-white group-hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>c(Le),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-indigo-600",title:l("products.viewProduct"),children:e.jsx(Wr,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>h(Le),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-blue-600",title:l("products.edit"),children:e.jsx(hs,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>f(Le.id),className:"inline-flex h-8 w-8 items-center justify-center rounded-lg text-gray-400 transition-colors hover:bg-gray-100 hover:text-red-600",title:l("products.delete"),children:e.jsx(Yr,{className:"h-4 w-4"})})]})})]},Le.id)})})]})})}),e.jsx("div",{className:"p-4 border border-t-0 border-gray-200 rounded-b-xl bg-white",children:e.jsx(Cn,{page:ae,pageSize:X,total:Be.length,onPageChange:q,onPageSizeChange:pt})})]})]})]}),e.jsx(rv,{isOpen:k||!!D,onClose:()=>{A(null),S(!1)},onSubmit:st,categories:le,categoryObjects:j,editingCategory:D,onArchive:Le=>bt(Le),onRestore:Le=>_e(Le)})]})}const em=[20,50,100],Tu=a=>em.includes(a),Mf=a=>(a??"").toLowerCase(),oT=()=>{const a=Tt.getItem("suppliers_pageSize"),m=a?Number(a):em[0];return Tu(m)?m:em[0]};function lT({suppliers:a,onAddSupplier:m,onEditSupplier:t,onDeleteSupplier:h,onViewSupplier:f,onSelectSupplier:c,selectionMode:n=!1}){const{t:o,i18n:i}=Zt(),r=(i.resolvedLanguage||i.language||"en").split("-")[0],s={"Ofis Malzemeleri":{tr:"Ofis Malzemeleri",en:"Office Supplies",fr:"Fournitures de bureau",de:"Bromaterial"},Teknoloji:{tr:"Teknoloji",en:"Technology",fr:"Technologie",de:"Technologie"},Hizmet:{tr:"Hizmet",en:"Services",fr:"Services",de:"Dienstleistungen"},retim:{tr:"retim",en:"Manufacturing",fr:"Production",de:"Fertigung"},Lojistik:{tr:"Lojistik",en:"Logistics",fr:"Logistique",de:"Logistik"},Dier:{tr:"Dier",en:"Other",fr:"Autre",de:"Sonstiges"}},l=A=>s[A]?.[r]||A,[d,u]=W.useState(""),[x,b]=W.useState("all"),[g,v]=W.useState(""),[y,N]=W.useState(""),[E,I]=W.useState(1),[O,$]=W.useState(()=>oT()),z=W.useMemo(()=>Array.isArray(a)?a.filter(Boolean):[],[a]),U=z.length,{getDefault:V}=Ba({listType:"suppliers"});W.useEffect(()=>{const A=V();if(A&&A.state)try{u(A.state.searchTerm??""),b(A.state.categoryFilter??"all"),A.state.startDate&&v(A.state.startDate),A.state.endDate&&N(A.state.endDate),A.state.pageSize&&Tu(A.state.pageSize)&&D(A.state.pageSize)}catch(k){he.warn("Failed to hydrate supplier saved view",k)}},[]);const G=["Ofis Malzemeleri","Teknoloji","Hizmet","retim","Lojistik","Dier"],B=W.useMemo(()=>{const A=d.trim().toLowerCase();return z.filter(k=>{const S=Mf(k?.name),j=Mf(k?.email),C=Mf(k?.company),P=!A||S.includes(A)||j.includes(A)||C.includes(A),R=x==="all"||k?.category===x;let L=!0;const Y=k?.createdAt?new Date(k.createdAt):null;return Y&&g&&(L=L&&Y>=new Date(g)),Y&&y&&(L=L&&Y<=new Date(y)),P&&R&&L})},[z,d,x,g,y]),T=W.useMemo(()=>{const A=(E-1)*O;return B.slice(A,A+O)},[B,E,O]);W.useEffect(()=>{I(1)},[d,x,g,y]);const D=A=>{const k=Tu(A)?A:em[0];$(k),Tt.setItem("suppliers_pageSize",String(k)),I(1)};return e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 min-w-full lg:min-w-[920px]",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Tedariki Se":o("suppliers.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[U," ",o("suppliers.suppliersRegistered")]})]}),!n&&e.jsxs("button",{onClick:m,className:"flex items-center gap-2 self-start rounded-lg bg-orange-600 px-4 py-2 text-white transition-colors hover:bg-orange-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:o("suppliers.newSupplier")})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 transform text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:o("suppliers.search"),value:d,onChange:A=>u(A.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),e.jsxs("select",{value:x,onChange:A=>b(A.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-orange-500 md:w-56",children:[e.jsx("option",{value:"all",children:i.language==="tr"?"Tm kategoriler":i.language==="en"?"All categories":i.language==="de"?"Alle Kategorien":i.language==="fr"?"Toutes les catgories":"All categories"}),G.map(A=>e.jsx("option",{value:A,children:l(A)},A))]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-700 whitespace-nowrap",children:o("startDate")}),e.jsx("input",{type:"date",value:g,onChange:A=>v(A.target.value),className:"rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700 whitespace-nowrap",children:o("endDate")}),e.jsx("input",{type:"date",value:y,onChange:A=>N(A.target.value),className:"rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-gray-500"}),(g||y)&&e.jsx("button",{onClick:()=>{v(""),N("")},className:"rounded-lg bg-gray-100 px-3 py-2 text-sm hover:bg-gray-200",children:o("archive.clearFilters")})]}),e.jsx("div",{className:"flex w-full flex-wrap justify-start sm:justify-end",children:e.jsx(jo,{listType:"suppliers",getState:()=>({searchTerm:d,categoryFilter:x,startDate:g,endDate:y,pageSize:O}),applyState:A=>{const k=A??{};u(k.searchTerm??""),b(k.categoryFilter??"all"),v(k.startDate??""),N(k.endDate??""),k.pageSize&&Tu(k.pageSize)&&D(k.pageSize)},presets:[{id:"cat-office",label:l("Ofis Malzemeleri"),apply:()=>b("Ofis Malzemeleri")},{id:"cat-technology",label:l("Teknoloji"),apply:()=>b("Teknoloji")},{id:"cat-services",label:l("Hizmet"),apply:()=>b("Hizmet")},{id:"added-this-month",label:o("presets.addedThisMonth"),apply:()=>{const A=new Date,k=new Date(A.getFullYear(),A.getMonth(),1).toISOString().slice(0,10),S=new Date(A.getFullYear(),A.getMonth()+1,0).toISOString().slice(0,10);v(k),N(S)}}]})})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:B.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Jr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o(d||x!=="all"?"suppliers.noSuppliersFound":"suppliers.noSuppliers")}),e.jsx("p",{className:"text-gray-500 mb-4",children:o(d||x!=="all"?"suppliers.noSuppliersFoundDesc":"suppliers.noSuppliersDesc")}),!n&&!d&&x==="all"&&e.jsx("button",{onClick:m,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:o("suppliers.createFirstSupplier")})]}):T.map((A,k)=>{const S=A.name?.trim()||o("suppliers.unnamed",{defaultValue:"simsiz Tedariki"}),j=S.charAt(0).toUpperCase(),C=A.company?.trim(),P=A.email||o("suppliers.noEmail",{defaultValue:"E-posta yok"}),R=A.phone||"",L=A.id||`supplier-${k}`,Y=A.category||"Dier",Z=l(Y);return e.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${n?"cursor-pointer":""}`,onClick:()=>n&&c?.(A),children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-start sm:items-center gap-4 min-w-0 w-full",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold text-lg",children:j})}),e.jsxs("div",{className:"min-w-0",children:[n?e.jsx("h3",{className:"font-semibold text-gray-900",children:S}):e.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),f(A)},className:"font-semibold text-orange-600 hover:text-orange-800 transition-colors cursor-pointer text-left",title:"Tedariki detaylarn grntle",children:S}),C&&e.jsxs("p",{className:"text-sm text-gray-600 flex items-center truncate",children:[e.jsx(Jr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:C})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 min-w-0",children:[e.jsxs("span",{className:"text-sm text-gray-500 flex items-center truncate",children:[e.jsx(Us,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:P})]}),R&&e.jsxs("span",{className:"text-sm text-gray-500 flex items-center truncate",children:[e.jsx(No,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:R})]}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:Z})]}),!n&&e.jsxs("div",{className:"flex items-center gap-2 mt-3 sm:hidden",children:[e.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),t(A)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),h(A.id)},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete",children:e.jsx(Yr,{className:"w-4 h-4"})})]})]})]}),!n&&e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 shrink-0",children:[e.jsx("button",{onClick:()=>t(A),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(A.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Yr,{className:"w-4 h-4"})})]})]})},L)})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:E,pageSize:O,total:B.length,onPageChange:I,onPageSizeChange:D})})]})})}function Wp(a,m=250){const[t,h]=W.useState(a);return W.useEffect(()=>{const f=setTimeout(()=>h(a),m);return()=>clearTimeout(f)},[a,m]),t}const iy=365,tm=[20,50,100],_u=a=>tm.includes(a),cT=()=>{const a=Tt.getItem("invoices_pageSize"),m=a?Number(a):tm[0];return _u(m)?m:tm[0]},ay=a=>{if(!a||typeof a!="object")return!1;const m=a,t=["invoiceNumber","customer","description","amount","status","dueDate","issueDate"],h=["asc","desc"];return!!(m.by&&m.dir&&t.includes(m.by)&&h.includes(m.dir))};function dT({invoices:a,onAddInvoice:m,onEditInvoice:t,onDeleteInvoice:h,onViewInvoice:f,onUpdateInvoice:c,onDownloadInvoice:n,onVoidInvoice:o,onRestoreInvoice:i}){const{formatCurrency:r}=es(),{t:s,i18n:l}=Zt("common"),{tenant:d}=Zs(),[u,x]=W.useState(""),[b,g]=W.useState("all"),[v,y]=W.useState(!1),[N,E]=W.useState(null),[I,O]=W.useState(null),[$,z]=W.useState(""),[U,V]=W.useState(!1),[G,B]=W.useState(null),[T,D]=W.useState(""),[A,k]=W.useState({by:"issueDate",dir:"desc"}),[S,j]=W.useState(""),[C,P]=W.useState(""),R=Wp(u,300),[L,Y]=W.useState(1),[Z,ae]=W.useState(()=>cT()),{getDefault:q}=Ba({listType:"invoices"});W.useEffect(()=>{const _e=q();if(_e&&_e.state)try{x(_e.state.searchTerm??""),g(_e.state.statusFilter??"all"),j(_e.state.startDate??""),P(_e.state.endDate??""),y(!!_e.state.showVoided),ay(_e.state.sort)&&k(_e.state.sort),_e.state.pageSize&&_u(_e.state.pageSize)&&Se(_e.state.pageSize)}catch(We){he.warn("Failed to hydrate invoice saved view",We)}},[]);const X=String(d?.subscriptionPlan||"").toLowerCase(),F=X.includes("free")||X.includes("starter"),M=W.useMemo(()=>{const _e=new Date,We=new Date(_e.getFullYear(),_e.getMonth(),1,0,0,0,0),vt=new Date(_e.getFullYear(),_e.getMonth()+1,0,23,59,59,999);return a.filter(At=>{if(At?.isVoided)return!1;const Nt=At?.createdAt?new Date(At.createdAt):At?.issueDate?new Date(At.issueDate):null;return!Nt||Number.isNaN(Nt.getTime())?!1:Nt>=We&&Nt<=vt}).length},[a]),K=5,se=F&&M>=K,oe=a.filter(_e=>{const We=new Date(_e.issueDate),vt=new Date;return vt.setDate(vt.getDate()-iy),We>=vt}),ne=W.useMemo(()=>a.filter(_e=>{const We=En(R),vt=(_e.items||_e.lineItems||[]).map(xe=>xe.productName||xe.description||"").join(" "),At=[_e.invoiceNumber,_e.customer?.name,_e.customer?.email,_e.status,_e.issueDate,_e.dueDate,vt,String(_e.total)].map(En).join(" "),Nt=We.length===0||At.includes(We),De=b==="all"||_e.status===b,ge=v||!_e.isVoided,Oe=new Date(_e.issueDate),Ke=new Date;Ke.setDate(Ke.getDate()-iy);const pe=Oe>=Ke;let me=!0;return S&&(me=me&&new Date(_e.issueDate)>=new Date(S)),C&&(me=me&&new Date(_e.issueDate)<=new Date(C)),Nt&&De&&ge&&pe&&me}).sort((_e,We)=>{switch(A.by){case"invoiceNumber":return Ps(_e,We,vt=>vt.invoiceNumber,A.dir,"string");case"customer":return Ps(_e,We,vt=>vt.customer?.name||"",A.dir,"string");case"description":return Ps(_e,We,At=>{const Nt=At.items||At.lineItems||[];return Nt[0]?.productName||Nt[0]?.description||""},A.dir,"string");case"amount":return Ps(_e,We,vt=>Vr(vt.total),A.dir,"number");case"status":return Ps(_e,We,vt=>vt.status,A.dir,"string",dE);case"dueDate":{const vt=ea(_e.dueDate),At=ea(We.dueDate);return vt===At?Ps(_e,We,Nt=>Nt.invoiceNumber,A.dir,"string"):vt<At?A.dir==="asc"?-1:1:A.dir==="asc"?1:-1}case"issueDate":default:{const vt=ea(_e.issueDate),At=ea(We.issueDate);return vt===At?Ps(_e,We,Nt=>Nt.invoiceNumber,A.dir,"string"):vt<At?A.dir==="asc"?-1:1:A.dir==="asc"?1:-1}}}),[a,R,b,v,S,C,A.by,A.dir]),le=W.useMemo(()=>{const _e=(L-1)*Z;return ne.slice(_e,_e+Z)},[ne,L,Z]);W.useEffect(()=>{Y(1)},[R,b,v,S,C,A.by,A.dir]);const Se=_e=>{const We=_u(_e)?_e:tm[0];ae(We),Tt.setItem("invoices_pageSize",String(We)),Y(1)},je=_e=>{k(We=>We.by===_e?{...We,dir:We.dir==="asc"?"desc":"asc"}:{by:_e,dir:_e==="amount"||_e==="dueDate"||_e==="issueDate"?"desc":"asc"})},ee=({active:_e})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:_e?A.dir==="asc"?"":"":""}),ce=(_e,We)=>{if(We)return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:s("common:status.cancelled")});const vt=$r(_e),Nt={draft:{label:Rt(s,"draft"),class:"bg-gray-100 text-gray-800"},sent:{label:Rt(s,"sent"),class:"bg-blue-100 text-blue-800"},paid:{label:Rt(s,"paid"),class:"bg-green-100 text-green-800"},overdue:{label:Rt(s,"overdue"),class:"bg-red-100 text-red-800"},cancelled:{label:Rt(s,"cancelled"),class:"bg-red-100 text-red-800"}}[vt],De=Nt?Nt.label:Rt(s,vt),ge=Nt?Nt.class:"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge}`,children:De})},be=_e=>{const We=(l?.language||"en").toString();return new Date(_e).toLocaleDateString(We)},Te=_e=>r(_e),Ce=(_e,We,vt)=>{E(_e),O(We),z(vt)},Pe=_e=>{I==="status"?c({..._e,status:$}):I==="dueDate"?c({..._e,dueDate:$}):I==="issueDate"&&c({..._e,issueDate:$}),E(null),O(null),z("")},Be=()=>{E(null),O(null),z("")},Ge=_e=>{B(_e),V(!0)},st=()=>{G&&o&&T.trim()&&(o(G.id,T),V(!1),B(null),D(""))},bt=_e=>{i&&i(_e)};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("invoices.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[oe.length," ",s("invoices.invoicesRegistered"),"  ",a.length-oe.length," ",s("invoices.inArchive")]})]}),e.jsxs("button",{onClick:m,disabled:se,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${se?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,title:se?"Starter/Free planda bu ayki fatura limiti doldu (5/5)":void 0,children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:s("invoices.newInvoice")})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:s("invoices.search"),value:u,onChange:_e=>x(_e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:b,onChange:_e=>g(_e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:s("invoices.filterAll")}),e.jsx("option",{value:"draft",children:Rt(s,"draft")}),e.jsx("option",{value:"sent",children:Rt(s,"sent")}),e.jsx("option",{value:"paid",children:Rt(s,"paid")}),e.jsx("option",{value:"overdue",children:Rt(s,"overdue")}),e.jsx("option",{value:"cancelled",children:Rt(s,"cancelled")})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:s("startDate")}),e.jsx("input",{type:"date",value:S,onChange:_e=>j(_e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 w-full sm:w-auto"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:s("endDate")}),e.jsx("input",{type:"date",value:C,onChange:_e=>P(_e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500 w-full sm:w-auto"})]}),(S||C)&&e.jsx("button",{onClick:()=>{j(""),P("")},className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 w-full sm:w-auto",title:s("archive.clearFilters"),children:s("archive.clearFilters")})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 bg-gray-50 rounded-lg w-full sm:w-auto",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:_e=>y(_e.target.checked),className:"mr-2"}),s(v?"invoices.hideVoided":"invoices.showVoided")]}),e.jsx("div",{className:"w-full flex justify-start lg:justify-end",children:e.jsx(jo,{listType:"invoices",getState:()=>({searchTerm:u,statusFilter:b,startDate:S,endDate:C,showVoided:v,sort:A,pageSize:Z}),applyState:_e=>{const We=_e??{};x(We.searchTerm??""),g(We.statusFilter??"all"),j(We.startDate??""),P(We.endDate??""),y(!!We.showVoided),ay(We.sort)&&k(We.sort),We.pageSize&&_u(We.pageSize)&&Se(We.pageSize)},presets:[{id:"this-month",label:s("presets.thisMonth"),apply:()=>{const _e=new Date,We=new Date(_e.getFullYear(),_e.getMonth(),1).toISOString().slice(0,10),vt=new Date(_e.getFullYear(),_e.getMonth()+1,0).toISOString().slice(0,10);j(We),P(vt)}},{id:"last-month",label:s("presets.lastMonth"),apply:()=>{const _e=new Date,We=new Date(_e.getFullYear(),_e.getMonth()-1,1).toISOString().slice(0,10),vt=new Date(_e.getFullYear(),_e.getMonth(),0).toISOString().slice(0,10);j(We),P(vt)}},{id:"this-year",label:s("presets.thisYear"),apply:()=>{const _e=new Date,We=new Date(_e.getFullYear(),0,1).toISOString().slice(0,10),vt=new Date(_e.getFullYear(),11,31).toISOString().slice(0,10);j(We),P(vt)}},{id:"status-draft",label:Rt(s,"draft"),apply:()=>g("draft")},{id:"status-sent",label:Rt(s,"sent"),apply:()=>g("sent")},{id:"status-paid",label:Rt(s,"paid"),apply:()=>g("paid")},{id:"status-overdue",label:Rt(s,"overdue"),apply:()=>g("overdue")}]})}),F&&e.jsxs("div",{className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-gray-50 w-full sm:w-auto text-center sm:text-left",children:["Bu ay: ",e.jsxs("strong",{className:`${se?"text-red-600":"text-gray-900"}`,children:[M,"/",K]})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:ne.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s(u||b!=="all"?"invoices.noInvoicesFound":"invoices.noInvoices")}),e.jsx("p",{className:"text-gray-500 mb-4",children:s(u||b!=="all"?"invoices.noInvoicesFoundDesc":"invoices.noInvoicesDesc")}),!u&&b==="all"&&e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s("invoices.createFirstInvoice")})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm table-auto lg:min-w-[1024px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>je("invoiceNumber"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-full md:w-40",children:[s("invoices.invoiceNumber"),e.jsx(ee,{active:A.by==="invoiceNumber"})]}),e.jsxs("th",{onClick:()=>je("customer"),className:"hidden md:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[s("invoices.customer"),e.jsx(ee,{active:A.by==="customer"})]}),e.jsxs("th",{onClick:()=>je("description"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-[320px]",children:[s("common.description"),e.jsx(ee,{active:A.by==="description"})]}),e.jsxs("th",{onClick:()=>je("amount"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("invoices.amount"),e.jsx(ee,{active:A.by==="amount"})]}),e.jsxs("th",{onClick:()=>je("status"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[s("invoices.status"),e.jsx(ee,{active:A.by==="status"})]}),e.jsxs("th",{onClick:()=>je("issueDate"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("invoices.date"),e.jsx(ee,{active:A.by==="issueDate"})]}),e.jsx("th",{className:"hidden md:table-cell px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32 lg:w-44 min-w-[140px] lg:min-w-[176px] sticky right-0 bg-gray-50 z-10",children:s("invoices.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:le.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-4 md:px-6 py-4 align-top",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>f(_e),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors cursor-pointer",title:s("invoices.viewInvoice"),children:_e.invoiceNumber})}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),be(_e.dueDate)]})]})]}),e.jsxs("div",{className:"mt-3 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("invoices.customer"),":"]}),e.jsx("span",{className:"text-gray-900",children:_e.customer?.name||s("invoices.noCustomer",{defaultValue:"Mteri Yok"})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("invoices.status"),":"]}),ce(_e.status,_e.isVoided)]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("invoices.amount"),":"]}),e.jsx("span",{className:"text-gray-900 font-semibold",children:Te(Number(_e.total)||0)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Or,{className:"w-3 h-3"}),e.jsx("span",{children:be(_e.issueDate)}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{children:be(_e.dueDate)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>f(_e),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:s("invoices.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(_e),disabled:_e.isVoided,className:`inline-flex items-center justify-center w-9 h-9 rounded transition-colors ${_e.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:_e.isVoided?s("invoices.cannotEditVoided",{defaultValue:"ptal edilmi fatura dzenlenemez"}):s("invoices.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n?.(_e),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("invoices.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),_e.isVoided?e.jsx("button",{onClick:()=>bt(_e.id),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("invoices.restore",{defaultValue:"Geri Ykle"}),children:e.jsx(wl,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>Ge(_e),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:s("invoices.void",{defaultValue:"Faturay ptal Et"}),children:e.jsx(Lc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(_e.id),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("invoices.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_e.customer?.name||"Mteri Yok"}),e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:_e.customer?.email||""})]})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 max-w-[260px]",children:(()=>{const We=_e.items||_e.lineItems||[];return We.length>0?e.jsxs("div",{className:"space-y-1",children:[We.slice(0,2).map((vt,At)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-gray-400 mr-1",children:""}),e.jsxs("span",{className:"line-clamp-1",children:[vt.productName||vt.description||"rn",vt.quantity&&` (${vt.quantity}x)`]})]},At)),We.length>2&&e.jsxs("div",{className:"text-xs text-gray-400",children:["+",We.length-2," daha..."]})]}):e.jsx("span",{className:"text-gray-400 text-xs",children:"rn bilgisi yok"})})()})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-left md:text-right",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Te(Number(_e.total)||0)})})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:N===_e.id&&I==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:$,onChange:We=>z(We.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"draft",children:Rt(s,"draft")}),e.jsx("option",{value:"sent",children:Rt(s,"sent")}),e.jsx("option",{value:"paid",children:Rt(s,"paid")}),e.jsx("option",{value:"overdue",children:Rt(s,"overdue")})]}),e.jsx("button",{onClick:()=>Pe(_e),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":s("common.save"),children:e.jsx(ns,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:Be,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":s("common.cancel"),children:e.jsx(kr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>!_e.isVoided&&Ce(_e.id,"status",_e.status),className:`${_e.isVoided?"cursor-not-allowed":"cursor-pointer hover:opacity-80"} transition-opacity inline-block`,children:ce(_e.status,_e.isVoided)})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N===_e.id&&I==="issueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:$,onChange:We=>z(We.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>Pe(_e),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Be,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-4 h-4"})})]}):e.jsx("div",{onClick:()=>Ce(_e.id,"issueDate",_e.issueDate),className:"cursor-pointer hover:bg-gray-50 rounded p-1",children:be(_e.issueDate)})}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[140px] lg:min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(_e),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:s("invoices.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(_e),disabled:_e.isVoided,className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${_e.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:_e.isVoided?s("invoices.cannotEditVoided",{defaultValue:"ptal edilmi fatura dzenlenemez"}):s("invoices.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{n&&n(_e)},className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("invoices.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),_e.isVoided?e.jsx("button",{onClick:()=>bt(_e.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("invoices.restore",{defaultValue:"Geri Ykle"}),children:e.jsx(wl,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>Ge(_e),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:s("invoices.void",{defaultValue:"Faturay ptal Et"}),children:e.jsx(Lc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(_e.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("invoices.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})})]},_e.id))})]})})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:L,pageSize:Z,total:ne.length,onPageChange:Y,onPageSizeChange:Se})}),U&&G&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:s("invoices.void",{defaultValue:"Faturay ptal Et"})}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s("invoices.voidConfirm",{defaultValue:"{{invoiceNumber}} numaral faturay iptal etmek istediinizden emin misiniz?",invoiceNumber:G.invoiceNumber})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s("invoices.voidReason",{defaultValue:"ptal Nedeni"})," *"]}),e.jsx("textarea",{value:T,onChange:_e=>D(_e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:s("invoices.voidReasonPlaceholder",{defaultValue:"ptal nedenini aklayn..."}),required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{V(!1),B(null),D("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:s("common.cancel")}),e.jsx("button",{onClick:st,disabled:!T.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s("invoices.void",{defaultValue:"Faturay ptal Et"})})]})]})})]})}const uT=a=>a==null?'""':`"${String(a).replace(/"/g,'""')}"`,rm=[20,50,100],Pu=a=>rm.includes(a),mT=()=>{const a=Tt.getItem("expenses_pageSize"),m=a?Number(a):rm[0];return Pu(m)?m:rm[0]},oy=a=>{if(!a||typeof a!="object")return!1;const m=a,t=["description","supplier","category","amount","status","expenseDate"],h=["asc","desc"];return!!(m.by&&m.dir&&t.includes(m.by)&&h.includes(m.dir))};function hT({expenses:a,onAddExpense:m,onEditExpense:t,onDeleteExpense:h,onViewExpense:f,onUpdateExpense:c,onDownloadExpense:n,onVoidExpense:o,onRestoreExpense:i}){const{formatCurrency:r}=es(),{t:s,i18n:l}=Zt("common"),{tenant:d}=Zs(),[u,x]=W.useState(""),[b,g]=W.useState("all"),[v,y]=W.useState("all"),[N,E]=W.useState(!1),[I,O]=W.useState(null),[$,z]=W.useState(null),[U,V]=W.useState(""),[G,B]=W.useState(!1),[T,D]=W.useState(null),[A,k]=W.useState(""),[S,j]=W.useState({by:"expenseDate",dir:"desc"}),[C,P]=W.useState(""),[R,L]=W.useState(""),Y=Wp(u,300),[Z,ae]=W.useState(1),[q,X]=W.useState(()=>mT()),{getDefault:F}=Ba({listType:"expenses"});W.useEffect(()=>{const De=F();if(De&&De.state)try{x(De.state.searchTerm??""),g(De.state.statusFilter??"all"),y(De.state.categoryFilter??"all"),P(De.state.startDate??""),L(De.state.endDate??""),E(!!De.state.showVoided),oy(De.state.sort)&&j(De.state.sort),De.state.pageSize&&Pu(De.state.pageSize)&&Ce(De.state.pageSize)}catch(ge){he.warn("Failed to hydrate expense saved view",ge)}},[]);const M=String(d?.subscriptionPlan||"").toLowerCase(),K=M.includes("free")||M.includes("starter"),se=W.useMemo(()=>{const De=new Date,ge=new Date(De.getFullYear(),De.getMonth(),1,0,0,0,0),Oe=new Date(De.getFullYear(),De.getMonth()+1,0,23,59,59,999);return a.filter(Ke=>{if(Ke?.isVoided)return!1;const pe=Ke?.createdAt?new Date(Ke.createdAt):Ke?.expenseDate?new Date(Ke.expenseDate):null;return!pe||Number.isNaN(pe.getTime())?!1:pe>=ge&&pe<=Oe}).length},[a]),oe=5,ne=K&&se>=oe,le=["equipment","utilities","rent","salaries","personnel","supplies","marketing","travel","insurance","taxes","other"],Se=W.useCallback(De=>{const ge=s(`expenseCategories.${De}`)||De;return String(ge).replace(/\s*\([^)]*\)\s*/g,"").trim()},[s]),je=W.useMemo(()=>a.filter(De=>{const ge=En(Y),Oe=[De.expenseNumber,De.description,De.supplier?.name,De.category,De.status,De.expenseDate,String(De.amount)].map(En).join(" "),Ke=ge.length===0||Oe.includes(ge),pe=b==="all"||De.status===b,me=v==="all"||De.category===v,xe=N||!De.isVoided;let te=!0;return C&&(te=te&&new Date(De.expenseDate)>=new Date(C)),R&&(te=te&&new Date(De.expenseDate)<=new Date(R)),Ke&&pe&&me&&xe&&te}).sort((De,ge)=>{switch(S.by){case"description":return Ps(De,ge,Oe=>Oe.description,S.dir,"string");case"supplier":return Ps(De,ge,Oe=>Oe.supplier?.name||"",S.dir,"string");case"category":return Ps(De,ge,Oe=>Oe.category,S.dir,"string");case"amount":return Ps(De,ge,Oe=>Vr(Oe.amount),S.dir,"number");case"status":return Ps(De,ge,Oe=>Oe.status,S.dir,"string",uE);case"expenseDate":default:{const Oe=ea(De.expenseDate),Ke=ea(ge.expenseDate);return Oe===Ke?Ps(De,ge,pe=>pe.description||"",S.dir,"string"):Oe<Ke?S.dir==="asc"?-1:1:S.dir==="asc"?1:-1}}}),[a,Y,b,v,N,C,R,S.by,S.dir]);W.useEffect(()=>{ae(1)},[Y,b,v,N,C,R,S.by,S.dir]);const ee=W.useMemo(()=>{const De=(Z-1)*q;return je.slice(De,De+q)},[je,Z,q]),ce=W.useCallback(De=>{const ge=(l?.language||"en").toString(),Oe=new Date(De);return Number.isNaN(Oe.getTime())?"":Oe.toLocaleDateString(ge)},[l?.language]),be=W.useCallback(De=>{const ge=(De||"").trim(),Oe=(l.language||"tr").slice(0,2).toLowerCase(),Ke=Oe==="tr"?"Tedariki Yok":Oe==="de"?"Kein Lieferant":Oe==="fr"?"Aucun Fournisseur":"No Supplier";if(!ge)return s("common:noSupplier",{defaultValue:Ke});const pe=ge.toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(pe)?s("common:noSupplier",{defaultValue:Ke}):ge},[l.language,s]),Te=W.useCallback(()=>{if(!(typeof window>"u")){if(!je.length){he.info("Expense CSV export skipped: no rows match current filters");return}try{const De=[s("expenses.expenseNumber",{defaultValue:"Expense Number"}),s("common.description",{defaultValue:"Description"}),s("expenses.supplier",{defaultValue:"Supplier"}),s("expenses.category",{defaultValue:"Category"}),s("common.statusLabel",{defaultValue:"Status"}),s("expenses.expenseDate",{defaultValue:"Expense Date"}),s("expenses.amount",{defaultValue:"Amount"})],ge=je.map(xe=>{const te=typeof xe.supplier=="string"?xe.supplier:xe.supplier?.name;return[xe.expenseNumber||xe.id||"",xe.description||"",be(te),Se(xe.category),Rt(s,$r(xe.status)),ce(xe.expenseDate),r(Vr(xe.amount))]}),Oe=[De,...ge].map(xe=>xe.map(uT).join(",")).join(`\r
`),Ke=new Blob(["\uFEFF"+Oe],{type:"text/csv;charset=utf-8;"}),pe=URL.createObjectURL(Ke),me=document.createElement("a");me.href=pe,me.download=`expenses_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(pe),he.info("Expense CSV export completed",{rowCount:je.length})}catch(De){he.error("Expense CSV export failed",De)}}},[je,r,ce,Se,be,s]),Ce=De=>{const ge=Pu(De)?De:rm[0];X(ge),Tt.setItem("expenses_pageSize",String(ge)),ae(1)},Pe=De=>{j(ge=>ge.by===De?{...ge,dir:ge.dir==="asc"?"desc":"asc"}:{by:De,dir:De==="amount"||De==="expenseDate"?"desc":"asc"})},Be=({active:De})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:De?S.dir==="asc"?"":"":""}),Ge=(De,ge)=>{if(ge)return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:s("common:status.cancelled")});const Oe=$r(De),pe={pending:{label:Rt(s,"pending"),class:"bg-yellow-100 text-yellow-800"},approved:{label:Rt(s,"approved"),class:"bg-blue-100 text-blue-800"},paid:{label:Rt(s,"paid"),class:"bg-green-100 text-green-800"},rejected:{label:Rt(s,"rejected"),class:"bg-red-100 text-red-800"},cancelled:{label:Rt(s,"cancelled"),class:"bg-red-100 text-red-800"}}[Oe],me=pe?pe.label:Rt(s,Oe),xe=pe?pe.class:"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xe}`,children:me})},st=De=>{const ge=typeof De=="string"?parseFloat(De):De;return r(ge||0)},bt=(De,ge,Oe)=>{O(De),z(ge),V(Oe)},_e=De=>{$==="status"&&["pending","approved","paid","rejected"].includes(U)&&c({...De,status:U}),O(null),z(null),V("")},We=()=>{O(null),z(null),V("")},vt=De=>{D(De),B(!0)},At=()=>{T&&o&&A.trim()&&(o(T.id,A),B(!1),D(null),k(""))},Nt=De=>{i&&i(De)};return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("expenses.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.length," ",s("expenses.expensesRegistered")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",onClick:Te,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(vl,{className:"w-4 h-4"}),e.jsx("span",{children:s("expenses.exportCsv",{defaultValue:"CSV Da Aktar"})})]}),e.jsxs("button",{onClick:m,disabled:ne,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${ne?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,title:ne?"Starter/Free planda bu ayki gider limiti doldu (5/5)":void 0,children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:s("expenses.newExpense")})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:s("expenses.search"),value:u,onChange:De=>x(De.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),e.jsxs("select",{value:b,onChange:De=>g(De.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:s("expenses.filterAll")}),e.jsx("option",{value:"pending",children:Rt(s,"pending")}),e.jsx("option",{value:"approved",children:Rt(s,"approved")}),e.jsx("option",{value:"paid",children:Rt(s,"paid")}),e.jsx("option",{value:"rejected",children:Rt(s,"rejected")})]}),e.jsxs("select",{value:v,onChange:De=>y(De.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[e.jsx("option",{value:"all",children:l.language==="tr"?"Tm kategoriler":l.language==="en"?"All categories":l.language==="de"?"Alle Kategorien":l.language==="fr"?"Toutes les catgories":"All categories"}),le.map(De=>e.jsx("option",{value:De,children:Se(De)},De))]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:s("startDate")}),e.jsx("input",{type:"date",value:C,onChange:De=>P(De.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:s("endDate")}),e.jsx("input",{type:"date",value:R,onChange:De=>L(De.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),(C||R)&&e.jsx("button",{onClick:()=>{P(""),L("")},className:"px-3 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",title:s("archive.clearFilters"),children:s("archive.clearFilters")})]}),e.jsxs("label",{className:"flex items-center px-3 py-2 text-sm text-gray-700 whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:De=>E(De.target.checked),className:"mr-2"}),s(N?"fiscalPeriods.filters.hideVoided":"fiscalPeriods.filters.showVoided")]}),e.jsx("div",{className:"ml-auto flex items-center",children:e.jsx(jo,{listType:"expenses",getState:()=>({searchTerm:u,statusFilter:b,categoryFilter:v,startDate:C,endDate:R,showVoided:N,sort:S,pageSize:q}),applyState:De=>{const ge=De??{};x(ge.searchTerm??""),g(ge.statusFilter??"all"),y(ge.categoryFilter??"all"),P(ge.startDate??""),L(ge.endDate??""),E(!!ge.showVoided),oy(ge.sort)&&j(ge.sort),ge.pageSize&&Pu(ge.pageSize)&&Ce(ge.pageSize)},presets:[{id:"this-month",label:s("presets.thisMonth"),apply:()=>{const De=new Date,ge=new Date(De.getFullYear(),De.getMonth(),1).toISOString().slice(0,10),Oe=new Date(De.getFullYear(),De.getMonth()+1,0).toISOString().slice(0,10);P(ge),L(Oe)}},{id:"last-month",label:s("presets.lastMonth"),apply:()=>{const De=new Date,ge=new Date(De.getFullYear(),De.getMonth()-1,1).toISOString().slice(0,10),Oe=new Date(De.getFullYear(),De.getMonth(),0).toISOString().slice(0,10);P(ge),L(Oe)}},{id:"this-year",label:s("presets.thisYear"),apply:()=>{const De=new Date,ge=new Date(De.getFullYear(),0,1).toISOString().slice(0,10),Oe=new Date(De.getFullYear(),11,31).toISOString().slice(0,10);P(ge),L(Oe)}},{id:"status-pending",label:Rt(s,"pending"),apply:()=>g("pending")},{id:"status-approved",label:Rt(s,"approved"),apply:()=>g("approved")},{id:"status-paid",label:Rt(s,"paid"),apply:()=>g("paid")},{id:"status-rejected",label:Rt(s,"rejected"),apply:()=>g("rejected")}]})}),K&&e.jsxs("div",{className:"px-3 py-2 text-sm rounded-lg border border-gray-200 bg-gray-50 whitespace-nowrap",children:["Bu ay: ",e.jsxs("strong",{className:`${ne?"text-red-600":"text-gray-900"}`,children:[se,"/",oe]})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:je.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(fn,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s(u||b!=="all"||v!=="all"?"expenses.noExpensesFound":"expenses.noExpenses")}),e.jsx("p",{className:"text-gray-500 mb-4",children:s(u||b!=="all"||v!=="all"?"expenses.noExpensesFoundDesc":"expenses.noExpensesDesc")}),!u&&b==="all"&&v==="all"&&e.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:s("expenses.createFirstExpense")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm table-auto lg:min-w-[1024px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>Pe("description"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-full md:w-[320px]",children:[s("expenses.description"),e.jsx(Be,{active:S.by==="description"})]}),e.jsxs("th",{onClick:()=>Pe("supplier"),className:"hidden md:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[s("expenses.supplier"),e.jsx(Be,{active:S.by==="supplier"})]}),e.jsxs("th",{onClick:()=>Pe("category"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[s("expenses.category"),e.jsx(Be,{active:S.by==="category"})]}),e.jsxs("th",{onClick:()=>Pe("amount"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("expenses.amount"),e.jsx(Be,{active:S.by==="amount"})]}),e.jsxs("th",{onClick:()=>Pe("status"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[s("expenses.status"),e.jsx(Be,{active:S.by==="status"})]}),e.jsxs("th",{onClick:()=>Pe("expenseDate"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("expenses.date"),e.jsx(Be,{active:S.by==="expenseDate"})]}),e.jsx("th",{className:"hidden md:table-cell px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32 lg:w-44 min-w-[140px] lg:min-w-[176px] sticky right-0 bg-gray-50 z-10",children:s("expenses.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-4 md:px-6 py-4 align-top",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(fn,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>f(De),className:"text-red-600 hover:text-red-800 font-medium transition-colors cursor-pointer",title:s("expenses.viewExpense"),children:De.expenseNumber})}),e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[260px]",title:De.description,children:De.description})]})]}),e.jsxs("div",{className:"mt-3 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("expenses.supplier"),":"]}),e.jsx("span",{className:"text-gray-900",children:be(typeof De.supplier=="string"?De.supplier:De.supplier?.name)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("expenses.category"),":"]}),e.jsx("span",{children:Se(De.category)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("expenses.status"),":"]}),Ge(De.status,De.isVoided)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Or,{className:"w-3 h-3"}),e.jsx("span",{children:ce(De.expenseDate)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>f(De),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("expenses.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(De),disabled:De.isVoided,className:`inline-flex items-center justify-center w-9 h-9 rounded transition-colors ${De.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:De.isVoided?"ptal edilmi gider dzenlenemez":s("expenses.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{n&&n(De)},className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("expenses.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),De.isVoided?e.jsx("button",{onClick:()=>Nt(De.id),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Gideri geri ykle",children:e.jsx(wl,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>vt(De),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:"Gideri iptal et",children:e.jsx(Lc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(De.id),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("expenses.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:be(typeof De.supplier=="string"?De.supplier:De.supplier?.name)})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:Se(De.category)})}),e.jsx("td",{className:"px-4 md:px-6 py-4 whitespace-nowrap text-left md:text-right",children:e.jsxs("span",{className:"text-sm font-semibold text-red-600",children:["-",st(De.amount)]})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:I===De.id&&$==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:U,onChange:ge=>V(ge.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-red-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"pending",children:Rt(s,"pending")}),e.jsx("option",{value:"approved",children:Rt(s,"approved")}),e.jsx("option",{value:"paid",children:Rt(s,"paid")}),e.jsx("option",{value:"rejected",children:Rt(s,"rejected")})]}),e.jsx("button",{onClick:()=>_e(De),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":s("common.save"),children:e.jsx(ns,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:We,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":s("common.cancel"),children:e.jsx(kr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>!De.isVoided&&bt(De.id,"status",De.status),className:`${De.isVoided?"cursor-not-allowed":"cursor-pointer hover:opacity-80"} transition-opacity inline-block`,children:Ge(De.status,De.isVoided)})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I===De.id&&$==="dueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:U,onChange:ge=>V(ge.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-red-500"}),e.jsx("button",{onClick:()=>_e(De),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:We,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-4 h-4"})})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),ce(De.expenseDate)]})}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[140px] lg:min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>f(De),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("expenses.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(De),disabled:De.isVoided,className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${De.isVoided?"text-gray-300 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,title:De.isVoided?"ptal edilmi gider dzenlenemez":s("expenses.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{n&&n(De)},className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("expenses.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),De.isVoided?e.jsx("button",{onClick:()=>Nt(De.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Gideri geri ykle",children:e.jsx(wl,{className:"w-4 h-4"})}):e.jsx("button",{onClick:()=>vt(De),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors",title:"Gideri iptal et",children:e.jsx(Lc,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(De.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("expenses.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})})]},De.id))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:Z,pageSize:q,total:je.length,onPageChange:ae,onPageSizeChange:Ce})})]})}),G&&T&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gideri ptal Et"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[e.jsx("strong",{children:T.description})," giderini iptal etmek istediinizden emin misiniz?"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ptal Nedeni *"}),e.jsx("textarea",{value:A,onChange:De=>k(De.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",rows:3,placeholder:"ptal nedenini aklayn...",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{B(!1),D(null),k("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"ptal"}),e.jsx("button",{onClick:At,disabled:!A.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Gideri ptal Et"})]})]})})]})}const Du=[20,50,100],fT=a=>Du.includes(a),pT=()=>{try{const a=Tt.getItem("banks_pageSize"),m=a?Number(a):Du[0];return fT(m)?m:Du[0]}catch{return Du[0]}};function gT({bankAccounts:a,onAddBank:m,onEditBank:t,onDeleteBank:h,onViewBank:f}){const{t:c}=Zt(),[n,o]=W.useState(""),[i,r]=W.useState("all"),[s,l]=W.useState(1),[d,u]=W.useState(()=>pT()),x=W.useMemo(()=>a.filter(I=>{const O=I.bankName.toLowerCase().includes(n.toLowerCase())||I.accountName.toLowerCase().includes(n.toLowerCase())||I.accountNumber.includes(n),$=i==="all"||i==="active"&&I.isActive||i==="inactive"&&!I.isActive;return O&&$}),[a,n,i]),b=W.useMemo(()=>{const I=(s-1)*d;return x.slice(I,I+d)},[x,s,d]);W.useEffect(()=>{l(1)},[n,i]);const g=I=>{u(I),Tt.setItem("banks_pageSize",String(I)),l(1)},v=(I,O="TRY")=>fv(I,O),y=I=>(typeof I=="number"?I:0).toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2}),N=I=>{const $={checking:{label:c("banks.accountTypes.checking",{defaultValue:"Vadesiz Hesap"}),class:"bg-blue-100 text-blue-800"},savings:{label:c("banks.accountTypes.savings",{defaultValue:"Vadeli Hesap"}),class:"bg-green-100 text-green-800"},business:{label:c("banks.accountTypes.business",{defaultValue:"Ticari Hesap"}),class:"bg-purple-100 text-purple-800"}}[I];return $?e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$.class}`,children:$.label}):e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:I})},E=x.reduce((I,O)=>O.currency==="TRY"?I+O.balance:I,0);return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:c("banks.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.length," ",c("banks.accountsRegistered"),"  ",c("banks.totalBalance"),": ",y(E)]})]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 self-start rounded-lg bg-green-600 px-4 py-2 text-white transition-colors hover:bg-green-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:c("banks.newAccount")})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:c("banks.search"),value:n,onChange:I=>o(I.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("select",{value:i,onChange:I=>r(I.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 md:w-56",children:[e.jsx("option",{value:"all",children:c("banks.filterAll")}),e.jsx("option",{value:"active",children:c("chartOfAccounts.active")}),e.jsx("option",{value:"inactive",children:c("chartOfAccounts.passive")})]})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:x.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xi,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:c(n||i!=="all"?"banks.noBanksFound":"banks.noBanks")}),e.jsx("p",{className:"text-gray-500 mb-4",children:c(n||i!=="all"?"banks.noBanksFoundDesc":"banks.noBanksDesc")}),!n&&i==="all"&&e.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:c("banks.createFirstAccount")})]}):b.map(I=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(xi,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("button",{onClick:()=>f(I),className:"font-semibold text-green-600 hover:text-green-800 transition-colors cursor-pointer text-left",title:c("common.view"),children:I.bankName}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center truncate",children:[e.jsx(Jr,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate",children:I.accountName})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 min-w-0",children:[e.jsx("span",{className:"text-sm text-gray-500 truncate",children:e.jsx("span",{className:"truncate",children:I.accountNumber})}),N(I.accountType),(()=>{const O=I?.isActive!==!1;return e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${O?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O?c("chartOfAccounts.active",{defaultValue:"Aktif"}):c("chartOfAccounts.passive",{defaultValue:"Pasif"})})})()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 sm:hidden",children:[e.jsx("button",{onClick:O=>{O.preventDefault(),O.stopPropagation(),f(I)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"View",title:c("common.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:O=>{O.preventDefault(),O.stopPropagation(),t(I)},className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors","aria-label":"Edit",title:c("common.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:O=>{O.preventDefault(),O.stopPropagation(),h(I.id)},className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete",title:c("common.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(Pn,{className:"w-4 h-4 mr-1 text-green-600 sm:inline hidden"}),v(I.balance,I.currency)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["IBAN: ",I.iban.slice(0,8),"..."]})]}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(I),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:c("common.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>t(I),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:c("common.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(I.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:c("common.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})]})]})},I.id))}),e.jsx("div",{className:"border-t border-gray-200 bg-white p-4",children:e.jsx(Cn,{page:s,pageSize:d,total:x.length,onPageChange:l,onPageSizeChange:g})})]})})}const jv=async()=>(await nt.get("/quotes")).data,oP=async a=>(await nt.get(`/quotes/${a}`)).data,ly=async a=>(await nt.post("/quotes",a)).data,ul=async(a,m)=>(await nt.patch(`/quotes/${a}`,m)).data,xT=async a=>{await nt.delete(`/quotes/${a}`)},yT=async a=>(await nt.get(`/public/quotes/${a}`)).data,bT=async a=>(await nt.post(`/public/quotes/${a}/viewed`,{})).data,vT=async a=>(await nt.post(`/public/quotes/${a}/accept`,{})).data,wT=async a=>(await nt.post(`/public/quotes/${a}/decline`,{})).data,bs=(a,m="")=>typeof a=="string"?a:typeof a=="number"?String(a):m,cy=a=>{const m=bs(a).trim();if(m)return m.slice(0,10)},kT=a=>{if(!a||typeof a!="object")return{};const m=a;return{description:bs(m.description),quantity:m.quantity,unitPrice:m.unitPrice,total:m.total}},NT=(a,m=0)=>{const t=a??{};return{id:bs(t.id,bs(t.quoteNumber,`quote-${m}`)),quoteNumber:bs(t.quoteNumber),customerId:t.customerId,customerName:bs(t.customerName??t.customer?.name),issueDate:cy(t.issueDate),validUntil:cy(t.validUntil),currency:bs(t.currency),total:t.total,amount:t.amount,status:t.status,version:typeof t.version=="number"?t.version:void 0,scopeOfWorkHtml:bs(t.scopeOfWorkHtml),items:Array.isArray(t.items)?t.items.map(kT):[],createdAt:bs(t.createdAt??t.created_at),updatedAt:bs(t.updatedAt??t.updated_at)}},ou=a=>Array.isArray(a)?a.map((m,t)=>NT(m,t)):[],jT=a=>a==null?'""':`"${String(a).replace(/"/g,'""')}"`,Qs=a=>Vr(a),ym=a=>a?a.total!=null?Qs(a.total):Qs(a.quantity)*Qs(a.unitPrice):0,vo=a=>{if(!a)return new Date("1970-01-01");const m=String(a).trim();if(/^\d{4}-\d{2}-\d{2}/.test(m))return new Date(m);if(/^\d{2}\.\d{2}\.\d{4}$/.test(m)){const[t,h,f]=m.split(".");return new Date(`${f}-${h}-${t}`)}return new Date(m)},Sv=a=>String(a??"").toLowerCase(),uo=a=>{const m=Sv(a);return m.includes("paid")||m.includes("den")||m.includes("odendi")||m.includes("dendi")},vc=a=>{const m=$r(String(a??""));return m==="paid"||m==="approved"},wc=a=>{const m=Sv(a);return m.includes("completed")||m.includes("tamam")},Rf=a=>{if(!a)return 0;const m=Qs(a.total??a.amount);return m>0?m:Array.isArray(a.items)?a.items.reduce((t,h)=>t+ym(h),0):0},dy=a=>Qs(a?.amount),lu=a=>{if(!a)return 0;if(Array.isArray(a.items)&&a.items.length)return a.items.reduce((h,f)=>h+ym(f),0);if(a.total!=null)return Qs(a.total);if(a.amount!=null)return Qs(a.amount);const m=Qs(a.quantity),t=Qs(a.unitPrice);return m>0&&t>0?m*t:0},zf=a=>{if(!a)return 0;const m=Qs(a?.taxAmount);if(m>0)return m;const t=Qs(a?.subtotal),h=Qs(a?.total??a?.amount);if(h>0&&t>=0&&h>=t){const f=h-t;if(f>0)return f}if(Array.isArray(a?.items)){const f=a.items.reduce((c,n)=>{const o=Qs(n?.taxRate);return o<=0?c:c+ym(n)*(o/100)},0);if(f>0)return f}return 0},kc=(a,m)=>{if(!a)return!1;const t=String(a.id??"");if(!t)return!1;if(a.invoiceId||m.some(c=>String(c?.saleId??"")===t))return!0;const f=a.saleNumber||`SAL-${t}`;return m.some(c=>typeof c?.notes=="string"&&c.notes.includes(f))},cu=a=>vo(a?.issueDate??a?.date),ST=a=>vo(a?.expenseDate??a?.date),uy=a=>vo(a?.date??a?.saleDate),my=a=>{if(!a||typeof a!="object")return"";const m=a,t=m.customer,h=[bs(m.customerName),bs(m.companyName),bs(m.customerCompany),bs(m.customerCompanyName),bs(m.clientName),bs(m.contactName),bs(m.name)];t&&typeof t=="object"&&h.unshift(bs(t.name),bs(t.fullName),bs(t.companyName),bs(t.company));for(const f of h){const c=f.trim();if(c)return c}return""},Lf="quotes-cache-updated",Of=a=>vo(a?.issueDate),Ff=a=>Qs(a?.total??a?.amount),CT=a=>{const m=$r(String(a??""));return m==="draft"||m==="sent"||m==="viewed"};function AT({invoices:a=[],expenses:m=[],sales:t=[],customers:h=[],quotes:f=[]}){const{t:c,i18n:n}=Zt("common"),{formatCurrency:o}=es(),i=new Date,r=(...ee)=>{},s=W.useMemo(()=>a.filter(ee=>uo(ee.status)),[a]),l=W.useMemo(()=>ou(f),[f]),[d,u]=W.useState(l);W.useEffect(()=>{u(l)},[l]),W.useEffect(()=>{if(typeof window>"u")return;const ee=Te=>{if(!(!Te.key||!Te.key.includes("quotes_cache")))try{const Ce=Te.newValue?JSON.parse(Te.newValue):[],Pe=ou(Ce);Pe.length&&u(Pe)}catch(Ce){he.debug("Failed to parse quotes_cache storage event",Ce)}},ce=()=>{try{const Te=fb().filter(Ce=>Ce.includes("quotes_cache"));for(const Ce of Te){const Pe=Tt.getItem(Ce),Be=Pe?JSON.parse(Pe):[],Ge=ou(Be);if(Ge.length){u(Ge);break}}}catch(Te){he.debug("Unable to refresh quotes from localStorage",Te)}},be=()=>{document.visibilityState==="visible"&&ce()};return window.addEventListener("storage",ee),window.addEventListener(Lf,ce),document.addEventListener("visibilitychange",be),()=>{window.removeEventListener("storage",ee),window.removeEventListener(Lf,ce),document.removeEventListener("visibilitychange",be)}},[]),W.useEffect(()=>{if(typeof window>"u")return;let ee=!1;return(async()=>{if(!(d.length>0))try{const be=await jv();if(ee)return;const Te=ou(be);if(!Te.length)return;u(Te);try{const Ce=hn()||"",Pe=Ce?`quotes_cache_${Ce}`:"quotes_cache";Tt.setItem(Pe,JSON.stringify(Te)),window.dispatchEvent(new Event(Lf))}catch(Ce){he.debug("Unable to cache quotes locally",Ce)}}catch(be){he.error("Reports quotes preload failed:",be)}})(),()=>{ee=!0}},[d.length]);const[x,b]=W.useState(new Set),g=ee=>{const ce=new Set(x);ce.has(ee)?ce.delete(ee):ce.add(ee),b(ce)},v=W.useMemo(()=>{const ee=new Date;r("Generating last 6 months starting from",ee.toISOString());const ce=[c("months.short.jan"),c("months.short.feb"),c("months.short.mar"),c("months.short.apr"),c("months.short.may"),c("months.short.jun"),c("months.short.jul"),c("months.short.aug"),c("months.short.sep"),c("months.short.oct"),c("months.short.nov"),c("months.short.dec")],be=[];for(let Te=0;Te<6;Te+=1){const Ce=new Date(ee.getFullYear(),ee.getMonth()-Te,1),Pe=Ce.getMonth(),Be=Ce.getFullYear(),Ge=a.filter(De=>{if(!uo(De.status))return!1;const ge=cu(De);return ge.getMonth()===Pe&&ge.getFullYear()===Be}),st=m.filter(De=>{if(!vc(De.status))return!1;const ge=ST(De);return ge.getMonth()===Pe&&ge.getFullYear()===Be}),bt=t.filter(De=>{if(!wc(De.status)||kc(De,a))return!1;const ge=uy(De);return ge.getMonth()===Pe&&ge.getFullYear()===Be}),_e=Ge.reduce((De,ge)=>De+Rf(ge),0),We=Ge.reduce((De,ge)=>De+zf(ge),0),vt=bt.reduce((De,ge)=>De+lu(ge),0),At=_e+vt,Nt=st.reduce((De,ge)=>De+dy(ge),0);be.push({month:ce[Pe],monthIndex:Pe,year:Be,income:At,expense:Nt,vat:We})}return be},[m,a,t,c]),y=s.reduce((ee,ce)=>ee+Rf(ce),0),N=t.filter(ee=>wc(ee.status)?!kc(ee,a):!1).reduce((ee,ce)=>ee+lu(ce),0),E=y+N,I=m.filter(ee=>vc(ee.status)).reduce((ee,ce)=>ee+dy(ce),0),O=E-I,$=E>0?O/E*100:0,z=v.map(ee=>({month:ee.month,income:ee.income,expense:ee.expense,net:ee.income-ee.expense})),U=W.useMemo(()=>v.map(ee=>({label:`${ee.month} ${ee.year}`,amount:ee.vat??0})),[v]),V=Math.max(...U.map(ee=>ee.amount),1),G=U[0]?.amount??0,B=U[1]?.amount??0,T=s.reduce((ee,ce)=>cu(ce).getFullYear()===i.getFullYear()?ee+zf(ce):ee,0),D=s.reduce((ee,ce)=>cu(ce).getFullYear()===i.getFullYear()-1?ee+zf(ce):ee,0),A=U.length?U.reduce((ee,ce)=>ee+ce.amount,0)/U.length:0,k=B>0?(G-B)/B*100:G?100:0,S=D>0?(T-D)/D*100:T?100:0,j=W.useMemo(()=>{const ee=new Map;return a.filter(ce=>uo(ce.status)).forEach(ce=>{(ce.items??[]).forEach(be=>{const Te=be.description||"",Ce=ee.get(Te)??{name:Te,total:0,count:0};Ce.total+=ym(be),Ce.count+=1,ee.set(Te,Ce)})}),t.forEach(ce=>{if(!wc(ce.status)||kc(ce,a))return;const be=ce.productName||"",Te=ee.get(be)??{name:be,total:0,count:0};Te.total+=lu(ce),Te.count+=1,ee.set(be,Te)}),Array.from(ee.values()).sort((ce,be)=>be.total-ce.total).slice(0,8)},[a,t]),C=W.useMemo(()=>{const ee=new Map;return m.filter(ce=>vc(ce.status)).forEach(ce=>{const be=ee.get(ce.category)||{category:ce.category,total:0,count:0};be.total+=Qs(ce.amount),be.count+=1,ee.set(ce.category,be)}),Array.from(ee.values()).sort((ce,be)=>be.total-ce.total)},[m]),P=W.useMemo(()=>{const ee=new Map,ce="__unknown__",be=Ce=>{const Pe=Ce.trim();return Pe?Pe.toLowerCase():ce},Te=(Ce,Pe,Be)=>{const Ge=be(Ce),st=ee.get(Ge),_e=Ce.trim()||st?.name||Ce,We=(st?.total??0)+Pe,vt=(st?.count??0)+1,At=st?.lastPurchase,Nt=!At||new Date(Be)>new Date(At);ee.set(Ge,{name:_e,total:We,count:vt,lastPurchase:Nt?Be:At})};return a.filter(Ce=>uo(Ce.status)).forEach(Ce=>{const Pe=my(Ce),Be=cu(Ce).toISOString();Te(Pe,Rf(Ce),Be)}),t.filter(Ce=>wc(Ce.status)).forEach(Ce=>{if(!kc(Ce,a)){const Pe=my(Ce),Be=uy(Ce).toISOString();Te(Pe,lu(Ce),Be)}}),Array.from(ee.values()).sort((Ce,Pe)=>Pe.total-Ce.total).slice(0,8)},[a,t]),R=W.useCallback(ee=>o(Qs(ee)),[o]),L=W.useCallback(ee=>`${ee>=0?"+":""}${ee.toFixed(1)}%`,[]),Y=W.useCallback(ee=>{if(!ee)return"";const ce=new Date(ee);return Number.isNaN(ce.getTime())?"":ce.toLocaleDateString(n.language,{day:"2-digit",month:"short",year:"numeric"})},[n.language]),Z=W.useCallback(ee=>{const ce=(ee||"").trim();return ce||c("common:noSupplier",{defaultValue:"No Supplier"})},[c]),ae=W.useCallback(ee=>ee?c(`expenseCategories.${ee}`,{defaultValue:ee})||ee:c("expenses.category",{defaultValue:"Category"}),[c]),q=W.useCallback(()=>{if(typeof window>"u")return;const ee=m.filter(ce=>uo(ce.status));if(!ee.length){he.info("[ReportsPage] Expense export skipped: no paid expenses");return}try{const ce=[c("expenses.expenseNumber",{defaultValue:"Expense Number"}),c("common.description",{defaultValue:"Description"}),c("expenses.supplier",{defaultValue:"Supplier"}),c("expenses.category",{defaultValue:"Category"}),c("common.statusLabel",{defaultValue:"Status"}),c("expenses.expenseDate",{defaultValue:"Expense Date"}),c("expenses.amount",{defaultValue:"Amount"})],be=ee.map((Ge,st)=>{const bt=Rt(c,$r(Ge.status));return[Ge.id||Ge.expenseDate||`expense-${st}`,Ge.description||"",Z(Ge.supplier),ae(Ge.category),bt,Y(Ge.expenseDate??Ge.date),R(Ge.amount)]}),Te=[ce,...be].map(Ge=>Ge.map(jT).join(",")).join(`\r
`),Ce=new Blob(["\uFEFF"+Te],{type:"text/csv;charset=utf-8;"}),Pe=URL.createObjectURL(Ce),Be=document.createElement("a");Be.href=Pe,Be.download=`reports_expenses_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),URL.revokeObjectURL(Pe),he.info("[ReportsPage] Expense export completed",{rowCount:ee.length})}catch(ce){he.error("[ReportsPage] Expense export failed",ce)}},[m,R,Y,ae,Z,c]),X=z[z.length-1],F=z[z.length-2],M=F?.income>0?(X.income-F.income)/F.income*100:0,K=a.filter(ee=>uo(ee.status)).length,se=t.filter(ee=>wc(ee.status)?!kc(ee,a):!1).length,oe=K+se,ne=oe>0?E/oe:0,le=[{title:c("reports.growthRate"),value:`${M>=0?"+":""}${M.toFixed(1)}%`,change:M>=0?"increase":"decrease",color:"blue",icon:Bs},{title:c("reports.profitMargin"),value:`${$.toFixed(1)}%`,change:$>=20?"increase":"decrease",color:"green",icon:Nu},{title:c("reports.averageSale"),value:R(ne),change:"increase",color:"purple",icon:Pn},{title:c("reports.activeCustomers"),value:P.length.toString(),change:"increase",color:"orange",icon:Is}],Se=z,je=Math.max(...Se.flatMap(ee=>[ee.income,ee.expense]),1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(pm,{className:"w-8 h-8 text-blue-600 mr-3"}),c("reports.title")]}),e.jsx("p",{className:"text-gray-600",children:c("reports.subtitle")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:c("reports.reportDate")}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.toLocaleDateString("tr-TR")})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("overview"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Hu,{className:"w-6 h-6 text-blue-600 mr-3"}),c("reports.overview")]}),x.has("overview")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("overview")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"cursor-pointer",onClick:()=>g("basic-metrics"),children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("reports.basicMetrics")}),x.has("basic-metrics")?e.jsx(ms,{className:"w-4 h-4 text-gray-400"}):e.jsx(Os,{className:"w-4 h-4 text-gray-400"})]}),!x.has("basic-metrics")&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bs,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:c("reports.totalIncome")}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:R(E)})]})]})}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(np,{className:"w-8 h-8 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:c("reports.totalExpense")}),e.jsx("p",{className:"text-xl font-bold text-red-700",children:R(I)})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pn,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:c("reports.netProfit")}),e.jsx("p",{className:`text-xl font-bold ${O>=0?"text-blue-700":"text-red-700"}`,children:R(O)})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Is,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:c("reports.totalCustomers")}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:h.length})]})]})})]})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>g("monthly-chart"),children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("reports.last6MonthsPerformance")}),x.has("monthly-chart")?e.jsx(ms,{className:"w-4 h-4 text-gray-400"}):e.jsx(Os,{className:"w-4 h-4 text-gray-400"})]}),!x.has("monthly-chart")&&e.jsx("div",{className:"space-y-4",children:Se.map((ee,ce)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:ee.month}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.net"),": ",R(ee.net)]})]}),e.jsxs("div",{className:"relative h-8 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 h-4 bg-blue-500 rounded-sm",style:{width:`${je>0?ee.income/je*100:0}%`}}),e.jsx("div",{className:"absolute bottom-0 left-0 h-4 bg-red-500 rounded-sm",style:{width:`${je>0?ee.expense/je*100:0}%`}})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[c("common.income"),": ",R(ee.income)]}),e.jsxs("span",{children:[c("common.expense"),": ",R(ee.expense)]})]})]},ce))})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>g("financial-health"),children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("reports.financialHealth")}),x.has("financial-health")?e.jsx(ms,{className:"w-4 h-4 text-gray-400"}):e.jsx(Os,{className:"w-4 h-4 text-gray-400"})]}),!x.has("financial-health")&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:c("reports.profitMargin")}),e.jsxs("p",{className:"text-2xl font-bold",children:[$.toFixed(1),"%"]})]}),e.jsx(Nu,{className:"w-8 h-8 text-green-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:c("reports.growthRate")}),e.jsxs("p",{className:"text-2xl font-bold",children:[`${M>=0?"+":""}${M.toFixed(1)}`,"%"]})]}),e.jsx(Bs,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:c("reports.averageSale")}),e.jsx("p",{className:"text-2xl font-bold",children:R(ne)})]}),e.jsx(Pn,{className:"w-8 h-8 text-purple-200"})]})})]})]}),e.jsxs("div",{className:"cursor-pointer",onClick:()=>g("payment-status"),children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("reports.paymentStatusAnalysis")}),x.has("payment-status")?e.jsx(ms,{className:"w-4 h-4 text-gray-400"}):e.jsx(Os,{className:"w-4 h-4 text-gray-400"})]}),!x.has("payment-status")&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:c("reports.invoiceStatuses")}),e.jsx("div",{className:"space-y-2",children:["paid","sent","draft","overdue"].map(ee=>{const ce=new Date;ce.setHours(0,0,0,0);const be=ee==="overdue"?a.filter(Ce=>{if(!Ce.dueDate)return!1;const Pe=vo(Ce.dueDate);return Pe.setHours(0,0,0,0),Pe.getTime()<ce.getTime()&&!uo(Ce.status)}).length:a.filter(Ce=>$r(String(Ce.status??""))===ee).length,Te={paid:"bg-green-100 text-green-800",sent:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800",overdue:"bg-red-100 text-red-800"};return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te[ee]}`,children:Rt(c,ee)}),e.jsx("span",{className:"font-medium",children:be})]},ee)})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:c("reports.expenseStatuses")}),e.jsx("div",{className:"space-y-2",children:["paid","approved","draft"].map(ee=>{const ce=m.filter(Te=>$r(String(Te.status??""))===ee).length,be={paid:"bg-green-100 text-green-800",approved:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"};return e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be[ee]}`,children:Rt(c,ee)}),e.jsx("span",{className:"font-medium",children:ce})]},ee)})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("vat"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(fn,{className:"w-6 h-6 text-orange-600 mr-3"}),c("reports.vatAnalysis")]}),e.jsx("p",{className:"text-gray-600",children:c("reports.vatAnalysisSubtitle")})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:c("reports.currentYearLabel",{year:i.getFullYear()})}),e.jsx("p",{className:"text-xl font-semibold text-gray-900",children:R(T)})]}),x.has("vat")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})]})}),!x.has("vat")&&e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[e.jsx("p",{className:"text-sm text-amber-700",children:c("reports.vatYearToDate")}),e.jsx("p",{className:"text-2xl font-bold text-amber-900",children:R(T)}),e.jsx("p",{className:"text-xs text-amber-700 mt-1",children:c("reports.vatChangeVsLastYear",{percent:L(S),lastYear:R(D)})})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsx("p",{className:"text-sm text-orange-700",children:c("reports.vatThisMonth")}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:R(G)}),e.jsx("p",{className:"text-xs text-orange-700 mt-1",children:c("reports.vatChangeVsPreviousMonth",{percent:L(k),previous:R(B)})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("p",{className:"text-sm text-blue-700",children:c("reports.vatAverageSixMonths")}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:R(A)}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:c("reports.vatAverageHint")})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c("reports.vatMonthlyBreakdown")}),e.jsx("span",{className:"text-sm text-gray-500",children:c("reports.lastMonthsPerformance",{count:U.length})})]}),U.length?e.jsx("div",{className:"space-y-3",children:U.map(ee=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900",children:ee.label}),e.jsx("span",{className:"font-semibold text-gray-900",children:R(ee.amount)})]}),e.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-2 bg-orange-500 rounded-full",style:{width:`${V>0?ee.amount/V*100:0}%`}})})]},ee.label))}):e.jsx("p",{className:"text-sm text-gray-500",children:c("reports.noVatData")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("revenue"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Bs,{className:"w-6 h-6 text-green-600 mr-3"}),c("reports.revenueAnalysis")]}),x.has("revenue")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("revenue")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.productBasedSales")}),e.jsx("div",{className:"space-y-3",children:j.map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:ee.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[ee.count," ",c("reports.sales")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-green-600",children:R(ee.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.avg"),": ",R(ee.total/ee.count)]})]})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.monthlyRevenueTrend")}),e.jsx("div",{className:"space-y-3",children:Se.map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 w-12",children:ee.month}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-green-600 rounded-full transition-all duration-300",style:{width:`${je>0?ee.income/je*100:0}%`}})})}),e.jsx("span",{className:"text-sm font-semibold text-green-600 w-24 text-right",children:R(ee.income)})]},ce))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("expenses"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(fn,{className:"w-6 h-6 text-red-600 mr-3"}),c("reports.expenseAnalysis")]}),x.has("expenses")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("expenses")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("p",{className:"text-sm text-gray-500",children:c("reports.expenseExportHint",{defaultValue:"Includes paid expenses only."})}),e.jsxs("button",{type:"button",onClick:q,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(vl,{className:"w-4 h-4"}),e.jsx("span",{children:c("reports.exportExpensesCsv",{defaultValue:"Export CSV"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.categoryBasedExpenses")}),e.jsx("div",{className:"space-y-3",children:C.map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:ee.category}),e.jsxs("div",{className:"text-sm text-gray-500",children:[ee.count," ",c("reports.expenses")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-red-600",children:R(ee.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.avg"),": ",R(ee.total/ee.count)]})]})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.monthlyExpenseTrend")}),e.jsx("div",{className:"space-y-3",children:Se.map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 w-12",children:ee.month}),e.jsx("div",{className:"flex-1 mx-4",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${je>0?ee.expense/je*100:0}%`}})})}),e.jsx("span",{className:"text-sm font-semibold text-red-600 w-24 text-right",children:R(ee.expense)})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.topSuppliers")}),e.jsx("div",{className:"space-y-3",children:(()=>{const ee=new Map;return m.filter(ce=>vc(ce.status)).forEach(ce=>{const be=ee.get(ce.supplier)||{name:ce.supplier,total:0,count:0,lastExpense:ce.expenseDate};be.total+=Qs(ce.amount),be.count+=1,new Date(ce.expenseDate)>new Date(be.lastExpense)&&(be.lastExpense=ce.expenseDate),ee.set(ce.supplier,be)}),Array.from(ee.values()).sort((ce,be)=>be.total-ce.total).slice(0,5)})().map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 font-semibold text-sm",children:ee.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:ee.name||c("reports.noSupplier")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[ee.count," ",c("reports.expenses"),"  ",c("reports.last"),": ",Y(ee.lastExpense)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-red-600",children:R(ee.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.avg"),": ",R(ee.total/ee.count)]})]})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.recentExpenses")}),e.jsx("div",{className:"space-y-2",children:m.filter(ee=>vc(ee.status)).sort((ee,ce)=>new Date(ce.expenseDate).getTime()-new Date(ee.expenseDate).getTime()).slice(0,5).map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-2 hover:bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[ee.supplier,"  ",Y(ee.expenseDate)]})]}),e.jsx("div",{className:"text-sm font-semibold text-red-600",children:R(ee.amount)})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.expenseCategoryDistribution")}),e.jsx("div",{className:"space-y-3",children:C.slice(0,6).map((ee,ce)=>{const be=I>0?ee.total/I*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:ee.category}),e.jsxs("div",{className:"text-xs text-gray-500",children:[be.toFixed(1),"%  ",R(ee.total)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${be}%`}})})]},ce)})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("quotes"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(qr,{className:"w-6 h-6 text-indigo-600 mr-3"}),c("reports.quoteAnalysis")]}),x.has("quotes")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("quotes")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:(()=>{const ee=d.length,ce=d.filter(Pe=>$r(Pe?.status)==="accepted").length,be=(()=>{const Pe=new Date;Pe.setHours(0,0,0,0);const Be=new Date(Pe);return Be.setDate(Be.getDate()+7),d.filter(Ge=>{const st=$r(Ge?.status);if(st==="accepted"||st==="declined"||st==="expired"||!Ge?.validUntil)return!1;const bt=vo(Ge.validUntil);return bt.setHours(0,0,0,0),bt.getTime()>=Pe.getTime()&&bt.getTime()<=Be.getTime()}).length})(),Te=ee>0?d.reduce((Pe,Be)=>Pe+Ff(Be),0)/ee:0;return[{label:c("reports.totalQuotes"),value:String(ee),color:"indigo"},{label:c("reports.acceptedRate"),value:ee>0?`${(ce/ee*100).toFixed(1)}%`:"0%",color:"green"},{label:c("reports.averageQuote"),value:R(Te),color:"purple"},{label:c("reports.expiringSoon"),value:String(be),color:"orange"}].map((Pe,Be)=>e.jsxs("div",{className:`bg-${Pe.color}-50 rounded-lg p-4 border border-${Pe.color}-200`,children:[e.jsx("div",{className:`text-sm text-${Pe.color}-600`,children:Pe.label}),e.jsx("div",{className:`text-2xl font-bold text-${Pe.color}-700`,children:Pe.value})]},Be))})()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.quoteStatuses")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx("div",{className:"space-y-2",children:["accepted","declined","expired","viewed","sent","draft"].map(ee=>{const ce=d.filter(Te=>$r(String(Te.status??""))===ee).length,be={accepted:"bg-green-100 text-green-800",declined:"bg-red-100 text-red-800",expired:"bg-gray-100 text-gray-800",viewed:"bg-blue-100 text-blue-800",sent:"bg-indigo-100 text-indigo-800",draft:"bg-yellow-100 text-yellow-800"};return e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be[ee]}`,children:Rt(c,ee)}),e.jsx("span",{className:"font-medium",children:ce})]},ee)})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:c("reports.expiringSoon")}),e.jsx("div",{className:"space-y-2",children:(()=>{const ee=new Date;ee.setHours(0,0,0,0);const ce=new Date(ee);return ce.setDate(ce.getDate()+14),d.filter(Te=>CT(Te?.status)&&Te?.validUntil).map(Te=>({q:Te,dt:(()=>{const Ce=vo(Te.validUntil);return Ce.setHours(0,0,0,0),Ce})()})).filter(Te=>Te.dt.getTime()>=ee.getTime()&&Te.dt.getTime()<=ce.getTime()).sort((Te,Ce)=>Te.dt.getTime()-Ce.dt.getTime()).slice(0,5).map(({q:Te,dt:Ce},Pe)=>{const Be=Math.ceil((Ce.getTime()-ee.getTime())/864e5);return e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:Te.quoteNumber||""}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.daysLeft"),": ",Be,"  ",R(Ff(Te))]})]},Pe)})})()})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.recentQuotes")}),e.jsx("div",{className:"space-y-2",children:d.slice().sort((ee,ce)=>Of(ce).getTime()-Of(ee).getTime()).slice(0,5).map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-2 hover:bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.quoteNumber||""}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Rt(c,$r(ee.status)),"  ",Of(ee).toLocaleDateString("tr-TR")]})]}),e.jsx("div",{className:"text-sm font-semibold text-indigo-600",children:R(Ff(ee))})]},ce))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("customers"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Is,{className:"w-6 h-6 text-purple-600 mr-3"}),c("reports.customerAnalysis")]}),x.has("customers")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("customers")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.topCustomers")}),e.jsx("div",{className:"space-y-3",children:P.map((ee,ce)=>e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:ee.name?.charAt(0)?.toUpperCase()||"?"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:ee.name||c("reports.noCustomer")}),e.jsxs("div",{className:"text-sm text-gray-500",children:[ee.count," ",c("reports.purchases"),"  ",c("reports.last"),": ",Y(ee.lastPurchase)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-purple-600",children:R(ee.total)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[c("reports.avg"),": ",R(ee.total/ee.count)]})]})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.customerStatistics")}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.length}),e.jsx("div",{className:"text-sm text-purple-600",children:c("reports.totalCustomers")})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.length}),e.jsx("div",{className:"text-sm text-green-600",children:c("reports.activeCustomersCount")})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R(P.length>0?E/P.length:0)}),e.jsx("div",{className:"text-sm text-blue-600",children:c("reports.revenuePerCustomer")})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P.length>0?(oe/P.length).toFixed(1):"0"}),e.jsx("div",{className:"text-sm text-orange-600",children:c("reports.salesPerCustomer")})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:P.length>0?Math.round(oe/P.length):0}),e.jsx("div",{className:"text-sm text-indigo-600",children:c("reports.averagePurchases")})]}),e.jsxs("div",{className:"bg-pink-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-pink-600",children:P.length>0?Math.max(...P.map(ee=>ee.count)):0}),e.jsx("div",{className:"text-sm text-pink-600",children:c("reports.maxPurchases")})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>g("performance"),children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Nu,{className:"w-6 h-6 text-orange-600 mr-3"}),c("reports.performanceReports")]}),x.has("performance")?e.jsx(ms,{className:"w-5 h-5 text-gray-400"}):e.jsx(Os,{className:"w-5 h-5 text-gray-400"})]})}),!x.has("performance")&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.kpiDashboard")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:le.map((ee,ce)=>e.jsxs("div",{className:`bg-${ee.color}-50 rounded-lg p-4 border border-${ee.color}-200`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-${ee.color}-600 text-sm font-medium`,children:ee.title}),e.jsx("p",{className:`text-2xl font-bold text-${ee.color}-700`,children:ee.value})]}),e.jsx(ee.icon,{className:`w-8 h-8 text-${ee.color}-600`})]}),e.jsxs("div",{className:"mt-2 flex items-center",children:[ee.change==="increase"?e.jsx(Bs,{className:"w-4 h-4 text-green-500 mr-1"}):e.jsx(np,{className:"w-4 h-4 text-red-500 mr-1"}),e.jsx("span",{className:`text-xs ${ee.change==="increase"?"text-green-600":"text-red-600"}`,children:ee.change==="increase"?c("reports.increase"):c("reports.decrease")})]})]},ce))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.monthlyPerformanceTable")}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-green-600 mb-1",children:c("reports.totalIncome6Months")}),e.jsx("div",{className:"text-lg font-bold text-green-700",children:R(Se.reduce((ee,ce)=>ee+ce.income,0))})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-red-600 mb-1",children:c("reports.totalExpense6Months")}),e.jsx("div",{className:"text-lg font-bold text-red-700",children:R(Se.reduce((ee,ce)=>ee+ce.expense,0))})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-600 mb-1",children:c("reports.netProfit6Months")}),e.jsx("div",{className:`text-lg font-bold ${Se.reduce((ee,ce)=>ee+ce.net,0)>=0?"text-blue-700":"text-red-700"}`,children:R(Se.reduce((ee,ce)=>ee+ce.net,0))})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:c("reports.month")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:c("common.income")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:c("common.expense")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:c("reports.profit")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:c("reports.profitMarginPercent")}),e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:c("reports.expenseRatio")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Se.map((ee,ce)=>{const be=ee.income>0?ee.net/ee.income*100:0,Te=ee.income>0?ee.expense/ee.income*100:0;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:ee.month}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-green-600 font-medium",children:R(ee.income)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right text-red-600 font-medium",children:R(ee.expense)}),e.jsx("td",{className:`px-4 py-3 text-sm text-right font-medium ${ee.net>=0?"text-green-600":"text-red-600"}`,children:R(ee.net)}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${be>=0?"text-green-600":"text-red-600"}`,children:[be.toFixed(1),"%"]}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${Te<=70?"text-green-600":Te<=85?"text-yellow-600":"text-red-600"}`,children:[Te.toFixed(1),"%"]})]},ce)})})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:c("reports.expenseEfficiency")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:c("reports.expenseCategoryPerformance")}),e.jsx("div",{className:"space-y-2",children:C.slice(0,5).map((ee,ce)=>{const be=I>0?ee.total/I*100:0;return e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:ee.category}),e.jsxs("span",{className:"text-xs text-gray-500",children:[be.toFixed(1),"%  ",R(ee.total)]})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-red-400 to-red-600 rounded-full transition-all duration-300",style:{width:`${be}%`}})})]},ce)})})]})})]})]})]})]})})}function ET(){const{t:a,i18n:m}=Zt(),h=["chartOfAccounts.title","chartOfAccounts.subtitle","chartOfAccounts.accountNames.101","chartOfAccounts.accountNames.201","chartOfAccounts.accountNames.600","chartOfAccounts.accountNames.601","chartOfAccounts.accountNames.602","chartOfAccounts.accountTypes.asset","chartOfAccounts.accountTypesPlural.expense","status.paid","status.draft","status.sent","status.overdue","status.pending","status.cancelled","status.completed","status.approved","status.rejected"].map(o=>({key:o,direct:a(o),commonPrefixed:a(`common:${o}`)})),f=m.services?.resourceStore?.data?.[m.language],c=!!f?.common,n=!!f?.status;return e.jsxs("div",{style:{padding:16,fontFamily:"monospace"},children:[e.jsxs("h2",{children:[" Translation Debug (",m.language,")"]}),e.jsxs("p",{children:["Common ykl: ",String(c)," | Status ns ykl: ",String(n)]}),e.jsxs("table",{style:{borderCollapse:"collapse",width:"100%",marginTop:12},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{border:"1px solid #ccc",padding:4},children:"Key"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:4},children:"t(key)"}),e.jsx("th",{style:{border:"1px solid #ccc",padding:4},children:"t(common:key)"})]})}),e.jsx("tbody",{children:h.map(o=>e.jsxs("tr",{children:[e.jsx("td",{style:{border:"1px solid #ccc",padding:4},children:o.key}),e.jsx("td",{style:{border:"1px solid #ccc",padding:4},children:o.direct}),e.jsx("td",{style:{border:"1px solid #ccc",padding:4},children:o.commonPrefixed})]},o.key))})]}),e.jsxs("details",{style:{marginTop:16},children:[e.jsx("summary",{children:"Ham resourceStore (ksaltlm)"}),e.jsx("pre",{style:{maxHeight:300,overflow:"auto",fontSize:11},children:JSON.stringify({language:m.language,commonKeysSample:Object.keys(f?.common||{}).slice(0,50),statusKeys:Object.keys(f?.status||{})},null,2)})]})]})}const hy=[{value:"this-month",labelKey:"chartOfAccounts.dateFilters.thisMonth",defaultLabel:"Bu Ay"},{value:"this-quarter",labelKey:"chartOfAccounts.dateFilters.thisQuarter",defaultLabel:"Bu eyrek"},{value:"this-year",labelKey:"chartOfAccounts.dateFilters.thisYear",defaultLabel:"Bu Yl"},{value:"last-year",labelKey:"chartOfAccounts.dateFilters.lastYear",defaultLabel:"Geen Yl"},{value:"all",labelKey:"chartOfAccounts.dateFilters.all",defaultLabel:"Tm"},{value:"custom",labelKey:"chartOfAccounts.dateFilters.custom",defaultLabel:"zel Tarih"}],Nc=a=>{const m=new Date(a);return m.setHours(0,0,0,0),m},jc=a=>{const m=new Date(a);return m.setHours(23,59,59,999),m},Yp=a=>{if(!a)return new Date("1970-01-01");const m=String(a).trim();if(!m)return new Date("1970-01-01");if(/^\d{4}-\d{2}-\d{2}/.test(m))return new Date(m);if(/^\d{2}\.\d{2}\.\d{4}$/.test(m)){const[t,h,f]=m.split(".");return new Date(`${f}-${h}-${t}`)}return new Date(m)},TT=a=>Yp(a?.issueDate??a?.date),_T=a=>Yp(a?.expenseDate??a?.date),PT=a=>Yp(a?.date??a?.saleDate),fy=a=>{if(!a)return;const m=new Date(a);if(!Number.isNaN(m.getTime()))return m},Bf=(a,m,t)=>{if(!a||Number.isNaN(a.getTime()))return!0;const h=a.getTime();return!(typeof m=="number"&&h<m||typeof t=="number"&&h>t)};function DT({accounts:a=[],onAccountsUpdate:m,invoices:t=[],expenses:h=[],sales:f=[],customers:c=[]}){const{formatCurrency:n,getCurrencySymbol:o}=es(),{t:i}=Zt("common"),[r,s]=W.useState(""),[l,d]=W.useState("all"),[u,x]=W.useState(new Set),[b,g]=W.useState(null),[v,y]=W.useState(null),[N,E]=W.useState({}),[I,O]=W.useState(!1),[$,z]=W.useState(null),[U,V]=W.useState("this-year"),[G,B]=W.useState(""),[T,D]=W.useState(""),A=W.useMemo(()=>{if(U==="custom")return G||T?`${G||""}  ${T||""}`:i("chartOfAccounts.dateFilters.custom",{defaultValue:"zel Tarih"});const pe=hy.find(me=>me.value===U);return pe?i(pe.labelKey,{defaultValue:pe.defaultLabel}):i("chartOfAccounts.dateFilters.all",{defaultValue:"Tm"})},[T,G,U,i]),k=[{label:"Dier",value:"other"},{label:"Ekipman",value:"equipment"},{label:"Faturalar",value:"utilities"},{label:"Kira",value:"rent"},{label:"Maalar",value:"salaries"},{label:"Malzemeler",value:"supplies"},{label:"Pazarlama",value:"marketing"},{label:"Personel",value:"personnel"},{label:"Seyahat",value:"travel"},{label:"Sigorta",value:"insurance"},{label:"Vergiler",value:"taxes"}],S={"Kira Giderleri":"rent","Personel Giderleri":"personnel","Fatura Giderleri":"utilities",Dier:"other",Ekipman:"equipment",Faturalar:"utilities",Kira:"rent",Maalar:"salaries",Malzemeler:"supplies",Pazarlama:"marketing",Personel:"personnel",Seyahat:"travel",Sigorta:"insurance",Vergiler:"taxes"},j=()=>[{id:"1",code:"100",name:i("chartOfAccounts.accountNames.100"),type:"asset",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"2",code:"101",name:i("chartOfAccounts.accountNames.101"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"3",code:"102",name:i("chartOfAccounts.accountNames.102"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"4",code:"120",name:i("chartOfAccounts.accountNames.120"),type:"asset",parentId:"1",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"5",code:"150",name:i("chartOfAccounts.accountNames.150"),type:"asset",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"7",code:"200",name:i("chartOfAccounts.accountNames.200"),type:"liability",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"8",code:"201",name:i("chartOfAccounts.accountNames.201"),type:"liability",parentId:"7",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"10",code:"300",name:i("chartOfAccounts.accountNames.300"),type:"equity",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"13",code:"600",name:i("chartOfAccounts.accountNames.600"),type:"revenue",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"14",code:"601",name:i("chartOfAccounts.accountNames.601"),type:"revenue",parentId:"13",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"15",code:"602",name:i("chartOfAccounts.accountNames.602"),type:"revenue",parentId:"13",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"16",code:"700",name:i("chartOfAccounts.accountNames.700"),type:"expense",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"17",code:"701",name:i("chartOfAccounts.accountNames.701"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"18",code:"702",name:i("chartOfAccounts.accountNames.702"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"},{id:"19",code:"703",name:i("chartOfAccounts.accountNames.703"),type:"expense",parentId:"16",isActive:!0,balance:0,createdAt:"2024-01-01"}],[C,P]=W.useState(a.length>0?a:j()),R=W.useMemo(()=>{const pe=new Date,me=pe.getFullYear();let xe,te;switch(U){case"this-month":xe=Nc(new Date(me,pe.getMonth(),1)),te=jc(new Date(me,pe.getMonth()+1,0));break;case"this-quarter":{const Ue=Math.floor(pe.getMonth()/3)*3;xe=Nc(new Date(me,Ue,1)),te=jc(new Date(me,Ue+3,0));break}case"this-year":xe=Nc(new Date(me,0,1)),te=jc(new Date(me,11,31));break;case"last-year":xe=Nc(new Date(me-1,0,1)),te=jc(new Date(me-1,11,31));break;case"custom":{const we=fy(G),Ue=fy(T);xe=we?Nc(we):void 0,te=Ue?jc(Ue):void 0;break}case"all":default:xe=void 0,te=void 0;break}if(xe&&te&&xe.getTime()>te.getTime()){const we=xe;xe=te,te=we}return{startMs:xe?.getTime(),endMs:te?.getTime(),preset:U}},[U,G,T]),{startMs:L,endMs:Y}=R,Z=W.useMemo(()=>!L&&!Y?t:t.filter(pe=>Bf(TT(pe),L,Y)),[t,L,Y]),ae=W.useMemo(()=>!L&&!Y?h:h.filter(pe=>Bf(_T(pe),L,Y)),[h,L,Y]),q=W.useMemo(()=>!L&&!Y?f:f.filter(pe=>Bf(PT(pe),L,Y)),[f,L,Y]);W.useEffect(()=>{a.length===0&&P(j())},[i]);const X=pe=>{switch(pe.code){case"101":return Z.filter(xe=>xe.status==="paid"&&xe.paymentMethod==="cash").reduce((xe,te)=>xe+(Number(te.total)||0),0);case"102":return Z.filter(xe=>xe.status==="paid"&&(xe.paymentMethod==="card"||xe.paymentMethod==="transfer")).reduce((xe,te)=>xe+(Number(te.total)||0),0);case"120":return Z.filter(xe=>xe.status==="sent"||xe.status==="overdue").reduce((xe,te)=>xe+(Number(te.total)||0),0);case"201":return ae.filter(xe=>xe.status==="approved"||xe.status==="pending").reduce((xe,te)=>xe+(Number(te.amount)||0),0);case"600":{const xe=C.filter(te=>te.parentId===pe.id);return xe.length>0?xe.reduce((te,we)=>te+X(we),0):Z.filter(te=>te.type!=="refund"&&(te.status==="paid"||te.status==="sent"||te.status==="overdue")).reduce((te,we)=>te+(Number(we.total)||0),0)}case"601":return Z.filter(xe=>xe.type!=="refund"&&(xe.status==="paid"||xe.status==="sent"||xe.status==="overdue")&&xe.type==="product").reduce((xe,te)=>xe+(Number(te.total)||0),0);case"602":return Z.filter(xe=>xe.type!=="refund"&&(xe.status==="paid"||xe.status==="sent"||xe.status==="overdue")&&xe.type==="service").reduce((xe,te)=>xe+(Number(te.total)||0),0);case"701":return ae.filter(xe=>xe.category==="rent").reduce((xe,te)=>xe+(Number(te.amount)||0),0);case"702":return ae.filter(xe=>xe.category==="personnel").reduce((xe,te)=>xe+(Number(te.amount)||0),0);case"703":return ae.filter(xe=>xe.category==="utilities").reduce((xe,te)=>xe+(Number(te.amount)||0),0);case"700":return ae.reduce((xe,te)=>xe+(Number(te.amount)||0),0);default:if(pe.type==="expense"&&pe.parentId&&C.find(te=>te.id===pe.parentId)?.code==="700"){const te=S[pe.name];if(te)return ae.filter(we=>we.category===te).reduce((we,Ue)=>we+(Number(Ue.amount)||0),0)}return pe.balance}},F=pe=>{const me=["101","102","120","201","600","601","602","700","701","702","703"];return pe.type==="expense"&&pe.parentId&&C.find(te=>te.id===pe.parentId)?.code==="700"&&S[pe.name]?!0:me.includes(pe.code)},M=pe=>{const me=pe.code,xe={101:"Kasa: denen faturalarn nakit demeleri (Faturalar > dendi)",102:"Bankalar: denen faturalarn banka/kart demeleri (Faturalar > dendi)",120:"Alclar: denmemi faturalar (Faturalar > Gnderildi/Vadesi Geti)",201:"Satclar: denmemi giderler (Giderler > Onayland/Beklemede)",600:"GELRLER: Tm gelirler toplam (Faturalar sayfasndan)",601:"Sat Gelirleri: rn kategorili faturalar (rnler > rnler kategorisi)",602:"Hizmet Gelirleri: Hizmet kategorili faturalar (rnler > Hizmetler kategorisi)",700:"GDERLER: Tm giderler toplam (Giderler sayfasndan)",701:"Kira Giderleri: Kira kategorili giderler (Giderler sayfasndan)",702:"Personel Giderleri: Personel kategorili giderler (Giderler sayfasndan)",703:"Fatura Giderleri: Fatura kategorili giderler (Giderler sayfasndan)"};return pe.type==="expense"&&pe.parentId&&C.find(we=>we.id===pe.parentId)?.code==="700"&&S[pe.name]?`${pe.name}: ${pe.name} kategorili giderler (Giderler sayfasndan)`:xe[me]||"Bu hesap dier sayfalardan otomatik ynetilir"};Gt.useEffect(()=>{console.log(" Hesap Plan Veri Kontrol:",{invoicesCount:Z.length,expensesCount:ae.length,salesCount:q.length,customersCount:c.length,sampleInvoice:Z[0],sampleExpense:ae[0],sampleSale:q[0]});const pe=C.map(me=>{if(F(me)){const xe=X(me);return{...me,balance:Number.isFinite(xe)?xe:0}}return me});P(pe)},[Z,ae,q,c]);const K=C.filter(pe=>{const me=pe.name.toLowerCase().includes(r.toLowerCase())||pe.code.includes(r),xe=l==="all"||pe.type===l;return me&&xe}),se=pe=>i(`chartOfAccounts.accountTypeLabels.${pe}`,pe),oe=pe=>({asset:"bg-blue-100 text-blue-800",liability:"bg-red-100 text-red-800",equity:"bg-purple-100 text-purple-800",revenue:"bg-green-100 text-green-800",expense:"bg-orange-100 text-orange-800"})[pe]||"bg-gray-100 text-gray-800",ne=pe=>{const me=Number(pe)||0;return n(me)},le=pe=>{const me=Number(pe)||0,xe=Math.abs(me),te=o();if(xe>=1e6){const we=me/1e6;return`${te}${we.toFixed(2)}M`}if(xe>=1e3){const we=me/1e3;return`${te}${we.toFixed(2)}K`}return n(me)},Se=pe=>pe?pe.replace(/^0+/,"")||"0":"",je=pe=>{const me=new Set(u);me.has(pe)?me.delete(pe):me.add(pe),x(me)},ee=pe=>K.filter(me=>me.parentId===pe),ce=pe=>K.some(me=>me.parentId===pe),be=(pe,me,xe)=>{g(pe),y(me),E({[me]:String(xe)})},Te=pe=>{if(!v||!b)return;const me={...pe};v==="code"?me.code=N.code||pe.code:v==="name"?me.name=N.name||pe.name:v==="balance"&&(me.balance=parseFloat(N.balance)||pe.balance);const xe=C.map(te=>te.id===pe.id?me:te);P(xe),m&&m(xe),Ce()},Ce=()=>{g(null),y(null),E({})},Pe=(pe,me)=>{E(xe=>({...xe,[pe]:me}))},Be=pe=>{const me=pe.target.value;V(me),me!=="custom"&&(B(""),D(""))},Ge=pe=>{if(pe){const te=C.find(we=>we.id===pe);if(te?.parentId){alert("Alt kategorilere tekrar alt kategori eklenemez. Sadece ana kategorilere alt kategori eklenebilir.");return}if(te?.code==="700"){z(pe),O(!0);return}}const me={id:Date.now().toString(),code:"",name:"Yeni Hesap",type:pe?st(pe):"asset",parentId:pe,isActive:!0,balance:0,createdAt:new Date().toISOString()},xe=[...C,me];P(xe),m&&m(xe),setTimeout(()=>{be(me.id,"name",me.name)},100)},st=pe=>C.find(xe=>xe.id===pe)?.type||"asset",bt=(pe,me)=>{if(!$)return;if(C.some(dt=>dt.parentId!==$?!1:S[dt.name]===pe)){alert(`"${me}" kategorisi zaten eklenmi. Her kategori sadece bir kez eklenebilir.`),O(!1),z(null);return}const te=C.filter(dt=>dt.code.startsWith("70")&&dt.parentId===$).map(dt=>parseInt(dt.code)).filter(dt=>!isNaN(dt)),we=te.length>0?Math.max(...te)+1:704,Ue={id:Date.now().toString(),code:we.toString(),name:me,type:"expense",parentId:$,isActive:!0,balance:0,createdAt:new Date().toISOString()},et=[...C,Ue];P(et),m&&m(et),O(!1),z(null)},_e=pe=>C.filter(xe=>xe.parentId===pe).reduce((xe,te)=>{if(C.some(et=>et.parentId===te.id))return xe+_e(te.id);let Ue=0;if(F(te)){const et=X(te);Ue=Number.isFinite(et)?et:0}else Ue=Number(te.balance)||0;return xe+Ue},0),We=pe=>{if(pe.code==="700"||pe.code==="600"){const xe=X(pe);return Number.isFinite(xe)?xe:0}if(ce(pe.id))return _e(pe.id);if(F(pe)){const xe=X(pe);return Number.isFinite(xe)?xe:0}return Number(pe.balance)||0},vt=pe=>{if(confirm(i("chartOfAccounts.deleteConfirm","Bu hesab silmek istediinizden emin misiniz?"))){if(C.some(te=>te.parentId===pe)){alert("Bu hesabn alt hesaplar var. nce alt hesaplar silin.");return}const xe=C.filter(te=>te.id!==pe);P(xe),m&&m(xe)}},At=pe=>{const me={...pe,isActive:!pe.isActive},xe=C.map(te=>te.id===pe.id?me:te);P(xe),m&&m(xe)},Nt=(pe,me=0)=>{const xe=ce(pe.id),te=u.has(pe.id),we=ee(pe.id),Ue=b===pe.id;return e.jsxs(Gt.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${me*20}px`},children:[xe&&e.jsx("button",{onClick:()=>je(pe.id),className:"mr-2 p-1 hover:bg-gray-200 rounded",children:te?e.jsx(EC,{className:"w-4 h-4 text-gray-600"}):e.jsx(TC,{className:"w-4 h-4 text-gray-600"})}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(wu,{className:"w-4 h-4 text-blue-600"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[Ue&&v==="code"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:N.code||"",onChange:et=>Pe("code",et.target.value),className:"w-16 px-2 py-1 text-xs border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}),e.jsx("button",{onClick:()=>Te(pe),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-3 h-3"})}),e.jsx("button",{onClick:Ce,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-3 h-3"})})]}):e.jsxs("span",{onClick:()=>!F(pe)&&be(pe.id,"code",pe.code),className:`text-sm font-medium text-blue-600 px-1 py-0.5 rounded ${F(pe)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-blue-50"}`,title:F(pe)?M(pe):"Kodu dzenlemek iin tklayn",children:[Se(pe.code),F(pe)&&e.jsx("span",{className:"ml-1 text-xs",children:""})]}),e.jsx("span",{className:"text-gray-400",children:"-"}),Ue&&v==="name"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"text",value:N.name||"",onChange:et=>Pe("name",et.target.value),className:"px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}),e.jsx("button",{onClick:()=>Te(pe),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-3 h-3"})}),e.jsx("button",{onClick:Ce,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-3 h-3"})})]}):e.jsxs("span",{onClick:()=>!F(pe)&&be(pe.id,"name",pe.name),className:`text-sm font-medium text-gray-900 px-1 py-0.5 rounded ${F(pe)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-gray-50"}`,title:F(pe)?M(pe):"Ad dzenlemek iin tklayn",children:[pe.name,F(pe)&&e.jsx("span",{className:"ml-1 text-xs",children:""})]})]})})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe(pe.type)}`,children:se(pe.type)})}),e.jsx("td",{className:"px-6 py-4 text-right",style:{minWidth:"180px"},children:Ue&&v==="balance"?e.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[e.jsx("input",{type:"number",value:N.balance||"",onChange:et=>Pe("balance",et.target.value),className:"w-24 px-2 py-1 text-sm border border-blue-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 text-right",step:"0.01",autoFocus:!0}),e.jsx("button",{onClick:()=>Te(pe),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-3 h-3"})}),e.jsx("button",{onClick:Ce,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-3 h-3"})})]}):e.jsx("div",{className:"text-right max-w-xs ml-auto",children:xe?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-blue-600 truncate",title:ne(We(pe)),children:ne(We(pe))}),e.jsxs("div",{className:"text-xs text-gray-500",children:["(",i("chartOfAccounts.allSummed"),")"]})]}):e.jsxs("span",{onClick:()=>!F(pe)&&be(pe.id,"balance",pe.balance),className:`inline-block text-sm font-semibold text-gray-900 px-2 py-1 rounded truncate max-w-full ${F(pe)?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-gray-50"}`,title:F(pe)?`${ne(We(pe))} - ${M(pe)}`:`${ne(We(pe))} (Dzenlemek iin tklayn)`,children:[ne(We(pe)),F(pe)&&e.jsx("span",{className:"ml-1 text-xs text-blue-600",children:""})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>At(pe),className:`px-2 py-1 rounded-full text-xs font-medium cursor-pointer transition-colors ${pe.isActive?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,title:i("chartOfAccounts.tooltips.toggleStatus",{defaultValue:"Durumu deitirmek iin tklayn"}),children:pe.isActive?i("chartOfAccounts.statusLabels.active"):i("chartOfAccounts.statusLabels.inactive")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Ge(pe.id),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:i("chartOfAccounts.tooltips.addSubAccount",{defaultValue:"Alt hesap ekle"}),children:e.jsx(Vs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>vt(pe.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:i("chartOfAccounts.tooltips.deleteAccount",{defaultValue:"Hesab sil"}),children:e.jsx(Yr,{className:"w-4 h-4"})})]})})]}),xe&&te&&we.map(et=>Nt(et,me+1))]},pe.id)},De=K.filter(pe=>!pe.parentId),ge=C.reduce((pe,me)=>{const xe=ce(me.id);if(!xe&&me.isActive){let te=0;if(F(me)){const we=X(me);te=Number.isFinite(we)?we:0}else te=Number(me.balance)||0;(me.type==="revenue"||me.type==="expense")&&console.log(` ${me.name} (${me.code}):`,{type:me.type,balance:te,storedBalance:me.balance,isDataFromOtherPages:F(me),hasChildren:xe}),pe[me.type]=(pe[me.type]||0)+te}return pe},{}),Oe=C.find(pe=>pe.code==="600");if(Oe){const pe=X(Oe);Number.isFinite(pe)&&(ge.revenue=pe)}const Ke=C.find(pe=>pe.code==="700");if(Ke){const pe=X(Ke);Number.isFinite(pe)&&(ge.expense=pe)}return console.log(" Hesaplanan Toplamlar:",ge),e.jsxs("div",{className:"space-y-6",children:[typeof window<"u"&&window.location.search.includes("debugTranslations")&&e.jsxs("div",{className:"border border-yellow-300 rounded-lg bg-yellow-50 p-4",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-2",children:"eviri Tanlama Paneli"}),e.jsx(ET,{})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(wu,{className:"w-8 h-8 text-blue-600 mr-3"}),i("chartOfAccounts.title")]}),e.jsx("p",{className:"text-gray-600",children:i("chartOfAccounts.subtitle")})]}),e.jsxs("button",{onClick:()=>Ge(),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:i("chartOfAccounts.newAccount")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-blue-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.asset")}),e.jsx("div",{className:"text-lg font-bold text-blue-700 truncate",title:ne(ge.asset||0),children:le(ge.asset||0)})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-red-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.liability")}),e.jsx("div",{className:"text-lg font-bold text-red-700 truncate",title:ne(ge.liability||0),children:le(ge.liability||0)})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-purple-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.equity")}),e.jsx("div",{className:"text-lg font-bold text-purple-700 truncate",title:ne(ge.equity||0),children:le(ge.equity||0)})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-green-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.revenue")}),e.jsx("div",{className:"text-lg font-bold text-green-700 truncate",title:ne(ge.revenue||0),children:le(ge.revenue||0)})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-orange-600 mb-1",children:i("chartOfAccounts.accountTypesPlural.expense")}),e.jsx("div",{className:"text-lg font-bold text-orange-700 truncate",title:ne(ge.expense||0),children:le(ge.expense||0)})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mb-6",children:[i("chartOfAccounts.activeDateRangeLabel",{defaultValue:"Tarih filtresi:"})," ",e.jsx("span",{className:"font-medium text-gray-700",children:A})]}),e.jsxs("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-center",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:i("chartOfAccounts.search"),value:r,onChange:pe=>s(pe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 w-full xl:w-auto",children:[e.jsxs("select",{value:l,onChange:pe=>d(pe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:i("chartOfAccounts.accountTypes.all")}),e.jsx("option",{value:"asset",children:i("chartOfAccounts.accountTypesPlural.asset")}),e.jsx("option",{value:"liability",children:i("chartOfAccounts.accountTypesPlural.liability")}),e.jsx("option",{value:"equity",children:i("chartOfAccounts.accountTypesPlural.equity")}),e.jsx("option",{value:"revenue",children:i("chartOfAccounts.accountTypesPlural.revenue")}),e.jsx("option",{value:"expense",children:i("chartOfAccounts.accountTypesPlural.expense")})]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx(Or,{className:"w-4 h-4 text-gray-500"}),e.jsx("select",{value:U,onChange:Be,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:hy.map(pe=>e.jsx("option",{value:pe.value,children:i(pe.labelKey,{defaultValue:pe.defaultLabel})},pe.value))})]}),U==="custom"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("input",{type:"date",value:G,onChange:pe=>B(pe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("input",{type:"date",value:T,onChange:pe=>D(pe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i("chartOfAccounts.title")}),e.jsxs("p",{className:"text-sm text-gray-500",children:[C.length," ",i("chartOfAccounts.accountsRegistered"),"  ",i("chartOfAccounts.clickToEdit")]})]}),e.jsx("div",{className:"text-xs text-gray-500 bg-blue-50 px-3 py-2 rounded-lg",children:i("chartOfAccounts.tooltips.editHint")})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-full lg:min-w-[1024px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.accountName")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.type")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.balance")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.status")}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:i("chartOfAccounts.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:De.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wu,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-lg mb-2",children:"Henz hesap bulunmuyor"}),e.jsx("p",{className:"text-gray-400 text-sm",children:i("chartOfAccounts.addAccountTip")})]})}):De.map(pe=>Nt(pe))})]})})]}),I&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:e.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gider Kategorisi Sein"}),e.jsx("button",{onClick:()=>{O(!1),z(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(kr,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Giderler kategorisine eklenecek alt kategoriyi sein. Bu kategori, giderler sayfasndaki kategorilerle otomatik eletirilecektir."}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-96 overflow-y-auto",children:k.map(pe=>{const me=C.some(xe=>xe.parentId!==$?!1:S[xe.name]===pe.value);return e.jsx("button",{onClick:()=>!me&&bt(pe.value,pe.label),disabled:me,className:`px-4 py-3 text-left border rounded-lg transition-colors ${me?"border-gray-200 bg-gray-50 text-gray-400 cursor-not-allowed opacity-60":"border-gray-200 hover:bg-blue-50 hover:border-blue-300"}`,children:e.jsxs("span",{className:"text-sm font-medium flex items-center justify-between",children:[pe.label,me&&e.jsx(ns,{className:"w-4 h-4 text-green-500"})]})},pe.value)})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:()=>{O(!1),z(null)},className:"px-4 py-2 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:i("common.cancel")})})]})})})]})}const jp=[20,50,100],Cv=a=>jp.includes(a),Ii={invoices:"archive_invoices_pageSize",expenses:"archive_expenses_pageSize",sales:"archive_sales_pageSize",customers:"archive_customers_pageSize",suppliers:"archive_suppliers_pageSize"},Sc=a=>{const m=Tt.getItem(a),t=m?Number(m):jp[0];return Cv(t)?t:jp[0]},IT=(a,m)=>{Tt.setItem(a,String(m))},Cc=(a,m,t,h)=>{if(!Cv(a)){he.warn("Attempted to set invalid archive page size",{storageKey:h,size:a});return}m(a),IT(h,a),t(1)};function MT({invoices:a=[],expenses:m=[],sales:t=[],customers:h=[],suppliers:f=[],onViewInvoice:c,onViewExpense:n,onViewSale:o,onViewCustomer:i,onViewSupplier:r,onDownloadInvoice:s,onDownloadExpense:l,onDownloadSale:d}){const{formatCurrency:u}=es(),{t:x}=Zt("common"),[b,g]=W.useState(""),[v,y]=W.useState(""),[N,E]=W.useState(new Set(["invoices","expenses","sales"])),[I,O]=W.useState("all"),[$,z]=W.useState(1),[U,V]=W.useState(()=>Sc(Ii.invoices)),[G,B]=W.useState(1),[T,D]=W.useState(()=>Sc(Ii.expenses)),[A,k]=W.useState(1),[S,j]=W.useState(()=>Sc(Ii.sales)),[C,P]=W.useState(1),[R,L]=W.useState(()=>Sc(Ii.customers)),[Y,Z]=W.useState(1),[ae,q]=W.useState(()=>Sc(Ii.suppliers)),X=me=>Cc(me,V,z,Ii.invoices),F=me=>Cc(me,D,B,Ii.expenses),M=me=>Cc(me,j,k,Ii.sales),K=me=>Cc(me,L,P,Ii.customers),se=me=>Cc(me,q,Z,Ii.suppliers),oe=a.filter(me=>me.status==="paid"||me.status==="overdue"),ne=m.filter(me=>me.status==="paid"),le=t.filter(me=>me.status==="completed"||me.status==="cancelled"),Se=h,je=f,ee=me=>{const xe=new Set(N);xe.has(me)?xe.delete(me):xe.add(me),E(xe)},ce=me=>new Date(me).toLocaleDateString("tr-TR"),be=me=>{const xe=typeof me=="number"?me:parseFloat(String(me??""));return Number.isFinite(xe)?xe:0},Te=me=>u(be(me)),Ce=(me,xe)=>{const te=$r(me),Ue={paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[te]||"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ue}`,children:Rt(x,te)})},Pe=(me,xe)=>me.filter(te=>{const we=b===""||xe.some(et=>{const dt=te[et];return dt&&dt.toString().toLowerCase().includes(b.toLowerCase())}),Ue=v===""||(()=>{const et=new Date(te.issueDate||te.expenseDate||te.date||te.createdAt),dt=new Date(v);return et.toDateString()===dt.toDateString()})();return we&&Ue}),Be=Pe(oe,["invoiceNumber","customerName"]),Ge=Pe(ne,["expenseNumber","description","supplier"]),st=Pe(le,["saleNumber","customerName","productName"]),bt=Pe(Se,["name","email","company"]),_e=Pe(je,["name","email","company"]),We=W.useMemo(()=>{const me=($-1)*U;return Be.slice(me,me+U)},[Be,$,U]),vt=W.useMemo(()=>{const me=(G-1)*T;return Ge.slice(me,me+T)},[Ge,G,T]),At=W.useMemo(()=>{const me=(A-1)*S;return st.slice(me,me+S)},[st,A,S]),Nt=W.useMemo(()=>{const me=(C-1)*R;return bt.slice(me,me+R)},[bt,C,R]),De=W.useMemo(()=>{const me=(Y-1)*ae;return _e.slice(me,me+ae)},[_e,Y,ae]),ge=oe.reduce((me,xe)=>me+be(xe.total??xe.amount??xe.grandTotal),0)+le.reduce((me,xe)=>me+be(xe.amount??xe.total),0),Oe=ne.reduce((me,xe)=>me+be(xe.amount??xe.total),0),Ke=[{id:"all",label:x("archive.tabs.all"),count:Be.length+Ge.length+st.length},{id:"invoices",label:x("archive.tabs.invoices"),count:Be.length},{id:"expenses",label:x("archive.tabs.expenses"),count:Ge.length},{id:"sales",label:x("archive.tabs.sales"),count:st.length},{id:"contacts",label:x("archive.tabs.contacts"),count:bt.length+_e.length}],pe=me=>I==="all"||I===me||I==="contacts"&&(me==="customers"||me==="suppliers");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Lb,{className:"w-8 h-8 text-gray-600 mr-3"}),x("archive.title")]}),e.jsx("p",{className:"text-gray-600",children:x("archive.subtitle")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:x("archive.totalArchive")}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:oe.length+ne.length+le.length+Se.length+je.length})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(qr,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:x("archive.archivedInvoices")}),e.jsx("p",{className:"text-lg font-bold text-blue-700",children:oe.length})]})]})}),e.jsx("div",{className:"bg-red-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(fn,{className:"w-6 h-6 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600",children:x("archive.archivedExpenses")}),e.jsx("p",{className:"text-lg font-bold text-red-700",children:ne.length})]})]})}),e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Bs,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:x("archive.archivedSales")}),e.jsx("p",{className:"text-lg font-bold text-green-700",children:le.length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Is,{className:"w-6 h-6 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:x("archive.totalContacts")}),e.jsx("p",{className:"text-lg font-bold text-purple-700",children:Se.length+je.length})]})]})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:x("archive.searchPlaceholder"),value:b,onChange:me=>g(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"date",value:v,onChange:me=>y(me.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-500"})]}),e.jsx("button",{onClick:()=>{g(""),y("")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:x("archive.clearFilters")})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex flex-wrap gap-3 px-4 sm:px-6",children:Ke.map(me=>e.jsxs("button",{onClick:()=>O(me.id),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${I===me.id?"border-gray-600 text-gray-900":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[me.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 py-1 px-2 rounded-full text-xs",children:me.count})]},me.id))})}),e.jsxs("div",{className:"p-6",children:[pe("invoices")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>ee("invoices"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(qr,{className:"w-5 h-5 text-blue-600 mr-2"}),x("archive.sections.archivedInvoices")," (",Be.length,")"]}),N.has("invoices")?e.jsx(Os,{className:"w-5 h-5 text-gray-400"}):e.jsx(ms,{className:"w-5 h-5 text-gray-400"})]}),N.has("invoices")&&e.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 overflow-hidden",children:Be.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:x("archive.empty.invoices")}),e.jsx("p",{className:"text-sm text-gray-400",children:x("archive.empty.invoicesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{className:"bg-blue-100 text-blue-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.invoice")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.customer")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.amount")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.status")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.date")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-right text-xs font-semibold uppercase",children:x("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:We.map(me=>e.jsxs("tr",{className:"hover:bg-blue-25 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 align-top",children:[e.jsx("button",{onClick:()=>c?.(me),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:me.invoiceNumber}),e.jsxs("div",{className:"mt-2 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.customer"),":"]}),e.jsx("span",{className:"text-gray-900",children:me.customerName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.amount"),":"]}),e.jsx("span",{className:"text-gray-900 font-semibold",children:Te(me.total)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.status"),":"]}),e.jsx("span",{className:"inline-flex",children:Ce(me.status)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.date"),":"]}),e.jsx("span",{className:"text-gray-900",children:ce(me.issueDate)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>c?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-blue-600 hover:bg-blue-50",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-green-600 hover:bg-green-50",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm text-gray-900",children:me.customerName}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm font-semibold text-gray-900",children:Te(me.total)}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3",children:Ce(me.status)}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3 text-sm text-gray-500",children:ce(me.issueDate)}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>c?.(me),className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s?.(me),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})})]},me.id))})]})}),e.jsx("div",{className:"p-3 border-t border-blue-200 bg-blue-50",children:e.jsx(Cn,{page:$,pageSize:U,total:Be.length,onPageChange:z,onPageSizeChange:X})})]})})]}),pe("expenses")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>ee("expenses"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(fn,{className:"w-5 h-5 text-red-600 mr-2"}),x("archive.sections.archivedExpenses")," (",Ge.length,")"]}),N.has("expenses")?e.jsx(Os,{className:"w-5 h-5 text-gray-400"}):e.jsx(ms,{className:"w-5 h-5 text-gray-400"})]}),N.has("expenses")&&e.jsx("div",{className:"bg-red-50 rounded-lg border border-red-200 overflow-hidden",children:Ge.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(fn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:x("archive.empty.expenses")}),e.jsx("p",{className:"text-sm text-gray-400",children:x("archive.empty.expensesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{className:"bg-red-100 text-red-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.expense")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.supplier")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.category")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.amount")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.date")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-right text-xs font-semibold uppercase",children:x("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-red-100",children:vt.map(me=>e.jsxs("tr",{className:"hover:bg-red-25 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 align-top",children:[e.jsx("button",{onClick:()=>n?.(me),className:"text-red-600 hover:text-red-800 font-medium transition-colors",children:me.expenseNumber}),me.description&&e.jsx("div",{className:"text-xs text-gray-500",children:me.description}),e.jsxs("div",{className:"mt-2 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.supplier"),":"]}),e.jsx("span",{className:"text-gray-900",children:me.supplier||""})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.category"),":"]}),e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:me.category})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.amount"),":"]}),e.jsxs("span",{className:"text-red-600 font-semibold",children:["-",Te(me.amount)]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.date"),":"]}),e.jsx("span",{className:"text-gray-900",children:ce(me.expenseDate)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>n?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-red-600 hover:bg-red-50",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-green-600 hover:bg-green-50",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm text-gray-900",children:me.supplier}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3",children:e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-xs font-medium rounded-full",children:me.category})}),e.jsxs("td",{className:"hidden md:table-cell px-4 py-3 text-sm font-semibold text-red-600",children:["-",Te(me.amount)]}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3 text-sm text-gray-500",children:ce(me.expenseDate)}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>n?.(me),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l?.(me),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})})]},me.id))})]})}),e.jsx("div",{className:"p-3 border-t border-red-200 bg-red-50",children:e.jsx(Cn,{page:G,pageSize:T,total:Ge.length,onPageChange:B,onPageSizeChange:F})})]})})]}),pe("sales")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>ee("sales"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Bs,{className:"w-5 h-5 text-green-600 mr-2"}),x("archive.sections.archivedSales")," (",st.length,")"]}),N.has("sales")?e.jsx(Os,{className:"w-5 h-5 text-gray-400"}):e.jsx(ms,{className:"w-5 h-5 text-gray-400"})]}),N.has("sales")&&e.jsx("div",{className:"bg-green-50 rounded-lg border border-green-200 overflow-hidden",children:st.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:x("archive.empty.sales")}),e.jsx("p",{className:"text-sm text-gray-400",children:x("archive.empty.salesHelper")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto text-sm",children:[e.jsx("thead",{className:"bg-green-100 text-green-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.sale")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.customer")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.product")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.amount")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.status")}),e.jsx("th",{className:"hidden lg:table-cell px-4 py-3 text-left text-xs font-semibold uppercase",children:x("archive.table.date")}),e.jsx("th",{className:"hidden md:table-cell px-4 py-3 text-right text-xs font-semibold uppercase",children:x("archive.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-green-100",children:At.map(me=>e.jsxs("tr",{className:"hover:bg-green-25 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 align-top",children:[e.jsx("button",{onClick:()=>o?.(me),className:"text-green-600 hover:text-green-800 font-medium transition-colors",children:me.saleNumber||`SAL-${me.id}`}),e.jsxs("div",{className:"mt-2 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.customer"),":"]}),e.jsx("span",{className:"text-gray-900",children:me.customerName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.product"),":"]}),e.jsx("span",{className:"text-gray-900",children:me.productName||""})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.amount"),":"]}),e.jsx("span",{className:"text-green-600 font-semibold",children:Te(me.amount)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.status"),":"]}),e.jsx("span",{className:"inline-flex",children:Ce(me.status)})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[x("archive.table.date"),":"]}),e.jsx("span",{className:"text-gray-900",children:ce(me.date)})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>o?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-green-600 hover:bg-green-50",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d?.(me),className:"inline-flex items-center justify-center w-9 h-9 rounded text-gray-400 hover:text-green-600 hover:bg-green-50",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm text-gray-900",children:me.customerName}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3 text-sm text-gray-900",children:me.productName}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-sm font-semibold text-green-600",children:Te(me.amount)}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3",children:Ce(me.status)}),e.jsx("td",{className:"hidden lg:table-cell px-4 py-3 text-sm text-gray-500",children:ce(me.date)}),e.jsx("td",{className:"hidden md:table-cell px-4 py-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>o?.(me),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d?.(me),className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:x("archive.actions.download"),children:e.jsx(vs,{className:"w-4 h-4"})})]})})]},me.id))})]})}),e.jsx("div",{className:"p-3 border-t border-green-200 bg-green-50",children:e.jsx(Cn,{page:A,pageSize:S,total:st.length,onPageChange:k,onPageSizeChange:M})})]})})]}),pe("contacts")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>ee("customers"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Is,{className:"w-5 h-5 text-purple-600 mr-2"}),x("archive.sections.customers")," (",bt.length,")"]}),N.has("customers")?e.jsx(Os,{className:"w-5 h-5 text-gray-400"}):e.jsx(ms,{className:"w-5 h-5 text-gray-400"})]}),N.has("customers")&&e.jsx("div",{className:"bg-purple-50 rounded-lg border border-purple-200 overflow-hidden",children:bt.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Is,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:x("archive.empty.customers")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-purple-100",children:Nt.map(me=>e.jsx("div",{className:"p-4 hover:bg-purple-25 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-semibold",children:me.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>i?.(me),className:"font-medium text-purple-600 hover:text-purple-800 transition-colors",children:me.name}),me.company&&e.jsx("p",{className:"text-sm text-gray-600",children:me.company}),e.jsx("p",{className:"text-xs text-gray-500",children:me.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[x("archive.table.registered"),": ",ce(me.createdAt)]}),e.jsx("button",{onClick:()=>i?.(me),className:"p-1 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded transition-colors mt-1",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})})]})]})},me.id))}),e.jsx("div",{className:"p-3 border-t border-purple-200 bg-purple-50",children:e.jsx(Cn,{page:C,pageSize:R,total:bt.length,onPageChange:P,onPageSizeChange:K})})]})})]}),pe("contacts")&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>ee("suppliers"),children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 text-orange-600 mr-2"}),x("archive.sections.suppliers")," (",_e.length,")"]}),N.has("suppliers")?e.jsx(Os,{className:"w-5 h-5 text-gray-400"}):e.jsx(ms,{className:"w-5 h-5 text-gray-400"})]}),N.has("suppliers")&&e.jsx("div",{className:"bg-orange-50 rounded-lg border border-orange-200 overflow-hidden",children:_e.length===0?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Jr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:x("archive.empty.suppliers")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-orange-100",children:De.map(me=>e.jsx("div",{className:"p-4 hover:bg-orange-25 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-orange-600 font-semibold",children:me.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("button",{onClick:()=>r?.(me),className:"font-medium text-orange-600 hover:text-orange-800 transition-colors",children:me.name}),me.company&&e.jsx("p",{className:"text-sm text-gray-600",children:me.company}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:me.email}),e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:me.category})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[x("archive.table.registered"),": ",ce(me.createdAt)]}),e.jsx("button",{onClick:()=>r?.(me),className:"p-1 text-gray-400 hover:text-orange-600 hover:bg-orange-50 rounded transition-colors mt-1",title:x("archive.actions.view"),children:e.jsx(Wr,{className:"w-4 h-4"})})]})]})},me.id))}),e.jsx("div",{className:"p-3 border-t border-orange-200 bg-orange-50",children:e.jsx(Cn,{page:Y,pageSize:ae,total:_e.length,onPageChange:Z,onPageSizeChange:se})})]})})]}),I==="all"&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Oa,{className:"w-5 h-5 text-gray-600 mr-2"}),x("archive.sections.archiveSummary")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:x("archive.summary.financial")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.summary.totalIncome"),":"]}),e.jsx("span",{className:"font-semibold text-green-600",children:Te(ge)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.summary.totalExpense"),":"]}),e.jsx("span",{className:"font-semibold text-red-600",children:Te(Oe)})]}),e.jsxs("div",{className:"flex justify-between border-t border-gray-300 pt-2",children:[e.jsxs("span",{className:"text-gray-900 font-medium",children:[x("archive.summary.netArchive"),":"]}),e.jsx("span",{className:`font-bold ${ge-Oe>=0?"text-green-600":"text-red-600"}`,children:Te(ge-Oe)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:x("archive.summary.recordCounts")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.archivedInvoices"),":"]}),e.jsx("span",{className:"font-medium",children:oe.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.archivedExpenses"),":"]}),e.jsx("span",{className:"font-medium",children:ne.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.archivedSales"),":"]}),e.jsx("span",{className:"font-medium",children:le.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[x("archive.totalContacts"),":"]}),e.jsx("span",{className:"font-medium",children:Se.length+je.length})]})]})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Fs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800",children:x("archive.info.title")}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:x("archive.info.description")})]})]})})]})]})]})}const Ta=a=>{if(typeof a=="number")return Number.isFinite(a)?a:0;if(a==null)return 0;const m=String(a).trim();if(!m)return 0;if(m.includes(".")&&m.includes(",")){const f=m.replace(/\./g,"").replace(/,/g,"."),c=parseFloat(f);return Number.isFinite(c)?c:0}if(m.includes(",")&&!m.includes(".")){const h=parseFloat(m.replace(/,/g,"."));return Number.isFinite(h)?h:0}const t=parseFloat(m.replace(/\s/g,""));return Number.isFinite(t)?t:0};function RT({invoices:a,expenses:m,sales:t}){const{formatCurrency:h}=es(),{t:f,i18n:c}=Zt(),[n]=W.useState(""),[o]=W.useState(""),[i]=W.useState(""),[r]=W.useState(""),[s]=W.useState(""),[l]=W.useState("all"),[d,u]=W.useState(null),[x,b]=W.useState(null),[g,v]=W.useState(null),y=[20,50,100],N=A=>y.includes(A),E=()=>{const A=Tt.getItem("ledger_pageSize"),k=A?Number(A):y[0];return N(k)?k:y[0]},[I,O]=W.useState(1),[$,z]=W.useState(()=>E()),U=W.useMemo(()=>{const A=[],k=[],S=R=>R==null?0:R.total!=null?Ta(R.total):R.amount!=null?Ta(R.amount):Array.isArray(R.items)?R.items.reduce((L,Y)=>L+Ta(Y.quantity)*Ta(Y.unitPrice),0):0,j=R=>R==null?0:Ta(R.amount),C=R=>R?.amount!=null?Ta(R.amount):Ta(R?.quantity)*Ta(R?.unitPrice);a.forEach(R=>{k.push({date:R.issueDate,type:"invoice",data:R})}),m.forEach(R=>{k.push({date:R.expenseDate,type:"expense",data:R})}),t.forEach(R=>{k.push({date:R.date,type:"sale",data:R})}),k.sort((R,L)=>new Date(L.date).getTime()-new Date(R.date).getTime());let P=0;return k.forEach(R=>{if(R.type==="invoice"){const L=R.data,Y=S(L);L.status==="paid"&&(P+=Y);const Z=L.type==="product"?f("chartOfAccounts.accountNames.601"):f("chartOfAccounts.accountNames.602");A.push({id:`inv-${L.id}`,date:L.issueDate,description:`${f("ledger.entry.invoicePrefix")} - ${L.customerName||L.customer?.name||f("common.generic.customer")}`,reference:L.invoiceNumber,customer:L.customerName||L.customer?.name||"",category:Z,debit:0,credit:L.status==="paid"?Y:0,displayCredit:Y,balance:P,type:"invoice",originalData:L})}else if(R.type==="expense"){const L=R.data,Y=j(L);L.status==="paid"&&(P-=Y),A.push({id:`exp-${L.id}`,date:L.expenseDate,description:`${f("ledger.entry.expensePrefix")} - ${L.description}`,reference:L.expenseNumber,customer:L.supplier?.name||L.supplier||"",category:f(`expenseCategories.${L.category}`,{defaultValue:L.category}),debit:L.status==="paid"?Y:0,credit:0,displayDebit:Y,balance:P,type:"expense",originalData:L})}else if(R.type==="sale"){const L=R.data,Y=C(L);L.status==="completed"&&(P+=Y),A.push({id:`sal-${L.id}`,date:L.date,description:`${f("ledger.entry.salePrefix")} - ${L.productName}`,reference:L.saleNumber||`SAL-${L.id}`,customer:L.customerName,category:f("chartOfAccounts.accountNames.601"),debit:0,credit:L.status==="completed"?Y:0,displayCredit:Y,balance:P,type:"sale",originalData:L})}}),A},[a,m,t,c.language]),V=W.useMemo(()=>U.filter(A=>{const k=l==="all"||A.type===l,S=!n||A.description&&A.description.toLowerCase().includes(n.toLowerCase())||A.reference&&A.reference.toLowerCase().includes(n.toLowerCase())||A.customer&&A.customer.toLowerCase().includes(n.toLowerCase()),j=new Date(A.date),C=!o||j>=new Date(o),P=!i||j<=new Date(i),R=C&&P,L=!r||A.customer&&A.customer.toLowerCase().includes(r.toLowerCase()),Y=!s||A.category&&A.category.toLowerCase().includes(s.toLowerCase());return k&&S&&R&&L&&Y}),[U,l,n,o,i,r,s]),G=W.useMemo(()=>{const A=(I-1)*$;return V.slice(A,A+$)},[V,I,$]);W.useEffect(()=>{O(1)},[l,n,o,i,r,s]);const B=A=>{const k=N(A)?A:y[0];z(k),Tt.setItem("ledger_pageSize",String(k)),O(1)},T=A=>h(A||0),D=A=>A==="invoice"?e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"F"})}):A==="expense"?e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"G"})}):A==="sale"?e.jsx("div",{className:"w-6 h-6 bg-green-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xs font-bold",children:"S"})}):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:f("ledger.totalCredit")}),e.jsx("div",{className:"text-xl font-semibold",children:T(V.reduce((A,k)=>A+k.credit,0))})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:f("ledger.totalDebit")}),e.jsx("div",{className:"text-xl font-semibold",children:T(V.reduce((A,k)=>A+k.debit,0))})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:f("ledger.netBalance")}),e.jsx("div",{className:"text-xl font-semibold",children:T(V.reduce((A,k)=>A+k.credit-k.debit,0))})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsxs("div",{className:"divide-y divide-gray-100",children:[G.map(A=>e.jsxs("div",{className:"grid grid-cols-12 items-center px-4 py-3",children:[e.jsxs("div",{className:"col-span-3 flex items-center gap-3",children:[D(A.type),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.description}),e.jsxs("div",{className:"text-xs text-gray-500",children:[A.reference?`Ref: ${A.reference}  `:"",A.customer||"-"]})]})]}),e.jsx("div",{className:"col-span-2 text-sm text-gray-700",children:A.date}),e.jsx("div",{className:"col-span-3 text-sm text-gray-700",children:A.category||"-"}),e.jsx("div",{className:"col-span-2 text-right",children:e.jsx("span",{className:`text-sm font-medium ${(A.displayDebit??A.debit)>0?"text-red-600":"text-gray-400"}`,children:T(A.displayDebit??A.debit)})}),e.jsx("div",{className:"col-span-2 text-right",children:e.jsx("span",{className:`text-sm font-medium ${(A.displayCredit??A.credit)>0?"text-green-600":"text-gray-400"}`,children:T(A.displayCredit??A.credit)})})]},A.id)),V.length===0&&e.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"Kayt bulunamad."})]}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:I,pageSize:$,total:V.length,onPageChange:O,onPageSizeChange:B})})]}),d&&e.jsx(Hp,{invoice:d,isOpen:!0,onClose:()=>u(null),onEdit:()=>{}}),x&&e.jsx(hv,{expense:x,isOpen:!0,onClose:()=>b(null),onEdit:()=>{}}),g&&e.jsx(Kp,{sale:g,isOpen:!0,onClose:()=>v(null),onEdit:()=>{}})]})}const Ji=a=>{if(typeof a=="number")return Number.isFinite(a)?a:0;if(a==null)return 0;const m=String(a).trim();if(!m)return 0;if(m.includes(".")&&m.includes(",")){const f=m.replace(/\./g,"").replace(/,/g,"."),c=parseFloat(f);return Number.isFinite(c)?c:0}if(m.includes(",")&&!m.includes(".")){const h=parseFloat(m.replace(/,/g,"."));return Number.isFinite(h)?h:0}const t=parseFloat(m.replace(/\s/g,""));return Number.isFinite(t)?t:0},zT=a=>{if(a==null)return"";const m=String(a);return/[",\n]/.test(m)?`"${m.replace(/"/g,'""')}"`:m},Ac=a=>{if(Array.isArray(a.items)&&a.items.length>0)return a.items.reduce((h,f)=>h+Ji(f.unitPrice)*Ji(f.quantity),0);const m=Ji(a.quantity??0),t=Ji(a.unitPrice??0);return m>0&&t>0?m*t:Ji(a.amount??a.total??0)},Sp=[20,50,100],Iu=a=>Sp.includes(a),LT=()=>{const a=Tt.getItem("sales_pageSize"),m=a?Number(a):Sp[0];return Iu(m)?m:Sp[0]};function OT({customers:a=[],sales:m=[],invoices:t=[],products:h=[],onSalesUpdate:f,onUpsertSale:c,onCreateInvoice:n,onEditInvoice:o,onDownloadSale:i,onDeleteSale:r}){const{t:s,i18n:l}=Zt("common"),{formatCurrency:d}=es(),[u,x]=W.useState(!1),[b,g]=W.useState(!1),[v,y]=W.useState(!1),[N,E]=W.useState(!1),[I,O]=W.useState(!1),[$,z]=W.useState(null),[U,V]=W.useState(null),[G,B]=W.useState(null),[T,D]=W.useState(null),[A,k]=W.useState(null),[S,j]=W.useState(!1),[C,P]=W.useState(""),[R,L]=W.useState("all"),[Y,Z]=W.useState(""),[ae,q]=W.useState(""),[X,F]=W.useState(null),[M,K]=W.useState(""),[se,oe]=W.useState("date"),[ne,le]=W.useState("desc"),Se=Wp(C,300),[je,ee]=W.useState(1),[ce,be]=W.useState(()=>LT()),{getDefault:Te}=Ba({listType:"sales"});W.useEffect(()=>{const de=Te();if(de&&de.state)try{P(de.state.searchTerm??""),L(de.state.statusFilter??"all"),Z(de.state.startDate??""),q(de.state.endDate??""),de.state.sortBy&&oe(de.state.sortBy),de.state.sortDir&&le(de.state.sortDir),de.state.pageSize&&Iu(de.state.pageSize)&&me(de.state.pageSize)}catch(Ye){he.warn("Failed to hydrate simple sales saved view",Ye)}},[]);const Ce=de=>{he.info("simpleSales.addSale.request",{viaUpsert:!!c,createInvoice:!!de.createInvoice}),c?(c(de),x(!1),k(null)):(B(de),y(!0))},Pe=de=>{if(!G)return;he.info("simpleSales.confirmation.accepted",{pendingSaleId:G.id,createInvoice:de});const Ye=G.id?String(G.id):`temp-${Date.now()}`,ut=G.date??G.saleDate??new Date().toISOString().split("T")[0],pt=Ji(G.quantity??1)||1,Le=Ji(G.unitPrice??0),Je=Ji(G.total??G.amount??Le*pt),ke=pt>0?Je/pt:Je,Me={id:Ye,saleNumber:G.saleNumber,customerName:G.customerName??"",customerEmail:G.customerEmail,productName:G.productName??"",quantity:pt,unitPrice:ke,amount:Je,total:Je,date:ut,status:G.status??"completed",paymentMethod:G.paymentMethod,items:G.items,notes:G.notes},He=[Me,...m];if(f&&f(He),de&&n){const at=G?.taxRate??18,ft=pt,Kt=Je,Re=(ke||Kt/ft)/(1+at/100),rt=Re*ft,mt={id:`inv-${Date.now()}`,invoiceNumber:`INV-${new Date().getFullYear()}-${String(Date.now()).slice(-3)}`,customerName:G.customerName,customerEmail:G.customerEmail||"",customerAddress:"",issueDate:ut,dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"sent",type:"product",items:[{id:"1",description:G.productName,quantity:ft,unitPrice:Re,total:rt}],subtotal:rt,taxAmount:Kt-rt,total:Kt,notes:`Bu fatura ${G.saleNumber||`SAL-${G.id}`} numaral sattan otomatik oluturulmutur.`};n(mt),setTimeout(()=>{i&&i(Me)},500)}y(!1),B(null)},Be=de=>{he.info("simpleSales.edit.opened",{saleId:de.id,saleNumber:de.saleNumber}),k(de),x(!0)},Ge=de=>{if(he.info("simpleSales.edit.submitted",{viaUpsert:!!c,saleId:de.id}),c)c(de),k(null),x(!1);else{const Ye=m.map(ut=>de.id&&String(ut.id)===String(de.id)?{...ut,...de}:ut);f&&f(Ye),k(null)}},st=async de=>{if(r){await r(de);return}if(!confirm(s("sales.deleteConfirm")))return;const Ye=m.filter(ut=>String(ut.id)!==String(de));f?.(Ye),b&&(g(!1),D(null))},bt=de=>{D(de),g(!0)},_e=W.useCallback(de=>{const Ye=Ji(de);return d(Ye)},[d]),We=W.useCallback(de=>{if(!de)return"";const Ye=new Date(de);if(Number.isNaN(Ye.getTime()))return"";const ut=l.language||"en",pt=ut.startsWith("tr")?"tr-TR":ut;try{return Ye.toLocaleDateString(pt)}catch(Le){return he.warn("Failed to format sale date",{dateString:de,error:Le}),Ye.toLocaleDateString("en-US")}},[l.language]),vt=W.useCallback(de=>{if(!de)return"";switch(de){case"cash":return s("common.cash");case"card":return s("common.card");case"transfer":return s("common.transfer");case"check":return s("common.check");default:return de}},[s]),At=m.reduce((de,Ye)=>de+Ac(Ye),0),Nt=m.filter(de=>de.status==="completed").length,De=(l.language||"").toLowerCase(),ge=De.startsWith("tr")?" (KDV Hari)":De.startsWith("en")?" (Net of VAT)":De.startsWith("fr")?" (HT)":De.startsWith("de")?" (netto)":"",Oe=m.filter(de=>{const Ye=En(Se),ut=de.items&&de.items.length>0&&de.items[0].productName||"",pt=(de.status||"").toString().toLowerCase(),Le=["completed","paid","invoiced","approved"].includes(pt)?"completed":["cancelled","canceled","void","refunded","deleted"].includes(pt)?"cancelled":(["pending","created","new","draft","open","processing"].includes(pt),"pending"),Je=[de.saleNumber,de.customerName,de.customerEmail,de.productName,ut,Le,de.date,String(Ac(de))].map(En).join(" "),ke=Ye.length===0||Je.includes(Ye),Me=R==="all"||Le===R,He=(de.date||"").slice(0,10),ot=!Y||He>=Y,at=!ae||He<=ae;return ke&&Me&&ot&&at}).sort((de,Ye)=>{switch(se){case"saleNumber":return Ps(de,Ye,ut=>ut.saleNumber||`SAL-${ut.id}`,ne,"string");case"customer":return Ps(de,Ye,ut=>ut.customerName||"",ne,"string");case"product":return Ps(de,Ye,pt=>pt.items&&pt.items.length>0?pt.items[0].productName||"":pt.productName||"",ne,"string");case"amount":return Ps(de,Ye,pt=>Vr(pt.amount??pt.total??Vr(pt.quantity)*Vr(pt.unitPrice)),ne,"number");case"status":return Ps(de,Ye,ut=>ut.status,ne,"string",mE);case"date":default:return Ps(de,Ye,ut=>ea(ut.date),ne,"date")}}),Ke=W.useMemo(()=>{const de=(je-1)*ce;return Oe.slice(de,de+ce)},[Oe,je,ce]),pe=W.useCallback(()=>{if(!(typeof window>"u")){if(!Oe.length){he.info("simpleSales.export.skipped",{reason:"empty"});return}try{const de=[s("sales.sale",{defaultValue:"Sale"}),s("sales.customer",{defaultValue:"Customer"}),s("sales.productService",{defaultValue:"Product/Service"}),s("sales.amount",{defaultValue:"Amount"}),s("sales.status",{defaultValue:"Status"}),s("sales.date",{defaultValue:"Date"}),s("sales.paymentMethod",{defaultValue:"Payment Method"})],Ye=Oe.map(ke=>{const Me=Rt(s,$r(ke.status)),He=Array.isArray(ke.items)&&ke.items.length>0?`${ke.items[0].productName}${ke.items.length>1?` (+${ke.items.length-1})`:""}`:ke.productName;return[ke.saleNumber||`SAL-${ke.id}`,ke.customerName,He,_e(Ac(ke)),Me,We(ke.date),vt(ke.paymentMethod)||""]}),ut=[de,...Ye].map(ke=>ke.map(zT).join(",")).join(`\r
`),pt=new Blob(["\uFEFF"+ut],{type:"text/csv;charset=utf-8;"}),Le=URL.createObjectURL(pt),Je=document.createElement("a");Je.href=Le,Je.download=`sales_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),URL.revokeObjectURL(Le),he.info("simpleSales.export.completed",{rowCount:Ye.length})}catch(de){he.error("simpleSales.export.failed",{error:de})}}},[Oe,_e,We,vt,s]);W.useEffect(()=>{ee(1)},[Se,R,se,ne,Y,ae]);const me=de=>{if(!Iu(de)){he.warn("Attempted to set invalid sales page size",de);return}be(de),Tt.setItem("sales_pageSize",String(de)),ee(1)},xe=de=>{se===de?le(Ye=>Ye==="asc"?"desc":"asc"):(oe(de),le(de==="amount"||de==="date"?"desc":"asc"))},te=({active:de})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:de?ne==="asc"?"":"":""}),we=de=>{const Ye=$r(de),ut=["completed","paid","invoiced","approved"].includes(Ye),pt=["cancelled"].includes(Ye),Le=ut?"completed":pt?"cancelled":"pending",ke={completed:{label:Rt(s,"completed"),class:"bg-green-100 text-green-800"},pending:{label:Rt(s,"pending"),class:"bg-yellow-100 text-yellow-800"},cancelled:{label:Rt(s,"cancelled"),class:"bg-red-100 text-red-800"}}[Le]||{label:Rt(s,Ye),class:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ke.class}`,children:ke.label})},Ue=(de,Ye,ut)=>{F({saleId:de,field:Ye}),K(String(ut))},et=de=>{if(!X)return;const Ye={...de};if(X.field==="amount"){const pt=parseFloat(M)||0;Ye.amount=pt}else X.field==="status"&&(Ye.status=M);const ut=m.map(pt=>pt.id===de.id?Ye:pt);f&&f(ut),F(null),K("")},dt=()=>{F(null),K("")},St=de=>{he.info("simpleSales.invoice.requested",{saleId:de.id,saleNumber:de.saleNumber});const Ye=t.find(ut=>ut.saleId&&String(ut.saleId)===String(de.id)||de.invoiceId&&String(de.invoiceId)===String(ut.id));Ye?(he.info("simpleSales.invoice.existingFound",{saleId:de.id,saleNumber:de.saleNumber,invoiceId:Ye.id,invoiceNumber:Ye.invoiceNumber,hasCustomer:!!Ye.customer}),V(Ye),O(!0)):(he.info("simpleSales.invoice.createFlow.start",{saleId:de.id,saleNumber:de.saleNumber}),z(de),E(!0))},Ut=async()=>{if(!(!$||S)){j(!0);try{const de=$;if(de.invoiceId){he.info("simpleSales.invoice.linkedSaleDetected",{saleId:de.id,invoiceId:de.invoiceId});const jt=t.find(Ie=>Ie.id===de.invoiceId);if(jt){E(!1),z(null),V(jt),O(!0);return}}he.debug("simpleSales.invoice.buildInput.start",{saleCustomerName:de.customerName,saleCustomerEmail:de.customerEmail,totalCustomers:a.length});const Ye=de.quantity&&de.quantity>0?de.quantity:1,ut=de.productId?h.find(jt=>String(jt.id)===String(de.productId)):h.find(jt=>jt.name.toLowerCase()===(de.productName||"").toLowerCase()),pt=de.unitPrice&&de.unitPrice>0?de.unitPrice:ut?.unitPrice??0,Le=de.amount&&de.amount>0?de.amount:pt*Ye,Je=Number.isFinite(Le)?Le:0,ke=Ye>0?Je/Ye:pt,Me=(ut?.category||"").toLowerCase().trim(),He=(ut?.name||de.productName||"").toLowerCase().trim();he.debug("simpleSales.invoice.typeDetection",{productName:ut?.name||de.productName,categoryRaw:ut?.category,categoryLower:Me,productNameLower:He});let ot="product";const at=["hizmet","danmanlk","danismanlik","eitim","egitim","reklam","pazarlama"];if(at.some(jt=>Me.includes(jt))?(ot="service",he.debug("simpleSales.invoice.typeDetection.categoryMatch",{invoiceType:ot})):Me.length===0?at.some(jt=>He.includes(jt))?(ot="service",he.debug("simpleSales.invoice.typeDetection.nameMatch")):he.debug("simpleSales.invoice.typeDetection.defaultProduct"):he.debug("simpleSales.invoice.typeDetection.categoryDefault"),he.info("simpleSales.invoice.typeDetection.result",{invoiceType:ot}),a.length===0){he.error("simpleSales.invoice.noCustomers"),alert(`Fatura oluturmak iin nce en az bir mteri eklemelisiniz.

"Mteriler" sayfasndan yeni mteri ekleyebilirsiniz.`),E(!1),z(null);return}const ft=de.customerName?.toLowerCase().trim()||"",Kt=de.customerEmail?.toLowerCase().trim()||"",zt=a.find(jt=>{const Ie=jt.name?.toLowerCase().trim()||"",ht=jt.email?.toLowerCase().trim()||"";return Ie===ft||ht===Kt||Ie.includes(ft)||ft.includes(Ie)});he.debug("simpleSales.invoice.customerMatch",{found:!!zt,matchedCustomerId:zt?.id});const Re=zt||a[0];zt||he.warn("simpleSales.invoice.customerFallback",{fallbackCustomerId:Re.id});const rt=ut?.taxRate??18,mt=Ye>0?ke/(1+rt/100):ke,Dt=mt*Ye,_t={saleId:de.id,customerId:String(Re.id),type:ot,issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],status:"sent",lineItems:[{productId:ut?.id,productName:ut?.name||de.productName,description:ut?.name||de.productName,quantity:Ye,unitPrice:mt,total:Dt,taxRate:rt}],subtotal:Dt,taxAmount:Je-Dt,total:Je,notes:"Bu fatura "+(de.saleNumber||"SAL-"+de.id)+" numaral sattan oluturulmutur."};he.debug("simpleSales.invoice.payloadPrepared",{customerId:_t.customerId,saleId:_t.saleId,totalWithTax:Je,unitPriceWithTax:ke,quantity:Ye});try{if(n){const jt=await n(_t);if(jt&&jt.id){he.info("simpleSales.invoice.created",{invoiceId:jt.id,saleId:de.id});const Ie={...de,invoiceId:jt.id},ht=m.map(Vt=>Vt.id===de.id?Ie:Vt);f&&f(ht),he.debug("simpleSales.invoice.saleLinked",{saleId:de.id,invoiceId:jt.id}),E(!1),z(null)}else he.error("simpleSales.invoice.missingId",{saleId:de.id})}}catch(jt){he.error("simpleSales.invoice.createFailed",{saleId:de.id,error:jt});return}}finally{j(!1)}}},ve=()=>{E(!1),z(null),j(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Bs,{className:"w-8 h-8 text-green-600 mr-3"}),s("sidebar.sales")]}),e.jsx("p",{className:"text-gray-600",children:s("sales.subtitle")})]}),e.jsxs("button",{onClick:()=>{he.debug("simpleSales.modal.openNewSaleFromHeader"),k(null),x(!0)},className:"flex items-center gap-2 self-start rounded-lg bg-green-600 px-4 py-2 text-white transition-colors hover:bg-green-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:s("sales.newSale")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pn,{className:"w-8 h-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600",children:s("sales.totalSales")+ge}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:_e(At)})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(mn,{className:"w-8 h-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:s("sales.totalSalesCount")}),e.jsx("p",{className:"text-xl font-bold text-blue-700",children:m.length})]})]})}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(is,{className:"w-8 h-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600",children:s("sales.completed")}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:Nt})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s("sales.salesList")}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[m.length," ",s("sales.salesRegistered")]}),e.jsxs("button",{type:"button",onClick:pe,className:"inline-flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-green-700 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:s("sales.exportCsv",{defaultValue:"Export CSV"})})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[e.jsxs("div",{className:"relative w-full md:flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:s("sales.search"),value:C,onChange:de=>P(de.target.value),className:"w-full rounded-lg border border-gray-300 py-2 pl-10 pr-4 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsxs("select",{value:R,onChange:de=>L(de.target.value),className:"w-full rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 md:w-56",children:[e.jsx("option",{value:"all",children:l.language==="tr"?"Tm Durumlar":l.language==="en"?"All Statuses":l.language==="de"?"Alle Status":l.language==="fr"?"Tous les Statuts":"All Statuses"}),e.jsx("option",{value:"completed",children:Rt(s,"completed")}),e.jsx("option",{value:"pending",children:Rt(s,"pending")}),e.jsx("option",{value:"cancelled",children:Rt(s,"cancelled")})]})]}),e.jsxs("div",{className:"grid w-full gap-2 sm:grid-cols-2 md:max-w-md",children:[e.jsx("input",{type:"date",value:Y,onChange:de=>Z(de.target.value),placeholder:s("startDate"),className:"rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"}),e.jsx("input",{type:"date",value:ae,onChange:de=>q(de.target.value),placeholder:s("endDate"),className:"rounded-lg border border-gray-300 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsx("div",{className:"flex w-full flex-wrap justify-start gap-2 sm:justify-end",children:e.jsx(jo,{listType:"sales",getState:()=>({searchTerm:C,statusFilter:R,startDate:Y,endDate:ae,sortBy:se,sortDir:ne,pageSize:ce}),applyState:de=>{const Ye=de||{};P(Ye.searchTerm??""),L(Ye.statusFilter??"all"),Z(Ye.startDate??""),q(Ye.endDate??""),Ye.sortBy&&oe(Ye.sortBy),Ye.sortDir&&le(Ye.sortDir),Ye.pageSize&&Iu(Ye.pageSize)&&me(Ye.pageSize)},presets:[{id:"this-month",label:s("presets.thisMonth"),apply:()=>{const de=new Date,Ye=new Date(de.getFullYear(),de.getMonth(),1).toISOString().slice(0,10),ut=new Date(de.getFullYear(),de.getMonth()+1,0).toISOString().slice(0,10);Z(Ye),q(ut)}},{id:"completed",label:Rt(s,"completed"),apply:()=>L("completed")},{id:"pending",label:Rt(s,"pending"),apply:()=>L("pending")},{id:"cancelled",label:Rt(s,"cancelled"),apply:()=>L("cancelled")}]})})]})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:Oe.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Bs,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s(C||R!=="all"?"sales.noSalesFound":"sales.noSales")}),e.jsx("p",{className:"text-gray-500 mb-4",children:s(C||R!=="all"?"sales.noSalesFoundDesc":"sales.noSalesDesc")}),!C&&R==="all"&&e.jsx("button",{onClick:()=>{he.debug("simpleSales.modal.openNewSaleFromEmptyState"),k(null),x(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:s("sales.createFirstSale")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto relative",children:e.jsxs("table",{className:"w-full text-sm table-auto lg:min-w-[1024px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>xe("saleNumber"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-full md:w-40",children:[s("sales.sale"),e.jsx(te,{active:se==="saleNumber"})]}),e.jsxs("th",{onClick:()=>xe("customer"),className:"hidden md:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-56",children:[s("sales.customer"),e.jsx(te,{active:se==="customer"})]}),e.jsxs("th",{onClick:()=>xe("product"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-[320px]",children:[s("sales.productService"),e.jsx(te,{active:se==="product"})]}),e.jsxs("th",{onClick:()=>xe("amount"),className:"px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("sales.amount"),e.jsx(te,{active:se==="amount"})]}),e.jsxs("th",{onClick:()=>xe("status"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-40",children:[s("sales.status"),e.jsx(te,{active:se==="status"})]}),e.jsx("th",{className:"hidden xl:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40",children:s("customer.historyColumns.createdBy")}),e.jsxs("th",{onClick:()=>xe("date"),className:"hidden lg:table-cell px-4 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none w-32",children:[s("sales.date"),e.jsx(te,{active:se==="date"})]}),e.jsx("th",{className:"hidden md:table-cell px-4 md:px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-32 lg:w-44 min-w-[140px] lg:min-w-[176px] sticky right-0 bg-gray-50 z-10",children:s("sales.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ke.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"px-4 md:px-6 py-4 align-top",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Bs,{className:"w-4 h-4 text-green-600"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.jsx("button",{onClick:()=>bt(de),className:"text-green-600 hover:text-green-800 font-medium transition-colors cursor-pointer",title:s("sales.viewSale"),children:de.saleNumber||`SAL-${de.id}`})})})]}),e.jsxs("div",{className:"mt-3 space-y-2 text-xs text-gray-600 md:hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("sales.customer"),":"]}),e.jsx("span",{className:"text-gray-900",children:de.customerName})]}),de.items&&de.items.length>0?e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("sales.productService"),":"]}),e.jsx("span",{className:"text-gray-900",children:de.items[0].productName})]}):e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("sales.productService"),":"]}),e.jsx("span",{className:"text-gray-900",children:de.productName})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("sales.amount"),":"]}),e.jsx("span",{className:"text-gray-900 font-semibold",children:_e(Ac(de))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:"text-gray-500 font-medium",children:[s("sales.status"),":"]}),we(de.status)]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Or,{className:"w-3 h-3"}),e.jsx("span",{children:We(de.date)}),de.paymentMethod&&e.jsxs("span",{className:"text-gray-500",children:[" ",vt(de.paymentMethod)]})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 md:hidden",children:[e.jsx("button",{onClick:()=>bt(de),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.viewSale"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Be(de),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.editSale"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i?.(de),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>St(de),className:`inline-flex items-center justify-center w-9 h-9 rounded transition-colors ${t.some(Ye=>Ye.saleId&&String(Ye.saleId)===String(de.id)||de.invoiceId&&String(de.invoiceId)===String(Ye.id))?"text-blue-600 hover:text-blue-700 hover:bg-blue-50 bg-blue-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:t.some(Ye=>Ye.saleId&&String(Ye.saleId)===String(de.id)||de.invoiceId&&String(de.invoiceId)===String(Ye.id))?s("sales.viewSale"):s("sales.createInvoice"),children:e.jsx(qr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>st(de.id),className:"inline-flex items-center justify-center w-9 h-9 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("sales.deleteSale"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})]}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:de.customerName}),de.customerEmail&&e.jsx("div",{className:"text-xs text-gray-500 hidden lg:block",children:de.customerEmail})]})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:de.items&&de.items.length>0?e.jsx("div",{children:e.jsxs("div",{className:"text-sm text-gray-900 truncate max-w-[260px]",title:de.items[0].productName,children:[de.items[0].productName,de.items.length>1&&e.jsxs("span",{className:"ml-2 text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded whitespace-nowrap",children:["+",de.items.length-1," rn"]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[260px]",title:de.productName,children:de.productName}),de.quantity&&de.unitPrice&&e.jsxs("div",{className:"text-xs text-gray-500",children:[de.quantity," x ",_e(de.unitPrice)]})]})}),e.jsx("td",{className:"px-4 md:px-6 py-4 text-left md:text-right whitespace-normal md:whitespace-nowrap",children:X?.saleId===de.id&&X?.field==="amount"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:M,onChange:Ye=>K(Ye.target.value),className:"w-24 text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500",min:"0",step:"0.01"}),e.jsx("button",{onClick:()=>et(de),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:e.jsx(ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:dt,className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(kr,{className:"w-4 h-4"})})]}):e.jsx("span",{onClick:()=>Ue(de.id,"amount",de.amount),className:"text-sm font-semibold text-green-600 cursor-pointer hover:bg-green-50 rounded p-1 transition-colors",title:"Tutar dzenlemek iin tklayn",children:_e(Ac(de))})}),e.jsx("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap",children:X?.saleId===de.id&&X?.field==="status"?e.jsxs("div",{className:"flex items-center space-x-2 flex-nowrap z-10",children:[e.jsxs("select",{value:M,onChange:Ye=>K(Ye.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-green-500 w-[120px] max-w-[120px]",children:[e.jsx("option",{value:"completed",children:Rt(s,"completed")}),e.jsx("option",{value:"pending",children:Rt(s,"pending")}),e.jsx("option",{value:"cancelled",children:Rt(s,"cancelled")})]}),e.jsx("button",{onClick:()=>et(de),className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-green-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-green-500","aria-label":s("common.save"),children:e.jsx(ns,{className:"w-4 h-4 shrink-0 text-green-600"})}),e.jsx("button",{onClick:dt,className:"inline-flex items-center justify-center w-7 h-7 rounded-md hover:bg-red-50 focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:ring-red-500","aria-label":s("common.cancel"),children:e.jsx(kr,{className:"w-4 h-4 shrink-0 text-red-600"})})]}):e.jsx("div",{onClick:()=>Ue(de.id,"status",de.status),className:"cursor-pointer hover:opacity-80 transition-opacity inline-block",title:s("sales.editSale"),children:we(de.status)})}),e.jsx("td",{className:"hidden xl:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:de.createdByName||""}),e.jsxs("td",{className:"hidden lg:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),We(de.date)]}),de.paymentMethod&&e.jsx("div",{className:"text-xs text-gray-400",children:vt(de.paymentMethod)})]}),e.jsx("td",{className:"hidden md:table-cell px-4 md:px-6 py-4 whitespace-nowrap text-right text-sm font-medium sticky right-0 bg-white z-10 min-w-[140px] lg:min-w-[176px]",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>bt(de),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.viewSale"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Be(de),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.editSale"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i?.(de),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:s("sales.download"),children:e.jsx(vs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>St(de),className:`inline-flex items-center justify-center w-8 h-8 rounded transition-colors ${t.some(Ye=>Ye.saleId&&String(Ye.saleId)===String(de.id)||de.invoiceId&&String(de.invoiceId)===String(Ye.id))?"text-blue-600 hover:text-blue-700 hover:bg-blue-50 bg-blue-50":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:t.some(Ye=>Ye.saleId&&String(Ye.saleId)===String(de.id)||de.invoiceId&&String(de.invoiceId)===String(Ye.id))?s("sales.viewSale"):s("sales.createInvoice"),children:e.jsx(qr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>st(de.id),className:"inline-flex items-center justify-center w-8 h-8 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:s("sales.deleteSale"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})})]},`${de.id}-${de.saleNumber||""}`))})]})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:je,pageSize:ce,total:Oe.length,onPageChange:ee,onPageSizeChange:me})})]})})]}),e.jsx(ov,{isOpen:u,onClose:()=>{he.debug("simpleSales.modal.closeSaleModal"),x(!1),k(null)},onSave:A?Ge:Ce,sale:A,customers:a||[],products:h}),e.jsx(Kp,{isOpen:b,onClose:()=>{g(!1),D(null)},sale:T,onEdit:de=>{g(!1),Be(de)},onDelete:de=>st(de),onDownload:i}),v&&G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Fs,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("sales.saleCompleted")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("sales.createInvoiceQuestion")})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:s("sales.saleSummary")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[s("sales.customer"),":"]}),e.jsx("span",{className:"font-medium",children:G.customerName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[s("sales.productService"),":"]}),e.jsx("span",{className:"font-medium",children:G.productName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:[s("sales.amount"),":"]}),e.jsx("span",{className:"font-bold text-green-600",children:_e(G.total||0)})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qr,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:s("sales.createInvoiceQuestion")}),e.jsx("p",{className:"text-xs text-blue-600",children:s("sales.invoiceWillBeDownloaded")})]})]})})]})}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:()=>Pe(!1),className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:s("sales.recordOnlySale",{defaultValue:"Only Sale"})}),e.jsxs("button",{onClick:()=>Pe(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2",children:[e.jsx(qr,{className:"w-4 h-4"}),e.jsx("span",{children:s("sales.recordSaleWithInvoice",{defaultValue:"Sale with Invoice"})})]})]})]})}),e.jsx(Hp,{isOpen:I,onClose:()=>{O(!1),V(null)},invoice:U,onEdit:de=>{O(!1),V(null),V(null),o&&o(de)},onDownload:de=>{Dr(async()=>{const{generateInvoicePDF:Ye}=await import("./pdfGenerator-CM7tmRPw.js").then(ut=>ut.p);return{generateInvoicePDF:Ye}},[]).then(({generateInvoicePDF:Ye})=>{const ut={...de,customerName:de.customer?.name||de.customerName||"Mteri Yok",customerEmail:de.customer?.email||de.customerEmail||"",customerAddress:de.customer?.address||de.customerAddress||""};Ye(ut)})}}),N&&$&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("sales.createInvoice")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("sales.createInvoiceQuestion")})]})]}),e.jsx("button",{onClick:ve,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(kr,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Bs,{className:"w-5 h-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-2",children:s("sales.saleSummary")}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:[e.jsxs("strong",{children:[s("sales.customer"),":"]})," ",$.customerName]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:[e.jsxs("strong",{children:[s("sales.productService"),":"]})," ",$.productName]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[e.jsxs("strong",{children:[s("sales.amount"),":"]})," ",_e($.amount)]})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qr,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800 mb-1",children:s("sales.confirmInvoiceCreation")}),e.jsx("p",{className:"text-xs text-blue-600",children:s("sales.invoiceWillOpen")})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:ve,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:s("common.cancel")}),e.jsx("button",{onClick:Ut,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:S?e.jsxs(e.Fragment,{children:[e.jsx(Gu,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:s("sales.creatingInvoice",{defaultValue:"Creating..."})})]}):e.jsxs(e.Fragment,{children:[e.jsx(qr,{className:"w-4 h-4"}),e.jsx("span",{children:s("sales.confirmInvoiceAction",{defaultValue:"Yes, Create"})})]})})]})]})})]})}const Av=(...a)=>{for(const m of a)if(typeof m=="number"&&Number.isFinite(m))return m},FT=a=>{if(!a)return[];try{const m=JSON.parse(a);return Array.isArray(m)?m.map(t=>{if(!t||typeof t!="object")return null;const h=t,f=typeof h.id=="string"?h.id:void 0,c=typeof h.name=="string"?h.name:void 0,n=typeof h.html=="string"?h.html:void 0;return!f||!c||!n?null:{id:f,name:c,html:n}}).filter(t=>!!t):[]}catch(m){return he.warn("[QuoteCreateModal] Failed to parse quote templates",m),[]}},BT=()=>{try{const a=hn(),m=a?`companyProfile_${a}`:"companyProfile",t=Tt.getItem(m)||Tt.getItem(`${m}_plain`)||Tt.getItem("company");if(!t)return{};const h=JSON.parse(t);return{name:typeof h.name=="string"?h.name:void 0,email:typeof h.email=="string"?h.email:void 0,phone:typeof h.phone=="string"?h.phone:void 0,address:typeof h.address=="string"?h.address:void 0}}catch(a){return he.warn("[QuoteCreateModal] Failed to load organization profile",a),{}}},UT=a=>a?{company:a.company,name:a.name,email:a.email,address:a.address}:{},py=(a,m,t,h,f)=>({quote:{date:m,validUntil:t,total:h,currency:f},org:BT(),client:UT(a)}),gy=(a,m)=>Av(a.unitPrice,a.price,m)??0,Uf=a=>{if(a)return Av(a.stock,a.stockQuantity)},Vf=(a,m)=>new Date(a.getTime()+m*864e5),du=a=>a.toISOString().slice(0,10),Ev=({isOpen:a,onClose:m,customers:t,products:h,defaultCurrency:f,onCreate:c,onOpenTemplatesManager:n,enableTemplates:o})=>{const{t:i}=Zt(),{formatCurrency:r,currency:s}=es(),[l,d]=W.useState(()=>{const K=new Date;return{currency:f??s??"TRY",issueDate:du(K),validUntil:du(Vf(K,30)),validityDays:30}}),[u,x]=W.useState([{id:"1",description:"",quantity:1,unitPrice:0,total:0}]),[b,g]=W.useState(""),[v,y]=W.useState(!1),[N,E]=W.useState(null),[I,O]=W.useState(null),[$,z]=W.useState(""),U=Gt.useRef(null),[V,G]=W.useState(!1),[B,T]=W.useState([]),[D,A]=W.useState(""),[k,S]=W.useState(null),j=W.useMemo(()=>{const K=b.trim().toLowerCase();return t.filter(se=>{const oe=(se.name||"").toLowerCase(),ne=(se.company||"").toLowerCase();return K?oe.includes(K)||ne.includes(K):!0})},[t,b]),C=K=>{const se=K.trim().toLowerCase();return h.filter(oe=>!se||oe.name.toLowerCase().includes(se)||(oe.sku||"").toLowerCase().includes(se)||(oe.category||"").toLowerCase().includes(se)).slice(0,12)},P=()=>{const K={id:Date.now().toString(),description:"",quantity:1,unitPrice:0,total:0};x(se=>[...se,K])},R=K=>{x(se=>se.length===1?se:se.filter(oe=>oe.id!==K)),O(se=>se===K?null:se)},L=(K,se,oe)=>{x(ne=>ne.map(le=>{if(le.id!==K)return le;const Se={...le,[se]:oe};if(se==="quantity"||se==="unitPrice"){const je=Number(se==="quantity"?oe:Se.quantity)||0,ee=Number(se==="unitPrice"?oe:Se.unitPrice)||0;Se.total=je*ee}return Se}))},Y=W.useMemo(()=>u.reduce((K,se)=>K+(Number(se.total)||0),0),[u]);Gt.useEffect(()=>{if(a)try{const K=hn(),se=K?`quote_templates_${K}`:"quote_templates",oe=Tt.getItem(se);T(FT(oe))}catch(K){he.warn("[QuoteCreateModal] Failed to read templates from storage",K),T([])}},[a]);const Z=async()=>{if(!D)return;const K=B.find(se=>se.id===D);if(K)try{const{fillTemplate:se}=await Dr(async()=>{const{fillTemplate:le}=await Promise.resolve().then(()=>yy);return{fillTemplate:le}},void 0),oe=py(N,l.issueDate,l.validUntil,Y,l.currency),ne=se(K.html,oe);z(ne),G(!1)}catch(se){he.warn("[QuoteCreateModal] Failed to apply template",se)}};Gt.useEffect(()=>{(async()=>{if(!o||!D||!a||V)return;const K=B.find(se=>se.id===D);if(K)try{const{fillTemplate:se}=await Dr(async()=>{const{fillTemplate:le}=await Promise.resolve().then(()=>yy);return{fillTemplate:le}},void 0),oe=py(N,l.issueDate,l.validUntil,Y,l.currency),ne=se(K.html,oe);z(ne)}catch(se){he.warn("[QuoteCreateModal] Failed to refresh template preview",se)}})()},[D,N,l.issueDate,l.validUntil,Y,l.currency,a,o]);const[ae,q]=W.useState(null);if(!a)return null;const X=K=>{E(K),g(K.name),y(!1)},F=(K,se)=>{x(le=>le.map(Se=>{if(Se.id!==K)return Se;const je=Se.quantity>0?Se.quantity:1,ee=gy(se,Se.unitPrice);return{...Se,productId:String(se.id),description:se.name,unit:se.unit,unitPrice:ee,quantity:je,total:je*ee}})),O(null);const oe=u.find(le=>le.id===K)?.quantity||1,ne=Uf(se);typeof ne=="number"&&oe>ne&&S({itemId:K,product:se,requested:oe,available:ne})},M=()=>{if(N&&!(u.length===0||u.every(K=>!K.description||(Number(K.total)||0)<=0))){for(const K of u){const se=K.productId;let oe;if(se&&(oe=h.find(ne=>String(ne.id)===String(se))),!oe&&K.description){const ne=String(K.description).trim().toLowerCase();oe=h.find(le=>String(le.name||"").trim().toLowerCase()===ne)||h.find(le=>String(le.name||"").toLowerCase().includes(ne))}if(oe){const ne=Uf(oe),le=Number(K.quantity)||0;if(typeof ne=="number"&&le>ne){S({itemId:String(K.id),product:oe,requested:le,available:ne});return}}}q({title:i("common.confirm",{defaultValue:"Onay"}),message:i("quotes.createConfirm",{defaultValue:"Teklifi kaydetmek istediinize emin misiniz?"}),onConfirm:()=>{c({customer:N,issueDate:l.issueDate,validUntil:l.validUntil,currency:l.currency,items:u,total:Y,scopeOfWorkHtml:$}),q(null)}})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 h-full w-full flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:i("quotes.createModal.title")})}),e.jsxs("div",{className:"px-6 py-4 space-y-4 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("invoices.customerName")}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:b,onChange:K=>{g(K.target.value),E(null),y(K.target.value.length>0)},onFocus:()=>y(!0),className:"w-full pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:i("invoices.customerSearchPlaceholder")}),N&&e.jsx(ns,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-indigo-600 w-4 h-4"})]}),v&&j.length>0&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-56 overflow-y-auto",children:[e.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b",children:[j.length," mteri bulundu"]}),j.map(K=>e.jsxs("button",{type:"button",onMouseDown:se=>se.preventDefault(),onClick:()=>X(K),className:"w-full p-3 text-left hover:bg-indigo-50 border-b last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:K.name}),K.company&&e.jsx("div",{className:"text-xs text-gray-600",children:K.company}),e.jsx("div",{className:"text-xs text-gray-500",children:K.email})]},K.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("quotes.createModal.currency")}),e.jsxs("select",{value:l.currency,onChange:K=>d(se=>({...se,currency:K.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"TRY",children:"TRY"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("quotes.createModal.date")}),e.jsx("input",{type:"date",value:l.issueDate,onChange:K=>d(se=>({...se,issueDate:K.target.value,validUntil:du(Vf(new Date(K.target.value),se.validityDays||30))})),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("quotes.validUntil")}),e.jsx("input",{type:"date",value:l.validUntil,onChange:K=>d(se=>({...se,validUntil:K.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("quotes.validityDays",{defaultValue:"Geerlilik (gn)"})}),e.jsx("input",{type:"number",min:1,value:l.validityDays,onChange:K=>d(se=>{const oe=Math.max(1,parseInt(K.target.value||"1",10));return{...se,validityDays:oe,validUntil:du(Vf(new Date(se.issueDate),oe))}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:i("invoices.productsAndServices")}),e.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),e.jsx("span",{children:i("invoices.addLine")})]})]}),e.jsx("div",{className:"overflow-x-auto",style:{overflow:"visible"},children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg table-fixed",style:{position:"relative"},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"44%"},children:i("invoices.description")}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"12%"},children:i("invoices.quantity")}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"18%"},children:i("invoices.unitPriceExclVAT",{defaultValue:"Birim Fiyat (KDV Hari)"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-700",style:{width:"18%"},children:i("common.totalExclVAT",{defaultValue:"Toplam (KDV Hari)"})}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-700",style:{width:"8%"},children:i("invoices.actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",style:{position:"relative"},children:u.map(K=>{const se=C(K.description);return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-2",style:{position:"static"},children:[e.jsxs("div",{className:"relative",style:{position:"static"},children:[e.jsx("input",{type:"text",value:K.description,onChange:oe=>{L(K.id,"description",oe.target.value),oe.target.value.length>0&&O(K.id)},onClick:()=>{K.description.length>0&&O(K.id)},onBlur:()=>setTimeout(()=>O(oe=>oe===K.id?null:oe),200),className:"w-full px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",placeholder:i("invoices.productServiceDescription")}),I===K.id&&se.length>0&&e.jsxs("div",{className:"absolute z-[100] mt-1 w-[450px] left-0 rounded-lg border-2 border-gray-300 bg-white shadow-2xl max-h-[400px] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-indigo-50 p-2 text-xs font-medium text-indigo-700 border-b border-indigo-200",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ms,{className:"w-3 h-3 mr-1"}),se.length," rn bulundu"]})}),se.map(oe=>e.jsxs("button",{type:"button",onMouseDown:ne=>ne.preventDefault(),onClick:()=>F(K.id,oe),className:"w-full p-3 text-left hover:bg-indigo-50 border-b border-gray-100 last:border-b-0 transition-colors",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-0.5",children:oe.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[oe.sku&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 rounded",children:["SKU: ",oe.sku]}),e.jsx("span",{className:"font-medium text-green-600",children:gy(oe,0).toLocaleString("tr-TR",{minimumFractionDigits:2})})]})]},`${K.id}-${oe.id}`))]})]}),K.unit&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Birim: ",K.unit]})]}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",value:K.quantity,onChange:oe=>{const ne=parseInt(oe.target.value,10)||1;L(K.id,"quantity",ne);const le=u.find(Se=>Se.id===K.id);if(le?.productId){const Se=h.find(je=>String(je.id)===String(le.productId));if(Se){const je=Uf(Se);typeof je=="number"&&ne>je&&S({itemId:K.id,product:Se,requested:ne,available:je})}}},className:"w-20 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:1,step:1})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"number",value:K.unitPrice,onChange:oe=>L(K.id,"unitPrice",parseFloat(oe.target.value)||0),className:"w-24 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",min:0,step:.01})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"font-medium text-gray-900",children:(K.total||0).toLocaleString("tr-TR",{minimumFractionDigits:2})})}),e.jsx("td",{className:"px-4 py-2 text-center",children:e.jsx("button",{onClick:()=>R(K.id),disabled:u.length===1,className:"p-1 text-red-600 hover:bg-red-50 rounded disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Yr,{className:"w-4 h-4"})})})]},K.id)})})]})})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 flex justify-end",children:e.jsxs("div",{className:"w-64 flex justify-between text-lg font-semibold",children:[e.jsxs("span",{children:[i("invoices.grandTotalExclVAT",{defaultValue:"Genel Toplam (KDV Hari)"}),":"]}),e.jsx("span",{children:r(Y,l.currency)})]})}),e.jsxs("div",{className:"mt-4",ref:U,children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),o&&B.length>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("select",{value:D,onChange:K=>A(K.target.value),className:"px-2 py-1 border rounded text-sm",children:[e.jsx("option",{value:"",children:i("quotes.templates.selectPlaceholder",{defaultValue:"ablon sein"})}),B.map(K=>e.jsx("option",{value:K.id,children:K.name},K.id))]}),e.jsx("button",{onClick:Z,disabled:!D,className:"px-2.5 py-1.5 text-xs rounded bg-indigo-600 text-white disabled:opacity-50",children:i("quotes.templates.apply",{defaultValue:"Uygula"})}),e.jsx("button",{onClick:n,className:"px-2.5 py-1.5 text-xs rounded border",children:i("quotes.templates.manage",{defaultValue:"ablonlar Ynet"})})]}),o&&B.length===0&&e.jsx("div",{className:"mb-2",children:e.jsx("button",{onClick:n,className:"px-2.5 py-1.5 text-xs rounded border",children:i("quotes.templates.create",{defaultValue:"ablon Olutur"})})}),e.jsx(Gp,{value:$,onChange:K=>{z(K),G(!0)},placeholder:i("quotes.scopeOfWork.placeholder",{defaultValue:"Proje kapsam, teslimatlar, varsaymlar ve hariler..."}),height:240}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i("quotes.scopeOfWork.note",{defaultValue:"Bu ierik teklif PDFinde mevcut blmden sonra yeni bir sayfa olarak eklenecek ve genel linkte grnecek."})})]})]}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 flex justify-end gap-3",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:i("common.cancel")}),e.jsx("button",{onClick:M,disabled:!N||Y<=0,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i("quotes.createModal.create")})]})]})}),k&&e.jsx(xm,{isOpen:!0,product:k.product,requested:k.requested,available:k.available,onAdjust:()=>{x(K=>K.map(se=>se.id===k.itemId?{...se,quantity:k.available,total:k.available*(Number(se.unitPrice)||0)}:se))},onClose:()=>S(null)}),ae&&e.jsx(na,{isOpen:!0,title:ae.title,message:ae.message,confirmText:i("common.yes",{defaultValue:"Evet"}),cancelText:i("common.no",{defaultValue:"Hayr"}),onConfirm:ae.onConfirm,onCancel:()=>q(null)})]})},Tv=a=>a?`quote_templates_${a}`:"quote_templates",xy=2e5,VT=a=>{if(typeof a!="object"||a===null)return!1;const m=Object.getPrototypeOf(a);return m===null||m===Object.prototype},Ia=(a,m="")=>typeof a=="string"?a:m,_v=a=>a.length>xy?a.slice(0,xy):a,qT=a=>{if(!VT(a))return null;const m=Ia(a.id).trim();if(!m)return null;const t=Ia(a.name).trim()||"ablon",h=_v(Ia(a.html)),f=Ia(a.createdAt)||new Date().toISOString(),c=Ia(a.updatedAt)||f,n=typeof a.isDefault=="boolean"?a.isDefault:void 0;return{id:m,name:t,html:h,createdAt:f,updatedAt:c,isDefault:n}},$T=a=>{if(!a)return[];try{const m=JSON.parse(a);return Array.isArray(m)?m.map(qT).filter(t=>!!t):[]}catch(m){return he.warn("[quoteTemplates] Failed to parse cache",m),[]}},Qp=(a,m)=>{try{Tt.setItem(Tv(a),JSON.stringify(m))}catch(t){he.warn("[quoteTemplates] Failed to persist templates",t)}},HT=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`tpl_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,KT=a=>{const m=new Date().toISOString();return{id:Ia(a.id).trim()||HT(),name:Ia(a.name).trim()||"ablon",html:_v(Ia(a.html)),isDefault:!!a.isDefault,createdAt:a.createdAt||m,updatedAt:m}},ta=a=>{try{const m=Tt.getItem(Tv(a));return $T(m)}catch(m){return he.warn("[quoteTemplates] Unable to access localStorage",m),[]}},Pv=(a,m)=>{const t=ta(a),h=KT(m),f=t.findIndex(c=>c.id===h.id);return f>=0?t[f]={...t[f],...h}:t.push(h),h.isDefault&&t.forEach(c=>{c.id!==h.id&&(c.isDefault=!1)}),Qp(a,t),h},Dv=(a,m)=>{const t=ta(a).filter(h=>h.id!==m);Qp(a,t)},Iv=(a,m)=>{const t=ta(a).map(h=>({...h,isDefault:h.id===m}));Qp(a,t)},Mv=a=>ta(a).find(m=>m.isDefault),Zp=["[quote.number]","[quote.date]","[quote.valid_until]","[quote.total]","[quote.currency]","[org.name]","[org.email]","[org.phone]","[org.address]","[client.company]","[client.name]","[client.email]","[client.address]"],GT=(a,m)=>{const t={"[quote.number]":m.quote?.number,"[quote.date]":m.quote?.date,"[quote.valid_until]":m.quote?.validUntil,"[quote.total]":typeof m.quote?.total=="number"?String(m.quote?.total):m.quote?.total??void 0,"[quote.currency]":m.quote?.currency,"[org.name]":m.org?.name,"[org.email]":m.org?.email,"[org.phone]":m.org?.phone,"[org.address]":m.org?.address,"[client.company]":m.client?.company,"[client.name]":m.client?.name,"[client.email]":m.client?.email,"[client.address]":m.client?.address};let h=a;for(const f of Zp){const c=t[f];if(typeof c=="string"&&c.length>0){const n=new RegExp(f.replace(/\[|\]|\./g,o=>`\\${o}`),"g");h=h.replace(n,c)}}return h},yy=Object.freeze(Object.defineProperty({__proto__:null,availableTokens:Zp,deleteTemplate:Dv,fillTemplate:GT,getDefaultTemplate:Mv,listTemplates:ta,setDefaultTemplate:Iv,upsertTemplate:Pv},Symbol.toStringTag,{value:"Module"})),WT=a=>{const m=String(a||"").toLowerCase();return m==="pro"||m==="professional"?"pro":m==="enterprise"||m==="business"?"business":"free"},YT=({isOpen:a,onClose:m,planRaw:t})=>{const{t:h}=Zt(),{tenant:f}=Zs(),c=f?.id||hn()||void 0,n=WT(t||f?.subscriptionPlan),[o,i]=W.useState([]),[r,s]=W.useState(null),[l,d]=W.useState(""),[u,x]=W.useState(""),b=n!=="free",g=n==="pro"?1:1/0,v=o.length>=g;W.useEffect(()=>{if(a)try{const $=ta(c||void 0);i($),s($.find(z=>z.isDefault)||$[0]||null),$.length?(d($[0].name),x($[0].html)):(d(""),x(""))}catch{}},[a,c]);const y=$=>{const z=o.find(U=>U.id===$)||null;s(z),d(z?.name||""),x(z?.html||"")},N=()=>{s(null),d(h("quotes.templates.newTemplate",{defaultValue:"Yeni ablon"})),x(h("quotes.templates.defaultBodyHtml",{defaultValue:""}))},E=()=>{if(!l.trim())return;const $=r?.id||Math.random().toString(36).slice(2),z=Pv(c||void 0,{id:$,name:l.trim(),html:u,isDefault:r?.isDefault}),U=ta(c||void 0);i(U),s(U.find(V=>V.id===z.id)||z)},I=()=>{if(!r)return;Dv(c||void 0,r.id);const $=ta(c||void 0);i($);const z=$.find(U=>U.isDefault)||$[0]||null;s(z),d(z?.name||""),x(z?.html||"")},O=()=>{if(!r)return;Iv(c||void 0,r.id);const $=ta(c||void 0);i($);const z=Mv(c||void 0);z&&y(z.id)};return a?e.jsx("div",{className:"fixed inset-0 z-[70] bg-black/40 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-5xl h-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"px-5 py-3 border-b flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:h("quotes.templates.title",{defaultValue:"Teklif ablonlar"})}),e.jsx("button",{onClick:m,className:"px-3 py-1.5 border rounded-md",children:h("common.close")})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"w-full lg:w-64 border-b lg:border-b-0 lg:border-r overflow-y-auto",children:[e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:h("quotes.templates.list",{defaultValue:"ablonlar"})}),e.jsxs("button",{className:"text-xs px-2 py-1 rounded-md bg-indigo-600 text-white disabled:opacity-50",onClick:N,disabled:!b||v,title:b?v?h("quotes.templates.proLimit",{defaultValue:"Pro planda en fazla 1 ablon"}):h("quotes.templates.newTemplate",{defaultValue:"Yeni ablon"}):h("quotes.templates.requirePlan",{defaultValue:"Plan gerekli"}),children:[e.jsx(Vs,{className:"w-4 h-4 inline"})," ",h("quotes.templates.new",{defaultValue:"Yeni"})]})]}),!b&&e.jsx("div",{className:"mx-3 mb-3 p-2 text-[11px] text-amber-800 bg-amber-50 rounded border border-amber-200",children:h("quotes.templates.freeHidden",{defaultValue:"ablonlar Starter planda grnmez."})}),n==="pro"&&e.jsx("div",{className:"mx-3 mb-2 text-[11px] text-gray-500",children:h("quotes.templates.proLimit",{defaultValue:"Pro planda en fazla 1 ablon kaydedebilirsiniz."})}),e.jsx("ul",{children:o.map($=>e.jsx("li",{children:e.jsx("button",{className:`w-full text-left px-3 py-2 border-b text-sm ${r?.id===$.id?"bg-indigo-50":""}`,onClick:()=>y($.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"truncate",children:$.name}),$.isDefault?e.jsx(Bc,{className:"w-4 h-4 text-amber-500"}):null]})})},$.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:b?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:flex-wrap lg:items-center",children:[e.jsx("input",{type:"text",value:l,onChange:$=>d($.target.value),placeholder:h("quotes.templates.placeholderName",{defaultValue:"ablon ad"}),className:"px-3 py-2 border rounded-md w-72"}),e.jsxs("button",{onClick:E,className:"px-3 py-2 bg-indigo-600 text-white rounded-md flex items-center gap-1",children:[e.jsx(Rp,{className:"w-4 h-4"}),h("common.save")]}),e.jsxs("button",{onClick:I,disabled:!r,className:"px-3 py-2 bg-red-600 text-white rounded-md disabled:opacity-50 flex items-center gap-1",children:[e.jsx(Yr,{className:"w-4 h-4"}),h("common.delete")]}),e.jsxs("button",{onClick:O,disabled:!r,className:"px-3 py-2 bg-amber-500 text-white rounded-md disabled:opacity-50 flex items-center gap-1",children:[r?.isDefault?e.jsx(QC,{className:"w-4 h-4"}):e.jsx(Bc,{className:"w-4 h-4"})," ",h("quotes.templates.setDefault",{defaultValue:"Varsaylan"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:h("quotes.templates.availableTokens",{defaultValue:"Kullanlabilir alanlar (tkla ve ierie ekle):"})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Zp.map($=>e.jsx("button",{type:"button",onClick:()=>x(z=>(z||"")+(z?" ":"")+$),className:"px-2 py-1 text-xs border rounded bg-white hover:bg-gray-50",children:$},$))}),e.jsx(Gp,{value:u,onChange:x,height:260})]})]}):e.jsx("div",{className:"text-sm text-gray-600",children:h("quotes.templates.manageUpgrade",{defaultValue:"ablon ynetimi iin Pro veya Business planna gein."})})})]})]})}):null},QT=()=>crypto?.randomUUID?.()??Math.random().toString(36).slice(2),ZT=a=>({id:a.id??QT(),description:a.description,quantity:a.quantity,unitPrice:a.unitPrice,total:a.total,productId:a.productId,unit:a.unit}),XT=a=>({id:a.id,description:a.description,quantity:a.quantity,unitPrice:a.unitPrice,total:a.total,productId:a.productId,unit:a.unit}),uu=a=>({id:String(a.id),publicId:a.publicId,quoteNumber:a.quoteNumber,customerName:a.customer?.name||a.customerName||"",customerId:a.customerId,issueDate:String(a.issueDate).slice(0,10),validUntil:a.validUntil?String(a.validUntil).slice(0,10):void 0,currency:a.currency,total:Number(a.total)||0,status:$r(String(a.status)),version:a.version||1,scopeOfWorkHtml:a.scopeOfWorkHtml||"",items:Array.isArray(a.items)?a.items.map(ZT):[],revisions:Array.isArray(a.revisions)?a.revisions:[],convertedToSale:a.convertedToSale,createdAt:a.createdAt||a.created_at||void 0,updatedAt:a.updatedAt||a.updated_at||void 0,createdByName:a.createdByName,updatedByName:a.updatedByName}),JT=({customers:a=[],products:m=[]})=>{const{t}=Zt(),{formatCurrency:h,currency:f}=es(),{tenant:c,user:n}=Zs(),o=String(c?.subscriptionPlan||"").toLowerCase(),[i,r]=W.useState(""),[s,l]=W.useState("all"),[d,u]=W.useState(""),[x,b]=W.useState(""),[g,v]=W.useState("date"),[y,N]=W.useState("desc"),[E,I]=W.useState(!1),[O,$]=W.useState(!1),[z,U]=W.useState(null),[V,G]=W.useState(!1),[B,T]=W.useState(!1),[D,A]=W.useState(null),[k,S]=W.useState(null),[j,C]=W.useState(null),[P,R]=W.useState(1),[L,Y]=W.useState(()=>{const te=Tt.getItem("quotes_pageSize"),we=te?Number(te):20;return[20,50,100].includes(we)?we:20}),[Z,ae]=W.useState(null),[q,X]=W.useState(null),[F,M]=W.useState(""),{getDefault:K}=Ba({listType:"quotes"});W.useEffect(()=>{try{const te=K();if(!te?.state)return;const we=te.state;r(we.searchTerm??""),l(we.statusFilter??"all"),u(we.startDate??""),b(we.endDate??""),we.sortBy&&v(we.sortBy),we.sortDir&&N(we.sortDir),we.pageSize&&[20,50,100].includes(we.pageSize)&&(Y(we.pageSize),Tt.setItem("quotes_pageSize",String(we.pageSize)))}catch{}},[K]);const se=(te,we)=>new Date(te.getTime()+we*864e5),oe=te=>te.toISOString().slice(0,10),[ne,le]=W.useState([]),[Se,je]=W.useState(!0);W.useEffect(()=>{let te=!1;return(async()=>{try{je(!0);const Ue=await jv();if(te)return;const et=Array.isArray(Ue)?Ue.map(uu):[];le(et)}catch(Ue){console.error("Quotes yklenemedi:",Ue),le([])}finally{te||je(!1)}})(),()=>{te=!0}},[]);const ee=W.useMemo(()=>{const te=i.toLowerCase().trim();return ne.filter(we=>{const Ue=[we.quoteNumber,we.customerName,we.status,we.currency,we.issueDate,String(we.total)].join(" ").toLowerCase(),et=te.length===0||Ue.includes(te),dt=s==="all"||we.status===s,St=new Date(we.issueDate).toISOString().slice(0,10),Ut=!d||St>=d,ve=!x||St<=x;return et&&dt&&Ut&&ve}).sort((we,Ue)=>{const et=y==="asc"?1:-1;switch(g){case"quoteNumber":return we.quoteNumber.localeCompare(Ue.quoteNumber)*et;case"customer":return we.customerName.localeCompare(Ue.customerName)*et;case"currency":return we.currency.localeCompare(Ue.currency)*et;case"total":return(we.total-Ue.total)*et;case"status":return we.status.localeCompare(Ue.status)*et;case"date":default:return(new Date(we.issueDate).getTime()-new Date(Ue.issueDate).getTime())*et}})},[ne,i,s,g,y,d,x]),ce=W.useMemo(()=>{const te=(P-1)*L;return ee.slice(te,te+L)},[ee,P,L]);W.useEffect(()=>{R(1)},[i,s,g,y,d,x]);const be=te=>{Y(te),Tt.setItem("quotes_pageSize",String(te)),R(1)},Te=te=>{v(we=>we===te?(N(Ue=>Ue==="asc"?"desc":"asc"),we):(N(te==="total"||te==="date"?"desc":"asc"),te))},Ce=({active:te})=>e.jsx("span",{className:"inline-block ml-1 text-gray-400",children:te?y==="asc"?"":"":""}),Pe=te=>new Date(te).toLocaleDateString("tr-TR"),Be=(te,we)=>h(te,we),Ge=te=>{const we=$r(String(te)),Ue=Rt(t,we),dt={draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",viewed:"bg-indigo-100 text-indigo-800",accepted:"bg-green-100 text-green-800",declined:"bg-red-100 text-red-800",expired:"bg-yellow-100 text-yellow-800"}[we]||"bg-gray-100 text-gray-800";return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${dt}`,children:Ue})},st=()=>{I(!0)},bt=()=>I(!1),_e=()=>$(!0),We=()=>$(!1),vt=()=>{if(!n)return"";const te=[n.firstName,n.lastName].filter(Boolean).join(" ").trim();return te||(n.name??"")};Gt.useEffect(()=>{const te=()=>{st()};return typeof window<"u"&&window.addEventListener("open-new-quote-modal",te),()=>{typeof window<"u"&&window.removeEventListener("open-new-quote-modal",te)}},[]);const At=te=>{const we=ne.find(Ue=>Ue.id===te)||null;C(we)},Nt=te=>{U(te),G(!0)},De=te=>{U(te),T(!0)},ge=()=>G(!1),Oe=()=>T(!1),Ke=te=>{A(te)};Gt.useEffect(()=>{const te=new Date().toISOString().slice(0,10),we=["accepted","declined","expired"],Ue=ne.map(et=>!we.includes(et.status)&&et.validUntil&&et.validUntil<te?{...et,status:"expired"}:et);le(Ue)},[]);const pe=(te,we,Ue)=>{ne.find(dt=>dt.id===te)?.status!=="accepted"&&(ae(te),X(we),M(Ue))},me=()=>{ae(null),X(null),M("")},xe=async te=>{if(q)try{if(q==="status"){const we=F,Ue=await ul(String(te.id),{status:we}),et=$r(String(Ue.status));le(dt=>dt.map(St=>St.id===te.id?{...St,status:et}:St)),U(dt=>!dt||dt.id!==te.id?dt:{...dt,status:et})}if(q==="issueDate"){const Ue={issueDate:F},et=await ul(String(te.id),Ue),dt=String(et.issueDate).slice(0,10);le(St=>St.map(Ut=>Ut.id===te.id?{...Ut,issueDate:dt}:Ut)),U(St=>!St||St.id!==te.id?St:{...St,issueDate:dt})}}finally{ae(null),X(null),M("")}};return Gt.useEffect(()=>{try{const te=hn()||"",we=te?`quotes_cache_${te}`:"quotes_cache",Ue=ne.map(et=>({id:et.id,quoteNumber:et.quoteNumber,customerName:et.customerName,customerId:et.customerId,issueDate:et.issueDate,validUntil:et.validUntil,currency:et.currency,total:et.total,status:et.status,version:et.version,scopeOfWorkHtml:et.scopeOfWorkHtml,items:et.items,createdAt:et.createdAt,updatedAt:et.updatedAt}));Tt.setItem(we,JSON.stringify(Ue));try{window.dispatchEvent(new Event("quotes-cache-updated"))}catch{}}catch{}},[ne]),e.jsxs("div",{className:"space-y-6",children:[k&&e.jsx(na,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.duplicateConfirm",{defaultValue:"Yinele ilemine devam edilsin mi?"}),confirmText:t("common.yes",{defaultValue:"Evet"}),cancelText:t("common.no",{defaultValue:"Hayr"}),onCancel:()=>S(null),onConfirm:async()=>{const te=k;if(te){try{const we={customerId:te.customerId,customerName:te.customerName,issueDate:oe(new Date),validUntil:te.validUntil,currency:te.currency,total:te.total,status:"draft",items:(te.items||[]).map(XT),scopeOfWorkHtml:te.scopeOfWorkHtml||""},Ue=await ly(we),et=uu(Ue);le(dt=>[et,...dt])}catch(we){console.error("Duplicate quote failed:",we)}S(null)}}}),D&&e.jsx(na,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.reviseConfirm"),confirmText:t("common.yes",{defaultValue:"Evet"}),cancelText:t("common.no",{defaultValue:"Hayr"}),onCancel:()=>A(null),onConfirm:async()=>{const te=D;if(!te)return;const we=new Date,Ue=oe(we),et=oe(se(we,30)),dt={version:te.version||1,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,total:te.total,items:te.items?te.items.map(St=>({...St})):void 0,snapshotAt:new Date().toISOString()};try{const St={status:"draft",issueDate:Ue,validUntil:et,version:(te.version||1)+1,revisions:[...te.revisions||[],dt]},Ut=await ul(String(te.id),St);le(ve=>ve.map(de=>de.id===te.id?{...de,status:$r(String(Ut.status)),issueDate:String(Ut.issueDate).slice(0,10),validUntil:Ut.validUntil?String(Ut.validUntil).slice(0,10):void 0,version:Ut.version||de.version,revisions:Array.isArray(Ut.revisions)?Ut.revisions:de.revisions,updatedAt:Ut.updatedAt||de.updatedAt}:de)),U(ve=>!ve||ve.id!==te.id?ve:{...ve,status:"draft",issueDate:Ue,validUntil:et,version:(te.version||1)+1})}catch(St){console.error("Revise failed:",St)}A(null)}}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("quotes.title")}),e.jsx("p",{className:"text-sm text-gray-500",children:t("quotes.comingSoon")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[["professional","pro","enterprise","business"].includes(o)&&e.jsx("button",{type:"button",onClick:_e,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",title:t("quotes.templates.manageTitle",{defaultValue:"Teklif ablonlarn ynet"}),children:t("quotes.templates.manage",{defaultValue:"ablonlar Ynet"})}),e.jsxs("button",{type:"button",onClick:st,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-700",children:[e.jsx(Vs,{className:"w-4 h-4"}),t("quotes.newQuote")]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t("quotes.search"),value:i,onChange:te=>r(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("select",{value:s,onChange:te=>l(te.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:t("quotes.filterAll")}),e.jsx("option",{value:"draft",children:t("quotes.statusLabels.draft")}),e.jsx("option",{value:"sent",children:t("quotes.statusLabels.sent")}),e.jsx("option",{value:"viewed",children:t("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:t("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:t("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:t("quotes.statusLabels.expired")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"date",value:d,onChange:te=>u(te.target.value),placeholder:t("startDate"),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("input",{type:"date",value:x,onChange:te=>b(te.target.value),placeholder:t("endDate"),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("div",{className:"ml-auto flex items-center",children:e.jsx(jo,{listType:"quotes",getState:()=>({searchTerm:i,statusFilter:s,startDate:d,endDate:x,sortBy:g,sortDir:y,pageSize:L}),applyState:te=>{te&&(r(te.searchTerm??""),l(te.statusFilter??"all"),u(te.startDate??""),b(te.endDate??""),te.sortBy&&v(te.sortBy),te.sortDir&&N(te.sortDir),te.pageSize&&[20,50,100].includes(te.pageSize)&&be(te.pageSize))},presets:[{id:"this-month",label:t("presets.thisMonth"),apply:()=>{const te=new Date,we=new Date(te.getFullYear(),te.getMonth(),1).toISOString().slice(0,10),Ue=new Date(te.getFullYear(),te.getMonth()+1,0).toISOString().slice(0,10);u(we),b(Ue)}},{id:"accepted",label:t("quotes.statusLabels.accepted"),apply:()=>l("accepted")},{id:"declined",label:t("quotes.statusLabels.declined"),apply:()=>l("declined")},{id:"expired",label:t("quotes.statusLabels.expired"),apply:()=>l("expired")}]})})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:Se?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(6)].map((te,we)=>e.jsx("div",{className:"h-10 bg-gray-100 rounded"},we))})}):ee.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qr,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t(i||s!=="all"?"quotes.noQuotesFound":"quotes.noQuotes")}),e.jsx("p",{className:"text-gray-500 mb-4",children:t(i||s!=="all"?"quotes.noQuotesFoundDesc":"quotes.noQuotesDesc")}),!i&&s==="all"&&e.jsx("button",{onClick:st,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:t("quotes.createFirstQuote")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[900px]",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>Te("quoteNumber"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.quote"),e.jsx(Ce,{active:g==="quoteNumber"})]}),e.jsxs("th",{onClick:()=>Te("customer"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.customer"),e.jsx(Ce,{active:g==="customer"})]}),e.jsxs("th",{onClick:()=>Te("total"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.amount"),e.jsx(Ce,{active:g==="total"})]}),e.jsxs("th",{onClick:()=>Te("status"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.status"),e.jsx(Ce,{active:g==="status"})]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("customer.historyColumns.createdBy")}),e.jsxs("th",{onClick:()=>Te("date"),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",children:[t("quotes.table.date"),e.jsx(Ce,{active:g==="date"})]}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:t("quotes.table.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(te=>e.jsxs(Gt.Fragment,{children:[e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-100 rounded-lg flex items-center justify-center",children:e.jsx(qr,{className:"w-4 h-4 text-indigo-600"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 truncate",children:[e.jsx("button",{onClick:()=>Nt(te),className:"text-indigo-600 hover:text-indigo-800 font-medium transition-colors cursor-pointer",title:t("quotes.view"),children:te.quoteNumber}),te.version&&te.version>1&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:t("quotes.version",{n:te.version})})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Or,{className:"w-3 h-3 mr-1"}),Pe(te.issueDate)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:te.customerName}),e.jsx("div",{className:"text-xs text-gray-500",children:te.currency})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Be(te.total,te.currency)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Z===te.id&&q==="status"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:F,onChange:we=>M(we.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"draft",children:t("quotes.statusLabels.draft")}),e.jsx("option",{value:"sent",children:t("quotes.statusLabels.sent")}),e.jsx("option",{value:"viewed",children:t("quotes.statusLabels.viewed")}),e.jsx("option",{value:"accepted",children:t("quotes.statusLabels.accepted")}),e.jsx("option",{value:"declined",children:t("quotes.statusLabels.declined")}),e.jsx("option",{value:"expired",children:t("quotes.statusLabels.expired")})]}),e.jsx("button",{onClick:()=>xe(te),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:t("common.save"),children:e.jsx(ns,{className:"w-3 h-3"})}),e.jsx("button",{onClick:me,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:t("common.cancel"),children:e.jsx(kr,{className:"w-3 h-3"})})]}):e.jsx("div",{onClick:()=>pe(te.id,"status",te.status),className:`${te.status==="accepted"?"cursor-default opacity-90":"cursor-pointer hover:opacity-80"} inline-block transition-opacity`,title:te.status==="accepted"?t("quotes.statusLabels.accepted"):t("common.edit"),children:Ge(te.status)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:te.createdByName||""}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z===te.id&&q==="issueDate"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:F,onChange:we=>M(we.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500"}),e.jsx("button",{onClick:()=>xe(te),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:t("common.save"),children:e.jsx(ns,{className:"w-3 h-3"})}),e.jsx("button",{onClick:me,className:"p-1 text-red-600 hover:bg-red-50 rounded",title:t("common.cancel"),children:e.jsx(kr,{className:"w-3 h-3"})})]}):e.jsx("div",{onClick:()=>pe(te.id,"issueDate",te.issueDate),className:`${te.status==="accepted"?"cursor-default":"cursor-pointer hover:bg-gray-50"} rounded p-1`,title:te.status==="accepted"?t("quotes.statusLabels.accepted"):t("common.edit"),children:Pe(te.issueDate)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium hidden sm:table-cell",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Nt(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.view"),children:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:async()=>{const{generateQuotePDF:we}=await Dr(async()=>{const{generateQuotePDF:Ue}=await import("./pdfGenerator-CM7tmRPw.js").then(et=>et.p);return{generateQuotePDF:Ue}},[]);await we({id:te.id,quoteNumber:te.quoteNumber,customerName:te.customerName,customerId:te.customerId,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,currency:te.currency,total:te.total,items:(te.items||[]).map(Ue=>({description:Ue.description,quantity:Ue.quantity,unitPrice:Ue.unitPrice,total:Ue.total})),scopeOfWorkHtml:te.scopeOfWorkHtml||""},{filename:te.quoteNumber})},className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.actions.downloadPdf"),children:e.jsx(vl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.actions.duplicate"),children:e.jsx(sp,{className:"w-4 h-4"})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>De(te),className:"p-1 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:t("quotes.edit"),children:e.jsx(hs,{className:"w-4 h-4"})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>At(te.id),className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:t("quotes.delete"),children:e.jsx(Yr,{className:"w-4 h-4"})})]})})]}),e.jsx("tr",{className:"sm:hidden",children:e.jsx("td",{className:"px-6 pb-4",colSpan:6,children:e.jsxs("div",{className:"flex items-center justify-start gap-3",children:[e.jsx("button",{onClick:()=>Nt(te),className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.view"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Wr,{className:"w-3 h-3"})," ",t("quotes.view")]})}),e.jsx("button",{onClick:async()=>{const{generateQuotePDF:we}=await Dr(async()=>{const{generateQuotePDF:Ue}=await import("./pdfGenerator-CM7tmRPw.js").then(et=>et.p);return{generateQuotePDF:Ue}},[]);await we({id:te.id,quoteNumber:te.quoteNumber,customerName:te.customerName,customerId:te.customerId,issueDate:te.issueDate,validUntil:te.validUntil,status:te.status,currency:te.currency,total:te.total,items:(te.items||[]).map(Ue=>({description:Ue.description,quantity:Ue.quantity,unitPrice:Ue.unitPrice,total:Ue.total})),scopeOfWorkHtml:te.scopeOfWorkHtml||""},{filename:te.quoteNumber})},className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.actions.downloadPdf"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(vl,{className:"w-3 h-3"})," PDF"]})}),e.jsx("button",{onClick:()=>S(te),className:"px-2 py-1 text-gray-700 bg-gray-100 rounded hover:bg-gray-200 text-xs",title:t("quotes.actions.duplicate"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(sp,{className:"w-3 h-3"})," ",t("quotes.actions.duplicate")]})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>De(te),className:"px-2 py-1 text-indigo-700 bg-indigo-50 rounded hover:bg-indigo-100 text-xs",title:t("quotes.edit"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"})," ",t("quotes.edit")]})}),te.status!=="accepted"&&e.jsx("button",{onClick:()=>At(te.id),className:"px-2 py-1 text-red-700 bg-red-50 rounded hover:bg-red-100 text-xs",title:t("quotes.delete"),children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(Yr,{className:"w-3 h-3"})," ",t("quotes.delete")]})})]})})})]},te.id))})]})}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:e.jsx(Cn,{page:P,pageSize:L,total:ee.length,onPageChange:R,onPageSizeChange:be})})]})})]}),E&&e.jsx(Ev,{isOpen:E,onClose:bt,customers:a,products:m,defaultCurrency:f,onOpenTemplatesManager:_e,enableTemplates:["professional","pro","enterprise","business"].includes(o),onCreate:async te=>{try{const we=String(te.customer.id??"").trim(),et={customerId:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(we)?we:void 0,customerName:te.customer.name,issueDate:te.issueDate,validUntil:te.validUntil,currency:te.currency,total:te.total,items:te.items.map(de=>({id:de.id,description:de.description,quantity:de.quantity,unitPrice:de.unitPrice,total:de.total,productId:de.productId,unit:de.unit})),scopeOfWorkHtml:te.scopeOfWorkHtml||""},dt=await ly(et),St=uu(dt),Ut=vt(),ve={...St,createdByName:St.createdByName||Ut,updatedByName:St.updatedByName||Ut};le(de=>[ve,...de])}catch(we){console.error("Quote create failed:",we)}finally{bt()}}}),O&&e.jsx(YT,{isOpen:O,onClose:We,planRaw:o}),j&&e.jsx(na,{isOpen:!0,title:t("common.confirm",{defaultValue:"Onay"}),message:t("quotes.deleteConfirm",{defaultValue:`${j.quoteNumber} numaral teklifi silmek istediinize emin misiniz? Bu ilem geri alnamaz.`}),confirmText:t("common.delete",{defaultValue:"Sil"}),cancelText:t("common.cancel",{defaultValue:"Vazge"}),onCancel:()=>C(null),onConfirm:async()=>{const te=j?.id;if(!te){C(null);return}try{await xT(String(te)),le(we=>we.filter(Ue=>Ue.id!==te))}catch(we){console.error("Delete quote failed:",we)}C(null)}}),e.jsx(wv,{isOpen:V,onClose:ge,quote:z,onEdit:te=>{ge(),setTimeout(()=>De(te),100)},onChangeStatus:async(te,we)=>{try{const Ue={status:we},et=await ul(String(te.id),Ue),dt=$r(String(et.status));le(St=>St.map(Ut=>Ut.id===te.id?{...Ut,status:dt,updatedAt:et.updatedAt||Ut.updatedAt}:Ut)),U(St=>!St||St.id!==te.id?St:{...St,status:dt,updatedAt:et.updatedAt||St.updatedAt})}catch(Ue){console.error("Quote status update failed:",Ue)}},onRevise:te=>Ke(te)}),e.jsx(kv,{isOpen:B,onClose:Oe,quote:z,onSave:async te=>{try{const we={customerId:te.customerId,customerName:te.customerName,issueDate:te.issueDate,validUntil:te.validUntil,currency:te.currency,total:te.total,items:(te.items||[]).map(dt=>({id:dt.id,description:dt.description,quantity:dt.quantity,unitPrice:dt.unitPrice,total:dt.total,productId:dt.productId,unit:dt.unit})),scopeOfWorkHtml:te.scopeOfWorkHtml||"",status:te.status},Ue=await ul(String(te.id),we),et=uu(Ue);le(dt=>dt.map(St=>St.id===et.id?et:St)),U(dt=>dt&&dt.id===et.id?et:dt)}catch(we){console.error("Quote update failed:",we)}},products:m})]})},e_=({onNavigateToFiscalPeriods:a})=>{const{t:m}=Zt("common"),[t,h]=W.useState([]),[f,c]=W.useState(!0),n=async()=>{try{const s=await nt.get("/fiscal-periods");h(s.data)}catch(s){console.error("Dnemler yklenemedi:",s)}finally{c(!1)}};W.useEffect(()=>{n()},[]);const o={total:t.length,locked:t.filter(s=>s.isLocked).length,unlocked:t.filter(s=>!s.isLocked).length,current:t.find(s=>{const l=new Date,d=new Date(s.periodStart),u=new Date(s.periodEnd);return l>=d&&l<=u})},i=!!o.current,r=t.some(s=>t.some(l=>s.id!==l.id&&new Date(s.periodStart)<new Date(l.periodEnd)&&new Date(s.periodEnd)>new Date(l.periodStart)));return f?e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Or,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m("fiscalPeriods.widget.title")})]}),e.jsx("button",{onClick:a,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:m("fiscalPeriods.widget.managePeriods")})]})}),e.jsx("div",{className:"p-6",children:t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Or,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:m("fiscalPeriods.widget.noActivePeriod")}),e.jsx("button",{onClick:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:m("fiscalPeriods.widget.createActivePeriod")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.total}),e.jsx("div",{className:"text-sm text-gray-500",children:m("fiscalPeriods.widget.totalPeriods")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.locked}),e.jsx("div",{className:"text-sm text-gray-500",children:m("fiscalPeriods.widget.lockedPeriods")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.unlocked}),e.jsx("div",{className:"text-sm text-gray-500",children:m("fiscalPeriods.active")})]})]}),i&&o.current&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Fs,{className:"h-4 w-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:m("fiscalPeriods.widget.activePeriod")})]}),e.jsx("div",{className:"text-lg font-semibold text-blue-900",children:o.current.name}),e.jsxs("div",{className:"text-sm text-blue-700",children:[new Date(o.current.periodStart).toLocaleDateString("tr-TR")," -",new Date(o.current.periodEnd).toLocaleDateString("tr-TR")]}),o.current.isLocked&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Bn,{className:"h-3 w-3 text-red-600 mr-1"}),e.jsx("span",{className:"text-xs text-red-600",children:m("fiscalPeriods.locked")})]})]}),(!i||r)&&e.jsxs("div",{className:"space-y-2",children:[!i&&e.jsxs("div",{className:"flex items-center p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx(pn,{className:"h-4 w-4 text-yellow-600 mr-2"}),e.jsx("span",{className:"text-sm text-yellow-800",children:m("fiscalPeriods.widget.warnings.noActive")})]}),r&&e.jsxs("div",{className:"flex items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(pn,{className:"h-4 w-4 text-red-600 mr-2"}),e.jsx("span",{className:"text-sm text-red-800",children:m("fiscalPeriods.widget.warnings.overlapping")})]})]}),t.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:m("fiscalPeriods.title")}),e.jsx("div",{className:"space-y-2",children:t.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[new Date(s.periodStart).toLocaleDateString("tr-TR")," -",new Date(s.periodEnd).toLocaleDateString("tr-TR")]})]}),e.jsx("div",{className:"flex items-center",children:s.isLocked?e.jsx(Bn,{className:"h-3 w-3 text-red-600"}):e.jsx(ip,{className:"h-3 w-3 text-green-600"})})]},s.id))})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:a,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:m("fiscalPeriods.widget.managePeriods")})})]})})]})},zi=()=>{const{t:a}=Zt("common"),{currentLanguage:m,changeLanguage:t,languages:h}=Fa(),f=n=>{t(n)},c=()=>{window.location.href="/"};return e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Kc,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:a("backToHome","Back to Home")})]}),e.jsx("div",{className:"h-4 w-px bg-gray-300"}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(gm,{className:"h-12 w-auto"})})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ni,{className:"h-4 w-4 text-gray-500"}),e.jsx("select",{value:m,onChange:n=>f(n.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded cursor-pointer pr-8",children:h.map(n=>e.jsxs("option",{value:n.code,children:[n.flag," ",n.name]},n.code))})]})})]})})})},t_=()=>{if(typeof window>"u")return!1;const a=window.location.hostname||"";return a.endsWith(".github.dev")||a.endsWith(".githubpreview.dev")||a.includes(".app.github.dev")};function bm({onToken:a,className:m,disabled:t,invisible:h}){const f="dev_turnstile_site_key_placeholder",n=t_(),o=n,i=W.useRef(null),r=W.useRef(null),s=W.useRef(a),[l,d]=W.useState(!1),[u,x]=W.useState(!1),[b,g]=W.useState(null),[v,y]=W.useState(!1),N=W.useRef(0);return W.useEffect(()=>{s.current=a},[a]),W.useEffect(()=>{o&&(n&&console.warn("[TurnstileCaptcha] GitHub Codespace ortam algland; Cloudflare domain kst nedeniyle dorulama atland."),s.current?.("TURNSTILE_SKIPPED"))},[o,f,n]),W.useEffect(()=>{if(o||u)return;if(document.querySelector("script[data-turnstile-script]")){x(!0);return}const I=document.createElement("script");I.src="https://challenges.cloudflare.com/turnstile/v0/api.js",I.async=!0,I.defer=!0,I.setAttribute("data-turnstile-script","true"),I.onload=()=>x(!0),I.onerror=()=>g("Turnstile script yklenemedi"),document.head.appendChild(I)},[f,u,o]),W.useEffect(()=>{if(!(o||v)&&u&&i.current){if(!window.turnstile){const E=setInterval(()=>{window.turnstile&&(clearInterval(E),d(!0))},100);return()=>clearInterval(E)}d(!0)}},[f,u,v,o]),W.useEffect(()=>{if(!l||v||o||!i.current)return;const E=window.turnstile;if(E){if(r.current){try{E.remove(r.current)}catch{}r.current=null}r.current=E.render(i.current,{sitekey:f,size:h?"invisible":"normal",theme:"auto",callback:I=>{console.log("[Turnstile] token:",I),s.current?.(I||null),N.current=0},"error-callback":()=>{N.current===0&&console.warn("[TurnstileCaptcha] error-callback tetiklendi"),N.current+=1,N.current>=3?(y(!0),!1?s.current?.("TURNSTILE_SKIPPED"):s.current?.(null)):s.current?.(null)},"expired-callback":()=>{s.current?.(null)}})}},[l,f,h,v,!1,o]),W.useEffect(()=>{if(!v)return;const E=window.turnstile;if(E&&r.current){try{E.remove(r.current)}catch{}r.current=null}},[v]),W.useEffect(()=>{t&&s.current?.(null)},[t]),e.jsx("div",{className:m,children:!v&&!o?e.jsxs(e.Fragment,{children:[!u&&!b&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Dorulama bileeni ykleniyor..."})]}),b&&e.jsx("div",{className:"text-xs text-red-600",children:b}),e.jsx("div",{ref:i})]}):e.jsx("div",{className:"text-xs text-gray-500 italic",children:v?"Captcha u anda yklenemiyor. Ltfen sayfay yenileyin veya destekle iletiime gein.":n?"GitHub Codespace ortamnda dorulama atland; retimde Turnstile aktif olacak.":"Captcha dev ortamda atland (site key yok)"})})}function by(){const{login:a,isLoading:m}=Zs(),{t,i18n:h}=Zt(),[f,c]=W.useState(()=>{const k=Gr.getItem("prefill_email")||Tt.getItem("prefill_email")||"";return k&&(Gr.removeItem("prefill_email"),Tt.removeItem("prefill_email")),{email:k,password:""}}),[n,o]=W.useState(!1),[i,r]=W.useState(""),[s,l]=W.useState(null),[d,u]=W.useState(!1),[x,b]=W.useState(""),[g,v]=W.useState(!1),[y,N]=W.useState(!1),[E,I]=W.useState(null),O={en:"Security verification required. Please complete the verification.",de:"Sicherheitsberprfung erforderlich. Bitte schlieen Sie die Verifizierung ab.",fr:"Vrification de scurit requise. Merci de finaliser la vrification.",tr:"Gvenlik dorulamas gerekli. Ltfen dorulamay tamamlayn."},$=(h.language||"en").split("-")[0],z=t("auth.securityVerificationRequired",O[$]||O.en),U=t("auth.emailNotVerified","E-posta dorulanmad. Ltfen giri yapmadan nce e-postanz dorulayn."),V=(k,S)=>{r(k),l(S??null)},G=W.useMemo(()=>{if(!i)return"";if(typeof i=="string"){const k=i.toLowerCase();if(k.includes("security verification required"))return z;if(k.includes("email not verified")||k.includes("email_not_verified"))return U;if(k.includes("mfa required")||k.includes("mfa_required"))return"ki faktrl dorulama gerekli. Ltfen dorulama kodunu girin."}return i},[i,z,U]),B=async k=>{k.preventDefault(),V("",null);try{if(y&&!E){V(z,"CAPTCHA_REQUIRED");return}const S=await a(f.email,f.password,d&&x||void 0,y&&E||void 0);if(S?.mfaRequired){u(!0),V("MFA_REQUIRED","MFA_REQUIRED");return}if(S?.captchaRequired){N(!0),V(z,"CAPTCHA_REQUIRED");return}u(!1),b(""),N(!1),I(null),V("",null)}catch(S){const j=S?.message||"Giri srasnda bir hata olutu",C=j?.toLowerCase?.()||"";j==="MFA_REQUIRED"||C.includes("mfa required")?(u(!0),V("MFA_REQUIRED","MFA_REQUIRED")):j==="CAPTCHA_REQUIRED"||C.includes("security verification required")?(N(!0),V(z,"CAPTCHA_REQUIRED")):j==="EMAIL_NOT_VERIFIED"||C.includes("email not verified")||C.includes("email_not_verified")?V("EMAIL_NOT_VERIFIED","EMAIL_NOT_VERIFIED"):V(j)}},T=s==="EMAIL_NOT_VERIFIED",D=async()=>{if(f.email){v(!0);try{await un.resendVerification(f.email),V(t("auth.verificationEmailSent","Dorulama e-postas gnderildi. Ltfen e-postanz kontrol edin."),"VERIFICATION_EMAIL_SENT")}catch(k){V(k?.message||t("common.error","Hata"))}finally{v(!1)}}},A=k=>{c(S=>({...S,[k.target.name]:k.target.value}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx("img",{src:"/ikon-2.png",alt:"Comptario",className:"h-12 w-12"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("auth.welcomeTitle","Ho Geldiniz")}),e.jsx("p",{className:"text-gray-600",children:t("auth.welcomeSubtitle","Hesabnza giri yaparak devam edin")})]}),e.jsxs("form",{onSubmit:B,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.emailAddress","E-posta Adresi")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Us,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:f.email,onChange:A,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.emailPlaceholder","ornek@email.com")})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.password","ifre")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Bn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:n?"text":"password",required:!0,value:f.password,onChange:A,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordPlaceholder","")}),e.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:n?e.jsx(Oc,{className:"h-5 w-5"}):e.jsx(Wr,{className:"h-5 w-5"})})]})]}),d&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"totp",className:"block text-sm font-semibold text-gray-700 mb-2",children:"2FA Kodu"}),e.jsx("input",{id:"totp",name:"totp",type:"text",inputMode:"numeric",pattern:"[0-9A-Z]{6,8}",value:x,onChange:k=>b(k.target.value.toUpperCase()),className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"6 haneli TOTP veya 8 karakter yedek kod",autoFocus:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Google Authenticator / 1Password kodunu girin."})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:t("auth.rememberMe","Beni hatrla")})]}),e.jsx("button",{type:"button",onClick:()=>window.location.hash="forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors font-medium",children:t("auth.forgotPassword","ifremi unuttum")})]}),y&&e.jsxs("div",{children:[e.jsx(bm,{onToken:k=>I(k)}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t("auth.captchaHint","Birden fazla baarsz giri denemesi algland - ltfen insan dorulamasn tamamlayn.")})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:d?"Dorula ve Giri Yap":t("auth.signIn","Giri Yap")}),e.jsx(bl,{className:"h-4 w-4"})]})})]}),i&&e.jsxs("div",{className:"mt-4 flex items-center space-x-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:[e.jsx("span",{children:G||i}),T&&e.jsx("button",{type:"button",disabled:g,onClick:D,className:"ml-auto text-blue-700 underline disabled:opacity-50",children:g?t("common.loading","Ykleniyor..."):t("auth.resendVerification","Dorulama e-postasn tekrar gnder")})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:t("auth.or","veya")})})]}),e.jsxs("button",{type:"button",onClick:()=>window.location.href="#admin",className:"w-full bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(Jr,{className:"h-5 w-5"}),t("auth.adminLogin","Ynetici Girii")]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[t("auth.noAccount","Hesabnz yok mu?")," ",e.jsx("button",{onClick:()=>window.location.href="#register",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:t("auth.createFreeAccount","cretsiz hesap oluturun")})]})})]})})})]})}function r_(){const{register:a,isLoading:m}=Zs(),{t}=Zt(),[h,f]=W.useState(()=>({name:"",email:Gr.getItem("prefill_email")||Tt.getItem("prefill_email")||"",password:"",confirmPassword:"",company:"",phone:"",address:""})),[c,n]=W.useState(!1),[o,i]=W.useState(!1),[r,s]=W.useState(!1),[l,d]=W.useState(null),[u,x]=W.useState(""),[b,g]=W.useState(null),[v,y]=W.useState(null),[N,E]=W.useState(0),[I,O]=W.useState(!1),[$,z]=W.useState(null),U=!!(Gr.getItem("pending_invite_token")||Tt.getItem("pending_invite_token"));W.useEffect(()=>{Gr.removeItem("prefill_email"),Tt.removeItem("prefill_email");const B=Gr.getItem("pending_verification_email");Uu()&&B&&(g(B),x("Hesabnz oluturuldu. Ltfen e-postanz kontrol edin ve dorulama balantsna tklayn."))},[]),W.useEffect(()=>{if(N<=0)return;const B=setInterval(()=>E(T=>T-1),1e3);return()=>clearInterval(B)},[N]);const V=async B=>{if(B.preventDefault(),d(null),x(""),z(null),!h.name||!h.email||!h.password){d({message:"Ltfen tm zorunlu alanlar doldurun"});return}if(h.password!==h.confirmPassword){d({message:"ifreler elemiyor"});return}if(h.password.length<6){d({message:"ifre en az 6 karakter olmaldr"});return}if(!c){d({message:"Kullanm Koullar ve Gizlilik Politikasn kabul etmelisiniz"});return}try{const T={name:h.name,email:h.email,password:h.password,company:h.company,phone:h.phone,address:h.address,turnstileToken:v||void 0};if("dev_turnstile_site_key_placeholder"&&!v){d({key:"auth.captchaRequired"});return}await a(T);const A=Uu();A?(x("Hesabnz oluturuldu. Ltfen e-postanz kontrol edin ve dorulama balantsna tklayn."),g(h.email)):x("Hesabnz baaryla oluturuldu! Giri yapabilirsiniz."),A||setTimeout(()=>{window.location.href="#login"},2e3)}catch(T){const D=T?.response?.status??T?.status,A=T?.response?.data?.message||T?.message||"",k=String(A).toLowerCase();D===409||A==="EMAIL_IN_USE"||k.includes("already exists")||k.includes("zaten")?z({email:h.email}):d({message:A||"Kayt srasnda bir hata olutu"})}},G=B=>{f(T=>({...T,[B.target.name]:B.target.value}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(ap,{className:"h-8 w-8 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t("auth.registerTitle","Hesap Olutur")}),e.jsx("p",{className:"text-gray-600",children:t("auth.registerSubtitle","cretsiz hesabnz oluturun ve hemen balayn")})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[l&&!$&&e.jsx("div",{className:"flex items-center space-x-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:e.jsx("span",{children:l.key?t(l.key,"Ltfen insan dorulamasn tamamlayn"):l.message})}),$&&e.jsxs("div",{className:"space-y-3 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[e.jsxs("p",{className:"font-semibold",children:["Bu e-posta ile zaten bir hesap var: ",e.jsx("span",{className:"underline",children:$.email})]}),e.jsx("p",{children:"Nasl devam etmek istersiniz?"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:["ifrenizi biliyorsanz ",e.jsx("button",{type:"button",onClick:()=>window.location.hash="login",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Giri yapn"})]}),e.jsxs("li",{children:["ifrenizi hatrlamyorsanz ",e.jsx("button",{type:"button",onClick:()=>window.location.hash="forgot-password",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"ifre sfrlama balants isteyin"})]}),e.jsx("li",{children:"Farkl bir hesap oluturmak istiyorsanz baka bir e-posta adresiyle tekrar deneyin."})]}),e.jsx("div",{className:"text-xs text-amber-700 pt-1",children:"Gvenlik iin hangi e-postalarn kaytl olduunu aka gstermiyoruz; bu uyar sizin girdinizden yola karak gsterilir."})]}),u&&e.jsxs("div",{className:"space-y-3 rounded-lg border border-green-200 bg-green-50 px-4 py-3 text-sm text-green-700",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-0.5 w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:u}),b&&e.jsxs("p",{className:"text-xs mt-1",children:["Gnderilen adres: ",e.jsx("span",{className:"font-mono",children:b})]})]})]}),b&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("button",{type:"button",onClick:()=>window.location.hash="verify-notice",className:"inline-flex items-center justify-center gap-2 px-3 py-2 rounded-md bg-blue-600 text-white text-xs font-semibold hover:bg-blue-700 transition-colors",children:"Dorulama Durumunu Gr"}),e.jsxs("button",{type:"button",disabled:N>0||I,onClick:async()=>{if(!(!b||N>0)){O(!0);try{await Dr(()=>Promise.resolve().then(()=>kb),void 0).then(B=>B.authService.resendVerification(b)),E(60)}catch{E(60)}finally{O(!1)}}},className:"inline-flex items-center justify-center gap-2 px-3 py-2 rounded-md border text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed bg-white text-gray-700 hover:bg-gray-50 border-gray-300",children:[I?e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):e.jsx(Fc,{className:"h-4 w-4"}),N>0?`Tekrar gnder (${N}s)`:"Tekrar Gnder"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.fullName","Ad Soyad")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(is,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"name",value:h.name,onChange:G,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.fullNamePlaceholder","Adnz ve soyadnz girin"),required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.emailAddress","E-posta Adresi")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Us,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",value:h.email,onChange:G,disabled:U,className:`w-full pl-10 pr-4 py-3 border ${U?"bg-gray-100 text-gray-600 cursor-not-allowed":"border-gray-300"} rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200`,placeholder:t("auth.emailPlaceholder","ornek@email.com"),required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.companyName","irket Ad")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Jr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",name:"company",value:h.company,onChange:G,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.companyPlaceholder","irket adnz (opsiyonel)")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:t("auth.phone","Telefon")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(No,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:G,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.phonePlaceholder","0555 123 45 67 (opsiyonel)")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.password","ifre")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Bn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:o?"text":"password",name:"password",value:h.password,onChange:G,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordHint","En az 6 karakter"),required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:o?e.jsx(Oc,{className:"h-5 w-5"}):e.jsx(Wr,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[t("auth.passwordConfirm","ifre Onay")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Bn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:h.confirmPassword,onChange:G,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:t("auth.passwordConfirmPlaceholder","ifrenizi tekrar girin"),required:!0}),e.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:r?e.jsx(Oc,{className:"h-5 w-5"}):e.jsx(Wr,{className:"h-5 w-5"})})]})]}),e.jsx("div",{children:e.jsx(bm,{onToken:B=>y(B)})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{id:"terms-checkbox",type:"checkbox",checked:c,onChange:B=>n(B.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"terms-checkbox",className:"text-sm text-gray-600 leading-5",children:[t("auth.termsText.prefix","unlar kabul ederim: "),e.jsx("a",{href:"#legal/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.terms","Hizmet artlar")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/dpa",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("auth.dataProcessing","Veri leme Szlemesi")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.privacy","Gizlilik Politikas")}),t("auth.and"," ve "),e.jsx("a",{href:"#legal/cookies",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline transition-colors",children:t("footer.cookies","erez Politikas")}),t("auth.termsText.suffix"," belgelerini okudum.")]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ap,{className:"h-4 w-4"}),e.jsx("span",{children:t("auth.registerCta","Hesap Olutur")})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[t("auth.alreadyHaveAccount","Zaten hesabnz var m?")," ",e.jsx("button",{onClick:()=>window.location.href="#login",className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:t("auth.goToLogin","Giri yapn")})]})})]})]})})]})}function s_(){const{t:a,i18n:m}=Zt("common"),[t,h]=W.useState(""),[f,c]=W.useState(!1),[n,o]=W.useState(null),[i,r]=W.useState(!1),[s,l]=W.useState(0);Gt.useEffect(()=>{if(s<=0)return;const u=setInterval(()=>l(x=>x>0?x-1:0),1e3);return()=>clearInterval(u)},[s]);const d=async u=>{u.preventDefault(),o(null),r(!0);try{if(s>0)return;await un.forgotPassword(t),c(!0),l(60)}catch(x){o(x?.message||"lem srasnda bir hata olutu")}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1 mb-4",children:[e.jsx(Kc,{className:"h-4 w-4"})," ",a("back")]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a("auth.forgotPassword")}),e.jsx("p",{className:"text-gray-600 mb-6",children:a("auth.forgotPasswordHelp")}),f?e.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-emerald-900",children:a("auth.resetEmailSent")}):e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:a("auth.emailAddress")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Us,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t,onChange:u=>h(u.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:a("auth.emailPlaceholder")})]})]}),e.jsx("button",{type:"submit",disabled:i||s>0,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(Gb,{className:"h-4 w-4"})," ",s>0?a("auth.resendIn",{seconds:s}):a("auth.sendResetLink")]})}),n&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-red-700",children:n})]})]})})})]})}function vy(a){return W.useMemo(()=>{const m=new URL(window.location.href);if(m.hash&&m.hash.includes("?")){const t=m.hash.indexOf("?"),h=m.hash.substring(t+1),c=new URLSearchParams(h).get(a);if(c)return c}return m.searchParams.get(a)||""},[])}function n_(){const{t:a,i18n:m}=Zt("common"),t=vy("token"),h=vy("u"),[f,c]=W.useState(""),[n,o]=W.useState(""),[i,r]=W.useState(!1),[s,l]=W.useState(null),[d,u]=W.useState(!1),[x,b]=W.useState(0),[g,v]=W.useState([]);W.useEffect(()=>{let N=!1;return f?(async()=>{try{const O=(await Dr(()=>import("./main-CShyWdvh.js").then($=>$.m),[])).default(f||"");N||(b(O.score||0),v(O.feedback?.suggestions||[]))}catch{}})():(b(0),v([])),()=>{N=!0}},[f]);const y=async N=>{if(N.preventDefault(),l(null),!f||f.length<8){l(a("auth.passwordTooShort","ifre en az 8 karakter olmal"));return}if(x<3){l(a("auth.passwordTooWeak","Ltfen daha gl bir ifre belirleyin"));return}if(f!==n){l(a("auth.passwordMismatch","ifreler elemiyor"));return}u(!0);try{t&&h?await un.resetPasswordHashed(t,h,f):await un.resetPassword(t,f),r(!0)}catch(E){l(E?.message||"lem baarsz")}finally{u(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1 mb-4","data-lang":m.language,children:[e.jsx(Kc,{className:"h-4 w-4"})," ",a("back")]}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a("auth.resetPassword","ifre Sfrla")}),e.jsx("p",{className:"text-gray-600 mb-6",children:a("auth.resetPasswordHelp","Yeni ifrenizi belirleyin.")}),i?e.jsxs("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 p-4 text-emerald-900 flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:a("auth.passwordResetSuccess","ifreniz gncellendi")}),e.jsx("button",{onClick:()=>window.location.hash="login",className:"text-emerald-700 underline",children:a("auth.goToLogin","Girie dn")})]})]}):e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a("auth.newPassword","Yeni ifre")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Bn,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",required:!0,value:f,onChange:N=>c(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:a("auth.passwordPlaceholder","")})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"h-2 w-full bg-gray-200 rounded",children:e.jsx("div",{className:`h-2 rounded ${x>=3?"bg-emerald-500":x===2?"bg-yellow-500":"bg-red-500"}`,style:{width:`${(x+1)*20}%`}})}),g.length>0&&e.jsx("ul",{className:"mt-1 text-xs text-gray-500 list-disc list-inside",children:g.slice(0,2).map((N,E)=>e.jsx("li",{children:N},E))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:a("auth.confirmPassword","ifreyi Dorula")}),e.jsx("input",{type:"password",required:!0,value:n,onChange:N=>o(N.target.value),className:"w-full pr-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:a("auth.passwordPlaceholder","")})]}),s&&e.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-3 text-red-700",children:s}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:d?a("common.loading","Ykleniyor..."):a("auth.updatePassword","ifreyi Gncelle")})]})]})})})]})}function wy(a){return W.useMemo(()=>{const m=new URL(window.location.href);if(m.hash&&m.hash.includes("?")){const t=m.hash.indexOf("?"),h=m.hash.substring(t+1),c=new URLSearchParams(h).get(a);if(c)return c}return m.searchParams.get(a)||""},[])}function i_(){const{t:a}=Zt(),m=wy("token"),t=wy("u"),[h,f]=W.useState("loading"),[c,n]=W.useState(null),[o,i]=W.useState(5);return W.useEffect(()=>{m&&(async()=>{try{if(m&&t)await un.verifyEmailHashed(m,t);else if(m)await un.verifyEmail(m);else throw new Error("Token bulunamad");f("success"),Gr.removeItem("pending_verification_email")}catch(s){f("error"),n(s?.message||"Dorulama baarsz")}})()},[m,t]),W.useEffect(()=>{if(h!=="success")return;const r=setInterval(()=>i(l=>l-1),1e3),s=setTimeout(()=>{window.location.hash="login"},5e3);return()=>{clearInterval(r),clearTimeout(s)}},[h]),e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center gap-1 mb-4",children:[e.jsx(Kc,{className:"h-4 w-4"})," ",a("common.back","Geri")]}),h==="loading"&&e.jsx("div",{children:a("common.loading","Ykleniyor...")}),h==="success"&&e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Fs,{className:"h-12 w-12 text-emerald-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a("auth.emailVerified","E-posta doruland")}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[a("auth.redirectingToLogin","Giri sayfasna ynlendiriliyorsunuz...")," (",o,")"]}),e.jsx("button",{onClick:()=>window.location.hash="login",className:"text-blue-600 underline",children:a("auth.goToLogin","Girie dn")})]}),h==="error"&&e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(Sl,{className:"h-12 w-12 text-red-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a("auth.verificationFailed","Dorulama baarsz")}),c&&e.jsx("p",{className:"text-gray-600",children:c}),e.jsx("button",{onClick:()=>{t?window.location.hash="login":window.location.hash="register"},className:"text-sm text-blue-600 underline mt-2",children:a("auth.backToStart","Baa dn")})]})]})})})]})}function a_(){const{t:a}=Zt(),m=()=>{const r=Gr.getItem("pending_verification_cooldown_until");if(!r)return null;const s=parseInt(r,10);return Number.isFinite(s)?s:null},[t,h]=W.useState(()=>{const r=m();return r?Math.max(0,Math.ceil((r-Date.now())/1e3)):0}),[f,c]=W.useState(()=>m()),n=W.useMemo(()=>Gr.getItem("pending_verification_email")||"",[]);W.useEffect(()=>{if(!f){h(0);return}const r=()=>{const l=Math.max(0,Math.ceil((f-Date.now())/1e3));h(l),l<=0&&(c(null),Gr.removeItem("pending_verification_cooldown_until"))};r();const s=setInterval(r,1e3);return()=>clearInterval(s)},[f]);const o=()=>{const r=Date.now()+6e4;c(r),h(60),Gr.setItem("pending_verification_cooldown_until",r.toString())},i=async()=>{if(n&&!(t>0))try{await un.resendVerification(n),o()}catch{o()}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[e.jsxs("button",{onClick:()=>window.location.hash="login",className:"text-sm text-gray-500 hover:text-gray-700 inline-flex items-center gap-1 mb-4",children:[e.jsx(Kc,{className:"h-4 w-4"})," ",a("common.back","Geri")]}),e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-600 text-white flex items-center justify-center",children:e.jsx(Us,{className:"h-8 w-8"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a("auth.verifyYourEmail","E-postanz dorulayn")}),e.jsx("p",{className:"text-gray-600 mb-6",children:n?e.jsxs(e.Fragment,{children:[a("auth.verifySentTo","Dorulama balants e-posta adresinize gnderildi:")," ",e.jsx("strong",{children:n})]}):a("auth.verifySent","E-posta adresinize dorulama balants gnderdik.")}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsxs("button",{onClick:i,disabled:!n||t>0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 text-white disabled:opacity-50",children:[e.jsx(Fc,{className:"h-4 w-4"}),t>0?a("auth.resendIn",{seconds:t,defaultValue:"Tekrar gndermek iin bekleyin: {{seconds}}s"}):a("auth.resend","Tekrar gnder")]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(XC,{className:"h-3 w-3"}),a("auth.resendCooldown","Gvenlik iin 60 saniye bekleme uygulanr")]})]})]})})})]})}const o_=({onTryForFree:a,onSignIn:m})=>{const{t}=Zt(),{currentLanguage:h,changeLanguage:f,languages:c}=Fa(),{isAuthenticated:n}=Zs(),[o,i]=W.useState(!1),[r,s]=W.useState(!1),[l,d]=W.useState(!1);W.useEffect(()=>{const b=()=>{d(window.scrollY>0)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const u=[{key:"features",href:"#features",label:t("landing.nav.features")},{key:"pricing",href:"#pricing",label:t("landing.nav.pricing")},{key:"faq",href:"#faq",label:t("landing.nav.faq")},{key:"contact",href:"#contact",label:t("landing.nav.contact")}],x=b=>{const g=document.querySelector(b);g&&g.scrollIntoView({behavior:"smooth"}),i(!1)};return e.jsx("nav",{className:`fixed left-0 right-0 z-40 transition-all duration-300 ${l?"bg-white/95 backdrop-blur-md shadow-sm":"bg-transparent"}`,style:{top:"var(--announcement-bar-height, 0px)"},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(gm,{className:"h-16 w-auto"})})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:u.map(b=>e.jsx("button",{onClick:()=>x(b.href),className:"text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors",children:b.label},b.key))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>s(!r),className:"flex items-center space-x-1 text-gray-700 hover:text-gray-900 px-3 py-2 text-sm font-medium transition-colors","aria-expanded":r,"aria-haspopup":"true",children:[e.jsx("span",{className:"text-lg",children:c.find(b=>b.code===h)?.flag}),e.jsx(ms,{className:`h-4 w-4 transition-transform ${r?"rotate-180":""}`})]}),r&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:e.jsx("div",{className:"py-1",children:c.map(b=>e.jsxs("button",{onClick:()=>{f(b.code),s(!1)},className:`${h===b.code?"bg-gray-100 text-gray-900":"text-gray-700"} group flex items-center px-4 py-2 text-sm w-full hover:bg-gray-50`,children:[e.jsx("span",{className:"mr-3 text-lg",children:b.flag}),b.name]},b.code))})})]}),e.jsx("button",{onClick:()=>{n?window.location.hash="":m()},className:"text-gray-700 hover:text-gray-900 px-4 py-2 text-sm font-medium transition-colors",children:n?"Dashboard":t("landing.cta.signin")}),e.jsx("button",{onClick:a,className:"bg-gray-900 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:t("landing.cta.try")})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>i(!o),className:"text-gray-700 hover:text-gray-900 p-2","aria-expanded":o,"aria-label":"Toggle navigation menu",children:o?e.jsx(kr,{className:"h-6 w-6"}):e.jsx(qb,{className:"h-6 w-6"})})})]}),o&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[u.map(b=>e.jsx("button",{onClick:()=>x(b.href),className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium w-full text-left",children:b.label},b.key)),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("div",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Language"}),c.map(b=>e.jsxs("button",{onClick:()=>{f(b.code),i(!1)},className:`${h===b.code?"bg-gray-100 text-gray-900":"text-gray-700"} flex items-center px-3 py-2 text-base font-medium w-full hover:bg-gray-50`,children:[e.jsx("span",{className:"mr-3 text-lg",children:b.flag}),b.name]},b.code))]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[e.jsx("button",{onClick:()=>{n?window.location.hash="":m()},className:"text-gray-700 hover:text-gray-900 block px-3 py-2 text-base font-medium w-full text-left",children:n?"Dashboard":t("landing.cta.signin")}),e.jsx("button",{onClick:a,className:"bg-gray-900 text-white px-3 py-2 rounded-lg text-base font-medium hover:bg-gray-800 transition-colors w-full",children:t("landing.cta.try")})]})]})})]})})},ky={info:"bg-blue-50 text-blue-800 border border-blue-200",warning:"bg-amber-50 text-amber-800 border border-amber-200",critical:"bg-red-50 text-red-800 border border-red-200"},Rv=({settings:a})=>{const[m,t]=W.useState(a||null);W.useEffect(()=>{let r=!1;if(!a)return(async()=>{try{const s=await Uc.getSettings();r||t(s)}catch{}})(),()=>{r=!0}},[a]),W.useEffect(()=>{if(a)return;const r=async()=>{try{const s=await Uc.getSettings();t(s)}catch{}};return window.addEventListener("siteSettingsUpdated",r),()=>{window.removeEventListener("siteSettingsUpdated",r)}},[a]);const h=m||{},f=!!h.announcementEnabled&&!!(h.announcementMessage||"").toString().trim(),c=h.announcementType||"info",n=!!h.maintenanceModeEnabled,o=(h.maintenanceMessage||"").toString().trim();W.useEffect(()=>(f||n?document.body.classList.add("has-announcement-bar"):document.body.classList.remove("has-announcement-bar"),()=>{document.body.classList.remove("has-announcement-bar")}),[f,n]);const i=W.useRef(null);return W.useEffect(()=>{const r=i.current;if(!r)return;const s=r.offsetHeight;document.documentElement.style.setProperty("--announcement-bar-height",s+"px")},[f,n,h.announcementMessage]),!f&&!n?(document.documentElement.style.setProperty("--announcement-bar-height","0px"),null):e.jsxs("div",{ref:i,className:"fixed top-0 left-0 w-full z-[100] font-medium shadow-sm",children:[n&&e.jsx("div",{className:"w-full text-center text-xs md:text-sm px-3 py-1 bg-yellow-50 text-yellow-900 border-b border-yellow-200",children:o?e.jsxs(e.Fragment,{children:["Bakm modu aktif: ",o]}):e.jsx(e.Fragment,{children:"Bakm modu aktif: Sistem geici olarak salt okunur."})}),f&&e.jsx("div",{className:`w-full ${ky[c]||ky.info} px-0 py-0 border-t-0`,children:e.jsx("div",{className:"announcement-marquee-wrapper h-11 flex items-center",children:e.jsx("div",{className:"announcement-marquee text-sm",children:h.announcementMessage})})})]})},l_=({onTryForFree:a,onSignIn:m,onWatchDemo:t})=>{const{t:h}=Zt();return e.jsxs("div",{className:"relative bg-gradient-to-br from-gray-50 via-white to-blue-50/30 pt-24 pb-20 sm:pt-32 sm:pb-24 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-br from-blue-100/40 to-indigo-100/40 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-gradient-to-br from-emerald-100/40 to-green-100/40 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-br from-purple-100/30 to-pink-100/30 rounded-full blur-2xl"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/80 backdrop-blur-sm border border-gray-200 text-gray-700 text-sm font-medium mb-8 shadow-sm",children:[e.jsx("img",{src:"/favicon-32x32.png",alt:"Comptario",className:"mr-2 w-4 h-4 rounded-sm"}),h("landing.hero.badge")]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:h("landing.hero.title")}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto md:mx-0 leading-relaxed",children:h("landing.hero.sub")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center md:justify-start items-center mb-12",children:[e.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[h("landing.cta.try"),e.jsx(bl,{className:"h-5 w-5"})]}),e.jsx("button",{onClick:m,className:"bg-white/80 backdrop-blur-sm text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold border-2 border-gray-300 hover:border-gray-400 hover:bg-white transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:h("landing.cta.signin")})]}),e.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start items-center gap-6 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{children:h("landing.hero.features.pdf")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:h("landing.hero.features.currency")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{children:h("landing.hero.features.vat")})]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"comptario.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-md flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/favicon-32x32.png",alt:"Comptario",className:"w-6 h-6"})}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Comptario"})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 p-4 rounded-2xl border border-emerald-200",children:[e.jsx("div",{className:"text-emerald-600 font-semibold text-lg",children:"2,450"}),e.jsx("div",{className:"text-sm text-gray-600",children:h("landing.hero.mockup.revenue")})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-2xl border border-blue-200",children:[e.jsx("div",{className:"text-blue-600 font-semibold text-lg",children:"1,280"}),e.jsx("div",{className:"text-sm text-gray-600",children:h("landing.hero.mockup.expenses")})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-4 rounded-2xl border border-purple-200",children:[e.jsx("div",{className:"text-purple-600 font-semibold text-lg",children:"441"}),e.jsx("div",{className:"text-sm text-gray-600",children:h("landing.hero.mockup.vat")})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:e.jsx(qr,{className:"h-5 w-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Invoice #INV-2024-001"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Client ABC Ltd."})]})]}),e.jsx("div",{className:"text-emerald-600 font-semibold",children:"850"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 rounded-2xl border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(xi,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Office Supplies"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Supplier XYZ"})]})]}),e.jsx("div",{className:"text-red-600 font-semibold",children:"125"})]})]})]})]})})]})})]})},c_=()=>{const{t:a}=Zt(),m=[{icon:qr,title:a("landing.features.inv.title"),description:a("landing.features.inv.desc"),color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{icon:fn,title:a("landing.features.exp.title"),description:a("landing.features.exp.desc"),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"},{icon:pm,title:a("landing.features.vat.title"),description:a("landing.features.vat.desc"),color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{icon:jC,title:a("landing.features.fx.title"),description:a("landing.features.fx.desc"),color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"}];return e.jsx("section",{id:"features",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:a("landing.features.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:a("landing.features.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:m.map((t,h)=>{const f=t.icon;return e.jsxs("div",{className:`relative p-6 rounded-2xl border ${t.borderColor} ${t.bgColor} hover:shadow-lg transition-all duration-300 hover:scale-105 group`,children:[e.jsx("div",{className:`w-12 h-12 ${t.bgColor} rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300`,children:e.jsx(f,{className:`h-6 w-6 ${t.color}`})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description}),e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-transparent to-transparent group-hover:from-white/20 group-hover:to-transparent transition-all duration-300 pointer-events-none"})]},h)})})]})})},d_=()=>{const{t:a}=Zt(),m="#register",t=()=>{if(m.startsWith("#")){window.location.hash=m.replace("#","");return}window.location.href=m},h=[{icon:Is,title:a("landing.value.freelancers.title"),description:a("landing.value.freelancers.desc"),features:[a("landing.value.freelancers.basic"),a("landing.value.freelancers.expense"),a("landing.value.freelancers.tax")]},{icon:Jr,title:a("landing.value.small.title"),description:a("landing.value.small.desc"),features:[a("landing.value.small.currency"),a("landing.value.small.customer"),a("landing.value.small.reporting")]},{icon:Bs,title:a("landing.value.growing.title"),description:a("landing.value.growing.desc"),features:[a("landing.value.growing.team"),a("landing.value.growing.api"),a("landing.value.growing.support")]}];return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:a("landing.value.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:a("landing.value.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:h.map((f,c)=>{const n=f.icon;return e.jsxs("div",{className:`bg-white p-8 rounded-2xl shadow-sm border transition-all duration-300 hover:shadow-lg ${c===0?"border-blue-200 hover:border-blue-300":c===1?"border-emerald-200 hover:border-emerald-300":"border-purple-200 hover:border-purple-300"}`,children:[e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center mb-6 ${c===0?"bg-blue-500":c===1?"bg-emerald-500":"bg-purple-500"}`,children:e.jsx(n,{className:"h-7 w-7 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:f.title}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:f.description}),e.jsx("ul",{className:"space-y-3",children:f.features.map((o,i)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(ns,{className:`h-4 w-4 mr-3 flex-shrink-0 ${c===0?"text-blue-500":c===1?"text-emerald-500":"text-purple-500"}`}),o]},i))})]},c)})}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-200 max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:a("landing.value.cta.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:a("landing.value.cta.subtitle")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsx("button",{onClick:t,className:"bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors",children:a("landing.value.cta.trial")})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 pt-8 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"10k+"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.value.stats.users")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"50k+"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.value.stats.invoices")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.value.stats.uptime")})]})]})]})})]})})},u_=()=>{const{t:a}=Zt(),m=[{icon:Ds,title:a("landing.security.features.hosting.title"),description:a("landing.security.features.hosting.desc")},{icon:Bn,title:a("landing.security.features.encryption.title"),description:a("landing.security.features.encryption.desc")},{icon:Wu,title:a("landing.security.features.backups.title"),description:a("landing.security.features.backups.desc")},{icon:CC,title:a("landing.security.features.gdpr.title"),description:a("landing.security.features.gdpr.desc")},{icon:ni,title:a("landing.security.features.monitoring.title"),description:a("landing.security.features.monitoring.desc")},{icon:rA,title:a("landing.security.features.uptime.title"),description:a("landing.security.features.uptime.desc")}];return e.jsx("section",{id:"security",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-700 text-sm font-medium mb-4",children:[e.jsx(Ds,{className:"h-4 w-4 mr-2"}),a("landing.security.badge")]}),e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:a("landing.security.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:a("landing.security.items")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:m.map((t,h)=>{const f=t.icon;return e.jsxs("div",{className:"text-center p-6 rounded-xl border border-gray-200 hover:border-green-200 hover:shadow-lg transition-all duration-300 hover:bg-green-50/30",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(f,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.description})]},h)})}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-2xl p-8 md:p-10 border border-green-100/60 shadow-sm text-center",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:a("landing.security.trusted.title")}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-3xl mx-auto",children:a("landing.security.trusted.desc")}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 items-stretch",children:[e.jsx("div",{"aria-label":"GDPR",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center mb-3",children:e.jsx(WC,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"GDPR"}),e.jsx("div",{className:"text-xs text-gray-500",children:a("landing.security.trusted.gdpr")})]})}),e.jsx("div",{"aria-label":"ISO 27001",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-50 text-emerald-600 flex items-center justify-center mb-3",children:e.jsx(pC,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"ISO 27001"}),e.jsx("div",{className:"text-xs text-gray-500",children:a("landing.security.trusted.iso")})]})}),e.jsx("div",{"aria-label":"SOC 2",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center mb-3",children:e.jsx(Ds,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"SOC 2"}),e.jsx("div",{className:"text-xs text-gray-500",children:a("landing.security.trusted.soc")})]})}),e.jsx("div",{"aria-label":"SSL",className:"group relative overflow-hidden rounded-xl bg-white/80 backdrop-blur-sm border border-gray-200 hover:border-blue-200 shadow-sm hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-5 md:p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-50 text-amber-600 flex items-center justify-center mb-3",children:e.jsx(Bn,{className:"h-5 w-5"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-800",children:"SSL"}),e.jsx("div",{className:"text-xs text-gray-500",children:a("landing.security.trusted.ssl")})]})})]})]})]})})},m_=()=>{const{t:a}=Zt(),m=[{name:"Sarah Johnson",role:a("landing.testimonials.sarah.role"),company:a("landing.testimonials.sarah.company"),content:a("landing.testimonials.sarah.content"),rating:5,avatar:""},{name:"Marcus Weber",role:a("landing.testimonials.marcus.role"),company:a("landing.testimonials.marcus.company"),content:a("landing.testimonials.marcus.content"),rating:5,avatar:""},{name:"Elena Rodriguez",role:a("landing.testimonials.elena.role"),company:a("landing.testimonials.elena.company"),content:a("landing.testimonials.elena.content"),rating:5,avatar:""}];return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:a("landing.testimonials.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:a("landing.testimonials.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map((t,h)=>e.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-200 hover:shadow-lg transition-all duration-300 relative",children:[e.jsx("div",{className:"absolute top-6 right-6 text-gray-200",children:e.jsx(Kb,{className:"h-8 w-8"})}),e.jsx("div",{className:"flex items-center mb-4",children:[...Array(t.rating)].map((f,c)=>e.jsx(Bc,{className:"h-5 w-5 text-yellow-400 fill-current"},c))}),e.jsxs("blockquote",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',t.content,'"']}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-2xl mr-4",children:t.avatar}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[t.role,", ",t.company]})]})]})]},h))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"4.9/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.testimonials.stats.rating")})]}),e.jsx("div",{className:"w-px h-12 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"10,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.testimonials.stats.customers")})]}),e.jsx("div",{className:"w-px h-12 bg-gray-300"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"50+"}),e.jsx("div",{className:"text-sm text-gray-600",children:a("landing.testimonials.stats.countries")})]})]})})]})})},h_=({loginUrl:a})=>{const{t:m}=Zt(),t=[{name:m("landing.pricing.planNames.starter"),price:m("landing.pricing.price.free"),priceMonthly:m("landing.pricing.price.free"),annualLine:m("landing.pricing.annualLine.free",""),description:m("landing.pricing.plans.starter.desc"),features:[m("landing.pricing.features.users1"),m("landing.pricing.features.invoices5"),m("landing.pricing.features.expenses5"),m("landing.pricing.features.vat"),m("landing.pricing.features.pdf"),m("landing.pricing.features.quotesBasic")],cta:m("landing.pricing.ctaStarter"),popular:!1},{name:m("landing.pricing.planNames.pro"),price:m("landing.pricing.price.pro"),priceMonthly:m("landing.pricing.price.pro"),annualLine:m("landing.pricing.annualLine.pro"),description:m("landing.pricing.plans.pro.desc"),features:[m("landing.pricing.features.users3"),m("landing.pricing.features.quoteTemplate1"),m("landing.pricing.features.unlimitedInvoicesExpenses"),m("landing.pricing.features.customerSupplierUnlimited"),m("landing.pricing.features.quotesBasic"),m("landing.pricing.features.products"),m("landing.pricing.features.reports")],cta:m("landing.pricing.ctaPro"),popular:!0},{name:m("landing.pricing.planNames.business"),price:m("landing.pricing.price.biz"),priceMonthly:m("landing.pricing.price.biz"),annualLine:m("landing.pricing.annualLine.biz",""),description:m("landing.pricing.plans.business.desc"),features:[m("landing.pricing.features.everythingPro"),m("landing.pricing.features.users10"),m("landing.pricing.features.quoteTemplatesUnlimited"),m("landing.pricing.features.saveListViews"),m("landing.pricing.features.dedicatedSupport")],cta:m("landing.pricing.ctaBusiness"),popular:!1}],h=()=>{if(a.startsWith("#")){window.location.hash=a.replace("#","");return}if(a==="/register"){window.location.hash="register";return}if(a==="/login"){window.location.hash="login";return}window.location.href=a};return e.jsx("section",{id:"pricing",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:m("landing.pricing.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:m("landing.pricing.subtitle")})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:t.map((f,c)=>e.jsxs("div",{className:`relative rounded-2xl border-2 p-8 ${f.popular?"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-500 shadow-xl scale-105":"bg-white border-gray-200 hover:border-gray-300"} transition-all duration-300 hover:shadow-lg`,children:[f.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsxs("span",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center shadow-lg",children:[e.jsx(Bc,{className:"h-4 w-4 mr-1 fill-current"}),m("landing.pricing.popular")]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:f.name}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-3",children:f.priceMonthly}),f.annualLine&&e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:f.annualLine}),e.jsx("p",{className:"text-gray-600",children:f.description}),(c===1||c===2)&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:m("landing.pricing.pro.extraUser")})]}),e.jsx("ul",{className:"space-y-4 mb-8",children:f.features.map((n,o)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(ns,{className:`h-5 w-5 mr-3 flex-shrink-0 ${f.popular?"text-blue-500":"text-emerald-500"}`}),e.jsx("span",{className:"text-gray-700",children:n})]},o))}),e.jsxs("button",{onClick:h,className:`w-full py-3 px-6 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center ${f.popular?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600 shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[f.cta,e.jsx(bl,{className:"h-4 w-4 ml-2"})]}),c===0&&e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:m("landing.pricing.features.noCredit")})]},c))}),e.jsxs("div",{className:"max-w-6xl mx-auto mt-12",children:[e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3",children:e.jsx("div",{className:"flex justify-center lg:col-start-2 lg:col-span-1",children:e.jsxs("div",{className:"inline-flex flex-col sm:flex-row items-center gap-3 bg-gray-50 border border-gray-200 rounded-xl px-4 py-2 w-fit",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ku,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("span",{children:m("landing.pricing.notes.vatAndCurrency")})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(ns,{className:"h-5 w-5 text-emerald-500 mr-2"}),e.jsx("span",{children:m("landing.pricing.notes.cancelAnytime")})]})]})})}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:m("landing.pricing.trust")})]}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("p",{className:"text-gray-600",children:[m("landing.pricing.questions")," ",e.jsx("button",{onClick:()=>{const f=document.getElementById("faq");f&&f.scrollIntoView({behavior:"smooth"})},className:"text-gray-900 font-medium hover:underline",children:m("landing.pricing.checkFaq")})," ",m("landing.pricing.or")," ",e.jsx("a",{href:"mailto:support@comptario.com",className:"text-gray-900 font-medium hover:underline",children:m("landing.pricing.contactSupport")})]})}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-green-100 text-green-700",children:[e.jsx(ns,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:m("landing.pricing.guarantee")})]})})]})})},f_=()=>{const{t:a}=Zt(),[m,t]=W.useState(0),h=[{question:a("landing.faq.q1"),answer:a("landing.faq.a1")},{question:a("landing.faq.q2"),answer:a("landing.faq.a2")},{question:a("landing.faq.q3"),answer:a("landing.faq.a3")},{question:a("landing.faq.q4"),answer:a("landing.faq.a4")},{question:a("landing.faq.q5"),answer:a("landing.faq.a5")},{question:a("landing.faq.q6"),answer:a("landing.faq.a6")}],f=c=>{t(m===c?null:c)};return e.jsx("section",{id:"faq",className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:a("landing.faq.title")}),e.jsxs("p",{className:"text-xl text-gray-600",children:[a("landing.faq.subtitle")," ",e.jsx("a",{href:"mailto:support@comptario.com",className:"text-gray-900 font-medium hover:underline",children:a("landing.faq.contactUs")}),"."]})]}),e.jsx("div",{className:"space-y-4",children:h.map((c,n)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:border-blue-200 transition-colors",children:[e.jsxs("button",{onClick:()=>f(n),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-blue-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset","aria-expanded":m===n,children:[e.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:c.question}),m===n?e.jsx(Os,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}):e.jsx(ms,{className:"h-5 w-5 text-gray-500 flex-shrink-0"})]}),m===n&&e.jsx("div",{className:"px-6 pb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:c.answer})})]},n))}),e.jsx("div",{className:"mt-16 text-center",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-8 rounded-2xl shadow-sm border border-blue-100",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:a("landing.faq.support.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:a("landing.faq.support.desc")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e.jsx("a",{href:"mailto:support@comptario.com",className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 text-center shadow-lg hover:shadow-xl",children:a("landing.faq.support.contact")})})]})})]})})},p_=({loginUrl:a})=>{const{t:m}=Zt(),t=()=>{if(a.startsWith("#")){window.location.hash=a.replace("#","");return}if(a==="/register"){window.location.hash="register";return}if(a==="/login"){window.location.hash="login";return}window.location.href=a};return e.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-900 to-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-20 h-20 bg-blue-500/10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-20 h-20 bg-purple-500/10 rounded-full blur-xl"}),e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white/10 rounded-2xl mb-8",children:e.jsx(Pp,{className:"h-8 w-8 text-white"})}),e.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-6 leading-tight",children:m("landing.finalCta.title")}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed",children:m("landing.finalCta.subtitle")}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:e.jsxs("button",{onClick:t,className:"bg-white text-gray-900 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-100 transition-all duration-300 flex items-center gap-2 shadow-xl hover:shadow-2xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-900",children:[e.jsx(YC,{className:"h-5 w-5"}),m("landing.finalCta.cta"),e.jsx(bl,{className:"h-5 w-5"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 text-gray-400 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{children:m("landing.finalCta.trial")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{children:m("landing.finalCta.noSetup")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),e.jsx("span",{children:m("landing.finalCta.cancel")})]})]})]}),e.jsx("div",{className:"mt-16 pt-8 border-t border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"10,000+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:m("landing.value.stats.users")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"500,000+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:m("landing.value.stats.invoices")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"50+"}),e.jsx("div",{className:"text-gray-400 text-sm",children:m("landing.finalCta.stats.countries")})]})]})})]})})},g_=()=>{const{currentLanguage:a,changeLanguage:m,languages:t}=Fa(),h=new Date().getFullYear(),c={tr:{product:"RN",features:"zellikler",pricing:"Fiyatlar",security:"Gvenlik",api:"API",company:"RKET",about:"Hakknda",support:"DESTEK",helpCenter:"Yardm Merkezi",contactUs:"letiim",community:"Topluluk",legal:"HUKUK",privacy:"Gizlilik Politikas",terms:"Hizmet artlar",cookies:"erez Politikas",emailPolicy:"E-posta Politikas",subprocessors:"Alt leyiciler",imprint:"Knye",description:"Modern iletmeler iin basit, gvenli n muhasebe yazlm. Faturalar, giderleri ve KDV'yi gvenle ynetin.",email:"support@comptario.com",languages:"4 dilde mevcut",gdprCompliant:"GDPR Uyumlu",stayUpdated:"Gncel kaln",updatesDesc:"Yeni zellikler ve en iyi uygulamalar hakknda gncellemeler aln.",emailPlaceholder:"E-posta adresinizi girin",subscribe:"Abone Ol",copyright:` ${h} Comptario. Tm haklar sakldr.`,madeWith:"Avrupa'da  ile yapld"},en:{product:"PRODUCT",features:"Features",pricing:"Pricing",security:"Security",api:"API",company:"COMPANY",about:"About",support:"SUPPORT",helpCenter:"Help Center",contactUs:"Contact Us",community:"Community",legal:"LEGAL",privacy:"Privacy Policy",terms:"Terms of Service",cookies:"Cookie Policy",emailPolicy:"Email Policy",subprocessors:"Subprocessors",imprint:"Imprint",description:"Simple, secure pre-accounting software for modern businesses. Manage invoices, expenses, and VAT with confidence.",email:"support@comptario.com",languages:"Available in 4 languages",gdprCompliant:"GDPR Compliant",stayUpdated:"Stay updated",updatesDesc:"Get the latest updates on new features and best practices.",emailPlaceholder:"Enter your email",subscribe:"Subscribe",copyright:` ${h} Comptario. All rights reserved.`,madeWith:"Made with  in Europe"},de:{product:"PRODUKT",features:"Funktionen",pricing:"Preise",security:"Sicherheit",api:"API",company:"UNTERNEHMEN",about:"ber uns",support:"SUPPORT",helpCenter:"Hilfe Center",contactUs:"Kontakt",community:"Community",legal:"RECHTLICHES",privacy:"Datenschutz",terms:"Nutzungsbedingungen",cookies:"Cookie-Richtlinie",emailPolicy:"E-Mail-Richtlinie",subprocessors:"Unterauftragsverarbeiter",imprint:"Impressum",description:"Einfache, sichere Vorbuchhaltungssoftware fr moderne Unternehmen. Verwalten Sie Rechnungen, Ausgaben und MwSt. mit Vertrauen.",email:"support@comptario.com",languages:"In 4 Sprachen verfgbar",gdprCompliant:"DSGVO-konform",stayUpdated:"Bleiben Sie auf dem Laufenden",updatesDesc:"Erhalten Sie die neuesten Updates zu neuen Funktionen und bewhrten Praktiken.",emailPlaceholder:"E-Mail eingeben",subscribe:"Abonnieren",copyright:` ${h} Comptario. Alle Rechte vorbehalten.`,madeWith:"Mit  in Europa gemacht"},fr:{product:"PRODUIT",features:"Fonctionnalits",pricing:"Prix",security:"Scurit",api:"API",company:"ENTREPRISE",about:" propos",support:"SUPPORT",helpCenter:"Centre d'aide",contactUs:"Nous contacter",community:"Communaut",legal:"JURIDIQUE",privacy:"Politique de confidentialit",terms:"Conditions de service",cookies:"Politique des cookies",emailPolicy:"Politique e-mail",subprocessors:"Sous-traitants",imprint:"Mentions lgales",description:"Logiciel de pr-comptabilit simple et scuris pour les entreprises modernes. Grez les factures, les dpenses et la TVA en toute confiance.",email:"support@comptario.com",languages:"Disponible en 4 langues",gdprCompliant:"Conforme RGPD",stayUpdated:"Restez inform",updatesDesc:"Recevez les dernires mises  jour sur les nouvelles fonctionnalits et les meilleures pratiques.",emailPlaceholder:"Entrez votre e-mail",subscribe:"S'abonner",copyright:` ${h} Comptario. Tous droits rservs.`,madeWith:"Fait avec  en Europe"}}[a],n=[{title:c.product,links:[{name:c.features,href:"#features"},{name:c.pricing,href:"#pricing"},{name:c.security,href:"#security"},{name:c.api,href:"#api"}]},{title:c.company,links:[{name:c.about,href:"#about"}]},{title:c.support,links:[{name:c.helpCenter,href:"#help"},{name:c.contactUs,href:"mailto:support@comptario.com"}]},{title:c.legal,links:[{name:c.privacy,href:"#legal/privacy"},{name:c.terms,href:"#legal/terms"},{name:c.cookies,href:"#legal/cookies"},{name:c.emailPolicy,href:"#legal/email-policy"},{name:"DPA",href:"#legal/dpa"},{name:c.subprocessors,href:"#legal/subprocessors"},{name:c.imprint,href:"#legal/imprint"}]}],o=i=>{if(i.startsWith("#legal/"))window.location.hash=i;else if(i==="#help")window.location.hash="help";else if(i==="#about")window.location.hash="about";else if(i==="#api")window.location.hash="api";else if(i.startsWith("#")){const r=document.querySelector(i);r&&r.scrollIntoView({behavior:"smooth"})}};return e.jsx("footer",{id:"contact",className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-4",children:e.jsx("img",{src:"/logo-2.png",alt:"Comptario",className:"h-24 w-auto"})}),e.jsx("p",{className:"text-gray-400 mb-6 leading-relaxed",children:c.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx("a",{href:"mailto:support@comptario.com",className:"hover:text-white transition-colors",children:c.email})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(ni,{className:"h-4 w-4"}),e.jsx("span",{children:c.languages})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-400",children:[e.jsx(Ds,{className:"h-4 w-4"}),e.jsx("span",{children:c.gdprCompliant})]})]})]}),n.map((i,r)=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white uppercase tracking-wide mb-4",children:i.title}),e.jsx("ul",{className:"space-y-3",children:i.links.map((s,l)=>e.jsx("li",{children:s.href.startsWith("#")?e.jsx("button",{onClick:()=>o(s.href),className:"text-gray-400 hover:text-white transition-colors text-sm",children:s.name}):e.jsx("a",{href:s.href,className:"text-gray-400 hover:text-white transition-colors text-sm",...s.href.startsWith("mailto:")?{}:{target:"_blank",rel:"noopener noreferrer"},children:s.name})},l))})]},r))]}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-800 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:c.copyright}),e.jsxs("div",{className:"flex items-center space-x-6 mt-4 md:mt-0",children:[e.jsx("div",{className:"text-gray-400 text-sm",children:c.madeWith}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ni,{className:"h-4 w-4 text-gray-400"}),e.jsx("div",{className:"flex items-center space-x-1",children:t.map(i=>e.jsx("button",{onClick:()=>m(i.code),className:`px-2 py-1 rounded text-sm transition-colors ${a===i.code?"bg-white text-gray-900":"text-gray-400 hover:text-white"}`,title:i.name,children:i.flag},i.code))})]})]})]})]})})},x_=({onClose:a})=>{W.useEffect(()=>{const t=h=>{h.key==="Escape"&&a()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[a]),W.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const m=t=>{t.target===t.currentTarget&&a()};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",onClick:m,children:e.jsxs("div",{className:"relative bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("button",{onClick:a,className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 transition-colors","aria-label":"Close video",children:e.jsx(kr,{className:"h-5 w-5"})}),e.jsx("div",{className:"aspect-video bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($b,{className:"h-10 w-10 ml-1"})}),e.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Comptario Demo"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"See how easy it is to manage your pre-accounting with Comptario"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Demo video coming soon. In the meantime, try our free trial!"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Comptario Product Demo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Discover how Comptario can streamline your invoicing, expense tracking, and VAT management in just a few minutes."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>{a(),window.open("/login","_blank")},className:"bg-gray-900 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-800 transition-colors flex items-center justify-center gap-2",children:"Start Free Trial"}),e.jsx("button",{onClick:a,className:"text-gray-700 hover:text-gray-900 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Close"})]})]})]})})},y_=()=>{const{t:a,i18n:m}=Zt(),[t,h]=W.useState(!1),f="#register";W.useEffect(()=>{document.title=a("landing.seo.title");const r=document.querySelector('meta[name="description"]');if(r)r.setAttribute("content",a("landing.seo.description"));else{const v=document.createElement("meta");v.name="description",v.content=a("landing.seo.description"),document.head.appendChild(v)}const s=document.querySelector('meta[property="og:title"]');if(s)s.setAttribute("content",a("landing.seo.title"));else{const v=document.createElement("meta");v.setAttribute("property","og:title"),v.content=a("landing.seo.title"),document.head.appendChild(v)}const l=document.querySelector('meta[property="og:description"]');if(l)l.setAttribute("content",a("landing.seo.description"));else{const v=document.createElement("meta");v.setAttribute("property","og:description"),v.content=a("landing.seo.description"),document.head.appendChild(v)}const d=document.querySelector('link[rel="canonical"]');if(d)d.setAttribute("href",window.location.origin);else{const v=document.createElement("link");v.rel="canonical",v.href=window.location.origin,document.head.appendChild(v)}["tr","en","de","fr"].forEach(v=>{const y=document.querySelector(`link[hreflang="${v}"]`);if(y)y.setAttribute("href",`${window.location.origin}?lang=${v}`);else{const N=document.createElement("link");N.rel="alternate",N.hreflang=v,N.href=`${window.location.origin}?lang=${v}`,document.head.appendChild(N)}});const x={"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:a("landing.faq.q1"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a1")}},{"@type":"Question",name:a("landing.faq.q2"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a2")}},{"@type":"Question",name:a("landing.faq.q3"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a3")}},{"@type":"Question",name:a("landing.faq.q4"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a4")}},{"@type":"Question",name:a("landing.faq.q5"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a5")}},{"@type":"Question",name:a("landing.faq.q6"),acceptedAnswer:{"@type":"Answer",text:a("landing.faq.a6")}}]},b=document.querySelector('script[type="application/ld+json"]');b&&b.remove();const g=document.createElement("script");return g.type="application/ld+json",g.textContent=JSON.stringify(x),document.head.appendChild(g),()=>{document.title="Comptario"}},[a,m.language]);const c=()=>{f.startsWith("#")?window.location.hash=f.replace("#",""):window.location.href=f},n=()=>{window.location.hash="#login"},o=()=>{h(!0)},i=r=>{if(r.key==="Enter"){const s=document.getElementById("main-content");s&&(s.focus(),s.scrollIntoView())}};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",onKeyDown:i,children:"Skip to main content"}),e.jsx(Rv,{}),e.jsx(o_,{onTryForFree:c,onSignIn:n}),e.jsxs("main",{id:"main-content",tabIndex:-1,className:"focus:outline-none",children:[e.jsx(l_,{onTryForFree:c,onSignIn:n,onWatchDemo:o}),e.jsx(c_,{}),e.jsx(d_,{}),e.jsx(u_,{}),e.jsx(m_,{}),e.jsx(h_,{loginUrl:f}),e.jsx(f_,{}),e.jsx(p_,{loginUrl:f})]}),e.jsx(g_,{}),t&&e.jsx(x_,{onClose:()=>h(!1)})]})},b_=()=>{const{t:a}=Zt("about");return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-10 space-y-10",children:[e.jsxs("header",{className:"mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:a("title")}),e.jsx("p",{className:"text-slate-600 mt-2",children:a("subtitle")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:a("whoWeAre.title")}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:a("whoWeAre.text")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:a("offerings.title")}),e.jsx("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:a("offerings.items",{returnObjects:!0}).map((m,t)=>e.jsx("li",{children:m},t))})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:a("approach.title")}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:a("approach.text")})]}),e.jsxs("section",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:a("contact.title")}),e.jsxs("p",{className:"text-slate-700",children:[a("contact.text")," ",e.jsx("a",{className:"text-indigo-600 hover:underline",href:"mailto:support@comptario.com",children:"support@comptario.com"})]}),e.jsx("p",{className:"text-slate-500 text-sm mt-3",children:a("contact.emailNotice")})]})]})]})},v_=()=>{const{t:a}=Zt("api");return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-14",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:a("title")}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-xl p-8 shadow-sm",children:e.jsx("p",{className:"text-slate-700 leading-relaxed",children:a("underConstruction")})})]})]})},mu={tr:"Son gncelleme: 10 Kasm 2025",en:"Last updated: November 10, 2025",de:"Zuletzt aktualisiert: 10. November 2025",fr:"Dernire mise  jour : 10 novembre 2025"},Qt={companyName:"Peaknova (trading as Comptario)",address:"30 Rue Jean Turel, 73200 Albertville, France",email:"legal@comptario.com",dataProtectionEmail:"privacy@comptario.com",representative:"Mustafa BASOL",identifiers:{siren:"937704740",siret:"93770474000011",tva:"",rcs:"",ape:""},hostingProvider:"Hostinger International Ltd.",emailInfrastructure:"MailerSend Ireland Limited  EU cluster (Frankfurt primary, Amsterdam failover)"},Ny=()=>{const{i18n:a}=Zt("common"),m=a.language,t={tr:{title:"Hizmet artlar",subtitle:"Comptario muhasebe hizmetlerini kullanmnz iin artlar ve koullar",lastUpdated:mu.tr,sections:{acceptance:{title:"artlarn Kabul",content:"Bu hizmet artlar, Comptario muhasebe platformunu kullanmnz dzenler. Hizmeti kullanarak bu artlar kabul etmi saylrsnz."},service:{title:"Hizmet Tanm",content:"Comptario, kk ve orta lekli iletmeler iin bulut tabanl muhasebe zmleri sunar:",features:{invoicing:"Fatura oluturma ve ynetimi",expenses:"Gider takibi ve kategorilendirme",reporting:"Finansal raporlama ve analiz",multiTenant:"oklu mteri ynetimi"}},serviceEmails:{title:"Hizmet E-postalar",content:"E-posta iletiimi yalnzca ilem ve hesapla ilgili bildirimler (dorulama, gvenlik uyarlar, faturalama gibi) iin kullanlr. Pazarlama amal toplu e-posta gnderilmez."},responsibilities:{title:"Kullanc Sorumluluklar",content:"Hizmetimizi kullanrken aadaki sorumluluklarnz bulunmaktadr:",items:{accuracy:"Girdiiniz verilerin doruluunu salamak",compliance:"Yasal dzenlemelere uyum gstermek",security:"Hesap gvenliinizi korumak",backups:"Verilerinizin yedeklerini almak"}},dataProtection:{title:"Veri Koruma",content:"Kiisel verileriniz GDPR ve KVKK dzenlemelerine uygun olarak ilenir. Detayl bilgi iin gizlilik politikamz inceleyiniz."},acceptableUse:{title:"Kabul Edilebilir Kullanm",items:["Hizmet spam, kt amal yazlm datm veya yetkisiz veri toplama iin kullanlamaz","Hesap paylam veya sistemin ktye kullanm yasaktr","Hukuka aykr ierik barndrlamaz veya iletilemez"]},liability:{title:"Sorumluluk Snrlamas",content:"Comptario, hizmet kesintileri veya veri kayplar nedeniyle oluabilecek dolayl zararlardan sorumlu deildir."},termination:{title:"Hizmet Sonlandrma",content:"Bu szleme, taraflardan biri tarafndan 30 gn nceden bildirimde bulunularak sonlandrlabilir."},changes:{title:"art Deiiklikleri",content:"Bu artlar zaman zaman gncellenebilir. nemli deiiklikler e-posta yoluyla bildirilecektir."}},contact:{title:"letiim Bilgileri",email:"E-posta",address:"Adres",company:"irket",addressValue:Qt.address,companyValue:Qt.companyName},backToApp:"Uygulamaya Geri Dn"},en:{title:"Terms of Service",subtitle:"Terms and conditions for using Comptario accounting services",lastUpdated:mu.en,sections:{acceptance:{title:"Acceptance of Terms",content:"These terms of service govern your use of the Comptario accounting platform. By using the service, you agree to these terms."},service:{title:"Service Description",content:"Comptario provides cloud-based accounting solutions for small and medium businesses:",features:{invoicing:"Invoice creation and management",expenses:"Expense tracking and categorization",reporting:"Financial reporting and analysis",multiTenant:"Multi-client management"}},serviceEmails:{title:"Service Emails",content:"We use email only for transactional and account-related communications (e.g., verification, security alerts, billing). We do not send marketing bulk emails."},responsibilities:{title:"User Responsibilities",content:"When using our service, you have the following responsibilities:",items:{accuracy:"Ensure the accuracy of data you enter",compliance:"Comply with legal regulations",security:"Protect your account security",backups:"Backup your data"}},dataProtection:{title:"Data Protection",content:"Your personal data is processed in accordance with GDPR regulations. Please review our privacy policy for detailed information."},acceptableUse:{title:"Acceptable Use",items:["You may not use the service for spam, malware distribution, or unauthorized data scraping","Account sharing or abuse of system resources is prohibited","Illegal content may not be hosted or transmitted"]},liability:{title:"Limitation of Liability",content:"Comptario is not responsible for indirect damages that may occur due to service interruptions or data loss."},termination:{title:"Service Termination",content:"This agreement may be terminated by either party with 30 days' prior notice."},changes:{title:"Changes to Terms",content:"These terms may be updated from time to time. Important changes will be notified via email."}},contact:{title:"Contact Information",email:"Email",address:"Address",company:"Company",addressValue:Qt.address,companyValue:Qt.companyName},backToApp:"Back to App"},de:{title:"Nutzungsbedingungen",subtitle:"Geschftsbedingungen fr die Nutzung der Comptario Buchhaltungsdienste",lastUpdated:mu.de,sections:{acceptance:{title:"Annahme der Bedingungen",content:"Diese Nutzungsbedingungen regeln Ihre Nutzung der Comptario Buchhaltungsplattform. Durch die Nutzung des Dienstes stimmen Sie diesen Bedingungen zu."},service:{title:"Servicebeschreibung",content:"Comptario bietet cloud-basierte Buchhaltungslsungen fr kleine und mittlere Unternehmen:",features:{invoicing:"Rechnungserstellung und -verwaltung",expenses:"Ausgabenverfolgung und -kategorisierung",reporting:"Finanzberichterstattung und -analyse",multiTenant:"Multi-Kunden-Management"}},serviceEmails:{title:"Service-E-Mails",content:"E-Mails werden ausschlielich fr transaktionale und kontobezogene Mitteilungen verwendet (z. B. Verifizierung, Sicherheitswarnungen, Abrechnung). Marketing-Massenmails werden nicht versendet."},responsibilities:{title:"Benutzerverantwortlichkeiten",content:"Bei der Nutzung unseres Dienstes haben Sie folgende Verantwortlichkeiten:",items:{accuracy:"Sicherstellen der Genauigkeit der eingegebenen Daten",compliance:"Einhaltung gesetzlicher Vorschriften",security:"Schutz Ihrer Kontosicherheit",backups:"Sicherung Ihrer Daten"}},dataProtection:{title:"Datenschutz",content:"Ihre personenbezogenen Daten werden gem GDPR-Vorschriften verarbeitet. Bitte lesen Sie unsere Datenschutzrichtlinie fr detaillierte Informationen."},acceptableUse:{title:"Zulssige Nutzung",items:["Keine Nutzung fr Spam, Malware-Verteilung oder unbefugtes Datenscraping","Kontoteilung oder Missbrauch von Systemressourcen ist untersagt","Illegale Inhalte drfen nicht gehostet oder bertragen werden"]},liability:{title:"Haftungsbeschrnkung",content:"Comptario ist nicht verantwortlich fr indirekte Schden, die durch Serviceunterbrechungen oder Datenverlust entstehen knnen."},termination:{title:"Service-Kndigung",content:"Diese Vereinbarung kann von beiden Parteien mit 30-tgiger Vorankndigung gekndigt werden."},changes:{title:"nderungen der Bedingungen",content:"Diese Bedingungen knnen von Zeit zu Zeit aktualisiert werden. Wichtige nderungen werden per E-Mail mitgeteilt."}},contact:{title:"Kontaktinformationen",email:"E-Mail",address:"Adresse",company:"Unternehmen",addressValue:Qt.address,companyValue:Qt.companyName},backToApp:"Zurck zur App"},fr:{title:"Conditions d'utilisation",subtitle:"Termes et conditions pour l'utilisation des services comptables Comptario",lastUpdated:mu.fr,sections:{acceptance:{title:"Acceptation des conditions",content:"Ces conditions d'utilisation rgissent votre utilisation de la plateforme comptable Comptario. En utilisant le service, vous acceptez ces conditions."},service:{title:"Description du service",content:"Comptario fournit des solutions comptables bases sur le cloud pour les petites et moyennes entreprises :",features:{invoicing:"Cration et gestion de factures",expenses:"Suivi et catgorisation des dpenses",reporting:"Rapports financiers et analyse",multiTenant:"Gestion multi-clients"}},serviceEmails:{title:"E-mails de service",content:"Nous utilisons l'e-mail uniquement pour les communications transactionnelles et lies au compte (vrification, alertes de scurit, facturation). Nous n'envoyons pas d'e-mails marketing en masse."},responsibilities:{title:"Responsabilits de l'utilisateur",content:"Lors de l'utilisation de notre service, vous avez les responsabilits suivantes :",items:{accuracy:"Assurer l'exactitude des donnes que vous saisissez",compliance:"Respecter les rglementations lgales",security:"Protger la scurit de votre compte",backups:"Sauvegarder vos donnes"}},dataProtection:{title:"Protection des donnes",content:"Vos donnes personnelles sont traites conformment aux rglementations GDPR. Veuillez consulter notre politique de confidentialit pour des informations dtailles."},acceptableUse:{title:"Utilisation acceptable",items:["Le service ne peut pas tre utilis pour le spam, la distribution de logiciels malveillants ou le scraping non autoris","Le partage de compte ou l'abus des ressources systme est interdit","Les contenus illgaux ne peuvent pas tre hbergs ni transmis"]},liability:{title:"Limitation de responsabilit",content:"Comptario n'est pas responsable des dommages indirects qui peuvent survenir en raison d'interruptions de service ou de perte de donnes."},termination:{title:"Rsiliation du service",content:"Cet accord peut tre rsili par l'une ou l'autre partie avec un pravis de 30 jours."},changes:{title:"Modifications des conditions",content:"Ces conditions peuvent tre mises  jour de temps  autre. Les modifications importantes seront notifies par e-mail."}},contact:{title:"Informations de contact",email:"Email",address:"Adresse",company:"Entreprise",addressValue:Qt.address,companyValue:Qt.companyName},backToApp:"Retour  l'application"}},h=t[m]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(qr,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:h.title}),e.jsx("p",{className:"text-lg text-gray-600",children:h.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-500",children:[e.jsx(Or,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:h.lastUpdated})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(is,{className:"h-6 w-6 mr-2 text-blue-600"}),h.sections.acceptance.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.acceptance.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.serviceEmails.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.serviceEmails.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.service.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.service.content}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:h.sections.service.features.invoicing}),e.jsx("li",{children:h.sections.service.features.expenses}),e.jsx("li",{children:h.sections.service.features.reporting}),e.jsx("li",{children:h.sections.service.features.multiTenant})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.responsibilities.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.responsibilities.content}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:h.sections.responsibilities.items.accuracy}),e.jsx("li",{children:h.sections.responsibilities.items.compliance}),e.jsx("li",{children:h.sections.responsibilities.items.security}),e.jsx("li",{children:h.sections.responsibilities.items.backups})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ds,{className:"h-6 w-6 mr-2 text-green-600"}),h.sections.dataProtection.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.dataProtection.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.liability.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.liability.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.acceptableUse.title}),Array.isArray(h.sections.acceptableUse.items)?e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.acceptableUse.items.map((f,c)=>e.jsx("li",{children:f},c))}):e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.acceptableUse.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.termination.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.termination.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.sections.changes.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.changes.content})]}),e.jsxs("section",{className:"border-t border-gray-200 pt-8 mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:h.contact.title}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[h.contact.email,":"]})," ",Qt.email]}),e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[h.contact.address,":"]})," ",h.contact.addressValue]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[h.contact.company,":"]})," ",h.contact.companyValue]})]})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",h.backToApp]})})]})})},jy=()=>{const{i18n:a}=Zt("common"),m=a.language,t={tr:{title:"Gizlilik Politikas",subtitle:"Kiisel verilerinizi nasl topladmz, kullandmz ve koruduumuz",sections:{introduction:{title:"Giri",content:"Comptario olarak, gizliliinizi ciddiye alyoruz. Bu gizlilik politikas, kiisel verilerinizi nasl topladmz, kullandmz, paylatmz ve koruduumuzu aklar."},dataController:{title:"Veri Sorumlusu",content:`Veri sorumlusu: ${Qt.companyName}. Adres: ${Qt.address}. letiim: ${Qt.dataProtectionEmail}`},dataCollection:{title:"Topladmz Veriler",personal:{title:"Kiisel Bilgiler",items:["Adnz ve soyadnz","E-posta adresiniz","irket adnz","Telefon numaranz (istee bal)"]},business:{title:" Verileri",items:["Fatura bilgileri ve mteri verileri","Gider kaytlar ve tedariki bilgileri","Mteri iletiim bilgileri","Finansal raporlar ve vergi bilgileri"]}},dataUsage:{title:"Verileri Nasl Kullanyoruz",items:["Muhasebe hizmetlerini salamak","Mteri destei sunmak","Hizmetlerimizi gelitirmek","Yasal ykmllklerimizi yerine getirmek"]},dataSecurity:{title:"Veri Gvenlii",content:"Verilerinizi korumak iin endstri standard gvenlik nlemleri alyoruz.",items:["SSL/TLS ifreleme","Snrl eriim kontrolleri","Srekli gvenlik izleme","Dzenli veri yedekleme"]},legalBases:{title:"leme Hukuki Dayanaklar (GDPR md. 6)",items:["Ak rza (md. 6/1-a)","Szlemenin ifas iin gereklilik (md. 6/1-b)","Hukuki ykmlle uyum (md. 6/1-c)","Meru menfaat (md. 6/1-f)  kullanc beklentileri ve gizlilikle dengelenmitir"]},dataRetention:{title:"Veri Saklama Sreleri",items:["Hesap ve faturalama verileri: vergi mevzuat gerei en az 10 yl","Destek kaytlar: en fazla 24 ay","Analitik veriler: 14-26 ay arasnda (ara ayarna bal)","erez tercihleri: tercih sresi boyunca veya silinene kadar"]},userRights:{title:"GDPR Haklarnz",content:"GDPR kapsamnda aadaki haklara sahipsiniz:",items:["Verilerinize eriim hakk","Verilerin dzeltilmesi hakk","Verilerin silinmesi hakk","Veri tanabilirlii hakk"]},complaints:{title:"ikayet ve Bavuru",content:"Veri koruma haklarnzn ihlal edildiini dnyorsanz, ncelikle bizimle iletiime geebilirsiniz. Ayrca ikamet ettiiniz lkedeki yetkili veri koruma otoritesine ikayette bulunma hakkna sahipsiniz."},contact:{title:"letiim",content:"Gizlilik ile ilgili sorularnz iin bizimle iletiime geebilirsiniz:",email:Qt.dataProtectionEmail}}},en:{title:"Privacy Policy",subtitle:"How we collect, use, and protect your personal data",sections:{introduction:{title:"Introduction",content:"At Comptario, we take your privacy seriously. This privacy policy explains how we collect, use, share, and protect your personal data."},dataController:{title:"Data Controller",content:`Data Controller: ${Qt.companyName}. Address: ${Qt.address}. Contact: ${Qt.dataProtectionEmail}`},dataCollection:{title:"Data We Collect",personal:{title:"Personal Information",items:["Your name and surname","Your email address","Your company name","Your phone number (optional)"]},business:{title:"Business Data",items:["Invoice information and customer data","Expense records and supplier information","Customer contact information","Financial reports and tax information"]}},dataUsage:{title:"How We Use Your Data",items:["To provide accounting services","To provide customer support","To improve our services","To fulfill our legal obligations"]},dataSecurity:{title:"Data Security",content:"We implement industry-standard security measures to protect your data.",items:["SSL/TLS encryption","Limited access controls","Continuous security monitoring","Regular data backups"]},legalBases:{title:"Legal Bases for Processing (GDPR Art. 6)",items:["Consent (Art. 6(1)(a))","Contract necessity (Art. 6(1)(b))","Legal obligation (Art. 6(1)(c))","Legitimate interests (Art. 6(1)(f))  balanced with user privacy"]},dataRetention:{title:"Data Retention",items:["Account and invoicing data: at least 10 years due to tax laws","Support tickets and communications: up to 24 months","Analytics data: 1426 months (tool configuration dependent)","Cookie preferences: for the duration of your choice or until cleared"]},userRights:{title:"Your GDPR Rights",content:"Under GDPR, you have the following rights:",items:["Right to access your data","Right to rectify your data","Right to erase your data","Right to data portability"]},complaints:{title:"Complaints",content:"If you believe your data protection rights have been violated, please contact us first. You also have the right to lodge a complaint with your local data protection authority."},contact:{title:"Contact",content:"For privacy-related questions, please contact us:",email:Qt.dataProtectionEmail}}},de:{title:"Datenschutzrichtlinie",subtitle:"Wie wir Ihre personenbezogenen Daten sammeln, verwenden und schtzen",sections:{introduction:{title:"Einfhrung",content:"Bei Comptario nehmen wir Ihre Privatsphre ernst. Diese Datenschutzrichtlinie erklrt, wie wir Ihre personenbezogenen Daten sammeln, verwenden, teilen und schtzen."},dataController:{title:"Verantwortlicher (Controller)",content:`Verantwortlicher: ${Qt.companyName}. Adresse: ${Qt.address}. Kontakt: ${Qt.dataProtectionEmail}`},dataCollection:{title:"Daten, die wir sammeln",personal:{title:"Persnliche Informationen",items:["Ihr Vor- und Nachname","Ihre E-Mail-Adresse","Ihr Firmenname","Ihre Telefonnummer (optional)"]},business:{title:"Geschftsdaten",items:["Rechnungsinformationen und Kundendaten","Ausgabenaufzeichnungen und Lieferanteninformationen","Kundenkontaktinformationen","Finanzberichte und Steuerinformationen"]}},dataUsage:{title:"Wie wir Ihre Daten verwenden",items:["Zur Bereitstellung von Buchhaltungsdiensten","Zur Bereitstellung von Kundensupport","Zur Verbesserung unserer Dienste","Zur Erfllung unserer rechtlichen Verpflichtungen"]},dataSecurity:{title:"Datensicherheit",content:"Wir implementieren branchenbliche Sicherheitsmanahmen zum Schutz Ihrer Daten.",items:["SSL/TLS-Verschlsselung","Begrenzte Zugriffskontrollen","Kontinuierliche Sicherheitsberwachung","Regelmige Datensicherungen"]},legalBases:{title:"Rechtsgrundlagen der Verarbeitung (Art. 6 DSGVO)",items:["Einwilligung (Art. 6 Abs. 1 lit. a)","Vertragserfllung (Art. 6 Abs. 1 lit. b)","Rechtliche Verpflichtung (Art. 6 Abs. 1 lit. c)","Berechtigte Interessen (Art. 6 Abs. 1 lit. f)  unter Wahrung der Privatsphre"]},dataRetention:{title:"Aufbewahrungsfristen",items:["Konto- und Rechnungsdaten: mindestens 10 Jahre (Steuerrecht)","Support-Kommunikation: bis zu 24 Monate","Analysedaten: 1426 Monate (werkzeugspezifisch)","Cookie-Einstellungen: fr die gewhlte Dauer bzw. bis zur Lschung"]},userRights:{title:"Ihre GDPR-Rechte",content:"Unter der GDPR haben Sie folgende Rechte:",items:["Recht auf Zugang zu Ihren Daten","Recht auf Berichtigung Ihrer Daten","Recht auf Lschung Ihrer Daten","Recht auf Datenbertragbarkeit"]},complaints:{title:"Beschwerderecht",content:"Wenn Sie der Ansicht sind, dass Ihre Datenschutzrechte verletzt wurden, kontaktieren Sie uns bitte zunchst. Sie haben auerdem das Recht, eine Beschwerde bei der zustndigen Datenschutzaufsichtsbehrde einzureichen."},contact:{title:"Kontakt",content:"Fr datenschutzbezogene Fragen kontaktieren Sie uns bitte:",email:Qt.dataProtectionEmail}}},fr:{title:"Politique de confidentialit",subtitle:"Comment nous collectons, utilisons et protgeons vos donnes personnelles",sections:{introduction:{title:"Introduction",content:"Chez Comptario, nous prenons votre vie prive au srieux. Cette politique de confidentialit explique comment nous collectons, utilisons, partageons et protgeons vos donnes personnelles."},dataController:{title:"Responsable du traitement",content:`Responsable: ${Qt.companyName}. Adresse: ${Qt.address}. Contact: ${Qt.dataProtectionEmail}`},dataCollection:{title:"Donnes que nous collectons",personal:{title:"Informations personnelles",items:["Votre nom et prnom","Votre adresse e-mail","Le nom de votre entreprise","Votre numro de tlphone (optionnel)"]},business:{title:"Donnes commerciales",items:["Informations de facturation et donnes client","Enregistrements de dpenses et informations fournisseur","Informations de contact client","Rapports financiers et informations fiscales"]}},dataUsage:{title:"Comment nous utilisons vos donnes",items:["Pour fournir des services comptables","Pour fournir un support client","Pour amliorer nos services","Pour respecter nos obligations lgales"]},dataSecurity:{title:"Scurit des donnes",content:"Nous mettons en uvre des mesures de scurit standards de l'industrie pour protger vos donnes.",items:["Chiffrement SSL/TLS","Contrles d'accs limits","Surveillance de scurit continue","Sauvegardes rgulires des donnes"]},legalBases:{title:"Bases lgales du traitement (RGPD art. 6)",items:["Consentement (art. 6(1)(a))","Ncessit contractuelle (art. 6(1)(b))","Obligation lgale (art. 6(1)(c))","Intrts lgitimes (art. 6(1)(f))  quilibrs avec la vie prive"]},dataRetention:{title:"Dures de conservation",items:["Donnes de compte et de facturation : au moins 10 ans (obligations fiscales)","Tickets de support : jusqu' 24 mois","Donnes analytiques : 1426 mois (selon l'outil)","Prfrences cookies : pendant la dure choisie ou jusqu' suppression"]},userRights:{title:"Vos droits GDPR",content:"Sous le GDPR, vous avez les droits suivants:",items:["Droit d'accs  vos donnes","Droit de rectification de vos donnes","Droit d'effacement de vos donnes","Droit  la portabilit des donnes"]},complaints:{title:"Rclamations",content:"Si vous estimez que vos droits en matire de protection des donnes ont t viols, veuillez d'abord nous contacter. Vous avez galement le droit d'introduire une rclamation auprs de l'autorit de protection des donnes comptente."},contact:{title:"Contact",content:"Pour les questions lies  la confidentialit, veuillez nous contacter:",email:Qt.dataProtectionEmail}}}},h=t[m]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ds,{className:"h-8 w-8 text-green-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:h.title}),e.jsx("p",{className:"text-lg text-gray-600",children:h.subtitle}),e.jsx("div",{className:"flex items-center justify-center mt-4 text-sm text-gray-500",children:e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full font-medium",children:"GDPR Compliant"})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Wr,{className:"h-6 w-6 mr-2 text-blue-600"}),h.sections.introduction.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.introduction.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Is,{className:"h-6 w-6 mr-2 text-blue-600"}),h.sections.dataController.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.dataController.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(La,{className:"h-6 w-6 mr-2 text-orange-600"}),h.sections.dataCollection.title]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:h.sections.dataCollection.personal.title}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-6",children:h.sections.dataCollection.personal.items.map((f,c)=>e.jsx("li",{children:f},c))}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:h.sections.dataCollection.business.title}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2 mb-6",children:h.sections.dataCollection.business.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Bn,{className:"h-6 w-6 mr-2 text-purple-600"}),h.sections.dataUsage.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.dataUsage.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ds,{className:"h-6 w-6 mr-2 text-red-600"}),h.sections.dataSecurity.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.dataSecurity.content}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.dataSecurity.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ds,{className:"h-6 w-6 mr-2 text-green-600"}),h.sections.legalBases.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.legalBases.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(La,{className:"h-6 w-6 mr-2 text-orange-600"}),h.sections.dataRetention.title]}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.dataRetention.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Is,{className:"h-6 w-6 mr-2 text-green-600"}),h.sections.userRights.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.userRights.content}),e.jsx("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:h.sections.userRights.items.map((f,c)=>e.jsx("li",{children:f},c))})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ni,{className:"h-6 w-6 mr-2 text-blue-600"}),h.sections.complaints.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.complaints.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ni,{className:"h-6 w-6 mr-2 text-blue-600"}),h.sections.contact.title]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:h.sections.contact.content}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:e.jsx("p",{className:"text-blue-800 font-medium",children:h.sections.contact.email})})]})]})})]})})},Sy=()=>{const[a,m]=W.useState(null),[t,h]=W.useState(!0),[f,c]=W.useState(null),{currentLanguage:n}=Fa(),o={tr:{title:"Alt lemci Listesi",subtitle:"Comptario tarafndan kiisel veri ileme faaliyetleri iin kullanlan alt ilemcilerin tam listesi",lastUpdated:"Son gncelleme",loading:"Alt ilemciler ykleniyor...",error:"Alt ilemciler yklenirken hata olutu",retry:"Tekrar Dene",noData:"Veri bulunamadi",provider:"Salayc",purpose:"Ama",region:"Blge",dataCategories:"Veri Kategorileri",dpaStatus:"DPA Durumu",available:"Mevcut",purposes:{hosting:"Bulut barndrma ve altyap hizmetleri",payment:"deme ileme ve finansal hizmetler",email:"E-posta teslimat ve iletiim hizmetleri",analytics:"Web sitesi analitik ve performans izleme",cdn:"erik datm a ve gvenlik hizmetleri"},categories:{technical:"Teknik veri",user:"Kullanc verisi",transaction:"lem verisi",payment:"deme verisi",customer:"Mteri verisi",email:"E-posta adresleri",communication:"letiim verisi",usage:"Kullanm verisi",analytics:"Analitik veri",security:"Gvenlik kaytlar"}},en:{title:"Subprocessors List",subtitle:"Complete list of subprocessors used by Comptario for personal data processing activities",lastUpdated:"Last updated",loading:"Loading subprocessors...",error:"Error loading subprocessors",retry:"Retry",noData:"No data available",provider:"Provider",purpose:"Purpose",region:"Region",dataCategories:"Data Categories",dpaStatus:"DPA Status",available:"Available",purposes:{hosting:"Cloud hosting and infrastructure services",payment:"Payment processing and financial services",email:"Email delivery and communication services",analytics:"Website analytics and performance monitoring",cdn:"Content delivery network and security services"},categories:{technical:"Technical data",user:"User data",transaction:"Transaction data",payment:"Payment data",customer:"Customer data",email:"Email addresses",communication:"Communication data",usage:"Usage data",analytics:"Analytics data",security:"Security logs"}},de:{title:"Auftragsverarbeiter Liste",subtitle:"Vollstndige Liste der von Comptario fr die Verarbeitung personenbezogener Daten verwendeten Auftragsverarbeiter",lastUpdated:"Zuletzt aktualisiert",loading:"Auftragsverarbeiter werden geladen...",error:"Fehler beim Laden der Auftragsverarbeiter",retry:"Wiederholen",noData:"Keine Daten verfgbar",provider:"Anbieter",purpose:"Zweck",region:"Region",dataCategories:"Datenkategorien",dpaStatus:"DPA Status",available:"Verfgbar",purposes:{hosting:"Cloud-Hosting und Infrastrukturdienste",payment:"Zahlungsabwicklung und Finanzdienstleistungen",email:"E-Mail-Zustellung und Kommunikationsdienste",analytics:"Website-Analyse und Leistungsberwachung",cdn:"Content Delivery Network und Sicherheitsdienste"},categories:{technical:"Technische Daten",user:"Benutzerdaten",transaction:"Transaktionsdaten",payment:"Zahlungsdaten",customer:"Kundendaten",email:"E-Mail-Adressen",communication:"Kommunikationsdaten",usage:"Nutzungsdaten",analytics:"Analysedaten",security:"Sicherheitsprotokolle"}},fr:{title:"Liste des Sous-traitants",subtitle:"Liste complte des sous-traitants utiliss par Comptario pour les activits de traitement des donnes personnelles",lastUpdated:"Dernire mise  jour",loading:"Chargement des sous-traitants...",error:"Erreur lors du chargement des sous-traitants",retry:"Ressayer",noData:"Aucune donne disponible",provider:"Fournisseur",purpose:"Objectif",region:"Rgion",dataCategories:"Catgories de Donnes",dpaStatus:"Statut DPA",available:"Disponible",purposes:{hosting:"Services d'hbergement cloud et d'infrastructure",payment:"Services de traitement des paiements et financiers",email:"Services de livraison d'e-mails et de communication",analytics:"Analyse de site web et surveillance des performances",cdn:"Rseau de diffusion de contenu et services de scurit"},categories:{technical:"Donnes techniques",user:"Donnes utilisateur",transaction:"Donnes de transaction",payment:"Donnes de paiement",customer:"Donnes client",email:"Adresses e-mail",communication:"Donnes de communication",usage:"Donnes d'utilisation",analytics:"Donnes analytiques",security:"Journaux de scurit"}}};W.useEffect(()=>{he.debug("SubprocessorsList component mounted"),(async()=>{try{he.info("Loading subprocessors data...");const d={subprocessors:[{id:"1",name:"MailerSend Inc.",purpose:"Transactional email delivery, suppression management and infrastructure (EU cluster, no marketing emails)",region:"EU (Frankfurt primary, Amsterdam failover)",dataCategories:["Email addresses","Transactional metadata","Technical delivery logs","Suppression records"],dpaLink:"https://www.mailersend.com/legal/data-processing-addendum",lastUpdated:"2025-11-10"},{id:"2",name:"Stripe Inc.",purpose:"Payment processing and financial services",region:"US, EU",dataCategories:["Payment data","Transaction data","Customer data"],dpaLink:"https://stripe.com/privacy",lastUpdated:"2025-11-10"},{id:"3",name:"Google Analytics",purpose:"Website analytics and performance monitoring",region:"US, EU",dataCategories:["Usage data","Analytics data","Technical data"],dpaLink:"https://privacy.google.com/businesses/processorterms/",lastUpdated:"2025-11-10"},{id:"4",name:"Cloudflare Inc.",purpose:"Content delivery network and security services",region:"Global",dataCategories:["Technical data","Security logs"],dpaLink:"https://www.cloudflare.com/cloudflare-customer-dpa/",lastUpdated:"2025-11-10"}],lastModified:"2025-11-10T10:00:00Z",version:"1.1",changelog:[{date:"2025-10-30",version:"1.0",changes:["Initial subprocessors list created"],author:"Legal Team"},{date:"2025-11-10",version:"1.1",changes:["Migrated transactional email coverage to MailerSend EU cluster","Clarified transactional-only email scope"],author:"Legal Team"}]};he.debug("Using hardcoded data:",d),m(d)}catch(d){console.error("Error loading subprocessors:",d),c("Failed to load subprocessors")}finally{h(!1)}})()},[]);const i=l=>l.includes("EU")?"":l.includes("US")?"":(l.includes("Global"),""),r=l=>{const d={tr:{"MailerSend Inc.":{name:"MailerSend Inc.",purpose:"E-posta teslimat, suppression ynetimi ve altyap (yalnz ilemsel trafik)",categories:["E-posta adresleri","lemsel meta veriler","Teknik teslimat kaytlar","Suppression kaytlar"]},"Stripe Inc.":{name:"Stripe Inc.",purpose:"deme ileme ve finansal hizmetler",categories:["deme verisi","lem verisi","Mteri verisi"]},"Google Analytics":{name:"Google Analytics",purpose:"Web sitesi analitik ve performans izleme",categories:["Kullanm verisi","Analitik veri","Teknik veri"]},"Cloudflare Inc.":{name:"Cloudflare Inc.",purpose:"erik datm a ve gvenlik hizmetleri",categories:["Teknik veri","Gvenlik kaytlar"]}}};return n==="tr"&&d.tr[l.name]?d.tr[l.name]:{name:l.name,purpose:l.purpose,categories:l.dataCategories}},s=o[n];return t?e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:s.loading})]})}):f?e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:s.error}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:s.retry})]})}):a?e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(Wu,{className:"h-8 w-8 text-indigo-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s.title}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:s.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-6 text-sm text-gray-500",children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[s.lastUpdated,": ",new Date(a.lastModified).toLocaleDateString()]})]})]}),e.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden mb-8",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.provider}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.purpose}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.region}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.dataCategories}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s.dpaStatus})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.subprocessors.map((l,d)=>{const u=r(l);return e.jsxs("tr",{className:d%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:u.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:u.purpose})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx("span",{className:"mr-2",children:i(l.region)}),l.region]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:u.categories.join(", ")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fs,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("a",{href:l.dpaLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 underline",children:s.available})]})})]},l.id)})})]})})}),e.jsx("div",{className:"lg:hidden space-y-6",children:a.subprocessors.map(l=>{const d=r(l);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:d.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ni,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"mr-2",children:i(l.region)}),l.region]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fs,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("a",{href:l.dpaLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-800 underline",children:"DPA"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:s.purpose}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:d.purpose})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:s.dataCategories}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:d.categories.map((u,x)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded",children:u},x))})})]})]})]},l.id)})}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsxs("p",{children:[s.lastUpdated,": ",new Date(a.lastModified).toLocaleDateString()]})})]})}):e.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:s.noData})})})},Cy=()=>{const{currentLanguage:a}=Fa(),m={tr:{title:"Veri leme Szlemesi (DPA)",subtitle:"Comptario ile mteriler arasndaki kiisel veri ileme szlemesi ve GDPR uyumluluk bilgileri",lastUpdated:"Son gncelleme",overview:"Genel Bak",overviewText:"Bu Veri leme Szlemesi (DPA), Comptario hizmetlerini kullanan mterilerimiz ile aramzdaki kiisel veri ileme faaliyetlerini dzenler ve GDPR (Genel Veri Koruma Ynetmelii) uyumluluunu salar.",sections:{definitions:{title:"Tanmlar",items:[{term:"Veri Sorumlusu",definition:"Comptario hizmetlerini kullanan ve kiisel verilerin ilenme amalarn ve aralarn belirleyen kurulu."},{term:"Veri leyici",definition:"Veri sorumlusu adna kiisel verileri ileyen Comptario irketi."},{term:"Kiisel Veri",definition:"Kimlii belirli veya belirlenebilir gerek kiiye ilikin her trl bilgi."},{term:"leme",definition:"Kiisel veriler zerinde gerekletirilen her trl ilem (toplama, kaydetme, dzenleme, deitirme, sorgulama, kullanma, aktarma, yaygnlatrma, snflandrma, silme vb.)."}]},processing:{title:"Veri leme Detaylar",categories:{title:"lenen Veri Kategorileri",items:["Kimlik bilgileri (ad, soyad, e-posta)","letiim bilgileri (telefon, adres)","Finansal veriler (fatura bilgileri, deme kaytlar)"," verileri (mteri kaytlar, rn bilgileri)","Teknik veriler (IP adresi, kullanm kaytlar)"]},purposes:{title:"leme Amalar",items:["Muhasebe ve finansal hizmetlerin salanmas","Mteri destek hizmetleri","Sistem gvenlii ve performans optimizasyonu","Yasal ykmllklerin yerine getirilmesi","Hizmet gelitirme ve analiz"]},subjects:{title:"Veri Konusu Kategorileri",items:["Mteri temsilcileri","Son kullanclar","Tedarikiler"," ortaklar","Web sitesi ziyaretileri"]}},obligations:{title:"Comptario'nun Ykmllkleri",items:["Kiisel verileri yalnzca mterinin talimatlar dorultusunda ileme","Uygun teknik ve organizasyonel gvenlik nlemlerini uygulama","Personel gizlilik ykmllklerini salama","Alt ilemci kullanmnda mteri onay alma","Veri ihlallerini gecikmeksizin bildirme","Veri konularnn haklarn kullanmasna yardmc olma","Mterinin denetim haklarn destekleme"]},security:{title:"Gvenlik nlemleri",items:["Veri ifreleme (transit ve rest halinde)","Eriim kontrol ve kimlik dorulama","Dzenli gvenlik testleri ve penetrasyon testleri","Personel gvenlik eitimleri","Olay mdahale prosedrleri","Dzenli gvenlik gncellemeleri"]},internationalTransfers:{title:"Uluslararas Aktarmlar",content:"Kiisel veriler ncelikle AB/AEA iinde ilenir. nc lkelere aktarm gerekirse, Aktarm Etki Deerlendirmesi yaplr ve Standart Szleme Hkmleri (SCCs) ile ek teknik/organizasyonel nlemler uygulanr."},additionalSecurity:{title:"Ek Gvenlik Tedbirleri",items:["Mmkn olduunda mteri verilerinin sahte/anonimletirilmesi","Ayr retim ve test ortamlar","Eriimlerin en az ayrcalk ilkesine gre snrlandrlmas"]},dataSubjects:{title:"Veri Konusu Haklar",items:["Bilgilendirilme hakk","Eriim hakk","Dzeltme hakk",'Silme hakk ("unutulma hakk")',"lemeyi kstlama hakk","Veri tanabilirlii hakk","tiraz etme hakk"]},contact:{title:"letiim Bilgileri",dpo:"Veri Koruma Sorumlusu",email:Qt.dataProtectionEmail,address:`${Qt.companyName}, ${Qt.address}`,phone:""}}},en:{title:"Data Processing Agreement (DPA)",subtitle:"Personal data processing agreement between Comptario and customers and GDPR compliance information",lastUpdated:"Last updated",overview:"Overview",overviewText:"This Data Processing Agreement (DPA) governs the personal data processing activities between Comptario and our customers using our services, ensuring GDPR (General Data Protection Regulation) compliance.",sections:{definitions:{title:"Definitions",items:[{term:"Data Controller",definition:"The organization using Comptario services that determines the purposes and means of personal data processing."},{term:"Data Processor",definition:"Comptario company that processes personal data on behalf of the data controller."},{term:"Personal Data",definition:"Any information relating to an identified or identifiable natural person."},{term:"Processing",definition:"Any operation performed on personal data (collection, recording, organization, structuring, storage, adaptation, retrieval, consultation, use, disclosure, transmission, dissemination, alignment, combination, restriction, erasure, or destruction)."}]},processing:{title:"Data Processing Details",categories:{title:"Categories of Personal Data",items:["Identity information (name, surname, email)","Contact information (phone, address)","Financial data (invoice information, payment records)","Business data (customer records, product information)","Technical data (IP address, usage logs)"]},purposes:{title:"Purposes of Processing",items:["Providing accounting and financial services","Customer support services","System security and performance optimization","Compliance with legal obligations","Service development and analysis"]},subjects:{title:"Categories of Data Subjects",items:["Customer representatives","End users","Suppliers","Business partners","Website visitors"]}},obligations:{title:"Comptario's Obligations",items:["Process personal data only on customer instructions","Implement appropriate technical and organizational security measures","Ensure staff confidentiality obligations","Obtain customer approval for sub-processor usage","Notify data breaches without delay","Assist with data subject rights exercises","Support customer audit rights"]},security:{title:"Security Measures",items:["Data encryption (in transit and at rest)","Access control and authentication","Regular security testing and penetration tests","Staff security training","Incident response procedures","Regular security updates"]},internationalTransfers:{title:"International Transfers",content:"Personal data is primarily processed within the EU/EEA. Where transfers to third countries occur, Transfer Impact Assessments are conducted and Standard Contractual Clauses (SCCs) plus supplementary technical/organizational measures are applied."},additionalSecurity:{title:"Additional Security Measures",items:["Pseudonymization/Anonymization of customer data when possible","Separated production and test environments","Least-privilege access controls enforced"]},dataSubjects:{title:"Data Subject Rights",items:["Right to be informed","Right of access","Right to rectification",'Right to erasure ("right to be forgotten")',"Right to restrict processing","Right to data portability","Right to object"]},contact:{title:"Contact Information",dpo:"Data Protection Officer",email:Qt.dataProtectionEmail,address:`${Qt.companyName}, ${Qt.address}`,phone:""}}},de:{title:"Datenverarbeitungsvertrag (DPA)",subtitle:"Vereinbarung zur Verarbeitung personenbezogener Daten zwischen Comptario und Kunden sowie DSGVO-Compliance-Informationen",lastUpdated:"Zuletzt aktualisiert",overview:"berblick",overviewText:"Diese Vereinbarung ber die Auftragsverarbeitung (DPA) regelt die Verarbeitung personenbezogener Daten zwischen Comptario und unseren Kunden und stellt die Einhaltung der DSGVO sicher.",sections:{definitions:{title:"Definitionen",items:[{term:"Datenverantwortlicher",definition:"Die Organisation, die Comptario-Dienste nutzt und die Zwecke und Mittel der Verarbeitung personenbezogener Daten bestimmt."},{term:"Datenverarbeiter",definition:"Das Unternehmen Comptario, das personenbezogene Daten im Auftrag des Datenverantwortlichen verarbeitet."},{term:"Personenbezogene Daten",definition:"Alle Informationen, die sich auf eine identifizierte oder identifizierbare natrliche Person beziehen."},{term:"Verarbeitung",definition:"Jeder Vorgang im Zusammenhang mit personenbezogenen Daten (Erhebung, Erfassung, Organisation, Strukturierung, Speicherung, Anpassung, Abruf, Einsichtnahme, Verwendung, Offenlegung, bermittlung, Verbreitung, Abgleich, Kombination, Einschrnkung, Lschung oder Vernichtung)."}]},processing:{title:"Details zur Datenverarbeitung",categories:{title:"Kategorien personenbezogener Daten",items:["Identittsinformationen (Name, Nachname, E-Mail)","Kontaktinformationen (Telefon, Adresse)","Finanzdaten (Rechnungsinformationen, Zahlungsaufzeichnungen)","Geschftsdaten (Kundendatenstze, Produktinformationen)","Technische Daten (IP-Adresse, Nutzungsprotokolle)"]},purposes:{title:"Zwecke der Verarbeitung",items:["Bereitstellung von Buchhaltungs- und Finanzdienstleistungen","Kundensupport-Services","Systemsicherheit und Leistungsoptimierung","Einhaltung gesetzlicher Verpflichtungen","Serviceentwicklung und Analyse"]},subjects:{title:"Kategorien von betroffenen Personen",items:["Kundenvertreter","Endbenutzer","Lieferanten","Geschftspartner","Website-Besucher"]}},obligations:{title:"Verpflichtungen von Comptario",items:["Verarbeitung personenbezogener Daten nur nach Kundenanweisungen","Umsetzung angemessener technischer und organisatorischer Sicherheitsmanahmen","Gewhrleistung der Vertraulichkeitsverpflichtungen der Mitarbeiter","Einholung der Genehmigung des Kunden fr die Nutzung von Unterauftragsverarbeitern","Unverzgliche Meldung von Datenschutzverletzungen","Untersttzung bei der Ausbung von Rechten betroffener Personen","Untersttzung der Audit-Rechte des Kunden"]},security:{title:"Sicherheitsmanahmen",items:["Datenverschlsselung (bei bertragung und im Ruhezustand)","Zugriffskontrolle und Authentifizierung","Regelmige Sicherheitstests und Penetrationstests","Sicherheitsschulungen fr Mitarbeiter","Vorfallerkennungs- und Reaktionsverfahren","Regelmige Sicherheitsupdates"]},internationalTransfers:{title:"Internationale bermittlungen",content:"Personenbezogene Daten werden primr innerhalb der EU/des EWR verarbeitet. Bei bermittlungen in Drittlnder werden Transfer Impact Assessments durchgefhrt und Standardvertragsklauseln (SCCs) sowie zustzliche technische/organisatorische Manahmen angewandt."},additionalSecurity:{title:"Zustzliche Sicherheitsmanahmen",items:["Pseudonymisierung/Anonymisierung von Kundendaten, wenn mglich","Getrennte Produktions- und Testumgebungen","Durchsetzung des Least-Privilege-Prinzips beim Zugriff"]},dataSubjects:{title:"Rechte der betroffenen Personen",items:["Recht auf Information","Recht auf Auskunft","Recht auf Berichtigung",'Recht auf Lschung ("Recht auf Vergessenwerden")',"Recht auf Einschrnkung der Verarbeitung","Recht auf Datenbertragbarkeit","Widerspruchsrecht"]},contact:{title:"Kontaktinformationen",dpo:"Datenschutzbeauftragter",email:Qt.dataProtectionEmail,address:`${Qt.companyName}, ${Qt.address}`,phone:""}}},fr:{title:"Accord de Traitement des Donnes (DPA)",subtitle:"Accord de traitement des donnes personnelles entre Comptario et les clients et informations de conformit RGPD",lastUpdated:"Dernire mise  jour",overview:"Aperu",overviewText:"Cet Accord de Traitement des Donnes (DPA) rgit les activits de traitement des donnes personnelles entre Comptario et nos clients utilisant nos services, garantissant la conformit au RGPD.",sections:{definitions:{title:"Dfinitions",items:[{term:"Responsable du Traitement",definition:"L'organisation utilisant les services Comptario qui dtermine les finalits et les moyens du traitement des donnes personnelles."},{term:"Sous-traitant",definition:"La socit Comptario qui traite les donnes personnelles pour le compte du responsable du traitement."},{term:"Donnes Personnelles",definition:"Toute information concernant une personne physique identifie ou identifiable."},{term:"Traitement",definition:"Toute opration effectue sur des donnes personnelles (collecte, enregistrement, organisation, structuration, conservation, adaptation, extraction, consultation, utilisation, communication, diffusion, rapprochement, interconnexion, limitation, effacement ou destruction)."}]},processing:{title:"Dtails du Traitement des Donnes",categories:{title:"Catgories de Donnes Personnelles",items:["Informations d'identit (nom, prnom, email)","Informations de contact (tlphone, adresse)","Donnes financires (informations de facturation, enregistrements de paiement)","Donnes commerciales (dossiers clients, informations produits)","Donnes techniques (adresse IP, journaux d'utilisation)"]},purposes:{title:"Finalits du Traitement",items:["Fourniture de services comptables et financiers","Services de support client","Scurit du systme et optimisation des performances","Respect des obligations lgales","Dveloppement et analyse des services"]},subjects:{title:"Catgories de Personnes Concernes",items:["Reprsentants clients","Utilisateurs finaux","Fournisseurs","Partenaires commerciaux","Visiteurs du site web"]}},obligations:{title:"Obligations de Comptario",items:["Traiter les donnes personnelles uniquement selon les instructions du client","Mettre en uvre des mesures de scurit techniques et organisationnelles appropries","Assurer les obligations de confidentialit du personnel","Obtenir l'approbation du client pour l'utilisation de sous-traitants","Notifier les violations de donnes sans dlai","Assister dans l'exercice des droits des personnes concernes","Soutenir les droits d'audit du client"]},security:{title:"Mesures de Scurit",items:["Chiffrement des donnes (en transit et au repos)","Contrle d'accs et authentification","Tests de scurit rguliers et tests de pntration","Formation  la scurit du personnel","Procdures de rponse aux incidents","Mises  jour de scurit rgulires"]},internationalTransfers:{title:"Transferts internationaux",content:"Les donnes personnelles sont principalement traites au sein de l'UE/EEE. En cas de transferts vers des pays tiers, des valuations d'impact sur les transferts sont ralises et les Clauses Contractuelles Types (CCT) ainsi que des mesures techniques/organisationnelles supplmentaires sont appliques."},additionalSecurity:{title:"Mesures de scurit supplmentaires",items:["Pseudonymisation/Anonymisation des donnes clients lorsque possible","Environnements de production et de test spars","Contrles daccs selon le principe du moindre privilge"]},dataSubjects:{title:"Droits des Personnes Concernes",items:["Droit d'tre inform","Droit daccs","Droit de rectification",`Droit  l'effacement ("droit  l'oubli")`,"Droit de limiter le traitement","Droit  la portabilit des donnes","Droit d'opposition"]},contact:{title:"Informations de Contact",dpo:"Dlgu  la Protection des Donnes",email:Qt.dataProtectionEmail,address:`${Qt.companyName}, ${Qt.address}`,phone:""}}}},t=m[a]||m.tr;return e.jsx("div",{className:"bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(qr,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.title}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:t.subtitle}),e.jsxs("div",{className:"flex items-center justify-center mt-6 text-sm text-gray-500",children:[e.jsx(Oa,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[t.lastUpdated,": 10.11.2025"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ds,{className:"h-6 w-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.overview})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.overviewText})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.definitions.title}),e.jsx("div",{className:"space-y-4",children:t.sections.definitions.items.map((h,f)=>e.jsxs("div",{className:"border-l-4 border-blue-600 pl-4",children:[e.jsx("dt",{className:"font-semibold text-gray-900",children:h.term}),e.jsx("dd",{className:"text-gray-700 mt-1",children:h.definition})]},f))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(La,{className:"h-6 w-6 text-green-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.processing.title})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.categories.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.categories.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:h})]},f))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.purposes.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.purposes.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-4 w-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:h})]},f))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.sections.processing.subjects.title}),e.jsx("ul",{className:"space-y-2",children:t.sections.processing.subjects.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Is,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:h})]},f))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.obligations.title}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.obligations.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ds,{className:"h-6 w-6 text-red-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.security.title})]}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.security.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-5 w-5 text-red-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.sections.internationalTransfers.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.sections.internationalTransfers.content})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t.sections.additionalSecurity.title}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.additionalSecurity.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Is,{className:"h-6 w-6 text-purple-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.sections.dataSubjects.title})]}),e.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:t.sections.dataSubjects.items.map((h,f)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Fs,{className:"h-5 w-5 text-purple-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:t.sections.contact.title}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{children:e.jsxs("strong",{children:[t.sections.contact.dpo,":"]})}),e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.email]}),e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.address]}),t.sections.contact.phone?e.jsxs("p",{className:"text-gray-700",children:[" ",t.sections.contact.phone]}):null]})]}),e.jsx("div",{className:"mt-12 text-center text-sm text-gray-500",children:e.jsx("p",{children:a==="tr"?"Bu DPA, GDPR ve dier veri koruma dzenlemelerine uygun olarak hazrlanmtr.":a==="en"?"This DPA has been prepared in accordance with GDPR and other data protection regulations.":a==="de"?"Diese DPA wurde in bereinstimmung mit der DSGVO und anderen Datenschutzbestimmungen erstellt.":"Ce DPA a t prpar conformment au RGPD et aux autres rglementations sur la protection des donnes."})})]})})},Ay=()=>{const{i18n:a}=Zt("common"),{openModal:m}=Lp(),t=a.language;W.useEffect(()=>{try{window.location.hash==="#cookie-preferences"&&m();const c=()=>{window.location.hash==="#cookie-preferences"&&m()};return window.addEventListener("hashchange",c),()=>window.removeEventListener("hashchange",c)}catch{}},[m]);const h={tr:{title:"erez Politikas",subtitle:"Web sitemizde erezleri nasl kullandmz ve ynetebileceiniz",preferencesTitle:"erez Tercihlerinizi Ynetin",preferencesDescription:"Hangi erezlerin saklanacan seebilirsiniz. Kiiselletirme iin baz erezler gereklidir.",manageButton:"erez Tercihlerini Ynet",sections:{whatAre:{title:"erezler Nedir?",content:"erezler, web sitesi ziyaretiniz srasnda taraycnzda saklanan kk veri dosyalardr. Bu dosyalar, web sitesinin dzgn almas ve size daha iyi bir deneyim sunmas iin kullanlr."},howWeUse:{title:"erezleri Nasl Kullanyoruz?",content:"Comptario olarak erezleri u amalarla kullanyoruz: oturum ynetimi, kullanc tercihlerini hatrlama, site performansn analiz etme ve gvenlii salama."},consentMode:{title:"Onay Modu (Consent Mode)",content:"Google Consent Mode v2 ve benzeri mekanizmalar destekliyoruz. Tercihleriniz dorultusunda lm/analitik etiketleri uyarlanr; onay verilmeden gerekli olmayan erezler yerletirilmez. Tercihlerinizi bu sayfadaki butonla dilediiniz an gncelleyebilirsiniz."},thirdParty:{title:"nc Taraf erezleri",content:"Baz hizmetlerimiz iin gvenilir nc taraf salayclardan erezler kullanyoruz:",partners:{title:" Ortaklarmz:",analytics:"Web sitesi kullanm istatistikleri",payments:"Gvenli deme ilemleri",support:"Mteri destek hizmetleri"}},managing:{title:"erezleri Ynetme",content:"erez tercihlerinizi istediiniz zaman deitirebilirsiniz. Ayrca tarayc ayarlarndan da erezleri ynetebilirsiniz:",browsers:{chrome:"Ayarlar > Gizlilik ve Gvenlik > erezler",firefox:"Ayarlar > Gizlilik ve Gvenlik > erezler ve Site Verileri",safari:"Tercihler > Gizlilik > erezleri Ynet",edge:"Ayarlar > erezler ve Site zinleri"}}},contact:{title:"letiim",email:"E-posta",cmp:"erez Ynetimi",cmpNote:"Yukardaki butonu kullanarak tercihlerinizi deitirebilirsiniz",privacyEmail:Qt.dataProtectionEmail},backToApp:"Uygulamaya Geri Dn"},en:{title:"Cookie Policy",subtitle:"How we use cookies on our website and how you can manage them",preferencesTitle:"Manage Your Cookie Preferences",preferencesDescription:"You can choose which cookies to store. Some cookies are necessary for personalization.",manageButton:"Manage Cookie Preferences",sections:{whatAre:{title:"What Are Cookies?",content:"Cookies are small data files stored in your browser during your website visit. These files are used to help the website function properly and provide you with a better experience."},howWeUse:{title:"How We Use Cookies?",content:"At Comptario, we use cookies for the following purposes: session management, remembering user preferences, analyzing site performance, and ensuring security."},consentMode:{title:"Consent Mode",content:"We support Google Consent Mode v2 and similar frameworks. Measurement/analytics tags adapt to your choices; non-essential cookies are not set before consent. You can update your preferences at any time using the button above."},thirdParty:{title:"Third-Party Cookies",content:"We use cookies from trusted third-party providers for some of our services:",partners:{title:"Our Partners:",analytics:"Website usage statistics",payments:"Secure payment processing",support:"Customer support services"}},managing:{title:"Managing Cookies",content:"You can change your cookie preferences at any time. You can also manage cookies through your browser settings:",browsers:{chrome:"Settings > Privacy and Security > Cookies",firefox:"Settings > Privacy and Security > Cookies and Site Data",safari:"Preferences > Privacy > Manage Cookies",edge:"Settings > Cookies and Site Permissions"}}},contact:{title:"Contact",email:"Email",cmp:"Cookie Management",cmpNote:"You can change your preferences using the button above",privacyEmail:Qt.dataProtectionEmail},backToApp:"Back to App"},de:{title:"Cookie-Richtlinie",subtitle:"Wie wir Cookies auf unserer Website verwenden und wie Sie sie verwalten knnen",preferencesTitle:"Verwalten Sie Ihre Cookie-Einstellungen",preferencesDescription:"Sie knnen whlen, welche Cookies gespeichert werden sollen. Einige Cookies sind fr die Personalisierung notwendig.",manageButton:"Cookie-Einstellungen verwalten",sections:{whatAre:{title:"Was sind Cookies?",content:"Cookies sind kleine Datendateien, die whrend Ihres Website-Besuchs in Ihrem Browser gespeichert werden. Diese Dateien werden verwendet, um der Website beim ordnungsgemen Funktionieren zu helfen und Ihnen eine bessere Erfahrung zu bieten."},howWeUse:{title:"Wie verwenden wir Cookies?",content:"Bei Comptario verwenden wir Cookies fr folgende Zwecke: Sitzungsverwaltung, Benutzereinstellungen merken, Site-Performance analysieren und Sicherheit gewhrleisten."},consentMode:{title:"Einwilligungsmodus",content:"Wir untersttzen den Google Consent Mode v2 und hnliche Rahmenwerke. Mess-/Analyse-Tags passen sich Ihren Entscheidungen an; nicht notwendige Cookies werden ohne Einwilligung nicht gesetzt. Sie knnen Ihre Einstellungen jederzeit ber die oben stehende Schaltflche ndern."},thirdParty:{title:"Drittanbieter-Cookies",content:"Wir verwenden Cookies von vertrauenswrdigen Drittanbietern fr einige unserer Dienste:",partners:{title:"Unsere Partner:",analytics:"Website-Nutzungsstatistiken",payments:"Sichere Zahlungsabwicklung",support:"Kundensupport-Services"}},managing:{title:"Cookies verwalten",content:"Sie knnen Ihre Cookie-Einstellungen jederzeit ndern. Sie knnen Cookies auch ber Ihre Browser-Einstellungen verwalten:",browsers:{chrome:"Einstellungen > Datenschutz und Sicherheit > Cookies",firefox:"Einstellungen > Datenschutz und Sicherheit > Cookies und Website-Daten",safari:"Einstellungen > Datenschutz > Cookies verwalten",edge:"Einstellungen > Cookies und Website-Berechtigungen"}}},contact:{title:"Kontakt",email:"E-Mail",cmp:"Cookie-Verwaltung",cmpNote:"Sie knnen Ihre Einstellungen ber die obige Schaltflche ndern",privacyEmail:Qt.dataProtectionEmail},backToApp:"Zurck zur App"},fr:{title:"Politique des cookies",subtitle:"Comment nous utilisons les cookies sur notre site web et comment vous pouvez les grer",preferencesTitle:"Grez vos prfrences de cookies",preferencesDescription:"Vous pouvez choisir quels cookies stocker. Certains cookies sont ncessaires pour la personnalisation.",manageButton:"Grer les prfrences de cookies",sections:{whatAre:{title:"Que sont les cookies ?",content:"Les cookies sont de petits fichiers de donnes stocks dans votre navigateur lors de votre visite sur le site web. Ces fichiers sont utiliss pour aider le site web  fonctionner correctement et vous offrir une meilleure exprience."},howWeUse:{title:"Comment utilisons-nous les cookies ?",content:"Chez Comptario, nous utilisons les cookies aux fins suivantes : gestion de session, mmorisation des prfrences utilisateur, analyse des performances du site et assurance de la scurit."},consentMode:{title:"Mode de consentement",content:"Nous prenons en charge Google Consent Mode v2 et des cadres similaires. Les balises de mesure/analyse s'adaptent  vos choix ; les cookies non essentiels ne sont pas dposs avant consentement. Vous pouvez mettre  jour vos prfrences  tout moment via le bouton ci-dessus."},thirdParty:{title:"Cookies tiers",content:"Nous utilisons des cookies de fournisseurs tiers de confiance pour certains de nos services :",partners:{title:"Nos partenaires :",analytics:"Statistiques d'utilisation du site web",payments:"Traitement scuris des paiements",support:"Services de support client"}},managing:{title:"Gestion des cookies",content:"Vous pouvez modifier vos prfrences de cookies  tout moment. Vous pouvez galement grer les cookies via les paramtres de votre navigateur :",browsers:{chrome:"Paramtres > Confidentialit et scurit > Cookies",firefox:"Paramtres > Confidentialit et scurit > Cookies et donnes de site",safari:"Prfrences > Confidentialit > Grer les cookies",edge:"Paramtres > Cookies et autorisations de site"}}},contact:{title:"Contact",email:"Email",cmp:"Gestion des cookies",cmpNote:"Vous pouvez modifier vos prfrences en utilisant le bouton ci-dessus",privacyEmail:Qt.dataProtectionEmail},backToApp:"Retour  l'application"}},f=h[t]||h.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(Ip,{className:"h-8 w-8 text-yellow-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:f.title}),e.jsx("p",{className:"text-lg text-gray-600",children:f.subtitle})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center justify-center",children:[e.jsx(Gc,{className:"h-6 w-6 mr-2 text-blue-600"}),f.preferencesTitle]}),e.jsx("p",{className:"text-gray-600 mb-6",children:f.preferencesDescription}),e.jsx("button",{onClick:()=>{try{m()}catch{}try{window.dispatchEvent(new Event("open-cookie-preferences"))}catch{}try{window.location.hash="cookie-preferences"}catch{}},className:"relative px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","data-testid":"open-cookie-preferences",children:f.manageButton})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.whatAre.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.whatAre.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.howWeUse.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.howWeUse.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.consentMode.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.consentMode.content})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.thirdParty.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.thirdParty.content}),e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:f.sections.thirdParty.partners.title}),e.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1",children:[e.jsxs("li",{children:[" Google Analytics - ",f.sections.thirdParty.partners.analytics]}),e.jsxs("li",{children:[" Stripe - ",f.sections.thirdParty.partners.payments]}),e.jsxs("li",{children:[" Intercom - ",f.sections.thirdParty.partners.support]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.sections.managing.title}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:f.sections.managing.content}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Chrome"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.sections.managing.browsers.chrome})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Firefox"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.sections.managing.browsers.firefox})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Safari"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.sections.managing.browsers.safari})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Edge"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.sections.managing.browsers.edge})]})]})]}),e.jsxs("section",{className:"border-t border-gray-200 pt-8 mt-12",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:f.contact.title}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[f.contact.email,":"]})," privacy@comptario.com"]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[f.contact.cmp,":"]})," ",f.contact.cmpNote]}),e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsx("strong",{children:t.startsWith("tr")?"Veri Koruma:":t.startsWith("de")?"Datenschutz:":t.startsWith("fr")?"Protection des donnes :":"Data Protection:"})," ",f.contact.privacyEmail]})]})]})]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",f.backToApp]})})]})})},Ey=()=>{const{i18n:a}=Zt("common"),m=(a.language||"en").split("-")[0],t={tr:{title:"Knye",intro:"Bu sayfa, yasal bildirim ve iletiim bilgilerimizi ierir.",companyInfo:"irket Bilgileri",companyName:"irket Ad",address:"Adres",contact:"letiim",legal:"Yasal Bilgiler",email:"E-posta",responsible:"Sorumlu Kii",responsibleValue:Qt.representative,companyValue:Qt.companyName,addressValue:Qt.address,emailValue:Qt.email,legalNote:"Comptario, Peaknova tarafndan salanmaktadr. Bu sayfa, 5651 ve ilgili dzenlemeler erevesinde bilgilendirme amaldr."},en:{title:"Imprint",intro:"This page contains our legal notice and contact information.",companyInfo:"Company Information",companyName:"Company Name",address:"Address",contact:"Contact",legal:"Legal Information",email:"Email",responsible:"Responsible Person",responsibleValue:Qt.representative,companyValue:Qt.companyName,addressValue:Qt.address,emailValue:Qt.email,legalNote:"Comptario is provided by Peaknova. This page serves as a legal notice as required by applicable regulations."},de:{title:"Impressum",intro:"Diese Seite enthlt unser rechtliches Impressum und Kontaktinformationen.",companyInfo:"Unternehmensinformationen",companyName:"Unternehmensname",address:"Adresse",contact:"Kontakt",legal:"Rechtliche Informationen",email:"E-Mail",responsible:"Verantwortliche Person",responsibleValue:Qt.representative,companyValue:Qt.companyName,addressValue:Qt.address,emailValue:Qt.email,legalNote:"Comptario wird von Peaknova bereitgestellt. Diese Seite dient als rechtlicher Hinweis gem den geltenden Vorschriften."},fr:{title:"Mentions lgales",intro:"Cette page contient nos mentions lgales et nos informations de contact.",companyInfo:"Informations sur lentreprise",companyName:"Nom de lentreprise",address:"Adresse",contact:"Contact",legal:"Informations lgales",email:"Email",responsible:"Responsable",responsibleValue:Qt.representative,companyValue:Qt.companyName,addressValue:Qt.address,emailValue:Qt.email,legalNote:"Comptario est fourni par Peaknova. Cette page constitue une mention lgale conformment aux rglementations applicables."}},h=t[m]||t.en;return e.jsx("div",{className:"bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(Jr,{className:"h-8 w-8 text-indigo-600"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:h.title}),e.jsx("p",{className:"text-lg text-gray-600",children:h.intro})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:e.jsxs("div",{className:"prose prose-lg max-w-none",children:[e.jsxs("section",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Jr,{className:"h-6 w-6 mr-2 text-indigo-600"}),h.companyInfo]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:[e.jsxs("strong",{children:[h.companyName,":"]})," ",h.companyValue]}),e.jsxs("p",{className:"text-gray-700 mb-2 flex items-center",children:[e.jsx(jl,{className:"h-5 w-5 mr-2 text-gray-500"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[h.address,":"]})," ",h.addressValue]})]}),e.jsxs("p",{className:"text-gray-700 mb-2 flex items-center",children:[e.jsx(Us,{className:"h-5 w-5 mr-2 text-gray-500"}),e.jsxs("span",{children:[e.jsxs("strong",{children:[h.email,":"]})," ",h.emailValue]})]}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("strong",{children:[h.responsible,":"]})," ",h.responsibleValue]})]})]}),e.jsxs("section",{className:"mb-2",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(GC,{className:"h-6 w-6 mr-2 text-rose-600"}),h.legal]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:h.legalNote})]}),e.jsxs("section",{className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:m==="tr"?"Altyap ve letiim":m==="de"?"Infrastruktur & Kontakt":m==="fr"?"Infrastructures & Contact":"Infrastructure & Contact"}),e.jsxs("ul",{className:"text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:m==="tr"?"Barndrma Salayc:":m==="de"?"Hosting-Anbieter:":m==="fr"?"Hbergeur :":"Hosting Provider:"})," ",Qt.hostingProvider]}),e.jsxs("li",{children:[e.jsx("strong",{children:m==="tr"?"E-posta Altyaps:":m==="de"?"E-Mail-Infrastruktur:":m==="fr"?"Infrastructure e-mail :":"Email Infrastructure:"})," ",Qt.emailInfrastructure]}),e.jsxs("li",{children:[e.jsx("strong",{children:m==="tr"?"Veri Koruma letiimi:":m==="de"?"Datenschutz Kontakt:":m==="fr"?"Contact protection des donnes :":"Data Protection Contact:"})," ",Qt.dataProtectionEmail]})]})]}),Qt.identifiers&&Qt.identifiers.siren?e.jsxs("section",{className:"mt-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Ku,{className:"h-5 w-5 mr-2 text-gray-600"}),m==="fr"?"Identifiants":m==="de"?"Kennnummern":m==="tr"?"Kimlik Bilgileri":"Identifiers"]}),e.jsxs("ul",{className:"text-gray-700 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"SIREN:"})," ",Qt.identifiers.siren]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SIRET:"})," ",Qt.identifiers.siret]}),Qt.identifiers?.tva,Qt.identifiers?.rcs,Qt.identifiers?.ape,Qt.identifiers?.steuernummer&&e.jsxs("li",{children:[e.jsx("strong",{children:"Steuernummer:"})," ",Qt.identifiers.steuernummer]}),Qt.identifiers?.umsatzsteuerID&&e.jsxs("li",{children:[e.jsx("strong",{children:"USt-IdNr.:"})," ",Qt.identifiers.umsatzsteuerID]}),Qt.identifiers?.handelsregisternummer&&e.jsxs("li",{children:[e.jsx("strong",{children:"Handelsregisternummer:"})," ",Qt.identifiers.handelsregisternummer]})]})]}):null]})}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"#",onClick:()=>window.history.back(),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:[" ",m==="tr"?"Uygulamaya Geri Dn":m==="de"?"Zurck zur App":m==="fr"?"Retour  l'application":"Back to App"]})})]})})},Ty=()=>{const{currentLanguage:a}=Fa(),m={tr:{title:"E-posta ve Anti-Spam Politikas",lastUpdated:"Son gncelleme: 10.11.2025",intro:"Bu politika Comptario tarafndan gnderilen e-postalarn kapsamn, amacn ve spam kart yaklammz aklar.",scope:{title:"Kapsam",items:["Bu politika Comptario platformu ve ilikili alan adlar zerinden gnderilen tm e-postalar kapsar.","Politika; kullanc hesaplar, kurulu yelii, gvenlik, faturalama, yasal bildirimler ve kritik ilem aklarna ilikin iletileri ierir."]},transactionalOnly:{title:"Sadece lem ve Zorunlu Bildirim E-postalar",items:["Pazarlama, promosyon veya toplu reklam e-postalar gndermiyoruz.","Tm e-postalar; hesap oluturma, e-posta dorulama, ifre sfrlama, deme/fatura bildirimi, gvenlik uyarlar, rol/organizasyon deiiklikleri, yasal zorunlu gncellemeler ve kritik sistem bilgilendirmeleri ile snrldr.","Kullanclar gereksiz e-posta kirliliine maruz braklmaz; asgari gerekli iletiim yaklam uygulanr."]},acceptableUse:{title:"Kabul Edilebilir Kullanm (E-posta)",items:["Platform zerinden yetkisiz ekilde toplu e-posta gnderimi yaplamaz.","Kullanc hesaplarna ait iletiim adresleri nc taraflara pazarlama amacyla aktarlmaz.","pheli yetkisiz eriim tespit edilirse ilgili hesaplara ait e-posta bildirimleri gvenlik amacyla kstlanabilir."]},antiSpam:{title:"Anti-Spam Yaklam",items:["SPF, DKIM ve DMARC yaplandrmalar uygulanr (e-posta btnl ve kimlik dorulama).","Yalnzca gvenilir ilem tetikleyicileri e-posta oluturabilir.","Gereksiz tekrarl gnderimler tespit edilirse sistem oran snrlama (rate limiting) uygular.","Yanltc konu satr veya gnderen bilgisi kullanlmaz."]},infrastructure:{title:"Altyap ve Teslimat",items:[`E-posta iletimi: ${Qt.emailInfrastructure}.`,"Teslimat kalitesi dzenli olarak izlenir (bounce/complaint oranlar).","Gerekirse teslimat zincirine ek gvenlik katmanlar (ifreleme, imzalama) eklenir."]},abuse:{title:"Ktye Kullanm Bildirimi",text:`Bu politikay ihlal eden veya yetkisiz grndn dndnz bir e-posta aldysanz ltfen u adrese bildirin: ${Qt.dataProtectionEmail}`},contact:{title:"letiim",text:`Sorular iin ${Qt.dataProtectionEmail} veya ${Qt.email} adresine ulaabilirsiniz.`}},en:{title:"Email & Anti-Spam Policy",lastUpdated:"Last updated: 10 Nov 2025",intro:"This policy explains the scope, purpose and anti-abuse posture of emails sent by Comptario.",scope:{title:"Scope",items:["Applies to all emails sent via the Comptario platform and associated domains.","Covers user account, organization membership, security, billing, legal notices and critical transactional flows."]},transactionalOnly:{title:"Transactional & Mandatory Notices Only",items:["We do not send marketing, promotional or bulk advertising emails.","All emails are limited to: account creation, email verification, password reset, payment/invoice notifications, security alerts, role/organization changes, legally mandated updates, and critical system advisories.","Users are not exposed to unnecessary email noise; minimal necessary communication is applied."]},acceptableUse:{title:"Acceptable Email Use",items:["Unauthorized bulk dispatch through the platform is prohibited.","User contact addresses are not sold or transferred to third parties for marketing.","If suspicious unauthorized access is detected, outbound notifications may be restricted for security."]},antiSpam:{title:"Anti-Spam Measures",items:["SPF, DKIM and DMARC are enforced (integrity & authentication).","Only trusted transactional triggers can generate emails.","Rate limiting applies if redundant repetitive sends are detected.","No deceptive subject lines or sender identities."]},infrastructure:{title:"Infrastructure & Delivery",items:[`Delivery infrastructure: ${Qt.emailInfrastructure}.`,"Delivery quality (bounce/complaint rates) is continuously monitored.","Additional cryptographic safeguards may be added where appropriate."]},abuse:{title:"Abuse Reporting",text:`Report any email you believe violates this policy or appears unauthorized to: ${Qt.dataProtectionEmail}`},contact:{title:"Contact",text:`Questions: ${Qt.dataProtectionEmail} or ${Qt.email}`}},de:{title:"E-Mail- & Anti-Spam-Richtlinie",lastUpdated:"Zuletzt aktualisiert: 10.11.2025",intro:"Diese Richtlinie erlutert den Umfang, Zweck und den Anti-Missbrauch-Ansatz der von Comptario versendeten E-Mails.",scope:{title:"Geltungsbereich",items:["Gilt fr alle ber die Comptario-Plattform und zugehrige Domains versendeten E-Mails.","Umfasst Benutzerkonto, Organisationsmitgliedschaft, Sicherheit, Abrechnung, rechtliche Hinweise und kritische transaktionale Ablufe."]},transactionalOnly:{title:"Nur Transaktionale & Gesetzlich Erforderliche Mitteilungen",items:["Wir versenden keine Marketing-, Werbe- oder Bulk-Mails.","Alle E-Mails beschrnken sich auf: Kontoerstellung, E-Mail-Besttigung, Passwort-Reset, Zahlungs-/Rechnungsbenachrichtigungen, Sicherheitswarnungen, Rollen-/Organisationsnderungen, gesetzlich erforderliche Updates und kritische Systemhinweise.","Es gilt das Prinzip der minimal notwendigen Kommunikation. "]},acceptableUse:{title:"Zulssige Nutzung (E-Mail)",items:["Unbefugter Massenversand ber die Plattform ist untersagt.","Kontaktdaten der Nutzer werden nicht zu Marketingzwecken verkauft oder bertragen.","Bei verdchtigem unbefugtem Zugriff knnen ausgehende Benachrichtigungen eingeschrnkt werden."]},antiSpam:{title:"Anti-Spam-Manahmen",items:["SPF, DKIM und DMARC sind implementiert.","Nur vertrauenswrdige transaktionale Auslser knnen E-Mails erzeugen.","Rate Limiting bei erkannten redundanten Wiederholungen.","Keine irrefhrenden Betreffzeilen oder Absenderangaben."]},infrastructure:{title:"Infrastruktur & Zustellung",items:[`Versandinfrastruktur: ${Qt.emailInfrastructure}.`,"Zustellqualitt (Bounce/Beschwerde-Raten) wird berwacht.","Bei Bedarf zustzliche kryptografische Schutzmanahmen."]},abuse:{title:"Meldeweg fr Missbrauch",text:`Melden Sie verdchtige oder unbefugte E-Mails an: ${Qt.dataProtectionEmail}`},contact:{title:"Kontakt",text:`Fragen: ${Qt.dataProtectionEmail} oder ${Qt.email}`}},fr:{title:"Politique E-mail & Anti-Spam",lastUpdated:"Dernire mise  jour : 10/11/2025",intro:"Cette politique dcrit le primtre, lobjectif et lapproche anti-abus des e-mails envoys par Comptario.",scope:{title:"Primtre",items:["Sapplique  tous les e-mails envoys via la plateforme Comptario et les domaines associs.","Couvre les comptes utilisateurs, lappartenance aux organisations, la scurit, la facturation, les notifications lgales et les flux transactionnels critiques."]},transactionalOnly:{title:"Uniquement Transactionnel & Obligations Lgales",items:["Nous nenvoyons pas de-mails marketing, promotionnels ou publicitaires de masse.","Tous les e-mails se limitent  : cration de compte, vrification de-mail, rinitialisation de mot de passe, notifications de paiement/facture, alertes de scurit, changements de rle/organisation, mises  jour lgales obligatoires et avis systmes critiques.","Principe appliqu :  communication minimale ncessaire ."]},acceptableUse:{title:"Utilisation Acceptable (E-mail)",items:["Tout envoi massif non autoris via la plateforme est interdit.","Les adresses des utilisateurs ne sont ni vendues ni transfres  des tiers  des fins marketing.","En cas daccs non autoris suspect, certaines notifications sortantes peuvent tre restreintes."]},antiSpam:{title:"Mesures Anti-Spam",items:["SPF, DKIM et DMARC activs (intgrit & authentification).","Seuls des dclencheurs transactionnels fiables peuvent gnrer des e-mails.","Limitation de frquence si des envois rptitifs redondants sont dtects.","Aucun objet ou expditeur trompeur."]},infrastructure:{title:"Infrastructure & Livraison",items:[`Infrastructure denvoi : ${Qt.emailInfrastructure}.`,"Qualit de livraison surveille (taux de rebond/rclamation).","Des protections cryptographiques additionnelles peuvent tre ajoutes si ncessaire."]},abuse:{title:"Signalement dAbus",text:`Signalez toute violation ou e-mail suspect  : ${Qt.dataProtectionEmail}`},contact:{title:"Contact",text:`Questions : ${Qt.dataProtectionEmail} ou ${Qt.email}`}}},t=m[a]||m.en;return e.jsx("div",{className:"min-h-screen bg-slate-50",children:e.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12 space-y-10",children:[e.jsxs("header",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2 flex items-center justify-center gap-2",children:[e.jsx(Us,{className:"h-7 w-7 text-indigo-600"})," ",t.title]}),e.jsx("p",{className:"text-sm text-slate-500",children:t.lastUpdated}),e.jsx("p",{className:"text-slate-600 mt-4 max-w-2xl mx-auto leading-relaxed",children:t.intro})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.scope.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.scope.items.map((h,f)=>e.jsx("li",{children:h},f))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.transactionalOnly.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.transactionalOnly.items.map((h,f)=>e.jsx("li",{children:h},f))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.acceptableUse.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.acceptableUse.items.map((h,f)=>e.jsx("li",{children:h},f))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.antiSpam.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.antiSpam.items.map((h,f)=>e.jsx("li",{children:h},f))})]}),e.jsxs("section",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:t.infrastructure.title}),e.jsx("ul",{className:"space-y-2 list-disc pl-5 text-slate-700",children:t.infrastructure.items.map((h,f)=>e.jsx("li",{children:h},f))})]}),e.jsxs("section",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-indigo-900 mb-3 flex items-center gap-2",children:[e.jsx(Lc,{className:"h-5 w-5"})," ",t.abuse.title]}),e.jsx("p",{className:"text-indigo-800 leading-relaxed",children:t.abuse.text})]}),e.jsxs("section",{className:"bg-slate-100 border border-slate-300 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-900 mb-3 flex items-center gap-2",children:[e.jsx(Ds,{className:"h-5 w-5"})," ",t.contact.title]}),e.jsx("p",{className:"text-slate-700 leading-relaxed",children:t.contact.text})]}),e.jsx("div",{className:"text-center text-xs text-slate-500 pt-4",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," ",Qt.companyName,". All rights reserved."]})})]})})},w_=()=>{const a=s=>{const l=document.getElementById(s);l&&l.scrollIntoView({behavior:"smooth",block:"start"})},{t:m}=Zt("help"),[t,h]=W.useState(""),f=W.useMemo(()=>({sidebarTitle:m("sidebarTitle"),pageTitle:m("pageTitle"),overviewDesc:m("overviewDesc"),labels:{tip:m("labels.tip")},sections:m("sections",{returnObjects:!0}),gettingStarted:m("gettingStarted",{returnObjects:!0}),customers:m("customers",{returnObjects:!0}),suppliers:m("suppliers",{returnObjects:!0}),products:m("products",{returnObjects:!0}),invoices:m("invoices",{returnObjects:!0}),expenses:m("expenses",{returnObjects:!0}),sales:m("sales",{returnObjects:!0}),bank:m("bank",{returnObjects:!0}),reports:m("reports",{returnObjects:!0}),settings:m("settings",{returnObjects:!0}),users:m("users",{returnObjects:!0}),planLimits:m("planLimits",{returnObjects:!0}),periodLock:m("periodLock",{returnObjects:!0}),securityBackup:m("securityBackup",{returnObjects:!0}),faq:m("faq",{returnObjects:!0})}),[m]),c=W.useMemo(()=>f.sections||[],[f]),n=s=>s.toLowerCase().includes(t.trim().toLowerCase()),o=({text:s})=>{const l=t.trim();if(!l)return e.jsx(e.Fragment,{children:s});const d=s.split(new RegExp(`(${l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"));return e.jsx(e.Fragment,{children:d.map((u,x)=>u.toLowerCase()===l.toLowerCase()?e.jsx("mark",{className:"bg-yellow-200 rounded px-0.5",children:u},x):e.jsx(Gt.Fragment,{children:u},x))})},i=({children:s})=>e.jsx("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-100 text-blue-900 text-sm",children:s}),r=({children:s})=>e.jsx("kbd",{className:"px-1.5 py-0.5 text-xs rounded border bg-gray-50 border-gray-300 text-gray-800",children:s});return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("aside",{className:"lg:col-span-3",children:e.jsxs("div",{className:"sticky top-24 space-y-2",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:f.sidebarTitle}),e.jsx("nav",{className:"space-y-1",children:c.map(s=>e.jsx("button",{onClick:()=>a(s.id),className:"block w-full text-left px-3 py-2 rounded-md text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100",children:s.title},s.id))})]})}),e.jsxs("div",{className:"lg:col-span-9 space-y-12",children:[e.jsx("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-4",children:e.jsx("input",{type:"text",value:t,onChange:s=>h(s.target.value),placeholder:m("searchPlaceholder",{ns:"common",defaultValue:"Ara..."}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(!t||n(f.pageTitle)||n(f.overviewDesc))&&e.jsxs("section",{id:"overview",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:f.pageTitle}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.jsx(o,{text:f.overviewDesc})})]}),(!t||n(f.gettingStarted.title)||(f.gettingStarted.steps||[]).some(s=>n(s)))&&e.jsxs("section",{id:"getting-started",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.gettingStarted.title}),e.jsx("ol",{className:"list-decimal pl-5 space-y-2 text-gray-700",children:f.gettingStarted.steps.map((s,l)=>e.jsx("li",{children:e.jsx(o,{text:s})},l))}),e.jsx("div",{className:"mt-4",children:e.jsxs(i,{children:[f.labels.tip,": ",f.gettingStarted.tipKeyboard," ",e.jsx(r,{children:"g"})," ",f.gettingStarted.tipAfter]})})]}),(!t||n(f.customers.title)||(f.customers.items||[]).some(s=>n(s)))&&e.jsxs("section",{id:"customers",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.customers.title}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:f.customers.items.map((s,l)=>e.jsx("li",{children:e.jsx(o,{text:s})},l))})]}),(!t||n(f.suppliers.title)||n(f.suppliers.desc))&&e.jsxs("section",{id:"suppliers",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.suppliers.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.suppliers.desc})})]}),(!t||n(f.products.title)||n(f.products.desc)||(f.products.items||[]).some(s=>n(s)))&&e.jsxs("section",{id:"products",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.products.title}),e.jsx("p",{className:"text-gray-700 mb-3",children:e.jsx(o,{text:f.products.desc})}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:f.products.items.map((s,l)=>e.jsx("li",{children:e.jsx(o,{text:s})},l))})]}),(!t||n(f.invoices.title)||(f.invoices.steps||[]).some(s=>n(s)))&&e.jsxs("section",{id:"invoices",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.invoices.title}),e.jsx("ol",{className:"list-decimal pl-5 space-y-2 text-gray-700",children:f.invoices.steps.map((s,l)=>e.jsx("li",{children:e.jsx(o,{text:s})},l))})]}),(!t||n(f.expenses.title)||n(f.expenses.desc))&&e.jsxs("section",{id:"expenses",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.expenses.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.expenses.desc})})]}),(!t||n(f.sales.title)||n(f.sales.desc))&&e.jsxs("section",{id:"sales",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.sales.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.sales.desc})})]}),(!t||n(f.bank.title)||n(f.bank.desc))&&e.jsxs("section",{id:"bank",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.bank.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.bank.desc})})]}),(!t||n(f.reports.title)||n(f.reports.desc))&&e.jsxs("section",{id:"reports",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.reports.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.reports.desc})})]}),(!t||n(f.settings.title)||(f.settings.items||[]).some(s=>n(s)))&&e.jsxs("section",{id:"settings",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.settings.title}),e.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:f.settings.items.map((s,l)=>e.jsx("li",{children:e.jsx(o,{text:s})},l))})]}),(!t||n(f.users.title)||n(f.users.desc))&&e.jsxs("section",{id:"users",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.users.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.users.desc})})]}),(!t||n(f.planLimits.title)||n(f.planLimits.desc))&&e.jsxs("section",{id:"plan-limits",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.planLimits.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.planLimits.desc})})]}),(!t||n(f.periodLock.title)||n(f.periodLock.desc))&&e.jsxs("section",{id:"period-lock",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.periodLock.title}),e.jsx("p",{className:"text-gray-700",children:e.jsx(o,{text:f.periodLock.desc})})]}),(!t||n(f.securityBackup.title)||n(f.securityBackup.items?.join(" ")))&&e.jsxs("section",{id:"security-backup",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.securityBackup.title}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[e.jsx("li",{children:e.jsx(o,{text:f.securityBackup.items[0]})}),e.jsx("li",{children:e.jsx(o,{text:f.securityBackup.items[1]})}),e.jsx("li",{children:e.jsx("a",{className:"underline",href:"#legal/cookies",children:f.securityBackup.cookiesText})})]})]}),(!t||n(f.faq.title)||n(f.faq.text))&&e.jsxs("section",{id:"faq-contact",className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:f.faq.title}),e.jsxs("p",{className:"text-gray-700",children:[e.jsx(o,{text:f.faq.text.replace("support@comptario.com","")}),e.jsx("a",{className:"underline",href:"mailto:support@comptario.com",children:"support@comptario.com"})]})]})]})]})})]})},_y=()=>{const{t:a}=Zt("common"),{showBanner:m,acceptAll:t,rejectAll:h,openModal:f,closeBanner:c}=Lp(),n=W.useRef(null);return W.useEffect(()=>{m&&n.current&&n.current.focus()},[m]),W.useEffect(()=>{const o=i=>{i.key==="Escape"&&m&&c()};if(m)return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[m,c]),m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:c,"aria-hidden":"true"}),e.jsx("div",{ref:n,role:"dialog","aria-labelledby":"cookie-banner-title","aria-describedby":"cookie-banner-description","aria-modal":"true",tabIndex:-1,className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg transform transition-transform duration-300 ease-in-out",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(Ip,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{id:"cookie-banner-title",className:"text-lg font-semibold text-gray-900 mb-1",children:a("cookie.banner.title")}),e.jsx("p",{id:"cookie-banner-description",className:"text-sm text-gray-600 leading-relaxed",children:a("cookie.banner.description")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 lg:flex-shrink-0",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:a("cookie.banner.rejectAll")}),e.jsxs("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors inline-flex items-center gap-2",children:[e.jsx(Gc,{className:"h-4 w-4","aria-hidden":"true"}),a("cookie.banner.managePreferences")]}),e.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:a("cookie.banner.acceptAll")})]}),e.jsx("button",{onClick:c,className:"absolute top-2 right-2 lg:relative lg:top-auto lg:right-auto p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 rounded-lg","aria-label":a("cookie.banner.close"),children:e.jsx(kr,{className:"h-5 w-5","aria-hidden":"true"})})]})})})]}):null},Py=()=>{const{t:a}=Zt("common"),{showModal:m,consent:t,closeModal:h,updateConsent:f,acceptAll:c,rejectAll:n}=Lp(),o=W.useRef(null),i=W.useRef(null),[r,s]=W.useState({necessary:!0,analytics:!1,marketing:!1});W.useEffect(()=>{t&&s({necessary:t.necessary,analytics:t.analytics,marketing:t.marketing})},[t]),W.useEffect(()=>{const g=v=>{v.key==="Escape"&&h()};if(m)return i.current&&i.current.focus(),document.addEventListener("keydown",g),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[m,h]),W.useEffect(()=>{if(!m||!o.current)return;const g=o.current,v=g.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),y=v[0],N=v[v.length-1],E=I=>{I.key==="Tab"&&(I.shiftKey?document.activeElement===y&&(I.preventDefault(),N.focus()):document.activeElement===N&&(I.preventDefault(),y.focus()))};return g.addEventListener("keydown",E),()=>g.removeEventListener("keydown",E)},[m]);const l=(g,v)=>{s(y=>({...y,[g]:v}))},d=()=>{f(r)},u=()=>{s(g=>({...g,analytics:!0,marketing:!0})),c()},x=()=>{s(g=>({...g,analytics:!1,marketing:!1})),n()};if(!m){try{console.debug("[cookie] CookiePreferencesModal hidden (showModal=false)")}catch{}return null}const b=[{id:"necessary",title:a("cookie.modal.necessary.title"),description:a("cookie.modal.necessary.description"),icon:Ds,enabled:!0,disabled:!0,required:!0},{id:"analytics",title:a("cookie.modal.analytics.title"),description:a("cookie.modal.analytics.description"),icon:pm,enabled:r.analytics,disabled:!1,required:!1},{id:"marketing",title:a("cookie.modal.marketing.title"),description:a("cookie.modal.marketing.description"),icon:Nu,enabled:r.marketing,disabled:!1,required:!1}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity",onClick:h,"aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-labelledby":"cookie-modal-title","aria-describedby":"cookie-modal-description","aria-modal":"true",children:e.jsxs("div",{ref:o,className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ip,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"}),e.jsx("h2",{id:"cookie-modal-title",className:"text-xl font-semibold text-gray-900",children:a("cookie.modal.title")})]}),e.jsx("button",{ref:i,onClick:h,className:"p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-lg","aria-label":a("cookie.banner.close"),children:e.jsx(kr,{className:"h-5 w-5","aria-hidden":"true"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{id:"cookie-modal-description",className:"text-gray-600 mb-6",children:a("cookie.modal.description")}),e.jsx("div",{className:"space-y-6",children:b.map(g=>{const v=g.icon;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx(v,{className:"h-5 w-5 text-gray-500 mt-1 flex-shrink-0","aria-hidden":"true"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.required?e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:a("cookie.modal.necessary.alwaysActive")}):e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:g.enabled?a("cookie.modal.analytics.enabled"):a("cookie.modal.analytics.disabled")}),e.jsxs("button",{onClick:()=>!g.disabled&&l(g.id,!g.enabled),disabled:g.disabled,className:`
                            relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                            ${g.enabled?"bg-blue-600":"bg-gray-200"}
                            ${g.disabled?"cursor-not-allowed opacity-50":"cursor-pointer"}
                          `,"aria-pressed":g.enabled,"aria-label":`Toggle ${g.title}`,children:[e.jsx("span",{className:`
                              inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                              ${g.enabled?"translate-x-6":"translate-x-1"}
                            `}),g.enabled&&e.jsx(ns,{className:"absolute left-1.5 h-3 w-3 text-blue-600","aria-hidden":"true"})]})]})]})},g.id)})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:a("cookie.modal.rejectAll")}),e.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:a("cookie.modal.cancel")}),e.jsxs("div",{className:"flex gap-3 sm:ml-auto",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:a("cookie.modal.acceptSelected")}),e.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:a("cookie.modal.acceptAll")})]})]})]})})]})},Cp=(a,m)=>{if(typeof a=="string")return a;if(a&&typeof a=="object"){const t=a;return t.response?.data?.message||t.message||m}return m},Da=(a,m)=>{try{a()}catch{}},k_=({invite:a,token:m,onJoinSuccess:t})=>{const{t:h}=Zt(),[f,c]=W.useState(""),[n,o]=W.useState(!1),[i,r]=W.useState(!1),[s,l]=W.useState(null),[d,u]=W.useState(null),[x,b]=W.useState(0),g=h("auth.captchaRequired","Please complete the human verification."),v=async()=>{if(!f||f.length<6){l(h("auth.passwordTooShort","Password must be at least 8 characters."));return}if(!d){l(g);return}try{r(!0),await Cs.completeInviteWithPassword(m,f,d),Da(()=>Gr.removeItem("pending_invite_token"),"remove pending_invite_token from sessionStorage"),Da(()=>Tt.removeItem("pending_invite_token"),"remove pending_invite_token from localStorage");try{const{authService:y}=await Dr(async()=>{const{authService:N}=await Promise.resolve().then(()=>kb);return{authService:N}},void 0);await y.login({email:a.email,password:f}),Da(()=>window.dispatchEvent(new CustomEvent("showToast",{detail:{message:h("org.join.passwordFlow.toastSuccess"),tone:"success"}})),"dispatch invite success toast"),t?.()}catch{Da(()=>Gr.setItem("prefill_email",a.email),"store prefill_email in sessionStorage"),Da(()=>Tt.setItem("prefill_email",a.email),"store prefill_email in localStorage"),window.location.hash="login"}}catch(y){const N=Cp(y,h("common.error","Operation failed"));l(N);const E=String(N||"").toLowerCase();(E.includes("human verification")||E.includes("captcha"))&&(u(null),b(I=>I+1)),Da(()=>window.dispatchEvent(new CustomEvent("showToast",{detail:{message:N,tone:"error"}})))}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:h("org.join.passwordFlow.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:h("org.join.passwordFlow.description",{email:a.email})}),e.jsxs("div",{className:"text-left space-y-2 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("org.join.passwordFlow.passwordLabel")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:n?"text":"password",value:f,onChange:y=>c(y.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:h("org.join.passwordFlow.passwordPlaceholder")}),e.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-500",children:h(n?"org.join.passwordFlow.hidePassword":"org.join.passwordFlow.showPassword")})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:h("auth.captchaPrompt","Please complete the human verification before continuing.")}),e.jsx(bm,{onToken:y=>{l(null),u(y)}},`invite-complete-${x}`)]}),e.jsx("button",{onClick:v,disabled:i,className:"w-full px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:h(i?"org.join.passwordFlow.submitting":"org.join.passwordFlow.submit")}),s&&e.jsx("p",{className:"mt-3 text-sm text-red-600",children:s})]})})},Dy=({token:a,onJoinSuccess:m,onNavigateHome:t,onNavigateDashboard:h})=>{const{t:f,i18n:c}=Zt(),{user:n,isAuthenticated:o,logout:i}=Zs(),r=f("auth.captchaRequired","Please complete the human verification.");typeof window<"u"&&(window.location.hostname?.endsWith(".github.dev")||window.location.hostname?.endsWith(".githubpreview.dev")||window.location.hostname?.includes(".app.github.dev"));const l=!1,[d,u]=W.useState(!0),[x,b]=W.useState(null),[g,v]=W.useState("validating"),[y,N]=W.useState(null),[E,I]=W.useState(null),[O,$]=W.useState(0),[z,U]=W.useState(null),V=W.useCallback(()=>{I(null),$(k=>k+1)},[l]),G=W.useCallback(async k=>{if(!k){U(r);return}try{u(!0),v("validating"),N(null),U(null);const S=await Cs.validateInviteToken(a,k);if(S.valid&&S.invite){U(null),b(S.invite);const j=new Date,C=new Date(S.invite.expiresAt);j>C?v("expired"):S.invite.acceptedAt?v("already_member"):v("valid")}else v("invalid"),N(S.error||"Invalid invite token")}catch(S){const j=Cp(S,"Failed to validate invite token"),C=String(j||"").toLowerCase();if(C.includes("human verification")||C.includes("captcha")){U(f("auth.captchaVerificationFailed","nsan dorulamas dorulanamad. Ltfen tekrar deneyin.")),V();return}v("invalid"),N(j)}finally{u(!1)}},[a,V,r,f]);W.useEffect(()=>{!a||!E||G(E)},[a,E,G]);const B=async()=>{if(!(!x||!o))try{v("accepting"),await Cs.acceptInvite({token:a}),v("success"),setTimeout(()=>{m?.()},2e3)}catch(k){console.error("Failed to accept invite:",k),v("error"),N(Cp(k,"Failed to accept invitation"))}},T=()=>{t?.()},D=k=>{switch(k){case"OWNER":return e.jsx(Ub,{className:"w-5 h-5 text-yellow-500"});case"ADMIN":return e.jsx(Ds,{className:"w-5 h-5 text-blue-500"});case"MEMBER":return e.jsx(is,{className:"w-5 h-5 text-gray-500"})}},A=W.useCallback(k=>{const S=c.language||typeof navigator<"u"&&navigator.language||"en-US";try{return new Date(k).toLocaleString(S,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return new Date(k).toLocaleString(S)}},[c.language]);if(!E)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(Ds,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("auth.captchaRequired","Ltfen insan dorulamasn tamamlayn")}),e.jsx("p",{className:"text-gray-600 mb-6",children:f("auth.captchaPrompt","Daveti grmek iin ltfen ksa dorulamay tamamlayn.")}),e.jsx(bm,{onToken:k=>{U(null),I(k)}},`invite-validate-${O}`),z&&e.jsx("p",{className:"mt-4 text-sm text-red-600",children:z})]})});if(d||g==="validating")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("org.join.loadingState.title")}),e.jsx("p",{className:"text-gray-600",children:f("org.join.loadingState.subtitle")})]})});if(g==="invalid"||g==="expired"){const k=g==="expired";return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(Sl,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f(k?"org.join.expired.title":"org.join.invalid.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:f(k?"org.join.expired.subtitle":"org.join.invalid.subtitle")}),e.jsxs("button",{onClick:t,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(RC,{className:"w-4 h-4"}),e.jsx("span",{children:f(k?"org.join.expired.action":"org.join.invalid.action")})]}),y&&e.jsx("p",{className:"mt-4 text-sm text-red-600",children:y})]})})}return g==="already_member"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(Is,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("org.join.alreadyMember.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:f("org.join.alreadyMember.subtitle")}),e.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(bl,{className:"w-4 h-4"}),e.jsx("span",{children:f("org.join.alreadyMember.action")})]})]})}):g==="success"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(Fs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("org.join.success.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:x&&f("org.join.success.subtitle",{orgName:x.organization.name})}),e.jsxs("button",{onClick:h,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(bl,{className:"w-4 h-4"}),e.jsx("span",{children:f("org.join.success.action")})]})]})}):g==="error"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(rp,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("org.join.error.title")}),e.jsx("p",{className:"text-gray-600 mb-6",children:f("org.join.error.subtitle")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:B,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f("org.join.error.tryAgain")}),e.jsx("button",{onClick:t,className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:f("common.backToHome","Back to Home")})]}),y&&e.jsx("p",{className:"mt-4 text-sm text-red-600",children:y})]})}):o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx(Is,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:f("org.join.title")}),x&&e.jsx("p",{className:"text-gray-600",children:f("org.join.subtitle",{orgName:x.organization.name})})]}),x&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f("org.join.details.organizationLabel"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:x.organization.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f("org.join.details.emailLabel"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:x.email})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f("org.join.details.roleLabel"),":"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[D(x.role),e.jsx("span",{className:"font-medium text-gray-900",children:f(`org.members.roles.${x.role}`)})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f("org.join.details.expiresLabel"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:A(x.expiresAt)})]})]})}),n&&x&&n.email!==x.email&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(rp,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsxs("strong",{children:[f("org.join.emailMismatch.title"),":"]})," ",f("org.join.emailMismatch.body",{inviteEmail:x.email,currentEmail:n.email||""})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:async()=>{Da(()=>Gr.setItem("prefill_email",x.email)),await i();try{window.location.hash="login"}catch{window.location.href="#login"}},className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:f("org.join.emailMismatch.loginAction",{inviteEmail:x.email})}),e.jsx("button",{type:"button",onClick:async()=>{Da(()=>Gr.setItem("prefill_email",x.email)),await i();try{window.location.hash="register"}catch{window.location.href="#register"}},className:"px-3 py-2 text-sm bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:f("org.join.emailMismatch.registerAction",{inviteEmail:x.email})})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:B,disabled:g==="accepting"||n&&x&&n.email!==x.email,className:"flex items-center justify-center space-x-2 w-full px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[g==="accepting"?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Fs,{className:"w-4 h-4"}),e.jsx("span",{children:f(g==="accepting"?"org.join.accepting":"org.join.accept")})]}),e.jsx("button",{onClick:T,disabled:g==="accepting",className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 transition-colors",children:f("org.join.decline")})]})]})}):x?e.jsx(k_,{invite:x,token:a,onJoinSuccess:m}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{children:f("org.join.guestFallback.loading")})})},N_=({quoteId:a})=>{const{t:m,i18n:t}=Zt(),{formatCurrency:h}=es(),[f,c]=W.useState(null),[n,o]=W.useState(!1),[i,r]=W.useState(null),[s,l]=W.useState(null),[d,u]=W.useState(null),[x,b]=W.useState(!1);W.useEffect(()=>{let B=!1;return(async()=>{try{const T=await yT(String(a));B||(c(T),T?.tenantPublicProfile&&l(T.tenantPublicProfile))}catch{B||c(null)}})(),()=>{B=!0}},[a]),W.useEffect(()=>{f&&(x||(f.status==="sent"||f.status==="draft")&&(async()=>{try{const B=await bT(String(a));c(B)}finally{b(!0)}})())},[f,x,a]),W.useEffect(()=>{if(!(typeof window>"u"))try{const B=um();if(!B){u(null);return}const T=[B.firstName,B.lastName].filter(Boolean).join(" ")||B.email;u(T||null)}catch{u(null)}},[]);const g=new Date().toISOString().slice(0,10),v=f?.validUntil?f.validUntil<g:!1,y=f&&!["accepted","declined","expired"].includes(f.status)&&v,N=B=>{const T=B.description??B.name??B.productName??"",D=Number(B.quantity??B.qty??0),A=Number(B.unitPrice??B.price??B.unit_price??0),k=Number(B.total??D*A),S=B.id??`${T}-${A}-${k}`;return{description:T,quantity:D,unitPrice:A,total:k,key:S}},E=W.useMemo(()=>{if(!f)return 0;const B=Number(f.total)||0;if(B>0)return B;const T=(f.items||[]).reduce((D,A)=>D+N(A).total,0);return Number(T)||0},[f]),I=W.useMemo(()=>{const B=(t.language||"tr").toLowerCase().substring(0,2);return["tr","en","fr","de"].includes(B)?B:"en"},[t.language]),O=W.useMemo(()=>({tr:{title:"Teklif",appSubtitle:"Teklif dkman",customerInfo:"Mteri Bilgileri",quoteNumber:"Teklif No",issueDate:"Dzenleme Tarihi",validUntil:"Geerlilik Tarihi",status:"Durum",items:{description:"Aklama",quantity:"Miktar",unitPrice:"Birim Fiyat",total:"Toplam"},totals:{grandTotal:"Genel Toplam"},footer:"Bu belge bilgi amaldr.",preparedBy:"Teklifi Hazrlayan",copied:"Balant kopyaland."},en:{title:"Quote",appSubtitle:"Quotation document",customerInfo:"Customer Information",quoteNumber:"Quote No",issueDate:"Issue Date",validUntil:"Valid Until",status:"Status",items:{description:"Description",quantity:"Qty",unitPrice:"Unit Price",total:"Total"},totals:{grandTotal:"Grand Total"},footer:"This document is for information purposes.",preparedBy:"Prepared by",copied:"Link copied."},fr:{title:"Devis",appSubtitle:"Document de devis",customerInfo:"Informations client",quoteNumber:"N de devis",issueDate:"Date",validUntil:"Valable jusquau",status:"Statut",items:{description:"Description",quantity:"Qt",unitPrice:"Prix unitaire",total:"Total"},totals:{grandTotal:"Total gnral"},footer:"Document  titre indicatif.",preparedBy:"Prpar par",copied:"Lien copi."},de:{title:"Angebot",appSubtitle:"Angebotsdokument",customerInfo:"Kundeninformationen",quoteNumber:"Angebotsnr.",issueDate:"Datum",validUntil:"Gltig bis",status:"Status",items:{description:"Beschreibung",quantity:"Menge",unitPrice:"Einzelpreis",total:"Summe"},totals:{grandTotal:"Gesamtsumme"},footer:"Dieses Dokument dient nur zur Information.",preparedBy:"Erstellt von",copied:"Link kopiert."}})[I],[I]),$=W.useMemo(()=>{const B=(s?.country||"").toString().toUpperCase();return["TR","FR","DE","US","OTHER"].includes(B)?B:I==="tr"?"TR":I==="fr"?"FR":I==="de"?"DE":"US"},[s?.country,I]),z=W.useMemo(()=>{const B=s??{},T=(D,A)=>A?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsxs("strong",{children:[D,":"]})," ",e.jsx("span",{children:A})]},D):null;switch($){case"TR":return[T("VKN",B.taxNumber),T("Vergi Dairesi",B.taxOffice),T("Mersis",B.mersisNumber),T("KEP",B.kepAddress)];case"FR":return[T("SIRET",B.siretNumber),T("SIREN",B.sirenNumber),T("APE",B.apeCode),T("TVA",B.tvaNumber),T("RCS",B.rcsNumber)];case"DE":return[T("Steuernummer",B.steuernummer),T("USt-IdNr",B.umsatzsteuerID),T("HRB",B.handelsregisternummer),T("Geschftsfhrer",B.geschaeftsfuehrer)];case"US":return[T("EIN",B.einNumber),T("Tax ID",B.taxId),T("Business License",B.businessLicenseNumber),T("State",B.stateOfIncorporation)];default:return[T("Registration No",B.registrationNumber),T("VAT",B.vatNumberGeneric),T("Tax ID",B.taxIdGeneric),T("State/Region",B.stateOrRegion)]}},[s,$]),U=W.useMemo(()=>{if(!f)return"";const B=String(f.status).toLowerCase();switch(I){case"tr":return B==="accepted"?"Kabul Edildi":B==="declined"?"Reddedildi":B==="sent"?"Gnderildi":B==="viewed"?"Grntlendi":B==="expired"?"Sresi Doldu":"Taslak";case"fr":return B==="accepted"?"Accept":B==="declined"?"Refus":B==="sent"?"Envoy":B==="viewed"?"Consult":B==="expired"?"Expir":"Brouillon";case"de":return B==="accepted"?"Akzeptiert":B==="declined"?"Abgelehnt":B==="sent"?"Gesendet":B==="viewed"?"Gesehen":B==="expired"?"Abgelaufen":"Entwurf";default:return B.charAt(0).toUpperCase()+B.slice(1)}},[f,I]),V=async()=>{if(f&&window.confirm(m("quotes.confirmAccept",{defaultValue:"Teklifi kabul etmek istediinizden emin misiniz? Bu ilem geri alnamaz."}))){o("accept");try{const B=await vT(String(a));c(B),r(m("quotes.acceptedThanks",{defaultValue:"Teekkrler, teklif kabul edildi."}))}finally{o(!1)}}},G=async()=>{if(f&&window.confirm(m("quotes.confirmDecline",{defaultValue:"Teklifi reddetmek istediinizden emin misiniz?"}))){o("decline");try{const B=await wT(String(a));c(B),r(m("quotes.declinedInfo",{defaultValue:"Teklif reddedildi."}))}finally{o(!1)}}};return f?e.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"bg-white border rounded-xl shadow p-6 w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-indigo-200 pb-3",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[s?.logoDataUrl?e.jsx("img",{src:s.logoDataUrl,alt:"logo",className:"h-16 object-contain"}):e.jsx(gm,{className:"h-16 w-auto"}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("div",{className:"text-indigo-600 font-extrabold text-xl",children:O.title}),e.jsx("div",{className:"text-gray-500 text-xs",children:O.appSubtitle}),e.jsx("div",{className:"text-sm text-gray-900 mt-1 font-semibold",children:f.quoteNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:async()=>{const{generateQuotePDF:B}=await Dr(async()=>{const{generateQuotePDF:T}=await import("./pdfGenerator-CM7tmRPw.js").then(D=>D.p);return{generateQuotePDF:T}},[]);await B({id:f.id,quoteNumber:f.quoteNumber,customerName:f.customerName,issueDate:f.issueDate,validUntil:f.validUntil,status:f.status,currency:f.currency,total:E,items:(f.items||[]).map(T=>{const D=N(T);return{description:D.description,quantity:D.quantity,unitPrice:D.unitPrice,total:D.total}}),scopeOfWorkHtml:f.scopeOfWorkHtml||""},{filename:f.quoteNumber,company:s||void 0})},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:[e.jsx(vl,{className:"w-4 h-4"})," ",e.jsx("span",{className:"text-sm",children:m("quotes.actions.downloadPdf")||"PDF ndir"})]}),e.jsxs("button",{onClick:async()=>{const B=window.location.href;try{await navigator.clipboard.writeText(B);try{window.dispatchEvent(new CustomEvent("showToast",{detail:{message:O.copied,tone:"success"}}))}catch(T){console.warn("Toast event dispatch failed",T)}r(O.copied)}catch(T){console.warn("Failed to copy link to clipboard",T);try{alert(B)}catch(D){console.warn("Alert fallback failed",D)}}},className:"inline-flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200",children:[e.jsx(Mp,{className:"w-4 h-4"})," ",e.jsx("span",{className:"text-sm",children:m("quotes.actions.copyLink")||"Link Kopyala"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-6 mt-2 mb-5",children:[e.jsxs("div",{className:"text-sm text-gray-800",children:[s?.name?e.jsx("div",{className:"text-base font-semibold text-gray-900",children:s.name}):null,s?.address?e.jsx("div",{className:"text-gray-600 whitespace-pre-line",children:s.address}):null,e.jsxs("div",{className:"mt-2 space-y-1",children:[z,s?.iban?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"IBAN:"})," ",e.jsx("span",{children:s.iban})]}):null,s?.phone?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Tel:"})," ",e.jsx("span",{children:s.phone})]}):null,s?.email?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("span",{children:s.email})]}):null,s?.website?e.jsxs("div",{className:"text-sm text-gray-800",children:[e.jsx("strong",{children:"Web:"})," ",e.jsx("span",{children:s.website})]}):null]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-800",children:[e.jsx("div",{className:"text-gray-700 font-semibold mb-1",children:O.customerInfo}),e.jsx("div",{className:"font-medium",children:f.customerName})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[O.quoteNumber,":"]}),e.jsx("span",{className:"font-medium",children:f.quoteNumber})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[O.issueDate,":"]}),e.jsx("span",{className:"font-medium",children:new Date(f.issueDate).toLocaleDateString(I==="tr"?"tr-TR":I==="fr"?"fr-FR":I==="de"?"de-DE":"en-US")})]}),f.validUntil?e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[O.validUntil,":"]}),e.jsx("span",{className:"font-medium",children:new Date(f.validUntil).toLocaleDateString(I==="tr"?"tr-TR":I==="fr"?"fr-FR":I==="de"?"de-DE":"en-US")})]}):null]}),e.jsxs("div",{className:"text-sm text-gray-700 space-y-1 sm:text-right",children:[f.status?e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[O.status,":"]}),e.jsx("span",{className:"font-medium",children:U})]}):null,e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500 mr-2",children:[m("quotes.createModal.currency")||"Para Birimi",":"]}),e.jsx("span",{className:"font-medium",children:f.currency})]})]})]}),i&&e.jsx("div",{className:"mb-4 rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-900",children:i}),Array.isArray(f.items)&&f.items.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border border-gray-200 rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-700",children:O.items.description}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:O.items.quantity}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:O.items.unitPrice}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-700",children:O.items.total})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(f.items||[]).map(B=>{const T=N(B),D=String(T.key);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-800",children:T.description}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:T.quantity}),e.jsx("td",{className:"px-3 py-2 text-sm text-right text-gray-700",children:h(T.unitPrice,f.currency)}),e.jsx("td",{className:"px-3 py-2 text-sm text-right font-medium text-gray-900",children:h(T.total,f.currency)})]},D)})})]})}),E>0&&e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx("div",{className:"text-lg font-semibold",children:h(E,f.currency)})}),!!f.scopeOfWorkHtml&&e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"text-base font-semibold text-gray-900 mb-2",children:m("quotes.scopeOfWork.title",{defaultValue:"in Kapsam"})}),e.jsx("div",{className:"prose prose-sm max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:vv(f.scopeOfWorkHtml||"")}})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-1",children:I==="tr"?"AIKLAMA":I==="fr"?"REMARQUES":I==="de"?"ANMERKUNGEN":"NOTES"}),e.jsxs("ul",{className:"text-sm text-gray-800 list-disc pl-5 space-y-1",children:[e.jsx("li",{children:I==="tr"?"Teklifimiz KDV hari olarak paylalmtr.":I==="fr"?"Notre offre est indique hors TVA.":I==="de"?"Unser Angebot ist exkl. MwSt.":"Our offer is exclusive of VAT."}),e.jsx("li",{children:(()=>{if(!f.validUntil)return I==="tr"?"Teklifimiz 30 gn geerlidir.":I==="fr"?"Notre offre est valable 30 jours.":I==="de"?"Unser Angebot ist 30 Tage gltig.":"Our offer is valid for 30 days.";try{const B=new Date(f.issueDate).getTime(),T=new Date(f.validUntil).getTime(),D=Math.round((T-B)/864e5)||30;return I==="tr"?`Teklifimiz ${D} gn geerlidir.`:I==="fr"?`Notre offre est valable ${D} jours.`:I==="de"?`Unser Angebot ist ${D} Tage gltig.`:`Our offer is valid for ${D} days.`}catch{return I==="tr"?"Teklifimiz 30 gn geerlidir.":I==="fr"?"Notre offre est valable 30 jours.":I==="de"?"Unser Angebot ist 30 Tage gltig.":"Our offer is valid for 30 days."}})()})]}),d?e.jsxs("div",{className:"text-right text-sm text-gray-800 mt-2",children:[e.jsxs("strong",{children:[O.preparedBy,":"]})," ",d]}):null]}),!["accepted","declined"].includes(f.status)&&!y&&e.jsxs("div",{className:"mt-6 flex gap-3 text-sm",children:[e.jsxs("button",{disabled:n!==!1,onClick:V,className:`inline-flex items-center gap-1 rounded-lg px-3 py-2 text-white ${n==="accept"?"bg-green-700":"bg-green-600 hover:bg-green-700"}`,children:[e.jsx(ns,{className:"w-4 h-4"})," ",m("quotes.actions.accept")||"Kabul Et"]}),e.jsxs("button",{disabled:n!==!1,onClick:G,className:`inline-flex items-center gap-1 rounded-lg px-3 py-2 text-white ${n==="decline"?"bg-red-700":"bg-red-600 hover:bg-red-700"}`,children:[e.jsx(Sl,{className:"w-4 h-4"})," ",m("quotes.actions.decline")||"Reddet"]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"bg-white border rounded-xl shadow p-8 max-w-lg w-full text-center",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:m("quotes.title")||"Teklif"}),e.jsx("p",{className:"text-gray-600",children:m("quotes.noQuotesFound")||"Teklif bulunamad."})]})})};function j_(){return W.useEffect(()=>{let a=!0;return(async()=>{try{const t=await Uc.getSettings();if(!a)return;const c=!!1||!1;if(t.defaultMetaTitle&&!document.title&&(document.title=t.defaultMetaTitle),t.defaultMetaDescription){let n=document.querySelector('meta[name="description"]');n||(n=document.createElement("meta"),n.setAttribute("name","description"),document.head.appendChild(n)),n.setAttribute("content",t.defaultMetaDescription)}if(!t.enableIndexing){let n=document.querySelector('meta[name="robots"]');n||(n=document.createElement("meta"),n.setAttribute("name","robots"),document.head.appendChild(n)),n.setAttribute("content","noindex, nofollow")}if(t.defaultOgImageUrl){let n=document.querySelector('meta[property="og:image"]');if(n||(n=document.createElement("meta"),n.setAttribute("property","og:image"),document.head.appendChild(n)),n.setAttribute("content",t.defaultOgImageUrl),t.defaultMetaTitle){let o=document.querySelector('meta[property="og:title"]');o||(o=document.createElement("meta"),o.setAttribute("property","og:title"),document.head.appendChild(o)),o.setAttribute("content",t.defaultMetaTitle)}if(t.defaultMetaDescription){let o=document.querySelector('meta[property="og:description"]');o||(o=document.createElement("meta"),o.setAttribute("property","og:description"),document.head.appendChild(o)),o.setAttribute("content",t.defaultMetaDescription)}}if(t.canonicalBaseUrl){let n=document.querySelector('link[rel="canonical"]');n||(n=document.createElement("link"),n.setAttribute("rel","canonical"),document.head.appendChild(n));const o=window.location.pathname+window.location.search;n.setAttribute("href",t.canonicalBaseUrl+o)}if(c&&(t.googleAnalyticsId&&S_(t.googleAnalyticsId),t.googleTagManagerId&&C_(t.googleTagManagerId),t.pinterestTagId&&A_(t.pinterestTagId),t.metaPixelId&&E_(t.metaPixelId),t.linkedinInsightTagId&&T_(t.linkedinInsightTagId)),t.customHeadHtml){const n=document.createElement("div");n.innerHTML=t.customHeadHtml,Array.from(n.children).forEach(o=>{document.head.appendChild(o.cloneNode(!0))})}if(t.customBodyStartHtml){const n=document.createElement("div");n.innerHTML=t.customBodyStartHtml,Array.from(n.children).forEach(o=>{document.body.insertBefore(o.cloneNode(!0),document.body.firstChild)})}if(t.customBodyEndHtml){const n=document.createElement("div");n.innerHTML=t.customBodyEndHtml,Array.from(n.children).forEach(o=>{document.body.appendChild(o.cloneNode(!0))})}}catch(t){console.error("Failed to load site settings for SEO injection:",t)}})(),()=>{a=!1}},[]),null}function S_(a){if(document.querySelector(`script[src*="googletagmanager.com/gtag/js?id=${a}"]`))return;const m=document.createElement("script");m.async=!0,m.src=`https://www.googletagmanager.com/gtag/js?id=${a}`,document.head.appendChild(m);const t=document.createElement("script");t.innerHTML=`
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '${a}');
  `,document.head.appendChild(t)}function C_(a){if(document.querySelector(`script[src*="googletagmanager.com/gtm.js?id=${a}"]`))return;const m=document.createElement("script");m.innerHTML=`
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','${a}');
  `,document.head.appendChild(m);const t=document.createElement("noscript");t.innerHTML=`<iframe src="https://www.googletagmanager.com/ns.html?id=${a}" height="0" width="0" style="display:none;visibility:hidden"></iframe>`,document.body.insertBefore(t,document.body.firstChild)}function A_(a){if(document.querySelector('script[src*="pintrk"]'))return;const m=document.createElement("script");m.innerHTML=`
    !function(e){if(!window.pintrk){window.pintrk = function () {
    window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
      n=window.pintrk;n.queue=[],n.version="3.0";var
      t=document.createElement("script");t.async=!0,t.src=e;var
      r=document.getElementsByTagName("script")[0];
      r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
    pintrk('load', '${a}');
    pintrk('page');
  `,document.head.appendChild(m)}function E_(a){if(document.querySelector('script[src*="connect.facebook.net"]'))return;const m=document.createElement("script");m.innerHTML=`
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '${a}');
    fbq('track', 'PageView');
  `,document.head.appendChild(m);const t=document.createElement("noscript");t.innerHTML=`<img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=${a}&ev=PageView&noscript=1"/>`,document.body.appendChild(t)}function T_(a){if(document.querySelector('script[src*="snap.licdn.com"]'))return;const m=document.createElement("script");m.innerHTML=`
    _linkedin_partner_id = "${a}";
    window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
    window._linkedin_data_partner_ids.push(_linkedin_partner_id);
  `,document.head.appendChild(m);const t=document.createElement("script");t.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.async=!0,document.head.appendChild(t);const h=document.createElement("noscript");h.innerHTML=`<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=${a}&fmt=gif" />`,document.body.appendChild(h)}function hu(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qf={exports:{}};var Iy;function __(){return Iy||(Iy=1,(function(a,m){(function(t){a.exports=t()})((function(){return(function t(h,f,c){function n(r,s){if(!f[r]){if(!h[r]){var l=typeof hu=="function"&&hu;if(!s&&l)return l(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=f[r]={exports:{}};h[r][0].call(u.exports,(function(x){return n(h[r][1][x]||x)}),u,u.exports,t,h,f,c)}return f[r].exports}for(var o=typeof hu=="function"&&hu,i=0;i<c.length;i++)n(c[i]);return n})({1:[function(t,h,f){const c=t("fs"),n=t("fast-csv"),o=t("dayjs/plugin/customParseFormat"),i=t("dayjs/plugin/utc"),r=t("dayjs").extend(o).extend(i),s=t("../utils/stream-buf"),{fs:{exists:l}}=t("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};h.exports=class{constructor(u){this.workbook=u,this.worksheet=null}async readFile(u,x){if(x=x||{},!await l(u))throw new Error("File not found: "+u);const b=c.createReadStream(u),g=await this.read(b,x);return b.close(),g}read(u,x){return x=x||{},new Promise((b,g)=>{const v=this.workbook.addWorksheet(x.sheetName),y=x.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],N=x.map||function(I){if(I==="")return null;const O=Number(I);if(!Number.isNaN(O)&&O!==1/0)return O;const $=y.reduce((U,V)=>{if(U)return U;const G=r(I,V,!0);return G.isValid()?G:null},null);if($)return new Date($.valueOf());const z=d[I];return z!==void 0?z:I},E=n.parse(x.parserOptions).on("data",I=>{v.addRow(I.map(N))}).on("end",()=>{E.emit("worksheet",v)});E.on("worksheet",b).on("error",g),u.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(u,x){return new Promise((b,g)=>{x=x||{};const v=this.workbook.getWorksheet(x.sheetName||x.sheetId),y=n.format(x.formatterOptions);u.on("finish",()=>{b()}),y.on("error",g),y.pipe(u);const{dateFormat:N,dateUTC:E}=x,I=x.map||(z=>{if(z){if(z.text||z.hyperlink)return z.hyperlink||z.text||"";if(z.formula||z.result)return z.result||"";if(z instanceof Date)return N?E?r.utc(z).format(N):r(z).format(N):E?r.utc(z).format():r(z).format();if(z.error)return z.error;if(typeof z=="object")return JSON.stringify(z)}return z}),O=x.includeEmptyRows===void 0||x.includeEmptyRows;let $=1;v&&v.eachRow((z,U)=>{if(O)for(;$++<U-1;)y.write([]);const{values:V}=z;V.shift(),y.write(V.map(I)),$=U}),y.end()})}writeFile(u,x){const b={encoding:(x=x||{}).encoding||"utf8"},g=c.createWriteStream(u,b);return this.write(g,x)}async writeBuffer(u){const x=new s;return await this.write(x,u),x.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,h,f){const c=t("../utils/col-cache");class n{constructor(i,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=i,r)if(typeof r=="string"){const l=c.decodeAddress(r);this.nativeCol=l.col+s,this.nativeColOff=0,this.nativeRow=l.row+s,this.nativeRowOff=0}else r.nativeCol!==void 0?(this.nativeCol=r.nativeCol||0,this.nativeColOff=r.nativeColOff||0,this.nativeRow=r.nativeRow||0,this.nativeRowOff=r.nativeRowOff||0):r.col!==void 0?(this.col=r.col+s,this.row=r.row+s):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(i){return i instanceof n||i==null?i:new n(i)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(i){this.nativeCol=Math.floor(i),this.nativeColOff=Math.floor((i-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(i){this.nativeRow=Math.floor(i),this.nativeRowOff=Math.floor((i-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(i){this.nativeCol=i.nativeCol,this.nativeColOff=i.nativeColOff,this.nativeRow=i.nativeRow,this.nativeRowOff=i.nativeRowOff}}h.exports=n},{"../utils/col-cache":19}],3:[function(t,h,f){const c=t("../utils/col-cache"),n=t("../utils/under-dash"),o=t("./enums"),{slideFormula:i}=t("../utils/shared-formula"),r=t("./note");class s{constructor(u,x,b){if(!u||!x)throw new Error("A Cell needs a Row");this._row=u,this._column=x,c.validateAddress(b),this._address=b,this._value=l.create(s.Types.Null,this),this.style=this._mergeStyle(u.style,x.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(u){this.style.numFmt=u}get font(){return this.style.font}set font(u){this.style.font=u}get alignment(){return this.style.alignment}set alignment(u){this.style.alignment=u}get border(){return this.style.border}set border(u){this.style.border=u}get fill(){return this.style.fill}set fill(u){this.style.fill=u}get protection(){return this.style.protection}set protection(u){this.style.protection=u}_mergeStyle(u,x,b){const g=u&&u.numFmt||x&&x.numFmt;g&&(b.numFmt=g);const v=u&&u.font||x&&x.font;v&&(b.font=v);const y=u&&u.alignment||x&&x.alignment;y&&(b.alignment=y);const N=u&&u.border||x&&x.border;N&&(b.border=N);const E=u&&u.fill||x&&x.fill;E&&(b.fill=E);const I=u&&u.protection||x&&x.protection;return I&&(b.protection=I),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===s.Types.Merge}merge(u,x){this._value.release(),this._value=l.create(s.Types.Merge,this,u),x||(this.style=u.style)}unmerge(){this.type===s.Types.Merge&&(this._value.release(),this._value=l.create(s.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(u){return this._value.type===s.Types.Merge&&this._value.isMergedTo(u)}get master(){return this.type===s.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===s.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(u){this.type!==s.Types.Merge?(this._value.release(),this._value=l.create(l.getType(u),this,u)):this._value.master.value=u}get note(){return this._comment&&this._comment.note}set note(u){this._comment=new r(u)}get text(){return this._value.toString()}get html(){return n.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(u){this.type===s.Types.String&&(this._value=l.create(s.Types.Hyperlink,this,{text:this._value.value,hyperlink:u}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:u}=this._row;return{sheetName:u.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(u){this.names=[u]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(u){const{definedNames:x}=this.workbook;x.removeAllNames(this.fullAddress),u.forEach(b=>{x.addEx(this.fullAddress,b)})}addName(u){this.workbook.definedNames.addEx(this.fullAddress,u)}removeName(u){this.workbook.definedNames.removeEx(this.fullAddress,u)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(u){this._dataValidations.add(this.address,u)}get model(){const{model:u}=this._value;return u.style=this.style,this._comment&&(u.comment=this._comment.model),u}set model(u){if(this._value.release(),this._value=l.create(u.type,this),this._value.model=u,u.comment)switch(u.comment.type){case"note":this._comment=r.fromModel(u.comment)}u.style?this.style=u.style:this.style={}}}s.Types=o.ValueType;const l={getType:d=>d==null?s.Types.Null:d instanceof String||typeof d=="string"?s.Types.String:typeof d=="number"?s.Types.Number:typeof d=="boolean"?s.Types.Boolean:d instanceof Date?s.Types.Date:d.text&&d.hyperlink?s.Types.Hyperlink:d.formula||d.sharedFormula?s.Types.Formula:d.richText?s.Types.RichText:d.sharedString?s.Types.SharedString:d.error?s.Types.Error:s.Types.JSON,types:[{t:s.Types.Null,f:class{constructor(d){this.model={address:d.address,type:s.Types.Null}}get value(){return null}set value(d){}get type(){return s.Types.Null}get effectiveType(){return s.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:s.Types.Number,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Number,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.Number}get effectiveType(){return s.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:s.Types.String,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.String}get effectiveType(){return s.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:s.Types.Date,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Date,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.Date}get effectiveType(){return s.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:s.Types.Hyperlink,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Hyperlink,text:u?u.text:void 0,hyperlink:u?u.hyperlink:void 0},u&&u.tooltip&&(this.model.tooltip=u.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return s.Types.Hyperlink}get effectiveType(){return s.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:s.Types.Formula,f:class{constructor(d,u){this.cell=d,this.model={address:d.address,type:s.Types.Formula,shareType:u?u.shareType:void 0,ref:u?u.ref:void 0,formula:u?u.formula:void 0,sharedFormula:u?u.sharedFormula:void 0,result:u?u.result:void 0}}_copyModel(d){const u={},x=b=>{const g=d[b];g&&(u[b]=g)};return x("formula"),x("result"),x("ref"),x("shareType"),x("sharedFormula"),u}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(l.getType(d)){case s.Types.Null:case s.Types.String:case s.Types.Number:case s.Types.Date:break;case s.Types.Hyperlink:case s.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?o.FormulaType.Master:this.model.sharedFormula?o.FormulaType.Shared:o.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return s.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?o.ValueType.Null:d instanceof String||typeof d=="string"?o.ValueType.String:typeof d=="number"?o.ValueType.Number:d instanceof Date?o.ValueType.Date:d.text&&d.hyperlink?o.ValueType.Hyperlink:d.formula?o.ValueType.Formula:o.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,u=d.findCell(this.model.sharedFormula);this._translatedFormula=u&&i(u.formula,u.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:s.Types.Merge,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Merge,master:u?u.address:void 0},this._master=u,u&&u.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof s?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return s.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:s.Types.JSON,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.String,value:JSON.stringify(u),rawValue:u}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return s.Types.String}get effectiveType(){return s.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:s.Types.SharedString,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.SharedString,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.SharedString}get effectiveType(){return s.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:s.Types.RichText,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.String,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return s.Types.RichText}get effectiveType(){return s.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:s.Types.Boolean,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Boolean,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.Boolean}get effectiveType(){return s.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:s.Types.Error,f:class{constructor(d,u){this.model={address:d.address,type:s.Types.Error,value:u}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return s.Types.Error}get effectiveType(){return s.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,u)=>(d[u.t]=u.f,d),[]),create(d,u,x){const b=this.types[d];if(!b)throw new Error("Could not create Value of type "+d);return new b(u,x)}};h.exports=s},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,h,f){const c=t("../utils/under-dash"),n=t("./enums"),o=t("../utils/col-cache");class i{constructor(s,l,d){this._worksheet=s,this._number=l,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return o.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(s){s?(this.key=s.key,this.width=s.width!==void 0?s.width:9,this.outlineLevel=s.outlineLevel,s.style?this.style=s.style:this.style={},this.header=s.header,this._hidden=!!s.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(s){s!==void 0?(this._header=s,this.headers.forEach((l,d)=>{this._worksheet.getCell(d+1,this.number).value=l})):this._header=void 0}get key(){return this._key}set key(s){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=s,s&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(s){this._hidden=s}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(s){this._outlineLevel=s}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(s){return this.width===s.width&&this.hidden===s.hidden&&this.outlineLevel===s.outlineLevel&&c.isEqual(this.style,s.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const s=this.style;return!s||!(s.font||s.numFmt||s.alignment||s.border||s.fill||s.protection)}get headerCount(){return this.headers.length}eachCell(s,l){const d=this.number;l||(l=s,s=null),this._worksheet.eachRow(s,(u,x)=>{l(u.getCell(d),x)})}get values(){const s=[];return this.eachCell((l,d)=>{l&&l.type!==n.ValueType.Null&&(s[d]=l.value)}),s}set values(s){if(!s)return;const l=this.number;let d=0;s.hasOwnProperty("0")&&(d=1),s.forEach((u,x)=>{this._worksheet.getCell(x+d,l).value=u})}_applyStyle(s,l){return this.style[s]=l,this.eachCell(d=>{d[s]=l}),l}get numFmt(){return this.style.numFmt}set numFmt(s){this._applyStyle("numFmt",s)}get font(){return this.style.font}set font(s){this._applyStyle("font",s)}get alignment(){return this.style.alignment}set alignment(s){this._applyStyle("alignment",s)}get protection(){return this.style.protection}set protection(s){this._applyStyle("protection",s)}get border(){return this.style.border}set border(s){this._applyStyle("border",s)}get fill(){return this.style.fill}set fill(s){this._applyStyle("fill",s)}static toModel(s){const l=[];let d=null;return s&&s.forEach((u,x)=>{u.isDefault?d&&(d=null):d&&u.equivalentTo(d)?d.max=x+1:(d={min:x+1,max:x+1,width:u.width!==void 0?u.width:9,style:u.style,isCustomWidth:u.isCustomWidth,hidden:u.hidden,outlineLevel:u.outlineLevel,collapsed:u.collapsed},l.push(d))}),l.length?l:void 0}static fromModel(s,l){const d=[];let u=1,x=0;for(l=(l=l||[]).sort((function(b,g){return b.min-g.min}));x<l.length;){const b=l[x++];for(;u<b.min;)d.push(new i(s,u++));for(;u<=b.max;)d.push(new i(s,u++,b))}return d.length?d:null}}h.exports=i},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,h,f){h.exports=class{constructor(c){this.model=c||{}}add(c,n){return this.model[c]=n}find(c){return this.model[c]}remove(c){this.model[c]=void 0}}},{}],6:[function(t,h,f){const c=t("../utils/under-dash"),n=t("../utils/col-cache"),o=t("../utils/cell-matrix"),i=t("./range"),r=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;h.exports=class{constructor(){this.matrixMap={}}getMatrix(s){return this.matrixMap[s]||(this.matrixMap[s]=new o)}add(s,l){const d=n.decodeEx(s);this.addEx(d,l)}addEx(s,l){const d=this.getMatrix(l);if(s.top)for(let u=s.left;u<=s.right;u++)for(let x=s.top;x<=s.bottom;x++){const b={sheetName:s.sheetName,address:n.n2l(u)+x,row:x,col:u};d.addCellEx(b)}else d.addCellEx(s)}remove(s,l){const d=n.decodeEx(s);this.removeEx(d,l)}removeEx(s,l){this.getMatrix(l).removeCellEx(s)}removeAllNames(s){c.each(this.matrixMap,l=>{l.removeCellEx(s)})}forEach(s){c.each(this.matrixMap,(l,d)=>{l.forEach(u=>{s(d,u)})})}getNames(s){return this.getNamesEx(n.decodeEx(s))}getNamesEx(s){return c.map(this.matrixMap,(l,d)=>l.findCellEx(s)&&d).filter(Boolean)}_explore(s,l){l.mark=!1;const{sheetName:d}=l,u=new i(l.row,l.col,l.row,l.col,d);let x,b;function g(y,N){const E=s.findCellAt(d,y,l.col);return!(!E||!E.mark)&&(u[N]=y,E.mark=!1,!0)}for(b=l.row-1;g(b,"top");b--);for(b=l.row+1;g(b,"bottom");b++);function v(y,N){const E=[];for(b=u.top;b<=u.bottom;b++){const I=s.findCellAt(d,b,y);if(!I||!I.mark)return!1;E.push(I)}u[N]=y;for(let I=0;I<E.length;I++)E[I].mark=!1;return!0}for(x=l.col-1;v(x,"left");x--);for(x=l.col+1;v(x,"right");x++);return u}getRanges(s,l){return(l=l||this.matrixMap[s])?(l.forEach(d=>{d.mark=!0}),{name:s,ranges:l.map(d=>d.mark&&this._explore(l,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:s,ranges:[]}}normaliseMatrix(s,l){s.forEachInSheet(l,(d,u,x)=>{d&&(d.row===u&&d.col===x||(d.row=u,d.col=x,d.address=n.n2l(x)+u))})}spliceRows(s,l,d,u){c.each(this.matrixMap,x=>{x.spliceRows(s,l,d,u),this.normaliseMatrix(x,s)})}spliceColumns(s,l,d,u){c.each(this.matrixMap,x=>{x.spliceColumns(s,l,d,u),this.normaliseMatrix(x,s)})}get model(){return c.map(this.matrixMap,(s,l)=>this.getRanges(l,s)).filter(s=>s.ranges.length)}set model(s){const l=this.matrixMap={};s.forEach(d=>{const u=l[d.name]=new o;d.ranges.forEach(x=>{r.test(x.split("!").pop()||"")&&u.addCell(x)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,h,f){h.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,h,f){const c=t("../utils/col-cache"),n=t("./anchor");h.exports=class{constructor(o,i){this.worksheet=o,this.model=i}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(o){let{type:i,imageId:r,range:s,hyperlinks:l}=o;if(this.type=i,this.imageId=r,i==="image")if(typeof s=="string"){const d=c.decode(s);this.range={tl:new n(this.worksheet,{col:d.left,row:d.top},-1),br:new n(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new n(this.worksheet,s.tl,0),br:s.br&&new n(this.worksheet,s.br,0),ext:s.ext,editAs:s.editAs,hyperlinks:l||s.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,h,f){const c=t("../utils/under-dash");class n{constructor(i){this.note=i}get model(){let i=null;switch(typeof this.note){case"string":i={type:"note",note:{texts:[{text:this.note}]}};break;default:i={type:"note",note:this.note}}return c.deepMerge({},n.DEFAULT_CONFIGS,i)}set model(i){const{note:r}=i,{texts:s}=r;s.length===1&&Object.keys(s[0]).length===1?this.note=s[0].text:this.note=r}static fromModel(i){const r=new n;return r.model=i,r}}n.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},h.exports=n},{"../utils/under-dash":26}],10:[function(t,h,f){const c=t("../utils/col-cache");class n{constructor(){this.decode(arguments)}setTLBR(i,r,s,l,d){if(arguments.length<4){const u=c.decodeAddress(i),x=c.decodeAddress(r);this.model={top:Math.min(u.row,x.row),left:Math.min(u.col,x.col),bottom:Math.max(u.row,x.row),right:Math.max(u.col,x.col),sheetName:s},this.setTLBR(u.row,u.col,x.row,x.col,d)}else this.model={top:Math.min(i,s),left:Math.min(r,l),bottom:Math.max(i,s),right:Math.max(r,l),sheetName:d}}decode(i){switch(i.length){case 5:this.setTLBR(i[0],i[1],i[2],i[3],i[4]);break;case 4:this.setTLBR(i[0],i[1],i[2],i[3]);break;case 3:this.setTLBR(i[0],i[1],i[2]);break;case 2:this.setTLBR(i[0],i[1]);break;case 1:{const r=i[0];if(r instanceof n)this.model={top:r.model.top,left:r.model.left,bottom:r.model.bottom,right:r.model.right,sheetName:r.sheetName};else if(r instanceof Array)this.decode(r);else if(r.top&&r.left&&r.bottom&&r.right)this.model={top:r.top,left:r.left,bottom:r.bottom,right:r.right,sheetName:r.sheetName};else{const s=c.decodeEx(r);s.top?this.model={top:s.top,left:s.left,bottom:s.bottom,right:s.right,sheetName:s.sheetName}:this.model={top:s.row,left:s.col,bottom:s.row,right:s.col,sheetName:s.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+i.length)}}get top(){return this.model.top||1}set top(i){this.model.top=i}get left(){return this.model.left||1}set left(i){this.model.left=i}get bottom(){return this.model.bottom||1}set bottom(i){this.model.bottom=i}get right(){return this.model.right||1}set right(i){this.model.right=i}get sheetName(){return this.model.sheetName}set sheetName(i){this.model.sheetName=i}get _serialisedSheetName(){const{sheetName:i}=this.model;return i?/^[a-zA-Z0-9]*$/.test(i)?i+"!":`'${i}'!`:""}expand(i,r,s,l){(!this.model.top||i<this.top)&&(this.top=i),(!this.model.left||r<this.left)&&(this.left=r),(!this.model.bottom||s>this.bottom)&&(this.bottom=s),(!this.model.right||l>this.right)&&(this.right=l)}expandRow(i){if(i){const{dimensions:r,number:s}=i;r&&this.expand(s,r.min,s,r.max)}}expandToAddress(i){const r=c.decodeEx(i);this.expand(r.row,r.col,r.row,r.col)}get tl(){return c.n2l(this.left)+this.top}get $t$l(){return`$${c.n2l(this.left)}$${this.top}`}get br(){return c.n2l(this.right)+this.bottom}get $b$r(){return`$${c.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&!(i.bottom<this.top)&&!(i.top>this.bottom)&&!(i.right<this.left)&&!(i.left>this.right)}contains(i){const r=c.decodeEx(i);return this.containsEx(r)}containsEx(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&i.row>=this.top&&i.row<=this.bottom&&i.col>=this.left&&i.col<=this.right}forEachAddress(i){for(let r=this.left;r<=this.right;r++)for(let s=this.top;s<=this.bottom;s++)i(c.encodeAddress(s,r),s,r)}}h.exports=n},{"../utils/col-cache":19}],11:[function(t,h,f){const c=t("../utils/under-dash"),n=t("./enums"),o=t("../utils/col-cache"),i=t("./cell");h.exports=class{constructor(r,s){this._worksheet=r,this._number=s,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(r){return this._cells[r-1]}getCellEx(r){let s=this._cells[r.col-1];if(!s){const l=this._worksheet.getColumn(r.col);s=new i(this,l,r.address),this._cells[r.col-1]=s}return s}getCell(r){if(typeof r=="string"){const s=this._worksheet.getColumnKey(r);r=s?s.number:o.l2n(r)}return this._cells[r-1]||this.getCellEx({address:o.encodeAddress(this._number,r),row:this._number,col:r})}splice(r,s){const l=r+s;for(var d=arguments.length,u=new Array(d>2?d-2:0),x=2;x<d;x++)u[x-2]=arguments[x];const b=u.length-s,g=this._cells.length;let v,y,N;if(b<0)for(v=r+u.length;v<=g;v++)N=this._cells[v-1],y=this._cells[v-b-1],y?(N=this.getCell(v),N.value=y.value,N.style=y.style,N._comment=y._comment):N&&(N.value=null,N.style={},N._comment=void 0);else if(b>0)for(v=g;v>=l;v--)y=this._cells[v-1],y?(N=this.getCell(v+b),N.value=y.value,N.style=y.style,N._comment=y._comment):this._cells[v+b-1]=void 0;for(v=0;v<u.length;v++)N=this.getCell(r+v),N.value=u[v],N.style={},N._comment=void 0}eachCell(r,s){if(s||(s=r,r=null),r&&r.includeEmpty){const l=this._cells.length;for(let d=1;d<=l;d++)s(this.getCell(d),d)}else this._cells.forEach((l,d)=>{l&&l.type!==n.ValueType.Null&&s(l,d+1)})}addPageBreak(r,s){const l=this._worksheet,d=Math.max(0,r-1)||0,u=Math.max(0,s-1)||16838,x={id:this._number,max:u,man:1};d&&(x.min=d),l.rowBreaks.push(x)}get values(){const r=[];return this._cells.forEach(s=>{s&&s.type!==n.ValueType.Null&&(r[s.col]=s.value)}),r}set values(r){if(this._cells=[],r)if(r instanceof Array){let s=0;r.hasOwnProperty("0")&&(s=1),r.forEach((l,d)=>{l!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,d+s),row:this._number,col:d+s}).value=l)})}else this._worksheet.eachColumnKey((s,l)=>{r[l]!==void 0&&(this.getCellEx({address:o.encodeAddress(this._number,s.number),row:this._number,col:s.number}).value=r[l])})}get hasValues(){return c.some(this._cells,r=>r&&r.type!==n.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let r=0;return this.eachCell(()=>{r++}),r}get dimensions(){let r=0,s=0;return this._cells.forEach(l=>{l&&l.type!==n.ValueType.Null&&((!r||r>l.col)&&(r=l.col),s<l.col&&(s=l.col))}),r>0?{min:r,max:s}:null}_applyStyle(r,s){return this.style[r]=s,this._cells.forEach(l=>{l&&(l[r]=s)}),s}get numFmt(){return this.style.numFmt}set numFmt(r){this._applyStyle("numFmt",r)}get font(){return this.style.font}set font(r){this._applyStyle("font",r)}get alignment(){return this.style.alignment}set alignment(r){this._applyStyle("alignment",r)}get protection(){return this.style.protection}set protection(r){this._applyStyle("protection",r)}get border(){return this.style.border}set border(r){this._applyStyle("border",r)}get fill(){return this.style.fill}set fill(r){this._applyStyle("fill",r)}get hidden(){return!!this._hidden}set hidden(r){this._hidden=r}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(r){this._outlineLevel=r}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const r=[];let s=0,l=0;return this._cells.forEach(d=>{if(d){const u=d.model;u&&((!s||s>d.col)&&(s=d.col),l<d.col&&(l=d.col),r.push(u))}}),this.height||r.length?{cells:r,number:this.number,min:s,max:l,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(r){if(r.number!==this._number)throw new Error("Invalid row number in model");let s;this._cells=[],r.cells.forEach(l=>{switch(l.type){case i.Types.Merge:break;default:{let d;if(l.address)d=o.decodeAddress(l.address);else if(s){const{row:u}=s,x=s.col+1;d={row:u,col:x,address:o.encodeAddress(u,x),$col$row:`$${o.n2l(x)}$${u}`}}s=d,this.getCellEx(d).model=l;break}}}),r.height?this.height=r.height:delete this.height,this.hidden=r.hidden,this.outlineLevel=r.outlineLevel||0,this.style=r.style&&JSON.parse(JSON.stringify(r.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,h,f){const c=t("../utils/col-cache");class n{constructor(i,r,s){this.table=i,this.column=r,this.index=s}_set(i,r){this.table.cacheState(),this.column[i]=r}get name(){return this.column.name}set name(i){this._set("name",i)}get filterButton(){return this.column.filterButton}set filterButton(i){this.column.filterButton=i}get style(){return this.column.style}set style(i){this.column.style=i}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(i){this._set("totalsRowLabel",i)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(i){this._set("totalsRowFunction",i)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(i){this._set("totalsRowResult",i)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(i){this._set("totalsRowFormula",i)}}h.exports=class{constructor(o,i){this.worksheet=o,i&&(this.table=i,this.validate(),this.store())}getFormula(o){switch(o.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${o.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${o.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${o.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${o.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${o.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${o.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${o.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${o.name}])`;case"custom":return o.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+o.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:o}=this,i=(b,g,v)=>{b[g]===void 0&&(b[g]=v)};i(o,"headerRow",!0),i(o,"totalsRow",!1),i(o,"style",{}),i(o.style,"theme","TableStyleMedium2"),i(o.style,"showFirstColumn",!1),i(o.style,"showLastColumn",!1),i(o.style,"showRowStripes",!1),i(o.style,"showColumnStripes",!1);const r=(b,g)=>{if(!b)throw new Error(g)};r(o.ref,"Table must have ref"),r(o.columns,"Table must have column definitions"),r(o.rows,"Table must have row definitions"),o.tl=c.decodeAddress(o.ref);const{row:s,col:l}=o.tl;r(s>0,"Table must be on valid row"),r(l>0,"Table must be on valid col");const{width:d,filterHeight:u,tableHeight:x}=this;o.autoFilterRef=c.encode(s,l,s+u-1,l+d-1),o.tableRef=c.encode(s,l,s+x-1,l+d-1),o.columns.forEach((b,g)=>{r(b.name,`Column ${g} must have a name`),g===0?i(b,"totalsRowLabel","Total"):(i(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const o=(u,x)=>{x&&Object.keys(x).forEach(b=>{u[b]=x[b]})},{worksheet:i,table:r}=this,{row:s,col:l}=r.tl;let d=0;if(r.headerRow){const u=i.getRow(s+d++);r.columns.forEach((x,b)=>{const{style:g,name:v}=x,y=u.getCell(l+b);y.value=v,o(y,g)})}if(r.rows.forEach(u=>{const x=i.getRow(s+d++);u.forEach((b,g)=>{const v=x.getCell(l+g);v.value=b,o(v,r.columns[g].style)})}),r.totalsRow){const u=i.getRow(s+d++);r.columns.forEach((x,b)=>{const g=u.getCell(l+b);if(b===0)g.value=x.totalsRowLabel;else{const v=this.getFormula(x);g.value=v?{formula:x.totalsRowFormula,result:x.totalsRowResult}:null}o(g,x.style)})}}load(o){const{table:i}=this,{row:r,col:s}=i.tl;let l=0;if(i.headerRow){const d=o.getRow(r+l++);i.columns.forEach((u,x)=>{d.getCell(s+x).value=u.name})}if(i.rows.forEach(d=>{const u=o.getRow(r+l++);d.forEach((x,b)=>{u.getCell(s+b).value=x})}),i.totalsRow){const d=o.getRow(r+l++);i.columns.forEach((u,x)=>{const b=d.getCell(s+x);x===0?b.value=u.totalsRowLabel:this.getFormula(u)&&(b.value={formula:u.totalsRowFormula,result:u.totalsRowResult})})}}get model(){return this.table}set model(o){this.table=o}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const o=c.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let i=0;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(o.row+i);for(let s=0;s<this._cache.width;s++)r.getCell(o.col+s).value=null}else{for(let i=this.tableHeight;i<this._cache.tableHeight;i++){const r=this.worksheet.getRow(o.row+i);for(let s=0;s<this._cache.width;s++)r.getCell(o.col+s).value=null}for(let i=0;i<this.tableHeight;i++){const r=this.worksheet.getRow(o.row+i);for(let s=this.width;s<this._cache.width;s++)r.getCell(o.col+s).value=null}}this.store()}addRow(o,i){this.cacheState(),i===void 0?this.table.rows.push(o):this.table.rows.splice(i,0,o)}removeRows(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(o,i)}getColumn(o){const i=this.table.columns[o];return new n(this,i,o)}addColumn(o,i,r){this.cacheState(),r===void 0?(this.table.columns.push(o),this.table.rows.forEach((s,l)=>{s.push(i[l])})):(this.table.columns.splice(r,0,o),this.table.rows.forEach((s,l)=>{s.splice(r,0,i[l])}))}removeColumns(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(o,i),this.table.rows.forEach(r=>{r.splice(o,i)})}_assign(o,i,r){this.cacheState(),o[i]=r}get ref(){return this.table.ref}set ref(o){this._assign(this.table,"ref",o)}get name(){return this.table.name}set name(o){this.table.name=o}get displayName(){return this.table.displyName||this.table.name}set displayNamename(o){this.table.displayName=o}get headerRow(){return this.table.headerRow}set headerRow(o){this._assign(this.table,"headerRow",o)}get totalsRow(){return this.table.totalsRow}set totalsRow(o){this._assign(this.table,"totalsRow",o)}get theme(){return this.table.style.name}set theme(o){this.table.style.name=o}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(o){this.table.style.showFirstColumn=o}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(o){this.table.style.showLastColumn=o}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(o){this.table.style.showRowStripes=o}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(o){this.table.style.showColumnStripes=o}}},{"../utils/col-cache":19}],13:[function(t,h,f){const c=t("./worksheet"),n=t("./defined-names"),o=t("../xlsx/xlsx"),i=t("../csv/csv");h.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new n}get xlsx(){return this._xlsx||(this._xlsx=new o(this)),this._xlsx}get csv(){return this._csv||(this._csv=new i(this)),this._csv}get nextId(){for(let r=1;r<this._worksheets.length;r++)if(!this._worksheets[r])return r;return this._worksheets.length||1}addWorksheet(r,s){const l=this.nextId;s&&(typeof s=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),s={properties:{tabColor:{argb:s}}}):(s.argb||s.theme||s.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),s={properties:{tabColor:s}}));const d=this._worksheets.reduce((b,g)=>(g&&g.orderNo)>b?g.orderNo:b,0),u=Object.assign({},s,{id:l,name:r,orderNo:d+1,workbook:this}),x=new c(u);return this._worksheets[l]=x,x}removeWorksheetEx(r){delete this._worksheets[r.id]}removeWorksheet(r){const s=this.getWorksheet(r);s&&s.destroy()}getWorksheet(r){return r===void 0?this._worksheets.find(Boolean):typeof r=="number"?this._worksheets[r]:typeof r=="string"?this._worksheets.find(s=>s&&s.name===r):void 0}get worksheets(){return this._worksheets.slice(1).sort((r,s)=>r.orderNo-s.orderNo).filter(Boolean)}eachSheet(r){this.worksheets.forEach(s=>{r(s,s.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(r){const s=this.media.length;return this.media.push(Object.assign({},r,{type:"image"})),s}getImage(r){return this.media[r]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(r=>r.model),sheets:this.worksheets.map(r=>r.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(r){this.creator=r.creator,this.lastModifiedBy=r.lastModifiedBy,this.lastPrinted=r.lastPrinted,this.created=r.created,this.modified=r.modified,this.company=r.company,this.manager=r.manager,this.title=r.title,this.subject=r.subject,this.keywords=r.keywords,this.category=r.category,this.description=r.description,this.language=r.language,this.revision=r.revision,this.contentStatus=r.contentStatus,this.properties=r.properties,this.calcProperties=r.calcProperties,this._worksheets=[],r.worksheets.forEach(s=>{const{id:l,name:d,state:u}=s,x=r.sheets&&r.sheets.findIndex(b=>b.id===l);(this._worksheets[l]=new c({id:l,name:d,orderNo:x,state:u,workbook:this})).model=s}),this._definedNames.model=r.definedNames,this.views=r.views,this._themes=r.themes,this.media=r.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,h,f){const c=t("../utils/under-dash"),n=t("../utils/col-cache"),o=t("./range"),i=t("./row"),r=t("./column"),s=t("./enums"),l=t("./image"),d=t("./table"),u=t("./data-validations"),x=t("../utils/encryptor"),{copyStyle:b}=t("../utils/copy-style");h.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new u,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new o;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&g.expand(v.number,y.min,v.number,y.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((N,E)=>{const I=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(N,I)},0);let v=1;const y=this._columns=[];g.forEach(N=>{const E=new r(this,v++,!1);y.push(E),E.defn=N})}getColumnKey(g){return this._keys[g]}setColumnKey(g,v){this._keys[g]=v}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){c.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const v=this._keys[g];if(v)return v;g=n.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let v=this._columns.length+1;for(;v<=g;)this._columns.push(new r(this,v++))}return this._columns[g-1]}spliceColumns(g,v){const y=this._rows.length;for(var N=arguments.length,E=new Array(N>2?N-2:0),I=2;I<N;I++)E[I-2]=arguments[I];if(E.length>0)for(let U=0;U<y;U++){const V=[g,v];E.forEach(B=>{V.push(B[U]||null)});const G=this.getRow(U+1);G.splice.apply(G,V)}else this._rows.forEach(U=>{U&&U.splice(g,v)});const O=E.length-v,$=g+v,z=this._columns.length;if(O<0)for(let U=g+E.length;U<=z;U++)this.getColumn(U).defn=this.getColumn(U-O).defn;else if(O>0)for(let U=z;U>=$;U--)this.getColumn(U+O).defn=this.getColumn(U).defn;for(let U=g;U<g+E.length;U++)this.getColumn(U).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,v,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(v=>{g=Math.max(g,v.cellCount)}),g}get actualColumnCount(){const g=[];let v=0;return this.eachRow(y=>{y.eachCell(N=>{let{col:E}=N;g[E]||(g[E]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const g=this._rows;let v=g.length;for(;v>0&&g[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,v){return this._rows.slice(g-1,g-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let v=this._rows[g-1];return v||(v=this._rows[g-1]=new i(this,g)),v}getRows(g,v){if(v<1)return;const y=[];for(let N=g;N<g+v;N++)y.push(this.getRow(N));return y}addRow(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,N=this.getRow(y);return N.values=g,this._setStyleOption(y,v[0]==="i"?v:"n"),N}addRows(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return g.forEach(N=>{y.push(this.addRow(N,v))}),y}insertRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,v),this._setStyleOption(g,y),this.getRow(g)}insertRows(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...v),y!=="n")for(let N=0;N<v.length;N++)y[0]==="o"&&this.findRow(v.length+g+N)!==void 0?this._copyStyle(v.length+g+N,g+N,y[1]==="+"):y[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+N,y[1]==="+");return this.getRows(g,v.length)}_setStyleOption(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,v[1]==="+")}_copyStyle(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const N=this.getRow(g),E=this.getRow(v);E.style=b(N.style),N.eachCell({includeEmpty:y},(I,O)=>{E.getCell(O).style=b(I.style)}),E.height=N.height}duplicateRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const N=this._rows[g-1],E=new Array(v).fill(N.values);this.spliceRows(g+1,y?0:v,...E);for(let I=0;I<v;I++){const O=this._rows[g+I];O.style=N.style,O.height=N.height,N.eachCell({includeEmpty:!0},($,z)=>{O.getCell(z).style=$.style})}}spliceRows(g,v){const y=g+v;for(var N=arguments.length,E=new Array(N>2?N-2:0),I=2;I<N;I++)E[I-2]=arguments[I];const O=E.length,$=O-v,z=this._rows.length;let U,V;if($<0)for(g===z&&(this._rows[z-1]=void 0),U=y;U<=z;U++)if(V=this._rows[U-1],V){const G=this.getRow(U+$);G.values=V.values,G.style=V.style,G.height=V.height,V.eachCell({includeEmpty:!0},(B,T)=>{G.getCell(T).style=B.style}),this._rows[U-1]=void 0}else this._rows[U+$-1]=void 0;else if($>0)for(U=z;U>=y;U--)if(V=this._rows[U-1],V){const G=this.getRow(U+$);G.values=V.values,G.style=V.style,G.height=V.height,V.eachCell({includeEmpty:!0},(B,T)=>{if(G.getCell(T).style=B.style,B._value.constructor.name==="MergeValue"){const D=this.getRow(B._row._number+O).getCell(T),A=B._value._master,k=this.getRow(A._row._number+O).getCell(A._column._number);D.merge(k)}})}else this._rows[U+$-1]=void 0;for(U=0;U<O;U++){const G=this.getRow(g+U);G.style={},G.values=E[U]}this.workbook.definedNames.spliceRows(this.name,g,v,O)}eachRow(g,v){if(v||(v=g,g=void 0),g&&g.includeEmpty){const y=this._rows.length;for(let N=1;N<=y;N++)v(this.getRow(N),N)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const g=[];return this._rows.forEach(v=>{v&&(g[v.number]=v.values)}),g}findCell(g,v){const y=n.getAddress(g,v),N=this._rows[y.row-1];return N?N.findCell(y.col):void 0}getCell(g,v){const y=n.getAddress(g,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const N=new o(v);this._mergeCellsInternal(N)}mergeCellsWithoutStyle(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const N=new o(v);this._mergeCellsInternal(N,!0)}_mergeCellsInternal(g,v){c.each(this._merges,N=>{if(N.intersects(g))throw new Error("Cannot merge already merged cells")});const y=this.getCell(g.top,g.left);for(let N=g.top;N<=g.bottom;N++)for(let E=g.left;E<=g.right;E++)(N>g.top||E>g.left)&&this.getCell(N,E).merge(y,v);this._merges[y.address]=g}_unMergeMaster(g){const v=this._merges[g.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let N=v.left;N<=v.right;N++)this.getCell(y,N).unmerge();delete this._merges[g.address]}}get hasMerges(){return c.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const N=new o(v);for(let E=N.top;E<=N.bottom;E++)for(let I=N.left;I<=N.right;I++){const O=this.findCell(E,I);O&&(O.type===s.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(g,v,y){let N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=n.decode(g),{top:I,left:O,bottom:$,right:z}=E,U=z-O+1,V=n.encodeAddress(I,O),G=N==="shared";let B;B=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(D,A)=>y[D-I][A-O]:(D,A)=>y[(D-I)*U+(A-O)]:()=>{};let T=!0;for(let D=I;D<=$;D++)for(let A=O;A<=z;A++)T?(this.getCell(D,A).value={shareType:N,formula:v,ref:g,result:B(D,A)},T=!1):this.getCell(D,A).value=G?{sharedFormula:V,result:B(D,A)}:B(D,A)}addImage(g,v){const y={type:"image",imageId:g,range:v};this._media.push(new l(this,y))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const v={type:"background",imageId:g};this._media.push(new l(this,v))}getBackgroundImageId(){const g=this._media.find(v=>v.type==="background");return g&&g.imageId}protect(g,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=x.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=x.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!g&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(g){const v=new d(this,g);return this.tables[g.name]=v,v}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(N=>N.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(N=>N.model),conditionalFormattings:this.conditionalFormattings};g.cols=r.toModel(this.columns);const v=g.rows=[],y=g.dimensions=new o;return this._rows.forEach(N=>{const E=N&&N.model;E&&(y.expand(E.number,E.min,E.number,E.max),v.push(E))}),g.merges=[],c.each(this._merges,N=>{g.merges.push(N.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(v=>{const y=new i(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(g){c.each(g.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(g){this.name=g.name,this._columns=r.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new u(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(v=>new l(this,v)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((v,y)=>{const N=new d;return N.model=y,v[y.name]=N,v},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,h,f){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const c={Workbook:t("./doc/workbook")},n=t("./doc/enums");Object.keys(n).forEach(o=>{c[o]=n[o]}),h.exports=c},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,h,f){const c=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");f.bufferToString=function(n){return typeof n=="string"?n:c?c.decode(n):n.toString()}},{}],17:[function(t,h,f){const c=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:n}=t("buffer");f.stringToBuffer=function(o){return typeof o!="string"?o:c?n.from(c.encode(o).buffer):n.from(o)}},{buffer:220}],18:[function(t,h,f){const c=t("./under-dash"),n=t("./col-cache");h.exports=class{constructor(o){this.template=o,this.sheets={}}addCell(o){this.addCellEx(n.decodeEx(o))}getCell(o){return this.findCellEx(n.decodeEx(o),!0)}findCell(o){return this.findCellEx(n.decodeEx(o),!1)}findCellAt(o,i,r){const s=this.sheets[o],l=s&&s[i];return l&&l[r]}addCellEx(o){if(o.top)for(let i=o.top;i<=o.bottom;i++)for(let r=o.left;r<=o.right;r++)this.getCellAt(o.sheetName,i,r);else this.findCellEx(o,!0)}getCellEx(o){return this.findCellEx(o,!0)}findCellEx(o,i){const r=this.findSheet(o,i),s=this.findSheetRow(r,o,i);return this.findRowCell(s,o,i)}getCellAt(o,i,r){const s=this.sheets[o]||(this.sheets[o]=[]),l=s[i]||(s[i]=[]);return l[r]||(l[r]={sheetName:o,address:n.n2l(r)+i,row:i,col:r})}removeCellEx(o){const i=this.findSheet(o);if(!i)return;const r=this.findSheetRow(i,o);r&&delete r[o.col]}forEachInSheet(o,i){const r=this.sheets[o];r&&r.forEach((s,l)=>{s&&s.forEach((d,u)=>{d&&i(d,l,u)})})}forEach(o){c.each(this.sheets,(i,r)=>{this.forEachInSheet(r,o)})}map(o){const i=[];return this.forEach(r=>{i.push(o(r))}),i}findSheet(o,i){const r=o.sheetName;return this.sheets[r]?this.sheets[r]:i?this.sheets[r]=[]:void 0}findSheetRow(o,i,r){const{row:s}=i;return o&&o[s]?o[s]:r?o[s]=[]:void 0}findRowCell(o,i,r){const{col:s}=i;return o&&o[s]?o[s]:r?o[s]=this.template?Object.assign(i,JSON.parse(JSON.stringify(this.template))):i:void 0}spliceRows(o,i,r,s){const l=this.sheets[o];if(l){const d=[];for(let u=0;u<s;u++)d.push([]);l.splice(i,r,...d)}}spliceColumns(o,i,r,s){const l=this.sheets[o];if(l){const d=[];for(let u=0;u<s;u++)d.push(null);c.each(l,u=>{u.splice(i,r,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,h,f){const c=/^[A-Z]+\d+$/,n={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:o=>o<=26?1:o<=676?2:3,_fill(o){let i,r,s,l,d,u=1;if(o>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&o>=1){for(;u<=26;)i=this._dictionary[u-1],this._n2l[u]=i,this._l2n[i]=u,u++;this._l2nFill=1}if(this._l2nFill<2&&o>=2){for(u=27;u<=702;)r=u-27,s=r%26,l=Math.floor(r/26),i=this._dictionary[l]+this._dictionary[s],this._n2l[u]=i,this._l2n[i]=u,u++;this._l2nFill=2}if(this._l2nFill<3&&o>=3){for(u=703;u<=16384;)r=u-703,s=r%26,l=Math.floor(r/26)%26,d=Math.floor(r/676),i=this._dictionary[d]+this._dictionary[l]+this._dictionary[s],this._n2l[u]=i,this._l2n[i]=u,u++;this._l2nFill=3}},l2n(o){if(this._l2n[o]||this._fill(o.length),!this._l2n[o])throw new Error("Out of bounds. Invalid column letter: "+o);return this._l2n[o]},n2l(o){if(o<1||o>16384)throw new Error(o+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[o]||this._fill(this._level(o)),this._n2l[o]},_hash:{},validateAddress(o){if(!c.test(o))throw new Error("Invalid Address: "+o);return!0},decodeAddress(o){const i=o.length<5&&this._hash[o];if(i)return i;let r=!1,s="",l=0,d=!1,u="",x=0;for(let g,v=0;v<o.length;v++)if(g=o.charCodeAt(v),!d&&g>=65&&g<=90)r=!0,s+=o[v],l=26*l+g-64;else if(g>=48&&g<=57)d=!0,u+=o[v],x=10*x+g-48;else if(d&&r&&g!==36)break;if(r){if(l>16384)throw new Error("Out of bounds. Invalid column letter: "+s)}else l=void 0;d||(x=void 0);const b={address:o=s+u,col:l,row:x,$col$row:`$${s}$${u}`};return l<=100&&x<=100&&(this._hash[o]=b,this._hash[b.$col$row]=b),b},getAddress(o,i){if(i){const r=this.n2l(i)+o;return this.decodeAddress(r)}return this.decodeAddress(o)},decode(o){const i=o.split(":");if(i.length===2){const r=this.decodeAddress(i[0]),s=this.decodeAddress(i[1]),l={top:Math.min(r.row,s.row),left:Math.min(r.col,s.col),bottom:Math.max(r.row,s.row),right:Math.max(r.col,s.col)};return l.tl=this.n2l(l.left)+l.top,l.br=this.n2l(l.right)+l.bottom,l.dimensions=`${l.tl}:${l.br}`,l}return this.decodeAddress(o)},decodeEx(o){const i=o.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),r=i[1]||i[2],s=i[3],l=s.split(":");if(l.length>1){let u=this.decodeAddress(l[0]),x=this.decodeAddress(l[1]);const b=Math.min(u.row,x.row),g=Math.min(u.col,x.col),v=Math.max(u.row,x.row),y=Math.max(u.col,x.col);return u=this.n2l(g)+b,x=this.n2l(y)+v,{top:b,left:g,bottom:v,right:y,sheetName:r,tl:{address:u,col:g,row:b,$col$row:`$${this.n2l(g)}$${b}`,sheetName:r},br:{address:x,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:r},dimensions:`${u}:${x}`}}if(s.startsWith("#"))return r?{sheetName:r,error:s}:{error:s};const d=this.decodeAddress(s);return r?{sheetName:r,...d}:d},encodeAddress:(o,i)=>n.n2l(i)+o,encode(){switch(arguments.length){case 2:return n.encodeAddress(arguments[0],arguments[1]);case 4:return`${n.encodeAddress(arguments[0],arguments[1])}:${n.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(o,i){const[r,s,,l,d]=o,[u,x]=i;return u>=r&&u<=l&&x>=s&&x<=d}};h.exports=n},{}],20:[function(t,h,f){const c=(o,i)=>({...o,...i.reduce((r,s)=>(o[s]&&(r[s]={...o[s]}),r),{})}),n=function(o,i,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];o[r]&&(i[r]=c(o[r],s))};f.copyStyle=o=>{if(!o)return o;if(i=o,Object.keys(i).length===0)return{};var i;const r={...o};return n(o,r,"font",["color"]),n(o,r,"alignment"),n(o,r,"protection"),o.border&&(n(o,r,"border"),n(o.border,r.border,"top",["color"]),n(o.border,r.border,"left",["color"]),n(o.border,r.border,"bottom",["color"]),n(o.border,r.border,"right",["color"]),n(o.border,r.border,"diagonal",["color"])),o.fill&&(n(o,r,"fill",["fgColor","bgColor","center"]),o.fill.stops&&(r.fill.stops=o.fill.stops.map(s=>c(s,["color"])))),r}},{}],21:[function(t,h,f){(function(c){(function(){const n=t("crypto"),o={hash(i){const r=n.createHash(i);for(var s=arguments.length,l=new Array(s>1?s-1:0),d=1;d<s;d++)l[d-1]=arguments[d];return r.update(c.concat(l)),r.digest()},convertPasswordToHash(i,r,s,l){if(r=r.toLowerCase(),n.getHashes().indexOf(r)<0)throw new Error(`Hash algorithm '${r}' not supported!`);const d=c.from(i,"utf16le");let u=this.hash(r,c.from(s,"base64"),d);for(let x=0;x<l;x++){const b=c.alloc(4);b.writeUInt32LE(x,0),u=this.hash(r,u,b)}return u.toString("base64")},randomBytes:i=>n.randomBytes(i)};h.exports=o}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,h,f){const{SaxesParser:c}=t("saxes"),{PassThrough:n}=t("readable-stream"),{bufferToString:o}=t("./browser-buffer-decode");h.exports=async function*(i){i.pipe&&!i[Symbol.asyncIterator]&&(i=i.pipe(new n));const r=new c;let s;r.on("error",d=>{s=d});let l=[];r.on("opentag",d=>l.push({eventType:"opentag",value:d})),r.on("text",d=>l.push({eventType:"text",value:d})),r.on("closetag",d=>l.push({eventType:"closetag",value:d}));for await(const d of i){if(r.write(o(d)),s)throw s;yield l,l=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,h,f){const c=t("./col-cache"),n=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,o=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;h.exports={slideFormula:function(i,r,s){const l=c.decode(r),d=c.decode(s);return i.replace(n,(u,x,b,g,v)=>{if(v)return u;const y=o.exec(g);if(y){const N=y[1],E=y[2].toUpperCase(),I=y[3],O=y[4];if(E.length>3||E.length===3&&E>"XFD")return u;let $=c.l2n(E),z=parseInt(O,10);return N||($+=d.col-l.col),I||(z+=d.row-l.row),(x||"")+(N||"")+c.n2l($)+(I||"")+z}return u})}}},{"./col-cache":19}],24:[function(t,h,f){(function(c,n){(function(){const o=t("readable-stream"),i=t("./utils"),r=t("./string-buf");class s{constructor(g,v){this._data=g,this._encoding=v}get length(){return this.toBuffer().length}copy(g,v,y,N){return this.toBuffer().copy(g,v,y,N)}toBuffer(){return this._buffer||(this._buffer=n.from(this._data,this._encoding)),this._buffer}}class l{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,N){return this._data._buf.copy(g,v,y,N)}toBuffer(){return this._data.toBuffer()}}class d{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,N){this._data.copy(g,v,y,N)}toBuffer(){return this._data}}class u{constructor(g){this.size=g,this.buffer=n.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=n.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let v;return g===0?null:g===void 0||g>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=n.alloc(g),this.buffer.copy(v,0,this.iRead,g),this.iRead+=g,v)}write(g,v,y){const N=Math.min(y,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,v,v+N),this.iWrite+=N,N}}const x=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};i.inherits(x,o.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return n.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const b=new u(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map((function(g){return new Promise(v=>{g.write(b.toBuffer(),()=>{v()})})})))},_writeToBuffers(b){let g=0;const v=b.length;for(;g<v;)g+=this._getWritableBuffer().write(b,g,v-g)},async write(b,g,v){let y;if(g instanceof Function&&(v=g,g="utf8"),v=v||i.nop,b instanceof r)y=new l(b);else if(b instanceof n)y=new d(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new s(b,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),c.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,g,v){const y=N=>{N?v(N):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};b?this.write(b,g,y):y()},read(b){let g;if(b){for(g=[];b&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(b);b-=y.length,g.push(y),v.eod&&v.full&&this.buffers.shift()}return n.concat(g)}return g=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],n.concat(g)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(g=>g!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),h.exports=x}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,h,f){(function(c){(function(){h.exports=class{constructor(n){this._buf=c.alloc(n&&n.size||16384),this._encoding=n&&n.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=c.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(n){n=n||0,this._buffer=void 0,this._inPos=n}_grow(n){let o=2*this._buf.length;for(;o<n;)o*=2;const i=c.alloc(o);this._buf.copy(i,0),this._buf=i}addText(n){this._buffer=void 0;let o=this._inPos+this._buf.write(n,this._inPos,this._encoding);for(;o>=this._buf.length-4;)this._grow(this._inPos+n.length),o=this._inPos+this._buf.write(n,this._inPos,this._encoding);this._inPos=o}addStringBuf(n){n.length&&(this._buffer=void 0,this.length+n.length>this.capacity&&this._grow(this.length+n.length),n._buf.copy(this._buf,this._inPos,0,n.length),this._inPos+=n.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,h,f){const{toString:c}=Object.prototype,n=/["&<>]/,o={each:function(i,r){i&&(Array.isArray(i)?i.forEach(r):Object.keys(i).forEach(s=>{r(i[s],s)}))},some:function(i,r){return!!i&&(Array.isArray(i)?i.some(r):Object.keys(i).some(s=>r(i[s],s)))},every:function(i,r){return!i||(Array.isArray(i)?i.every(r):Object.keys(i).every(s=>r(i[s],s)))},map:function(i,r){return i?Array.isArray(i)?i.map(r):Object.keys(i).map(s=>r(i[s],s)):[]},keyBy:(i,r)=>i.reduce((s,l)=>(s[l[r]]=l,s),{}),isEqual:function(i,r){const s=typeof i,l=typeof r,d=Array.isArray(i),u=Array.isArray(r);let x;if(s!==l)return!1;switch(typeof i){case"object":if(d||u)return!(!d||!u)&&i.length===r.length&&i.every((b,g)=>{const v=r[g];return o.isEqual(b,v)});if(i===null||r===null)return i===r;if(x=Object.keys(i),Object.keys(r).length!==x.length)return!1;for(const b of x)if(!r.hasOwnProperty(b))return!1;return o.every(i,(b,g)=>{const v=r[g];return o.isEqual(b,v)});default:return i===r}},escapeHtml(i){const r=n.exec(i);if(!r)return i;let s="",l="",d=0,u=r.index;for(;u<i.length;u++){switch(i.charAt(u)){case'"':l="&quot;";break;case"&":l="&amp;";break;case"'":l="&apos;";break;case"<":l="&lt;";break;case">":l="&gt;";break;default:continue}d!==u&&(s+=i.substring(d,u)),d=u+1,s+=l}return d!==u?s+i.substring(d,u):s},strcmp:(i,r)=>i<r?-1:i>r?1:0,isUndefined:i=>c.call(i)==="[object Undefined]",isObject:i=>c.call(i)==="[object Object]",deepMerge(){const i=arguments[0]||{},{length:r}=arguments;let s,l,d;function u(x,b){s=i[b],d=Array.isArray(x),o.isObject(x)||d?(d?(d=!1,l=s&&Array.isArray(s)?s:[]):l=s&&o.isObject(s)?s:{},i[b]=o.deepMerge(l,x)):o.isUndefined(x)||(i[b]=x)}for(let x=0;x<r;x++)o.each(arguments[x],u);return i}};h.exports=o},{}],27:[function(t,h,f){(function(c,n){(function(){const o=t("fs"),i=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,r={nop(){},promiseImmediate:s=>new Promise(l=>{c.setImmediate?n(()=>{l(s)}):setTimeout(()=>{l(s)},1)}),inherits:function(s,l,d,u){s.super_=l,u||(u=d,d=null),d&&Object.keys(d).forEach(b=>{Object.defineProperty(s,b,Object.getOwnPropertyDescriptor(d,b))});const x={constructor:{value:s,enumerable:!1,writable:!1,configurable:!0}};u&&Object.keys(u).forEach(b=>{x[b]=Object.getOwnPropertyDescriptor(u,b)}),s.prototype=Object.create(l.prototype,x)},dateToExcel:(s,l)=>25569+s.getTime()/864e5-(l?1462:0),excelToDate(s,l){const d=Math.round(24*(s-25569+(l?1462:0))*3600*1e3);return new Date(d)},parsePath(s){const l=s.lastIndexOf("/");return{path:s.substring(0,l),name:s.substring(l+1)}},getRelsPath(s){const l=r.parsePath(s);return`${l.path}/_rels/${l.name}.rels`},xmlEncode(s){const l=i.exec(s);if(!l)return s;let d="",u="",x=0,b=l.index;for(;b<s.length;b++){const g=s.charCodeAt(b);switch(g){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&apos;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;case 127:u="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){u="";break}continue}x!==b&&(d+=s.substring(x,b)),x=b+1,u&&(d+=u)}return x!==b?d+s.substring(x,b):d},xmlDecode:s=>s.replace(/&([a-z]*);/g,l=>{switch(l){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return l}}),validInt(s){const l=parseInt(s,10);return Number.isNaN(l)?0:l},isDateFmt(s){return s?(s=(s=s.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:s=>new Promise(l=>{o.access(s,o.constants.F_OK,d=>{l(!d)})})},toIsoDateString:s=>s.toIsoString().subsstr(0,10),parseBoolean:s=>s===!0||s==="true"||s===1||s==="1"};h.exports=r}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,h,f){const c=t("./under-dash"),n=t("./utils");function o(s,l,d){s.push(` ${l}="${n.xmlEncode(d.toString())}"`)}function i(s,l){if(l){const d=[];c.each(l,(u,x)=>{u!==void 0&&o(d,x,u)}),s.push(d.join(""))}}class r{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(l){const d=this._xml;d.push("<?xml"),i(d,l),d.push(`?>
`)}openNode(l,d){const u=this.tos,x=this._xml;u&&this.open&&x.push(">"),this._stack.push(l),x.push("<"),x.push(l),i(x,d),this.leaf=!0,this.open=!0}addAttribute(l,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&o(this._xml,l,d)}addAttributes(l){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");i(this._xml,l)}writeText(l){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(n.xmlEncode(l.toString()))}writeXml(l){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(l)}closeNode(){const l=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(l),d.push(">")),this.open=!1,this.leaf=!1}leafNode(l,d,u){this.openNode(l,d),u!==void 0&&this.writeText(u),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const l=this._rollbacks.pop();this._xml.length>l.xml&&this._xml.splice(l.xml,this._xml.length-l.xml),this._stack.length>l.stack&&this._stack.splice(l.stack,this._stack.length-l.stack),this.leaf=l.leaf,this.open=l.open}get xml(){return this.closeAll(),this._xml.join("")}}r.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},h.exports=r},{"./under-dash":26,"./utils":27}],29:[function(t,h,f){(function(c){(function(){const n=t("events"),o=t("jszip"),i=t("./stream-buf"),{stringToBuffer:r}=t("./browser-buffer-encode");class s extends n.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new o,this.stream=new i}append(d,u){u.hasOwnProperty("base64")&&u.base64?this.zip.file(u.name,d,{base64:!0}):(c.browser&&typeof d=="string"&&(d=r(d)),this.zip.file(u.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,u){return this.stream.pipe(d,u)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}h.exports={ZipWriter:s}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,h,f){h.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,h,f){h.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,h,f){const c=t("../../utils/parse-sax"),n=t("../../utils/xml-stream");class o{prepare(){}render(){}parseOpen(r){}parseText(r){}parseClose(r){}reconcile(r,s){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(r=>{r instanceof o?r.reset():r.xform&&r.xform.reset()})}mergeModel(r){this.model=Object.assign(this.model||{},r)}async parse(r){for await(const s of r)for(const{eventType:l,value:d}of s)if(l==="opentag")this.parseOpen(d);else if(l==="text")this.parseText(d);else if(l==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(r){return this.parse(c(r))}get xml(){return this.toXml(this.model)}toXml(r){const s=new n;return this.render(s,r),s.xml}static toAttribute(r,s){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(l)return s}else if(l||r!==s)return r.toString()}static toStringAttribute(r,s){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(r,s,l)}static toStringValue(r,s){return r===void 0?s:r}static toBoolAttribute(r,s){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(r===void 0){if(l)return s}else if(l||r!==s)return r?"1":"0"}static toBoolValue(r,s){return r===void 0?s:r==="1"}static toIntAttribute(r,s){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(r,s,l)}static toIntValue(r,s){return r===void 0?s:parseInt(r,10)}static toFloatAttribute(r,s){let l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o.toAttribute(r,s,l)}static toFloatValue(r,s){return r===void 0?s:parseFloat(r)}}h.exports=o},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,h,f){const c=t("../base-xform"),n=t("../../../utils/col-cache");function o(r){try{return n.decodeEx(r),!0}catch{return!1}}function i(r){const s=[];let l=!1,d="";return r.split(",").forEach(u=>{if(!u)return;const x=(u.match(/'/g)||[]).length;if(!x)return void(l?d+=u+",":o(u)&&s.push(u));const b=x%2==0;!l&&b&&o(u)?s.push(u):l&&!b?(l=!1,o(d+u)&&s.push(d+u),d=""):(l=!0,d+=u+",")}),s}h.exports=class extends c{render(r,s){r.openNode("definedName",{name:s.name,localSheetId:s.localSheetId}),r.writeText(s.ranges.join(",")),r.closeNode()}parseOpen(r){switch(r.name){case"definedName":return this._parsedName=r.attributes.name,this._parsedLocalSheetId=r.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(r){this._parsedText.push(r)}parseClose(){return this.model={name:this._parsedName,ranges:i(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,h,f){const c=t("../../../utils/utils"),n=t("../base-xform");h.exports=class extends n{render(o,i){o.leafNode("sheet",{sheetId:i.id,name:i.name,state:i.state,"r:id":i.rId})}parseOpen(o){return o.name==="sheet"&&(this.model={name:c.xmlDecode(o.attributes.name),id:parseInt(o.attributes.sheetId,10),state:o.attributes.state,rId:o.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){n.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:o.fullCalcOnLoad?1:void 0})}parseOpen(n){return n.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){n.leafNode("workbookPr",{date1904:o.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(n){return n.name==="workbookPr"&&(this.model={date1904:n.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){const i={xWindow:o.x||0,yWindow:o.y||0,windowWidth:o.width||12e3,windowHeight:o.height||24e3,firstSheet:o.firstSheet,activeTab:o.activeTab};o.visibility&&o.visibility!=="visible"&&(i.visibility=o.visibility),n.leafNode("workbookView",i)}parseOpen(n){if(n.name==="workbookView"){const o=this.model={},i=function(s,l,d){const u=l!==void 0?o[s]=l:d;u!==void 0&&(o[s]=u)},r=function(s,l,d){const u=l!==void 0?o[s]=parseInt(l,10):d;u!==void 0&&(o[s]=u)};return r("x",n.attributes.xWindow,0),r("y",n.attributes.yWindow,0),r("width",n.attributes.windowWidth,25e3),r("height",n.attributes.windowHeight,1e4),i("visibility",n.attributes.visibility,"visible"),r("activeTab",n.attributes.activeTab,void 0),r("firstSheet",n.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),i=t("../base-xform"),r=t("../static-xform"),s=t("../list-xform"),l=t("./defined-name-xform"),d=t("./sheet-xform"),u=t("./workbook-view-xform"),x=t("./workbook-properties-xform"),b=t("./workbook-calc-properties-xform");class g extends i{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new x,bookViews:new s({tag:"bookViews",count:!1,childXform:new u}),sheets:new s({tag:"sheets",count:!1,childXform:new d}),definedNames:new s({tag:"definedNames",count:!1,childXform:new l}),calcPr:new b}}prepare(y){y.sheets=y.worksheets;const N=[];let E=0;y.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(O=>{const $=O.split(":"),z={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${$[0]}:$${$[1]}`],localSheetId:E};N.push(z)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const O=[];if(I.pageSetup.printTitlesColumn){const z=I.pageSetup.printTitlesColumn.split(":");O.push(`'${I.name}'!$${z[0]}:$${z[1]}`)}if(I.pageSetup.printTitlesRow){const z=I.pageSetup.printTitlesRow.split(":");O.push(`'${I.name}'!$${z[0]}:$${z[1]}`)}const $={name:"_xlnm.Print_Titles",ranges:O,localSheetId:E};N.push($)}E++}),N.length&&(y.definedNames=y.definedNames.concat(N)),(y.media||[]).forEach((I,O)=>{I.name=I.type+(O+1)})}render(y,N){y.openXml(o.StdDocAttributes),y.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,N.properties),this.map.bookViews.render(y,N.views),this.map.sheets.render(y,N.sheets),this.map.definedNames.render(y,N.definedNames),this.map.calcPr.render(y,N.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const N=(y.workbookRels||[]).reduce((z,U)=>(z[U.Id]=U,z),{}),E=[];let I,O=0;(y.sheets||[]).forEach(z=>{const U=N[z.rId];U&&(I=y.worksheetHash["xl/"+U.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=z.name,I.id=z.id,I.state=z.state,E[O++]=I))});const $=[];c.each(y.definedNames,z=>{if(z.name==="_xlnm.Print_Area"){if(I=E[z.localSheetId],I){I.pageSetup||(I.pageSetup={});const U=n.decodeEx(z.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${U.dimensions}`:U.dimensions}}else if(z.name==="_xlnm.Print_Titles"){if(I=E[z.localSheetId],I){I.pageSetup||(I.pageSetup={});const U=z.ranges.join(","),V=/\$/g,G=/\$\d+:\$\d+/,B=U.match(G);if(B&&B.length){const A=B[0];I.pageSetup.printTitlesRow=A.replace(V,"")}const T=/\$[A-Z]+:\$[A-Z]+/,D=U.match(T);if(D&&D.length){const A=D[0];I.pageSetup.printTitlesColumn=A.replace(V,"")}}}else $.push(z)}),y.definedNames=$,y.media.forEach((z,U)=>{z.index=U})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new r({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},h.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,h,f){const c=t("../strings/rich-text-xform"),n=t("../../../utils/utils"),o=t("../base-xform"),i=h.exports=function(r){this.model=r};n.inherits(i,o,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new c),this._richTextXform},render(r,s){s=s||this.model,r.openNode("comment",{ref:s.ref,authorId:0}),r.openNode("text"),s&&s.note&&s.note.texts&&s.note.texts.forEach(l=>{this.richTextXform.render(r,l)}),r.closeNode(),r.closeNode()},parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"comment":return this.model={type:"note",note:{texts:[]},...r.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(r),!0;default:return!1}},parseText(r){this.parser&&this.parser.parseText(r)},parseClose(r){switch(r){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(r),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../../../utils/utils"),o=t("../base-xform"),i=t("./comment-xform"),r=h.exports=function(){this.map={comment:new i}};n.inherits(r,o,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(s,l){l=l||this.model,s.openXml(c.StdDocAttributes),s.openNode("comments",r.COMMENTS_ATTRIBUTES),s.openNode("authors"),s.leafNode("author",null,"Author"),s.closeNode(),s.openNode("commentList"),l.comments.forEach(d=>{this.map.comment.render(s,d)}),s.closeNode(),s.closeNode()},parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(s),!0;default:return!1}},parseText(s){this.parser&&this.parser.parseText(s)},parseClose(s){switch(s){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(s),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o,i){(o===i[2]||this.tag==="x:SizeWithCells"&&o===i[1])&&n.leafNode(this.tag)}parseOpen(n){switch(n.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{constructor(n){super(),this._model=n}get tag(){return this._model&&this._model.tag}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"x:Anchor"}getAnchorRect(n){const o=Math.floor(n.left),i=Math.floor(68*(n.left-o)),r=Math.floor(n.top),s=Math.floor(18*(n.top-r)),l=Math.floor(n.right),d=Math.floor(68*(n.right-l)),u=Math.floor(n.bottom);return[o,i,r,s,l,d,u,Math.floor(18*(n.bottom-u))]}getDefaultRect(n){const o=n.col,i=Math.max(n.row-2,0);return[o,6,i,14,o+2,2,i+4,16]}render(n,o){const i=o.anchor?this.getAnchorRect(o.anchor):this.getDefaultRect(o.refAddress);n.leafNode("x:Anchor",null,i.join(", "))}parseOpen(n){switch(n.name){case this.tag:return this.text="",!0;default:return!1}}parseText(n){this.text=n}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,h,f){const c=t("../base-xform"),n=t("./vml-anchor-xform"),o=t("./style/vml-protection-xform"),i=t("./style/vml-position-xform"),r=["twoCells","oneCells","absolute"];h.exports=class extends c{constructor(){super(),this.map={"x:Anchor":new n,"x:Locked":new o({tag:"x:Locked"}),"x:LockText":new o({tag:"x:LockText"}),"x:SizeWithCells":new i({tag:"x:SizeWithCells"}),"x:MoveWithCells":new i({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(s,l){const{protection:d,editAs:u}=l.note;s.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(s,u,r),this.map["x:SizeWithCells"].render(s,u,r),this.map["x:Anchor"].render(s,l),this.map["x:Locked"].render(s,d.locked),s.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(s,d.lockText),s.leafNode("x:Row",null,l.refAddress.row-1),s.leafNode("x:Column",null,l.refAddress.col-1),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const s=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),l=Object.keys(s).length;this.model.editAs=r[l],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("./vml-shape-xform");class i extends n{constructor(){super(),this.map={"v:shape":new o}}get tag(){return"xml"}render(s,l){s.openXml(c.StdDocAttributes),s.openNode(this.tag,i.DRAWING_ATTRIBUTES),s.openNode("o:shapelayout",{"v:ext":"edit"}),s.leafNode("o:idmap",{"v:ext":"edit",data:1}),s.closeNode(),s.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),s.leafNode("v:stroke",{joinstyle:"miter"}),s.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),s.closeNode(),l.comments.forEach((d,u)=>{this.map["v:shape"].render(s,d,u)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:return!0}}reconcile(s,l){s.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,l):this.map["xdr:oneCellAnchor"].reconcile(d,l)})}}i.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},h.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,h,f){const c=t("../base-xform"),n=t("./vml-textbox-xform"),o=t("./vml-client-data-xform");class i extends c{constructor(){super(),this.map={"v:textbox":new n,"x:ClientData":new o}}get tag(){return"v:shape"}render(s,l,d){s.openNode("v:shape",i.V_SHAPE_ATTRIBUTES(l,d)),s.leafNode("v:fill",{color2:"infoBackground [80]"}),s.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),s.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(s,l),this.map["x:ClientData"].render(s,l),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={margins:{insetmode:s.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}i.V_SHAPE_ATTRIBUTES=(r,s)=>({id:"_x0000_s"+(1025+s),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":r.note.margins&&r.note.margins.insetmode}),h.exports=i},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"v:textbox"}conversionUnit(n,o,i){return`${parseFloat(n)*o.toFixed(2)}${i}`}reverseConversionUnit(n){return(n||"").split(",").map(o=>Number(parseFloat(this.conversionUnit(parseFloat(o),.1,"")).toFixed(2)))}render(n,o){const i={style:"mso-direction-alt:auto"};if(o&&o.note){let{inset:r}=o.note&&o.note.margins;Array.isArray(r)&&(r=r.map(s=>this.conversionUnit(s,10,"mm")).join(",")),r&&(i.inset=r)}n.openNode("v:textbox",i),n.leafNode("div",{style:"text-align:left"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:return this.model={inset:this.reverseConversionUnit(n.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,h,f){const c=t("./base-xform");h.exports=class extends c{createNewModel(n){return{}}parseOpen(n){return this.parser=this.parser||this.map[n.name],this.parser?(this.parser.parseOpen(n),!0):n.name===this.tag&&(this.model=this.createNewModel(n),!0)}parseText(n){this.parser&&this.parser.parseText(n)}onParserClose(n,o){this.model[n]=o.model}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.onParserClose(n,this.parser),this.parser=void 0),!0):n!==this.tag}}},{"./base-xform":32}],49:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){n.openNode("HeadingPairs"),n.openNode("vt:vector",{size:2,baseType:"variant"}),n.openNode("vt:variant"),n.leafNode("vt:lpstr",void 0,"Worksheets"),n.closeNode(),n.openNode("vt:variant"),n.leafNode("vt:i4",void 0,o.length),n.closeNode(),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="HeadingPairs"}parseText(){}parseClose(n){return n!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){n.openNode("TitlesOfParts"),n.openNode("vt:vector",{size:o.length,baseType:"lpstr"}),o.forEach(i=>{n.leafNode("vt:lpstr",void 0,i.name)}),n.closeNode(),n.closeNode()}parseOpen(n){return n.name==="TitlesOfParts"}parseText(){}parseClose(n){return n!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("../simple/string-xform"),i=t("./app-heading-pairs-xform"),r=t("./app-titles-of-parts-xform");class s extends n{constructor(){super(),this.map={Company:new o({tag:"Company"}),Manager:new o({tag:"Manager"}),HeadingPairs:new i,TitleOfParts:new r}}render(d,u){d.openXml(c.StdDocAttributes),d.openNode("Properties",s.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,u.worksheets),this.map.TitleOfParts.render(d,u.worksheets),this.map.Company.render(d,u.company||""),this.map.Manager.render(d,u.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}s.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3,6}/,"")},s.DateAttrs={"xsi:type":"dcterms:W3CDTF"},s.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},h.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform");class o extends n{render(r,s){r.openXml(c.StdDocAttributes),r.openNode("Types",o.PROPERTY_ATTRIBUTES);const l={};(s.media||[]).forEach(d=>{if(d.type==="image"){const u=d.extension;l[u]||(l[u]=!0,r.leafNode("Default",{Extension:u,ContentType:"image/"+u}))}}),r.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),r.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),r.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),s.worksheets.forEach(d=>{const u=`/xl/worksheets/sheet${d.id}.xml`;r.leafNode("Override",{PartName:u,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),r.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),r.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),s.sharedStrings&&s.sharedStrings.count&&r.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),s.tables&&s.tables.forEach(d=>{r.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),s.drawings&&s.drawings.forEach(d=>{r.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),s.commentRefs&&(r.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),s.commentRefs.forEach(d=>{let{commentName:u}=d;r.leafNode("Override",{PartName:`/xl/${u}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),r.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),r.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),r.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}o.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},h.exports=o},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("../simple/date-xform"),i=t("../simple/string-xform"),r=t("../simple/integer-xform");class s extends n{constructor(){super(),this.map={"dc:creator":new i({tag:"dc:creator"}),"dc:title":new i({tag:"dc:title"}),"dc:subject":new i({tag:"dc:subject"}),"dc:description":new i({tag:"dc:description"}),"dc:identifier":new i({tag:"dc:identifier"}),"dc:language":new i({tag:"dc:language"}),"cp:keywords":new i({tag:"cp:keywords"}),"cp:category":new i({tag:"cp:category"}),"cp:lastModifiedBy":new i({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new o({tag:"cp:lastPrinted",format:s.DateFormat}),"cp:revision":new r({tag:"cp:revision"}),"cp:version":new i({tag:"cp:version"}),"cp:contentStatus":new i({tag:"cp:contentStatus"}),"cp:contentType":new i({tag:"cp:contentType"}),"dcterms:created":new o({tag:"dcterms:created",attrs:s.DateAttrs,format:s.DateFormat}),"dcterms:modified":new o({tag:"dcterms:modified",attrs:s.DateAttrs,format:s.DateFormat})}}render(d,u){d.openXml(c.StdDocAttributes),d.openNode("cp:coreProperties",s.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,u.creator),this.map["dc:title"].render(d,u.title),this.map["dc:subject"].render(d,u.subject),this.map["dc:description"].render(d,u.description),this.map["dc:identifier"].render(d,u.identifier),this.map["dc:language"].render(d,u.language),this.map["cp:keywords"].render(d,u.keywords),this.map["cp:category"].render(d,u.category),this.map["cp:lastModifiedBy"].render(d,u.lastModifiedBy),this.map["cp:lastPrinted"].render(d,u.lastPrinted),this.map["cp:revision"].render(d,u.revision),this.map["cp:version"].render(d,u.version),this.map["cp:contentStatus"].render(d,u.contentStatus),this.map["cp:contentType"].render(d,u.contentType),this.map["dcterms:created"].render(d,u.created),this.map["dcterms:modified"].render(d,u.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}s.DateFormat=function(l){return l.toISOString().replace(/[.]\d{3}/,"")},s.DateAttrs={"xsi:type":"dcterms:W3CDTF"},s.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},h.exports=s},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{render(n,o){n.leafNode("Relationship",o)}parseOpen(n){switch(n.name){case"Relationship":return this.model=n.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("./relationship-xform");class i extends n{constructor(){super(),this.map={Relationship:new o}}render(s,l){l=l||this._values,s.openXml(c.StdDocAttributes),s.openNode("Relationships",i.RELATIONSHIPS_ATTRIBUTES),l.forEach(d=>{this.map.Relationship.render(s,d)}),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[s.name],this.parser)return this.parser.parseOpen(s),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(s))}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(s){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+s)}}}i.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},h.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={range:{editAs:n.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}reconcilePicture(n,o){if(n&&n.rId){const i=o.rels[n.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(i){const r=i[1],s=o.mediaIndex[r];return o.media[s]}}}}},{"../base-xform":32}],57:[function(t,h,f){const c=t("../base-xform"),n=t("./blip-xform");h.exports=class extends c{constructor(){super(),this.map={"a:blip":new n}}get tag(){return"xdr:blipFill"}render(o,i){o.openNode(this.tag),this.map["a:blip"].render(o,i),o.openNode("a:stretch"),o.leafNode("a:fillRect"),o.closeNode(),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"a:blip"}render(n,o){n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":o.rId,cstate:"print"})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"xdr:cNvPicPr"}render(n){n.openNode(this.tag),n.leafNode("a:picLocks",{noChangeAspect:"1"}),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,h,f){const c=t("../base-xform"),n=t("./hlink-click-xform"),o=t("./ext-lst-xform");h.exports=class extends c{constructor(){super(),this.map={"a:hlinkClick":new n,"a:extLst":new o}}get tag(){return"xdr:cNvPr"}render(i,r){i.openNode(this.tag,{id:r.index,name:"Picture "+r.index}),this.map["a:hlinkClick"].render(i,r),this.map["a:extLst"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,h,f){const c=t("../base-xform"),n=t("../simple/integer-xform");h.exports=class extends c{constructor(o){super(),this.tag=o.tag,this.map={"xdr:col":new n({tag:"xdr:col",zero:!0}),"xdr:colOff":new n({tag:"xdr:colOff",zero:!0}),"xdr:row":new n({tag:"xdr:row",zero:!0}),"xdr:rowOff":new n({tag:"xdr:rowOff",zero:!0})}}render(o,i){o.openNode(this.tag),this.map["xdr:col"].render(o,i.nativeCol),this.map["xdr:colOff"].render(o,i.nativeColOff),this.map["xdr:row"].render(o,i.nativeRow),this.map["xdr:rowOff"].render(o,i.nativeRowOff),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset();break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,h,f){const c=t("../../../utils/col-cache"),n=t("../../../utils/xml-stream"),o=t("../base-xform"),i=t("./two-cell-anchor-xform"),r=t("./one-cell-anchor-xform");class s extends o{constructor(){super(),this.map={"xdr:twoCellAnchor":new i,"xdr:oneCellAnchor":new r}}prepare(d){d.anchors.forEach((u,x)=>{u.anchorType=(function(b){return(typeof b.range=="string"?c.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(u),this.map[u.anchorType].prepare(u,{index:x})})}get tag(){return"xdr:wsDr"}render(d,u){d.openXml(n.StdDocAttributes),d.openNode(this.tag,s.DRAWING_ATTRIBUTES),u.anchors.forEach(x=>{this.map[x.anchorType].render(d,x)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,u){d.anchors.forEach(x=>{x.br?this.map["xdr:twoCellAnchor"].reconcile(x,u):this.map["xdr:oneCellAnchor"].reconcile(x,u)})}}s.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},h.exports=s},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"a:extLst"}render(n){n.openNode(this.tag),n.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),n.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),n.closeNode(),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:default:return!0}}parseText(){}parseClose(n){switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.map={}}render(n,o){n.openNode(this.tag);const i=Math.floor(9525*o.width),r=Math.floor(9525*o.height);n.addAttribute("cx",i),n.addAttribute("cy",r),n.closeNode()}parseOpen(n){return n.name===this.tag&&(this.model={width:parseInt(n.attributes.cx||"0",10)/9525,height:parseInt(n.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"a:hlinkClick"}render(n,o){o.hyperlinks&&o.hyperlinks.rId&&n.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":o.hyperlinks.rId,tooltip:o.hyperlinks.tooltip})}parseOpen(n){switch(n.name){case this.tag:return this.model={hyperlinks:{rId:n.attributes["r:id"],tooltip:n.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,h,f){const c=t("../base-xform"),n=t("./c-nv-pr-xform"),o=t("./c-nv-pic-pr-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:cNvPr":new n,"xdr:cNvPicPr":new o}}get tag(){return"xdr:nvPicPr"}render(i,r){i.openNode(this.tag),this.map["xdr:cNvPr"].render(i,r),this.map["xdr:cNvPicPr"].render(i,r),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,h,f){const c=t("./base-cell-anchor-xform"),n=t("../static-xform"),o=t("./cell-position-xform"),i=t("./ext-xform"),r=t("./pic-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:ext":new i({tag:"xdr:ext"}),"xdr:pic":new r,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(s,l){this.map["xdr:pic"].prepare(s.picture,l)}render(s,l){s.openNode(this.tag,{editAs:l.range.editAs||"oneCell"}),this.map["xdr:from"].render(s,l.range.tl),this.map["xdr:ext"].render(s,l.range.ext),this.map["xdr:pic"].render(s,l.picture),this.map["xdr:clientData"].render(s,{}),s.closeNode()}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(s,l){s.medium=this.reconcilePicture(s.picture,l)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,h,f){const c=t("../base-xform"),n=t("../static-xform"),o=t("./blip-fill-xform"),i=t("./nv-pic-pr-xform"),r=t("./sp-pr");h.exports=class extends c{constructor(){super(),this.map={"xdr:nvPicPr":new i,"xdr:blipFill":new o,"xdr:spPr":new n(r)}}get tag(){return"xdr:pic"}prepare(s,l){s.index=l.index+1}render(s,l){s.openNode(this.tag),this.map["xdr:nvPicPr"].render(s,l),this.map["xdr:blipFill"].render(s,l),this.map["xdr:spPr"].render(s,l),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset();break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(){}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,h,f){h.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,h,f){const c=t("./base-cell-anchor-xform"),n=t("../static-xform"),o=t("./cell-position-xform"),i=t("./pic-xform");h.exports=class extends c{constructor(){super(),this.map={"xdr:from":new o({tag:"xdr:from"}),"xdr:to":new o({tag:"xdr:to"}),"xdr:pic":new i,"xdr:clientData":new n({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(r,s){this.map["xdr:pic"].prepare(r.picture,s)}render(r,s){r.openNode(this.tag,{editAs:s.range.editAs||"oneCell"}),this.map["xdr:from"].render(r,s.range.tl),this.map["xdr:to"].render(r,s.range.br),this.map["xdr:pic"].render(r,s.picture),this.map["xdr:clientData"].render(r,{}),r.closeNode()}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(r,s){r.medium=this.reconcilePicture(r.picture,s)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,h,f){const c=t("./base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.always=!!n.always,this.count=n.count,this.empty=n.empty,this.$count=n.$count||"count",this.$=n.$,this.childXform=n.childXform,this.maxItems=n.maxItems}prepare(n,o){const{childXform:i}=this;n&&n.forEach((r,s)=>{o.index=s,i.prepare(r,o)})}render(n,o){if(this.always||o&&o.length){n.openNode(this.tag,this.$),this.count&&n.addAttribute(this.$count,o&&o.length||0);const{childXform:i}=this;(o||[]).forEach((r,s)=>{i.render(n,r,s)}),n.closeNode()}else this.empty&&n.leafNode(this.tag)}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(n)&&(this.parser=this.childXform,!0)}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(n,o){if(n){const{childXform:i}=this;n.forEach(r=>{i.reconcile(r,o)})}}}},{"./base-xform":32}],72:[function(t,h,f){const c=t("../../../utils/col-cache"),n=t("../base-xform");h.exports=class extends n{get tag(){return"autoFilter"}render(o,i){if(i)if(typeof i=="string")o.leafNode("autoFilter",{ref:i});else{const r=function(d){return typeof d=="string"?d:c.getAddress(d.row,d.column).address},s=r(i.from),l=r(i.to);s&&l&&o.leafNode("autoFilter",{ref:`${s}:${l}`})}}parseOpen(o){o.name==="autoFilter"&&(this.model=o.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,h,f){const c=t("../../../utils/utils"),n=t("../base-xform"),o=t("../../../doc/range"),i=t("../../../doc/enums"),r=t("../strings/rich-text-xform");function s(l){if(l==null)return i.ValueType.Null;if(l instanceof String||typeof l=="string")return i.ValueType.String;if(typeof l=="number")return i.ValueType.Number;if(typeof l=="boolean")return i.ValueType.Boolean;if(l instanceof Date)return i.ValueType.Date;if(l.text&&l.hyperlink)return i.ValueType.Hyperlink;if(l.formula)return i.ValueType.Formula;if(l.error)return i.ValueType.Error;throw new Error("I could not understand type of value")}h.exports=class extends n{constructor(){super(),this.richTextXForm=new r}get tag(){return"c"}prepare(l,d){const u=d.styles.addStyleModel(l.style||{},(function(x){switch(x.type){case i.ValueType.Formula:return s(x.result);default:return x.type}})(l));switch(u&&(l.styleId=u),l.comment&&d.comments.push({...l.comment,ref:l.address}),l.type){case i.ValueType.String:case i.ValueType.RichText:d.sharedStrings&&(l.ssId=d.sharedStrings.add(l.value));break;case i.ValueType.Date:d.date1904&&(l.date1904=!0);break;case i.ValueType.Hyperlink:d.sharedStrings&&l.text!==void 0&&l.text!==null&&(l.ssId=d.sharedStrings.add(l.text)),d.hyperlinks.push({address:l.address,target:l.hyperlink,tooltip:l.tooltip});break;case i.ValueType.Merge:d.merges.add(l);break;case i.ValueType.Formula:if(d.date1904&&(l.date1904=!0),l.shareType==="shared"&&(l.si=d.siFormulae++),l.formula)d.formulae[l.address]=l;else if(l.sharedFormula){const x=d.formulae[l.sharedFormula];if(!x)throw new Error("Shared Formula master must exist above and or left of clone for cell "+l.address);x.si===void 0?(x.shareType="shared",x.si=d.siFormulae++,x.range=new o(x.address,l.address)):x.range&&x.range.expandToAddress(l.address),l.si=x.si}}}renderFormula(l,d){let u=null;switch(d.shareType){case"shared":u={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":u={t:"array",ref:d.ref};break;default:d.si!==void 0&&(u={t:"shared",si:d.si})}switch(s(d.result)){case i.ValueType.Null:l.leafNode("f",u,d.formula);break;case i.ValueType.String:l.addAttribute("t","str"),l.leafNode("f",u,d.formula),l.leafNode("v",null,d.result);break;case i.ValueType.Number:l.leafNode("f",u,d.formula),l.leafNode("v",null,d.result);break;case i.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("f",u,d.formula),l.leafNode("v",null,d.result?1:0);break;case i.ValueType.Error:l.addAttribute("t","e"),l.leafNode("f",u,d.formula),l.leafNode("v",null,d.result.error);break;case i.ValueType.Date:l.leafNode("f",u,d.formula),l.leafNode("v",null,c.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(l,d){if(d.type!==i.ValueType.Null||d.styleId){switch(l.openNode("c"),l.addAttribute("r",d.address),d.styleId&&l.addAttribute("s",d.styleId),d.type){case i.ValueType.Null:break;case i.ValueType.Number:l.leafNode("v",null,d.value);break;case i.ValueType.Boolean:l.addAttribute("t","b"),l.leafNode("v",null,d.value?"1":"0");break;case i.ValueType.Error:l.addAttribute("t","e"),l.leafNode("v",null,d.value.error);break;case i.ValueType.String:case i.ValueType.RichText:d.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(l.addAttribute("t","inlineStr"),l.openNode("is"),d.value.richText.forEach(u=>{this.richTextXForm.render(l,u)}),l.closeNode("is")):(l.addAttribute("t","str"),l.leafNode("v",null,d.value));break;case i.ValueType.Date:l.leafNode("v",null,c.dateToExcel(d.value,d.date1904));break;case i.ValueType.Hyperlink:d.ssId!==void 0?(l.addAttribute("t","s"),l.leafNode("v",null,d.ssId)):(l.addAttribute("t","str"),l.leafNode("v",null,d.text));break;case i.ValueType.Formula:this.renderFormula(l,d);break;case i.ValueType.Merge:}l.closeNode()}}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"c":return this.model={address:l.attributes.r},this.t=l.attributes.t,l.attributes.s&&(this.model.styleId=parseInt(l.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=l.attributes.si,this.model.shareType=l.attributes.t,this.model.ref=l.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){if(this.parser)this.parser.parseText(l);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+l:l;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+l:l:this.model.value=this.model.value?this.model.value+l:l}}parseClose(l){switch(l){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=i.ValueType.Formula,d.value&&(this.t==="str"?d.result=c.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=i.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=i.ValueType.String,d.value=c.xmlDecode(d.value);break;case"inlineStr":d.type=i.ValueType.String;break;case"b":d.type=i.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=i.ValueType.Error,d.value={error:d.value};break;default:d.type=i.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=i.ValueType.Null:d.type=i.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(l),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(l),!0)}}reconcile(l,d){const u=l.styleId&&d.styles&&d.styles.getStyleModel(l.styleId);switch(u&&(l.style=u),l.styleId!==void 0&&(l.styleId=void 0),l.type){case i.ValueType.String:typeof l.value=="number"&&d.sharedStrings&&(l.value=d.sharedStrings.getString(l.value)),l.value.richText&&(l.type=i.ValueType.RichText);break;case i.ValueType.Number:u&&c.isDateFmt(u.numFmt)&&(l.type=i.ValueType.Date,l.value=c.excelToDate(l.value,d.date1904));break;case i.ValueType.Formula:l.result!==void 0&&u&&c.isDateFmt(u.numFmt)&&(l.result=c.excelToDate(l.result,d.date1904)),l.shareType==="shared"&&(l.ref?d.formulae[l.si]=l.address:(l.sharedFormula=d.formulae[l.si],delete l.shareType),delete l.si)}const x=d.hyperlinkMap[l.address];x&&(l.type===i.ValueType.Formula?(l.text=l.result,l.result=void 0):(l.text=l.value,l.value=void 0),l.type=i.ValueType.Hyperlink,l.hyperlink=x);const b=d.commentsMap&&d.commentsMap[l.address];b&&(l.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{get tag(){return"x14:cfIcon"}render(n,o){n.leafNode(this.tag,{iconSet:o.iconSet,iconId:o.iconId})}parseOpen(n){let{attributes:o}=n;this.model={iconSet:o.iconSet,iconId:c.toIntValue(o.iconId)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],75:[function(t,h,f){const{v4:c}=t("uuid"),n=t("../../base-xform"),o=t("../../composite-xform"),i=t("./databar-ext-xform"),r=t("./icon-set-ext-xform"),s={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class l extends o{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new i,"x14:iconSet":this.iconSetXform=new r}}get tag(){return"x14:cfRule"}static isExt(u){return u.type==="dataBar"?i.isExt(u):!(u.type!=="iconSet"||!u.custom&&!s[u.iconSet])}prepare(u){l.isExt(u)&&(u.x14Id=`{${c()}}`.toUpperCase())}render(u,x){if(l.isExt(x))switch(x.type){case"dataBar":this.renderDataBar(u,x);break;case"iconSet":this.renderIconSet(u,x)}}renderDataBar(u,x){u.openNode(this.tag,{type:"dataBar",id:x.x14Id}),this.databarXform.render(u,x),u.closeNode()}renderIconSet(u,x){u.openNode(this.tag,{type:"iconSet",priority:x.priority,id:x.x14Id||`{${c()}}`}),this.iconSetXform.render(u,x),u.closeNode()}createNewModel(u){let{attributes:x}=u;return{type:x.type,x14Id:x.id,priority:n.toIntValue(x.priority)}}onParserClose(u,x){Object.assign(this.model,x.model)}}h.exports=l},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,h,f){const c=t("../../composite-xform"),n=t("./f-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"xm:f":this.fExtXform=new n}}get tag(){return"x14:cfvo"}render(o,i){o.openNode(this.tag,{type:i.type}),i.value!==void 0&&this.fExtXform.render(o,i.value),o.closeNode()}createNewModel(o){return{type:o.attributes.type}}onParserClose(o,i){switch(o){case"xm:f":this.model.value=i.model?parseFloat(i.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,h,f){const c=t("../../composite-xform"),n=t("./sqref-ext-xform"),o=t("./cf-rule-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"xm:sqref":this.sqRef=new n,"x14:cfRule":this.cfRule=new o}}get tag(){return"x14:conditionalFormatting"}prepare(i,r){i.rules.forEach(s=>{this.cfRule.prepare(s,r)})}render(i,r){r.rules.some(o.isExt)&&(i.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),r.rules.filter(o.isExt).forEach(s=>this.cfRule.render(i,s)),this.sqRef.render(i,r.ref),i.closeNode())}createNewModel(){return{rules:[]}}onParserClose(i,r){switch(i){case"xm:sqref":this.model.ref=r.model;break;case"x14:cfRule":this.model.rules.push(r.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,h,f){const c=t("../../composite-xform"),n=t("./cf-rule-ext-xform"),o=t("./conditional-formatting-ext-xform");h.exports=class extends c{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new o}}get tag(){return"x14:conditionalFormattings"}hasContent(i){return i.hasExtContent===void 0&&(i.hasExtContent=i.some(r=>r.rules.some(n.isExt))),i.hasExtContent}prepare(i,r){i.forEach(s=>{this.cfXform.prepare(s,r)})}render(i,r){this.hasContent(r)&&(i.openNode(this.tag),r.forEach(s=>this.cfXform.render(i,s)),i.closeNode())}createNewModel(){return[]}onParserClose(i,r){this.model.push(r.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,h,f){const c=t("../../base-xform"),n=t("../../composite-xform"),o=t("../../style/color-xform"),i=t("./cfvo-ext-xform");h.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new i,"x14:borderColor":this.borderColorXform=new o("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new o("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new o("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new o("x14:axisColor")}}static isExt(r){return!r.gradient}get tag(){return"x14:dataBar"}render(r,s){r.openNode(this.tag,{minLength:c.toIntAttribute(s.minLength,0,!0),maxLength:c.toIntAttribute(s.maxLength,100,!0),border:c.toBoolAttribute(s.border,!1),gradient:c.toBoolAttribute(s.gradient,!0),negativeBarColorSameAsPositive:c.toBoolAttribute(s.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:c.toBoolAttribute(s.negativeBarBorderColorSameAsPositive,!0),axisPosition:c.toAttribute(s.axisPosition,"auto"),direction:c.toAttribute(s.direction,"leftToRight")}),s.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),this.borderColorXform.render(r,s.borderColor),this.negativeBorderColorXform.render(r,s.negativeBorderColor),this.negativeFillColorXform.render(r,s.negativeFillColor),this.axisColorXform.render(r,s.axisColor),r.closeNode()}createNewModel(r){let{attributes:s}=r;return{cfvo:[],minLength:c.toIntValue(s.minLength,0),maxLength:c.toIntValue(s.maxLength,100),border:c.toBoolValue(s.border,!1),gradient:c.toBoolValue(s.gradient,!0),negativeBarColorSameAsPositive:c.toBoolValue(s.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:c.toBoolValue(s.negativeBarBorderColorSameAsPositive,!0),axisPosition:c.toStringValue(s.axisPosition,"auto"),direction:c.toStringValue(s.direction,"leftToRight")}}onParserClose(r,s){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(s.model);break;default:this.model[l]=s.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{get tag(){return"xm:f"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],81:[function(t,h,f){const c=t("../../base-xform"),n=t("../../composite-xform"),o=t("./cfvo-ext-xform"),i=t("./cf-icon-ext-xform");h.exports=class extends n{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new o,"x14:cfIcon":this.cfIconXform=new i}}get tag(){return"x14:iconSet"}render(r,s){r.openNode(this.tag,{iconSet:c.toStringAttribute(s.iconSet),reverse:c.toBoolAttribute(s.reverse,!1),showValue:c.toBoolAttribute(s.showValue,!0),custom:c.toBoolAttribute(s.icons,!1)}),s.cfvo.forEach(l=>{this.cfvoXform.render(r,l)}),s.icons&&s.icons.forEach((l,d)=>{l.iconId=d,this.cfIconXform.render(r,l)}),r.closeNode()}createNewModel(r){let{attributes:s}=r;return{cfvo:[],iconSet:c.toStringValue(s.iconSet,"3TrafficLights"),reverse:c.toBoolValue(s.reverse,!1),showValue:c.toBoolValue(s.showValue,!0)}}onParserClose(r,s){const[,l]=r.split(":");switch(l){case"cfvo":this.model.cfvo.push(s.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(s.model);break;default:this.model[l]=s.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{get tag(){return"xm:sqref"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],83:[function(t,h,f){const c=t("../../base-xform"),n=t("../../composite-xform"),o=t("../../../../doc/range"),i=t("./databar-xform"),r=t("./ext-lst-ref-xform"),s=t("./formula-xform"),l=t("./color-scale-xform"),d=t("./icon-set-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},x=g=>{const{type:v,operator:y}=g;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class b extends n{constructor(){super(),this.map={dataBar:this.databarXform=new i,extLst:this.extLstRefXform=new r,formula:this.formulaXform=new s,colorScale:this.colorScaleXform=new l,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!u[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(N=>{this.formulaXform.render(v,N)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:c.toBoolAttribute(y.percent,!1),bottom:c.toBoolAttribute(y.bottom,!1),rank:c.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:c.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){b.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:c.toStringAttribute(y.operator,"containsText")});const N=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const I=new o(E.ref),{tl:O}=I;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(y);N&&this.formulaXform.render(v,N),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const N=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const I=new o(E.ref),{tl:O}=I;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);N&&this.formulaXform.render(v,N),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...x(y),dxfId:c.toIntValue(y.dxfId),priority:c.toIntValue(y.priority),timePeriod:y.timePeriod,percent:c.toBoolValue(y.percent),bottom:c.toBoolValue(y.bottom),rank:c.toIntValue(y.rank),aboveAverage:c.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}h.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{get tag(){return"cfvo"}render(n,o){n.leafNode(this.tag,{type:o.type,val:o.value})}parseOpen(n){this.model={type:n.attributes.type,value:c.toFloatValue(n.attributes.val)}}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],85:[function(t,h,f){const c=t("../../composite-xform"),n=t("../../style/color-xform"),o=t("./cfvo-xform");h.exports=class extends c{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"colorScale"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(s=>{this.cfvoXform.render(i,s)}),r.color.forEach(s=>{this.colorXform.render(i,s)}),i.closeNode()}createNewModel(i){return{cfvo:[],color:[]}}onParserClose(i,r){this.model[i].push(r.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,h,f){const c=t("../../composite-xform"),n=t("./cf-rule-xform");h.exports=class extends c{constructor(){super(),this.map={cfRule:new n}}get tag(){return"conditionalFormatting"}render(o,i){i.rules.some(n.isPrimitive)&&(o.openNode(this.tag,{sqref:i.ref}),i.rules.forEach(r=>{n.isPrimitive(r)&&(r.ref=i.ref,this.map.cfRule.render(o,r))}),o.closeNode())}createNewModel(o){let{attributes:i}=o;return{ref:i.sqref,rules:[]}}onParserClose(o,i){this.model.rules.push(i.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,h,f){const c=t("../../base-xform"),n=t("./conditional-formatting-xform");h.exports=class extends c{constructor(){super(),this.cfXform=new n}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(o,i){let r=o.reduce((s,l)=>Math.max(s,...l.rules.map(d=>d.priority||0)),1);o.forEach(s=>{s.rules.forEach(l=>{l.priority||(l.priority=r++),l.style&&(l.dxfId=i.styles.addDxfStyle(l.style))})})}render(o,i){i.forEach(r=>{this.cfXform.render(o,r)})}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(o),!0;default:return!1}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){return!!this.parser&&(!!this.parser.parseClose(o)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(o,i){o.forEach(r=>{r.rules.forEach(s=>{s.dxfId!==void 0&&(s.style=i.styles.getDxfStyle(s.dxfId),delete s.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,h,f){const c=t("../../composite-xform"),n=t("../../style/color-xform"),o=t("./cfvo-xform");h.exports=class extends c{constructor(){super(),this.map={cfvo:this.cfvoXform=new o,color:this.colorXform=new n}}get tag(){return"dataBar"}render(i,r){i.openNode(this.tag),r.cfvo.forEach(s=>{this.cfvoXform.render(i,s)}),this.colorXform.render(i,r.color),i.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(i,r){switch(i){case"cfvo":this.model.cfvo.push(r.model);break;case"color":this.model.color=r.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,h,f){const c=t("../../base-xform"),n=t("../../composite-xform");class o extends c{get tag(){return"x14:id"}render(s,l){s.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}class i extends n{constructor(){super(),this.map={"x14:id":this.idXform=new o}}get tag(){return"ext"}render(s,l){s.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(s,l.x14Id),s.closeNode()}createNewModel(){return{}}onParserClose(s,l){this.model.x14Id=l.model}}h.exports=class extends n{constructor(){super(),this.map={ext:new i}}get tag(){return"extLst"}render(r,s){r.openNode(this.tag),this.map.ext.render(r,s),r.closeNode()}createNewModel(){return{}}onParserClose(r,s){Object.assign(this.model,s.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,h,f){const c=t("../../base-xform");h.exports=class extends c{get tag(){return"formula"}render(n,o){n.leafNode(this.tag,null,o)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}},{"../../base-xform":32}],91:[function(t,h,f){const c=t("../../base-xform"),n=t("../../composite-xform"),o=t("./cfvo-xform");h.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new o}}get tag(){return"iconSet"}render(i,r){i.openNode(this.tag,{iconSet:c.toStringAttribute(r.iconSet,"3TrafficLights"),reverse:c.toBoolAttribute(r.reverse,!1),showValue:c.toBoolAttribute(r.showValue,!0)}),r.cfvo.forEach(s=>{this.cfvoXform.render(i,s)}),i.closeNode()}createNewModel(i){let{attributes:r}=i;return{iconSet:c.toStringValue(r.iconSet,"3TrafficLights"),reverse:c.toBoolValue(r.reverse),showValue:c.toBoolValue(r.showValue),cfvo:[]}}onParserClose(i,r){this.model[i].push(r.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,h,f){const c=t("../../../utils/utils"),n=t("../base-xform");h.exports=class extends n{get tag(){return"col"}prepare(o,i){const r=i.styles.addStyleModel(o.style||{});r&&(o.styleId=r)}render(o,i){o.openNode("col"),o.addAttribute("min",i.min),o.addAttribute("max",i.max),i.width&&o.addAttribute("width",i.width),i.styleId&&o.addAttribute("style",i.styleId),i.hidden&&o.addAttribute("hidden","1"),i.bestFit&&o.addAttribute("bestFit","1"),i.outlineLevel&&o.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&o.addAttribute("collapsed","1"),o.addAttribute("customWidth","1"),o.closeNode()}parseOpen(o){if(o.name==="col"){const i=this.model={min:parseInt(o.attributes.min||"0",10),max:parseInt(o.attributes.max||"0",10),width:o.attributes.width===void 0?void 0:parseFloat(o.attributes.width||"0")};return o.attributes.style&&(i.styleId=parseInt(o.attributes.style,10)),c.parseBoolean(o.attributes.hidden)&&(i.hidden=!0),c.parseBoolean(o.attributes.bestFit)&&(i.bestFit=!0),o.attributes.outlineLevel&&(i.outlineLevel=parseInt(o.attributes.outlineLevel,10)),c.parseBoolean(o.attributes.collapsed)&&(i.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(o,i){o.styleId&&(o.style=i.styles.getStyleModel(o.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../../../utils/utils"),o=t("../../../utils/col-cache"),i=t("../base-xform"),r=t("../../../doc/range");function s(d,u,x,b){const g=u[x];g!==void 0?d[x]=g:b!==void 0&&(d[x]=b)}function l(d,u,x,b){const g=u[x];g!==void 0&&(d[x]=n.parseBoolean(g))}h.exports=class extends i{get tag(){return"dataValidations"}render(d,u){const x=(function(b){const g=c.map(b,(N,E)=>({address:E,dataValidation:N,marked:!1})).sort((N,E)=>c.strcmp(N.address,E.address)),v=c.keyBy(g,"address"),y=(N,E,I)=>{for(let O=0;O<E;O++){const $=o.encodeAddress(N.row+O,I);if(!b[$]||!c.isEqual(b[N.address],b[$]))return!1}return!0};return g.map(N=>{if(!N.marked){const E=o.decodeEx(N.address);if(E.dimensions)return v[E.dimensions].marked=!0,{...N.dataValidation,sqref:N.address};let I=1,O=o.encodeAddress(E.row+I,E.col);for(;b[O]&&c.isEqual(N.dataValidation,b[O]);)I++,O=o.encodeAddress(E.row+I,E.col);let $=1;for(;y(E,I,E.col+$);)$++;for(let z=0;z<I;z++)for(let U=0;U<$;U++)O=o.encodeAddress(E.row+z,E.col+U),v[O].marked=!0;if(I>1||$>1){const z=E.row+(I-1),U=E.col+($-1);return{...N.dataValidation,sqref:`${N.address}:${o.encodeAddress(z,U)}`}}return{...N.dataValidation,sqref:N.address}}return null}).filter(Boolean)})(u);x.length&&(d.openNode("dataValidations",{count:x.length}),x.forEach(b=>{d.openNode("dataValidation"),b.type!=="any"&&(d.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&d.addAttribute("operator",b.operator),b.allowBlank&&d.addAttribute("allowBlank","1")),b.showInputMessage&&d.addAttribute("showInputMessage","1"),b.promptTitle&&d.addAttribute("promptTitle",b.promptTitle),b.prompt&&d.addAttribute("prompt",b.prompt),b.showErrorMessage&&d.addAttribute("showErrorMessage","1"),b.errorStyle&&d.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&d.addAttribute("errorTitle",b.errorTitle),b.error&&d.addAttribute("error",b.error),d.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((g,v)=>{d.openNode("formula"+(v+1)),b.type==="date"?d.writeText(n.dateToExcel(new Date(g))):d.writeText(g),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const u={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&l(u,d.attributes,"allowBlank"),l(u,d.attributes,"showInputMessage"),l(u,d.attributes,"showErrorMessage"),u.type){case"any":case"list":case"custom":break;default:s(u,d.attributes,"operator","between")}return s(u,d.attributes,"promptTitle"),s(u,d.attributes,"prompt"),s(u,d.attributes,"errorStyle"),s(u,d.attributes,"errorTitle"),s(u,d.attributes,"error"),this._dataValidation=u,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(u=>{u.includes(":")?new r(u).forEachAddress(x=>{this.model[x]=this._dataValidation}):this.model[u]=this._dataValidation}),!0;case"formula1":case"formula2":{let u=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":u=parseInt(u,10);break;case"decimal":u=parseFloat(u);break;case"date":u=n.excelToDate(parseFloat(u))}return this._dataValidation.formulae.push(u),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"dimension"}render(n,o){o&&n.leafNode("dimension",{ref:o})}parseOpen(n){return n.name==="dimension"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"drawing"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,h,f){const c=t("../composite-xform"),n=t("./cf-ext/conditional-formattings-ext-xform");class o extends c{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new n}}get tag(){return"ext"}hasContent(r){return this.conditionalFormattings.hasContent(r.conditionalFormattings)}prepare(r,s){this.conditionalFormattings.prepare(r.conditionalFormattings,s)}render(r,s){r.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(r,s.conditionalFormattings),r.closeNode()}createNewModel(){return{}}onParserClose(r,s){this.model[r]=s.model}}h.exports=class extends c{constructor(){super(),this.map={ext:this.ext=new o}}get tag(){return"extLst"}prepare(i,r){this.ext.prepare(i,r)}hasContent(i){return this.ext.hasContent(i)}render(i,r){this.hasContent(r)&&(i.openNode("extLst"),this.ext.render(i,r),i.closeNode())}createNewModel(){return{}}onParserClose(i,r){Object.assign(this.model,r.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"headerFooter"}render(n,o){if(o){n.addRollback();let i=!1;n.openNode("headerFooter"),o.differentFirst&&(n.addAttribute("differentFirst","1"),i=!0),o.differentOddEven&&(n.addAttribute("differentOddEven","1"),i=!0),o.oddHeader&&typeof o.oddHeader=="string"&&(n.leafNode("oddHeader",null,o.oddHeader),i=!0),o.oddFooter&&typeof o.oddFooter=="string"&&(n.leafNode("oddFooter",null,o.oddFooter),i=!0),o.evenHeader&&typeof o.evenHeader=="string"&&(n.leafNode("evenHeader",null,o.evenHeader),i=!0),o.evenFooter&&typeof o.evenFooter=="string"&&(n.leafNode("evenFooter",null,o.evenFooter),i=!0),o.firstHeader&&typeof o.firstHeader=="string"&&(n.leafNode("firstHeader",null,o.firstHeader),i=!0),o.firstFooter&&typeof o.firstFooter=="string"&&(n.leafNode("firstFooter",null,o.firstFooter),i=!0),i?(n.closeNode(),n.commit()):n.rollback()}}parseOpen(n){switch(n.name){case"headerFooter":return this.model={},n.attributes.differentFirst&&(this.model.differentFirst=parseInt(n.attributes.differentFirst,0)===1),n.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(n.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(n){switch(this.currentNode){case"oddHeader":this.model.oddHeader=n;break;case"oddFooter":this.model.oddFooter=n;break;case"evenHeader":this.model.evenHeader=n;break;case"evenFooter":this.model.evenFooter=n;break;case"firstHeader":this.model.firstHeader=n;break;case"firstFooter":this.model.firstFooter=n}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"hyperlink"}render(n,o){this.isInternalLink(o)?n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip,location:o.target}):n.leafNode("hyperlink",{ref:o.address,"r:id":o.rId,tooltip:o.tooltip})}parseOpen(n){return n.name==="hyperlink"&&(this.model={address:n.attributes.ref,rId:n.attributes["r:id"],tooltip:n.attributes.tooltip},n.attributes.location&&(this.model.target=n.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(n){return n.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(n.target)}}},{"../base-xform":32}],99:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"mergeCell"}render(n,o){n.leafNode("mergeCell",{ref:o})}parseOpen(n){return n.name==="mergeCell"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../../../doc/range"),o=t("../../../utils/col-cache"),i=t("../../../doc/enums");h.exports=class{constructor(){this.merges={}}add(r){if(this.merges[r.master])this.merges[r.master].expandToAddress(r.address);else{const s=`${r.master}:${r.address}`;this.merges[r.master]=new n(s)}}get mergeCells(){return c.map(this.merges,r=>r.range)}reconcile(r,s){c.each(r,l=>{const d=o.decode(l);for(let u=d.top;u<=d.bottom;u++){const x=s[u-1];for(let b=d.left;b<=d.right;b++){const g=x.cells[b-1];g?g.type===i.ValueType.Merge&&(g.master=d.tl):x.cells[b]={type:i.ValueType.Null,address:o.encodeAddress(u,b)}}}})}getMasterAddress(r){const s=this.hash[r];return s&&s.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,h,f){const c=t("../base-xform"),n=o=>o!==void 0;h.exports=class extends c{get tag(){return"outlinePr"}render(o,i){return!(!i||!n(i.summaryBelow)&&!n(i.summaryRight))&&(o.leafNode(this.tag,{summaryBelow:n(i.summaryBelow)?Number(i.summaryBelow):void 0,summaryRight:n(i.summaryRight)?Number(i.summaryRight):void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={summaryBelow:n(o.attributes.summaryBelow)?!!Number(o.attributes.summaryBelow):void 0,summaryRight:n(o.attributes.summaryRight)?!!Number(o.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"brk"}render(n,o){n.leafNode("brk",o)}parseOpen(n){return n.name==="brk"&&(this.model=n.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../base-xform");h.exports=class extends n{get tag(){return"pageMargins"}render(o,i){if(i){const r={left:i.left,right:i.right,top:i.top,bottom:i.bottom,header:i.header,footer:i.footer};c.some(r,s=>s!==void 0)&&o.leafNode(this.tag,r)}}parseOpen(o){switch(o.name){case this.tag:return this.model={left:parseFloat(o.attributes.left||.7),right:parseFloat(o.attributes.right||.7),top:parseFloat(o.attributes.top||.75),bottom:parseFloat(o.attributes.bottom||.75),header:parseFloat(o.attributes.header||.3),footer:parseFloat(o.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"pageSetUpPr"}render(n,o){return!(!o||!o.fitToPage)&&(n.leafNode(this.tag,{fitToPage:o.fitToPage?"1":void 0}),!0)}parseOpen(n){return n.name===this.tag&&(this.model={fitToPage:n.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../base-xform");function o(l){return l?"1":void 0}function i(l){switch(l){case"overThenDown":return l;default:return}}function r(l){switch(l){case"atEnd":case"asDisplyed":return l;default:return}}function s(l){switch(l){case"dash":case"blank":case"NA":return l;default:return}}h.exports=class extends n{get tag(){return"pageSetup"}render(l,d){if(d){const u={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:i(d.pageOrder),blackAndWhite:o(d.blackAndWhite),draft:o(d.draft),cellComments:r(d.cellComments),errors:s(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:o(d.firstPageNumber),usePrinterDefaults:o(d.usePrinterDefaults),copies:d.copies};c.some(u,x=>x!==void 0)&&l.leafNode(this.tag,u)}}parseOpen(l){switch(l.name){case this.tag:return this.model={paperSize:(d=l.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:l.attributes.orientation||"portrait",horizontalDpi:parseInt(l.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(l.attributes.verticalDpi||"4294967295",10),pageOrder:l.attributes.pageOrder||"downThenOver",blackAndWhite:l.attributes.blackAndWhite==="1",draft:l.attributes.draft==="1",cellComments:l.attributes.cellComments||"None",errors:l.attributes.errors||"displayed",scale:parseInt(l.attributes.scale||"100",10),fitToWidth:parseInt(l.attributes.fitToWidth||"1",10),fitToHeight:parseInt(l.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(l.attributes.firstPageNumber||"1",10),useFirstPageNumber:l.attributes.useFirstPageNumber==="1",usePrinterDefaults:l.attributes.usePrinterDefaults==="1",copies:parseInt(l.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"picture"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../base-xform");function o(i){return i?"1":void 0}h.exports=class extends n{get tag(){return"printOptions"}render(i,r){if(r){const s={headings:o(r.showRowColHeaders),gridLines:o(r.showGridLines),horizontalCentered:o(r.horizontalCentered),verticalCentered:o(r.verticalCentered)};c.some(s,l=>l!==void 0)&&i.leafNode(this.tag,s)}}parseOpen(i){switch(i.name){case this.tag:return this.model={showRowColHeaders:i.attributes.headings==="1",showGridLines:i.attributes.gridLines==="1",horizontalCentered:i.attributes.horizontalCentered==="1",verticalCentered:i.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,h,f){const c=t("./page-breaks-xform"),n=t("../list-xform");h.exports=class extends n{constructor(){super({tag:"rowBreaks",count:!0,childXform:new c})}render(o,i){if(i&&i.length){o.openNode(this.tag,this.$),this.count&&(o.addAttribute(this.$count,i.length),o.addAttribute("manualBreakCount",i.length));const{childXform:r}=this;i.forEach(s=>{r.render(o,s)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,h,f){const c=t("../base-xform"),n=t("../../../utils/utils"),o=t("./cell-xform");h.exports=class extends c{constructor(i){super(),this.maxItems=i&&i.maxItems,this.map={c:new o}}get tag(){return"row"}prepare(i,r){const s=r.styles.addStyleModel(i.style);s&&(i.styleId=s);const l=this.map.c;i.cells.forEach(d=>{l.prepare(d,r)})}render(i,r,s){i.openNode("row"),i.addAttribute("r",r.number),r.height&&(i.addAttribute("ht",r.height),i.addAttribute("customHeight","1")),r.hidden&&i.addAttribute("hidden","1"),r.min>0&&r.max>0&&r.min<=r.max&&i.addAttribute("spans",`${r.min}:${r.max}`),r.styleId&&(i.addAttribute("s",r.styleId),i.addAttribute("customFormat","1")),i.addAttribute("x14ac:dyDescent","0.25"),r.outlineLevel&&i.addAttribute("outlineLevel",r.outlineLevel),r.collapsed&&i.addAttribute("collapsed","1");const l=this.map.c;r.cells.forEach(d=>{l.render(i,d,s)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;if(i.name==="row"){this.numRowsSeen+=1;const r=i.attributes.spans?i.attributes.spans.split(":").map(l=>parseInt(l,10)):[void 0,void 0],s=this.model={number:parseInt(i.attributes.r,10),min:r[0],max:r[1],cells:[]};return i.attributes.s&&(s.styleId=parseInt(i.attributes.s,10)),n.parseBoolean(i.attributes.hidden)&&(s.hidden=!0),n.parseBoolean(i.attributes.bestFit)&&(s.bestFit=!0),i.attributes.ht&&(s.height=parseFloat(i.attributes.ht)),i.attributes.outlineLevel&&(s.outlineLevel=parseInt(i.attributes.outlineLevel,10)),n.parseBoolean(i.attributes.collapsed)&&(s.collapsed=!0),!0}return this.parser=this.map[i.name],!!this.parser&&(this.parser.parseOpen(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(i,r){i.style=i.styleId?r.styles.getStyleModel(i.styleId):{},i.styleId!==void 0&&(i.styleId=void 0);const s=this.map.c;i.cells.forEach(l=>{s.reconcile(l,r)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../base-xform");h.exports=class extends n{get tag(){return"sheetFormatPr"}render(o,i){if(i){const r={defaultRowHeight:i.defaultRowHeight,outlineLevelRow:i.outlineLevelRow,outlineLevelCol:i.outlineLevelCol,"x14ac:dyDescent":i.dyDescent};i.defaultColWidth&&(r.defaultColWidth=i.defaultColWidth),i.defaultRowHeight&&i.defaultRowHeight===15||(r.customHeight="1"),c.some(r,s=>s!==void 0)&&o.leafNode("sheetFormatPr",r)}}parseOpen(o){return o.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(o.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(o.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(o.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(o.attributes.outlineLevelCol||"0",10)},o.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(o.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,h,f){const c=t("../base-xform"),n=t("../style/color-xform"),o=t("./page-setup-properties-xform"),i=t("./outline-properties-xform");h.exports=class extends c{constructor(){super(),this.map={tabColor:new n("tabColor"),pageSetUpPr:new o,outlinePr:new i}}get tag(){return"sheetPr"}render(r,s){if(s){r.addRollback(),r.openNode("sheetPr");let l=!1;l=this.map.tabColor.render(r,s.tabColor)||l,l=this.map.pageSetUpPr.render(r,s.pageSetup)||l,l=this.map.outlinePr.render(r,s.outlineProperties)||l,l?(r.closeNode(),r.commit()):r.rollback()}}parseOpen(r){return this.parser?(this.parser.parseOpen(r),!0):r.name===this.tag?(this.reset(),!0):!!this.map[r.name]&&(this.parser=this.map[r.name],this.parser.parseOpen(r),!0)}parseText(r){return!!this.parser&&(this.parser.parseText(r),!0)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../base-xform");function o(r,s){return r?s:void 0}function i(r,s){return r===s||void 0}h.exports=class extends n{get tag(){return"sheetProtection"}render(r,s){if(s){const l={sheet:o(s.sheet,"1"),selectLockedCells:s.selectLockedCells===!1?"1":void 0,selectUnlockedCells:s.selectUnlockedCells===!1?"1":void 0,formatCells:o(s.formatCells,"0"),formatColumns:o(s.formatColumns,"0"),formatRows:o(s.formatRows,"0"),insertColumns:o(s.insertColumns,"0"),insertRows:o(s.insertRows,"0"),insertHyperlinks:o(s.insertHyperlinks,"0"),deleteColumns:o(s.deleteColumns,"0"),deleteRows:o(s.deleteRows,"0"),sort:o(s.sort,"0"),autoFilter:o(s.autoFilter,"0"),pivotTables:o(s.pivotTables,"0")};s.sheet&&(l.algorithmName=s.algorithmName,l.hashValue=s.hashValue,l.saltValue=s.saltValue,l.spinCount=s.spinCount,l.objects=o(s.objects===!1,"1"),l.scenarios=o(s.scenarios===!1,"1")),c.some(l,d=>d!==void 0)&&r.leafNode(this.tag,l)}}parseOpen(r){switch(r.name){case this.tag:return this.model={sheet:i(r.attributes.sheet,"1"),objects:r.attributes.objects!=="1"&&void 0,scenarios:r.attributes.scenarios!=="1"&&void 0,selectLockedCells:r.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:r.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:i(r.attributes.formatCells,"0"),formatColumns:i(r.attributes.formatColumns,"0"),formatRows:i(r.attributes.formatRows,"0"),insertColumns:i(r.attributes.insertColumns,"0"),insertRows:i(r.attributes.insertRows,"0"),insertHyperlinks:i(r.attributes.insertHyperlinks,"0"),deleteColumns:i(r.attributes.deleteColumns,"0"),deleteRows:i(r.attributes.deleteRows,"0"),sort:i(r.attributes.sort,"0"),autoFilter:i(r.attributes.autoFilter,"0"),pivotTables:i(r.attributes.pivotTables,"0")},r.attributes.algorithmName&&(this.model.algorithmName=r.attributes.algorithmName,this.model.hashValue=r.attributes.hashValue,this.model.saltValue=r.attributes.saltValue,this.model.spinCount=parseInt(r.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,h,f){const c=t("../../../utils/col-cache"),n=t("../base-xform"),o={frozen:"frozen",frozenSplit:"frozen",split:"split"};h.exports=class extends n{get tag(){return"sheetView"}prepare(i){switch(i.state){case"frozen":case"split":break;default:i.state="normal"}}render(i,r){i.openNode("sheetView",{workbookViewId:r.workbookViewId||0});const s=function(b,g,v){v&&i.addAttribute(b,g)};let l,d,u,x;switch(s("rightToLeft","1",r.rightToLeft===!0),s("tabSelected","1",r.tabSelected),s("showRuler","0",r.showRuler===!1),s("showRowColHeaders","0",r.showRowColHeaders===!1),s("showGridLines","0",r.showGridLines===!1),s("zoomScale",r.zoomScale,r.zoomScale),s("zoomScaleNormal",r.zoomScaleNormal,r.zoomScaleNormal),s("view",r.style,r.style),r.state){case"frozen":d=r.xSplit||0,u=r.ySplit||0,l=r.topLeftCell||c.getAddress(u+1,d+1).address,x=(r.xSplit&&r.ySplit?"bottomRight":r.xSplit&&"topRight")||"bottomLeft",i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:l,activePane:x,state:"frozen"}),i.leafNode("selection",{pane:x,activeCell:r.activeCell,sqref:r.activeCell});break;case"split":r.activePane==="topLeft"&&(r.activePane=void 0),i.leafNode("pane",{xSplit:r.xSplit||void 0,ySplit:r.ySplit||void 0,topLeftCell:r.topLeftCell,activePane:r.activePane}),i.leafNode("selection",{pane:r.activePane,activeCell:r.activeCell,sqref:r.activeCell});break;case"normal":r.activeCell&&i.leafNode("selection",{activeCell:r.activeCell,sqref:r.activeCell})}i.closeNode()}parseOpen(i){switch(i.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(i.attributes.workbookViewId,10),rightToLeft:i.attributes.rightToLeft==="1",tabSelected:i.attributes.tabSelected==="1",showRuler:i.attributes.showRuler!=="0",showRowColHeaders:i.attributes.showRowColHeaders!=="0",showGridLines:i.attributes.showGridLines!=="0",zoomScale:parseInt(i.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(i.attributes.zoomScaleNormal||"100",10),style:i.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(i.attributes.xSplit||"0",10),ySplit:parseInt(i.attributes.ySplit||"0",10),topLeftCell:i.attributes.topLeftCell,activePane:i.attributes.activePane||"topLeft",state:i.attributes.state},!0;case"selection":{const r=i.attributes.pane||"topLeft";return this.selections[r]={pane:r,activeCell:i.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(i){let r,s;switch(i){case"sheetView":return this.sheetView&&this.pane?(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:o[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(r.activePane=this.pane.activePane),s=this.selections[this.pane.activePane],s&&s.activeCell&&(r.activeCell=s.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)):(r=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},s=this.selections.topLeft,s&&s.activeCell&&(r.activeCell=s.activeCell),this.sheetView.style&&(r.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"tablePart"}render(n,o){o&&n.leafNode(this.tag,{"r:id":o.rId})}parseOpen(n){switch(n.name){case this.tag:return this.model={rId:n.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),i=t("../../rel-type"),r=t("./merges"),s=t("../base-xform"),l=t("../list-xform"),d=t("./row-xform"),u=t("./col-xform"),x=t("./dimension-xform"),b=t("./hyperlink-xform"),g=t("./merge-cell-xform"),v=t("./data-validations-xform"),y=t("./sheet-properties-xform"),N=t("./sheet-format-properties-xform"),E=t("./sheet-view-xform"),I=t("./sheet-protection-xform"),O=t("./page-margins-xform"),$=t("./page-setup-xform"),z=t("./print-options-xform"),U=t("./auto-filter-xform"),V=t("./picture-xform"),G=t("./drawing-xform"),B=t("./table-part-xform"),T=t("./row-breaks-xform"),D=t("./header-footer-xform"),A=t("./cf/conditional-formattings-xform"),k=t("./ext-lst-xform"),S=(C,P)=>{if(!P||!P.length)return C;if(!C||!C.length)return P;const R={},L={};return C.forEach(Y=>{R[Y.ref]=Y,Y.rules.forEach(Z=>{const{x14Id:ae}=Z;ae&&(L[ae]=Z)})}),P.forEach(Y=>{Y.rules.forEach(Z=>{const ae=L[Z.x14Id];ae?((q,X)=>{Object.keys(X).forEach(F=>{const M=q[F],K=X[F];M===void 0&&K!==void 0&&(q[F]=K)})})(ae,Z):R[Y.ref]?R[Y.ref].rules.push(Z):C.push({ref:Y.ref,rules:[Z]})})}),C};class j extends s{constructor(P){super();const{maxRows:R,maxCols:L,ignoreNodes:Y}=P||{};this.ignoreNodes=Y||[],this.map={sheetPr:new y,dimension:new x,sheetViews:new l({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new N,cols:new l({tag:"cols",count:!1,childXform:new u}),sheetData:new l({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:L}),maxItems:R}),autoFilter:new U,mergeCells:new l({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new T,hyperlinks:new l({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new O,dataValidations:new v,pageSetup:new $,headerFooter:new D,printOptions:new z,picture:new V,drawing:new G,sheetProtection:new I,tableParts:new l({tag:"tableParts",count:!0,childXform:new B}),conditionalFormatting:new A,extLst:new k}}prepare(P,R){R.merges=new r,P.hyperlinks=R.hyperlinks=[],P.comments=R.comments=[],R.formulae={},R.siFormulae=0,this.map.cols.prepare(P.cols,R),this.map.sheetData.prepare(P.rows,R),this.map.conditionalFormatting.prepare(P.conditionalFormattings,R),P.mergeCells=R.merges.mergeCells;const L=P.rels=[];function Y(q){return"rId"+(q.length+1)}if(P.hyperlinks.forEach(q=>{const X=Y(L);q.rId=X,L.push({Id:X,Type:i.Hyperlink,Target:q.target,TargetMode:"External"})}),P.comments.length>0){const q={Id:Y(L),Type:i.Comments,Target:`../comments${P.id}.xml`};L.push(q);const X={Id:Y(L),Type:i.VmlDrawing,Target:`../drawings/vmlDrawing${P.id}.vml`};L.push(X),P.comments.forEach(F=>{F.refAddress=n.decodeAddress(F.ref)}),R.commentRefs.push({commentName:"comments"+P.id,vmlDrawing:"vmlDrawing"+P.id})}const Z=[];let ae;P.media.forEach(q=>{if(q.type==="background"){const X=Y(L);ae=R.media[q.imageId],L.push({Id:X,Type:i.Image,Target:`../media/${ae.name}.${ae.extension}`}),P.background={rId:X},P.image=R.media[q.imageId]}else if(q.type==="image"){let{drawing:X}=P;ae=R.media[q.imageId],X||(X=P.drawing={rId:Y(L),name:"drawing"+ ++R.drawingsCount,anchors:[],rels:[]},R.drawings.push(X),L.push({Id:X.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${X.name}.xml`}));let F=this.preImageId===q.imageId?Z[q.imageId]:Z[X.rels.length];F||(F=Y(X.rels),Z[X.rels.length]=F,X.rels.push({Id:F,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ae.name}.${ae.extension}`}));const M={picture:{rId:F},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const K=Y(X.rels);Z[X.rels.length]=K,M.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:K},X.rels.push({Id:K,Type:i.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,X.anchors.push(M)}}),P.tables.forEach(q=>{const X=Y(L);q.rId=X,L.push({Id:X,Type:i.Table,Target:"../tables/"+q.target}),q.columns.forEach(F=>{const{style:M}=F;M&&(F.dxfId=R.styles.addDxfStyle(M))})}),this.map.extLst.prepare(P,R)}render(P,R){P.openXml(o.StdDocAttributes),P.openNode("worksheet",j.WORKSHEET_ATTRIBUTES);const L=R.properties?{defaultRowHeight:R.properties.defaultRowHeight,dyDescent:R.properties.dyDescent,outlineLevelCol:R.properties.outlineLevelCol,outlineLevelRow:R.properties.outlineLevelRow}:void 0;R.properties&&R.properties.defaultColWidth&&(L.defaultColWidth=R.properties.defaultColWidth);const Y={outlineProperties:R.properties&&R.properties.outlineProperties,tabColor:R.properties&&R.properties.tabColor,pageSetup:R.pageSetup&&R.pageSetup.fitToPage?{fitToPage:R.pageSetup.fitToPage}:void 0},Z=R.pageSetup&&R.pageSetup.margins,ae={showRowColHeaders:R.pageSetup&&R.pageSetup.showRowColHeaders,showGridLines:R.pageSetup&&R.pageSetup.showGridLines,horizontalCentered:R.pageSetup&&R.pageSetup.horizontalCentered,verticalCentered:R.pageSetup&&R.pageSetup.verticalCentered},q=R.sheetProtection;this.map.sheetPr.render(P,Y),this.map.dimension.render(P,R.dimensions),this.map.sheetViews.render(P,R.views),this.map.sheetFormatPr.render(P,L),this.map.cols.render(P,R.cols),this.map.sheetData.render(P,R.rows),this.map.sheetProtection.render(P,q),this.map.autoFilter.render(P,R.autoFilter),this.map.mergeCells.render(P,R.mergeCells),this.map.conditionalFormatting.render(P,R.conditionalFormattings),this.map.dataValidations.render(P,R.dataValidations),this.map.hyperlinks.render(P,R.hyperlinks),this.map.printOptions.render(P,ae),this.map.pageMargins.render(P,Z),this.map.pageSetup.render(P,R.pageSetup),this.map.headerFooter.render(P,R.headerFooter),this.map.rowBreaks.render(P,R.rowBreaks),this.map.drawing.render(P,R.drawing),this.map.picture.render(P,R.background),this.map.tableParts.render(P,R.tables),this.map.extLst.render(P,R),R.rels&&R.rels.forEach(X=>{X.Type===i.VmlDrawing&&P.leafNode("legacyDrawing",{"r:id":X.Id})}),P.closeNode()}parseOpen(P){return this.parser?(this.parser.parseOpen(P),!0):P.name==="worksheet"?(c.each(this.map,R=>{R.reset()}),!0):(this.map[P.name]&&!this.ignoreNodes.includes(P.name)&&(this.parser=this.map[P.name],this.parser.parseOpen(P)),!0)}parseText(P){this.parser&&this.parser.parseText(P)}parseClose(P){if(this.parser)return this.parser.parseClose(P)||(this.parser=void 0),!0;switch(P){case"worksheet":{const R=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(R.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(R.outlineProperties=this.map.sheetPr.model.outlineProperties);const L={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Y=Object.assign(L,this.map.pageSetup.model,this.map.printOptions.model),Z=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:R,views:this.map.sheetViews.model,pageSetup:Y,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(P,R){const L=(P.relationships||[]).reduce((Z,ae)=>{if(Z[ae.Id]=ae,ae.Type===i.Comments&&(P.comments=R.comments[ae.Target].comments),ae.Type===i.VmlDrawing&&P.comments&&P.comments.length){const q=R.vmlDrawings[ae.Target].comments;P.comments.forEach((X,F)=>{X.note=Object.assign({},X.note,q[F])})}return Z},{});if(R.commentsMap=(P.comments||[]).reduce((Z,ae)=>(ae.ref&&(Z[ae.ref]=ae),Z),{}),R.hyperlinkMap=(P.hyperlinks||[]).reduce((Z,ae)=>(ae.rId&&(Z[ae.address]=L[ae.rId].Target),Z),{}),R.formulae={},P.rows=P.rows&&P.rows.filter(Boolean)||[],P.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(P.cols,R),this.map.sheetData.reconcile(P.rows,R),this.map.conditionalFormatting.reconcile(P.conditionalFormattings,R),P.media=[],P.drawing){const Z=L[P.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const ae=Z[1];R.drawings[ae].anchors.forEach(q=>{if(q.medium){const X={type:"image",imageId:q.medium.index,range:q.range,hyperlinks:q.picture.hyperlinks};P.media.push(X)}})}}const Y=P.background&&L[P.background.rId];if(Y){const Z=Y.Target.split("/media/")[1],ae=R.mediaIndex&&R.mediaIndex[Z];ae!==void 0&&P.media.push({type:"background",imageId:ae})}P.tables=(P.tables||[]).map(Z=>{const ae=L[Z.rId];return R.tables[ae.Target]}),delete P.relationships,delete P.hyperlinks,delete P.comments}}j.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},h.exports=j},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.attr=n.attr}render(n,o){o&&(n.openNode(this.tag),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this._format=n.format||function(o){try{return Number.isNaN(o.getTime())?"":o.toISOString()}catch{return""}},this._parse=n.parse||function(o){return new Date(o)}}render(n,o){o&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,this._format(o)):n.writeText(this._format(o)),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=this._parse(n.attributes[this.attr]):this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs,this.zero=n.zero}render(n,o){(o||this.zero)&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){return n.name===this.tag&&(this.attr?this.model=parseInt(n.attributes[this.attr],10):this.text=[],!0)}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.tag=n.tag,this.attr=n.attr,this.attrs=n.attrs}render(n,o){o!==void 0&&(n.openNode(this.tag),this.attrs&&n.addAttributes(this.attrs),this.attr?n.addAttribute(this.attr,o):n.writeText(o),n.closeNode())}parseOpen(n){n.name===this.tag&&(this.attr?this.model=n.attributes[this.attr]:this.text=[])}parseText(n){this.attr||this.text.push(n)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,h,f){const c=t("./base-xform"),n=t("../../utils/xml-stream");h.exports=class extends c{constructor(o){super(),this._model=o}render(o){if(!this._xml){const i=new n;(function r(s,l){s.openNode(l.tag,l.$),l.c&&l.c.forEach(d=>{r(s,d)}),l.t&&s.writeText(l.t),s.closeNode()})(i,this._model),this._xml=i.xml}o.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(o){switch(o){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,h,f){const c=t("./text-xform"),n=t("./rich-text-xform"),o=t("../base-xform");h.exports=class extends o{constructor(){super(),this.map={r:new n,t:new c}}get tag(){return"rPh"}render(i,r){if(i.openNode(this.tag,{sb:r.sb||0,eb:r.eb||0}),r&&r.hasOwnProperty("richText")&&r.richText){const{r:s}=this.map;r.richText.forEach(l=>{s.render(i,l)})}else r&&this.map.t.render(i,r.text);i.closeNode()}parseOpen(i){const{name:r}=i;return this.parser?(this.parser.parseOpen(i),!0):r===this.tag?(this.model={sb:parseInt(i.attributes.sb,10),eb:parseInt(i.attributes.eb,10)},!0):(this.parser=this.map[r],!!this.parser&&(this.parser.parseOpen(i),!0))}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let r=this.model.richText;r||(r=this.model.richText=[]),r.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,h,f){const c=t("./text-xform"),n=t("../style/font-xform"),o=t("../base-xform");class i extends o{constructor(s){super(),this.model=s}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new c)}get fontXform(){return this._fontXform||(this._fontXform=new n(i.FONT_OPTIONS))}render(s,l){l=l||this.model,s.openNode("r"),l.font&&this.fontXform.render(s,l.font),this.textXform.render(s,l.text),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(s),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){switch(s){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(s),!0}}}i.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},h.exports=i},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,h,f){const c=t("./text-xform"),n=t("./rich-text-xform"),o=t("./phonetic-text-xform"),i=t("../base-xform");h.exports=class extends i{constructor(r){super(),this.model=r,this.map={r:new n,t:new c,rPh:new o}}get tag(){return"si"}render(r,s){r.openNode(this.tag),s&&s.hasOwnProperty("richText")&&s.richText?s.richText.length?s.richText.forEach(l=>{this.map.r.render(r,l)}):this.map.t.render(r,""):s!=null&&this.map.t.render(r,s),r.closeNode()}parseOpen(r){const{name:s}=r;return this.parser?(this.parser.parseOpen(r),!0):s===this.tag?(this.model={},!0):(this.parser=this.map[s],!!this.parser&&(this.parser.parseOpen(r),!0))}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser){if(!this.parser.parseClose(r)){switch(r){case"r":{let s=this.model.richText;s||(s=this.model.richText=[]),s.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(r){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("./shared-string-xform");h.exports=class extends n{constructor(i){super(),this.model=i||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new o)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(i){return this.model.values[i]}add(i){return i.richText?this.addRichText(i):this.addText(i)}addText(i){let r=this.hash[i];return r===void 0&&(r=this.hash[i]=this.model.values.length,this.model.values.push(i)),this.model.count++,r}addRichText(i){const r=this.sharedStringXform.toXml(i);let s=this.rich[r];return s===void 0&&(s=this.rich[r]=this.model.values.length,this.model.values.push(i)),this.model.count++,s}render(i,r){r=r||this._values,i.openXml(c.StdDocAttributes),i.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:r.count,uniqueCount:r.values.length});const s=this.sharedStringXform;r.values.forEach(l=>{s.render(i,l)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(i),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(i){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"t"}render(n,o){n.openNode("t"),/^\s|\n|\s$/.test(o)&&n.addAttribute("xml:space","preserve"),n.writeText(o),n.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(n,o)=>String.fromCharCode(parseInt(o,16)))}parseOpen(n){switch(n.name){case"t":return this._text=[],!0;default:return!1}}parseText(n){this._text.push(n)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,h,f){const c=t("../../../doc/enums"),n=t("../../../utils/utils"),o=t("../base-xform"),i={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((s,l)=>(s[l]=!0,s),{}),horizontal(s){return this.horizontalValues[s]?s:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((s,l)=>(s[l]=!0,s),{}),vertical(s){return s==="middle"?"center":this.verticalValues[s]?s:void 0},wrapText:s=>!!s||void 0,shrinkToFit:s=>!!s||void 0,textRotation(s){switch(s){case"vertical":return s;default:return(s=n.validInt(s))>=-90&&s<=90?s:void 0}},indent:s=>(s=n.validInt(s),Math.max(0,s)),readingOrder(s){switch(s){case"ltr":return c.ReadingOrder.LeftToRight;case"rtl":return c.ReadingOrder.RightToLeft;default:return}}},r={toXml(s){if(s=i.textRotation(s)){if(s==="vertical")return 255;const l=Math.round(s);if(l>=0&&l<=90)return l;if(l<0&&l>=-90)return 90-l}},toModel(s){const l=n.validInt(s);if(l!==void 0){if(l===255)return"vertical";if(l>=0&&l<=90)return l;if(l>90&&l<=180)return 90-l}}};h.exports=class extends o{get tag(){return"alignment"}render(s,l){s.addRollback(),s.openNode("alignment");let d=!1;function u(x,b){b&&(s.addAttribute(x,b),d=!0)}u("horizontal",i.horizontal(l.horizontal)),u("vertical",i.vertical(l.vertical)),u("wrapText",!!i.wrapText(l.wrapText)&&"1"),u("shrinkToFit",!!i.shrinkToFit(l.shrinkToFit)&&"1"),u("indent",i.indent(l.indent)),u("textRotation",r.toXml(l.textRotation)),u("readingOrder",i.readingOrder(l.readingOrder)),s.closeNode(),d?s.commit():s.rollback()}parseOpen(s){const l={};let d=!1;function u(x,b,g){x&&(l[b]=g,d=!0)}u(s.attributes.horizontal,"horizontal",s.attributes.horizontal),u(s.attributes.vertical,"vertical",s.attributes.vertical==="center"?"middle":s.attributes.vertical),u(s.attributes.wrapText,"wrapText",n.parseBoolean(s.attributes.wrapText)),u(s.attributes.shrinkToFit,"shrinkToFit",n.parseBoolean(s.attributes.shrinkToFit)),u(s.attributes.indent,"indent",parseInt(s.attributes.indent,10)),u(s.attributes.textRotation,"textRotation",r.toModel(s.attributes.textRotation)),u(s.attributes.readingOrder,"readingOrder",s.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?l:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,h,f){const c=t("../base-xform"),n=t("../../../utils/utils"),o=t("./color-xform");class i extends c{constructor(s){super(),this.name=s,this.map={color:new o}}get tag(){return this.name}render(s,l,d){const u=l&&l.color||d||this.defaultColor;s.openNode(this.name),l&&l.style&&(s.addAttribute("style",l.style),u&&this.map.color.render(s,u)),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.name:{const{style:l}=s.attributes;return this.model=l?{style:l}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(s),!0;default:return!1}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.parser=void 0),!0):(s===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(s){return i.validStyleValues[s]}}i.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((r,s)=>(r[s]=!0,r),{}),h.exports=class extends c{constructor(){super(),this.map={top:new i("top"),left:new i("left"),bottom:new i("bottom"),right:new i("right"),diagonal:new i("diagonal")}}render(r,s){const{color:l}=s;function d(u,x){u&&!u.color&&s.color&&(u={...u,color:s.color}),x.render(r,u,l)}r.openNode("border"),s.diagonal&&s.diagonal.style&&(s.diagonal.up&&r.addAttribute("diagonalUp","1"),s.diagonal.down&&r.addAttribute("diagonalDown","1")),d(s.left,this.map.left),d(s.right,this.map.right),d(s.top,this.map.top),d(s.bottom,this.map.bottom),d(s.diagonal,this.map.diagonal),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"border":return this.reset(),this.diagonalUp=n.parseBoolean(r.attributes.diagonalUp),this.diagonalDown=n.parseBoolean(r.attributes.diagonalDown),!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;if(r==="border"){const s=this.model={},l=function(d,u,x){u&&(x&&Object.assign(u,x),s[d]=u)};l("left",this.map.left.model),l("right",this.map.right.model),l("top",this.map.top.model),l("bottom",this.map.bottom.model),l("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{constructor(n){super(),this.name=n||"color"}get tag(){return this.name}render(n,o){return!!o&&(n.openNode(this.name),o.argb?n.addAttribute("rgb",o.argb):o.theme!==void 0?(n.addAttribute("theme",o.theme),o.tint!==void 0&&n.addAttribute("tint",o.tint)):o.indexed!==void 0?n.addAttribute("indexed",o.indexed):n.addAttribute("auto","1"),n.closeNode(),!0)}parseOpen(n){return n.name===this.name&&(n.attributes.rgb?this.model={argb:n.attributes.rgb}:n.attributes.theme?(this.model={theme:parseInt(n.attributes.theme,10)},n.attributes.tint&&(this.model.tint=parseFloat(n.attributes.tint))):n.attributes.indexed?this.model={indexed:parseInt(n.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,h,f){const c=t("../base-xform"),n=t("./alignment-xform"),o=t("./border-xform"),i=t("./fill-xform"),r=t("./font-xform"),s=t("./numfmt-xform"),l=t("./protection-xform");h.exports=class extends c{constructor(){super(),this.map={alignment:new n,border:new o,fill:new i,font:new r,numFmt:new s,protection:new l}}get tag(){return"dxf"}render(d,u){if(d.openNode(this.tag),u.font&&this.map.font.render(d,u.font),u.numFmt&&u.numFmtId){const x={id:u.numFmtId,formatCode:u.numFmt};this.map.numFmt.render(d,x)}u.fill&&this.map.fill.render(d,u.fill),u.alignment&&this.map.alignment.render(d,u.alignment),u.border&&this.map.border.render(d,u.border),u.protection&&this.map.protection.render(d,u.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,h,f){const c=t("../base-xform"),n=t("./color-xform");class o extends c{constructor(){super(),this.map={color:new n}}get tag(){return"stop"}render(d,u){d.openNode("stop"),d.addAttribute("position",u.position),this.map.color.render(d,u.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class i extends c{constructor(){super(),this.map={fgColor:new n("fgColor"),bgColor:new n("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,u){d.openNode("patternFill"),d.addAttribute("patternType",u.pattern),u.fgColor&&this.map.fgColor.render(d,u.fgColor),u.bgColor&&this.map.bgColor.render(d,u.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class r extends c{constructor(){super(),this.map={stop:new o}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,u){switch(d.openNode("gradientFill"),u.gradient){case"angle":d.addAttribute("degree",u.degree);break;case"path":d.addAttribute("type","path"),u.center.left&&(d.addAttribute("left",u.center.left),u.center.right===void 0&&d.addAttribute("right",u.center.left)),u.center.right&&d.addAttribute("right",u.center.right),u.center.top&&(d.addAttribute("top",u.center.top),u.center.bottom===void 0&&d.addAttribute("bottom",u.center.top)),u.center.bottom&&d.addAttribute("bottom",u.center.bottom)}const x=this.map.stop;u.stops.forEach(b=>{x.render(d,b)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const u=this.model={stops:[]};return d.attributes.degree?(u.gradient="angle",u.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(u.gradient="path",u.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(u.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(u.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class s extends c{constructor(){super(),this.map={patternFill:new i,gradientFill:new r}}get tag(){return"fill"}render(d,u){switch(d.addRollback(),d.openNode("fill"),u.type){case"pattern":this.map.patternFill.render(d,u);break;case"gradient":this.map.gradientFill.render(d,u);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return s.validPatternValues[d]}}s.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((l,d)=>(l[d]=!0,l),{}),s.StopXform=o,s.PatternFillXform=i,s.GradientFillXform=r,h.exports=s},{"../base-xform":32,"./color-xform":128}],131:[function(t,h,f){const c=t("./color-xform"),n=t("../simple/boolean-xform"),o=t("../simple/integer-xform"),i=t("../simple/string-xform"),r=t("./underline-xform"),s=t("../../../utils/under-dash"),l=t("../base-xform");class d extends l{constructor(x){super(),this.options=x||d.OPTIONS,this.map={b:{prop:"bold",xform:new n({tag:"b",attr:"val"})},i:{prop:"italic",xform:new n({tag:"i",attr:"val"})},u:{prop:"underline",xform:new r},charset:{prop:"charset",xform:new o({tag:"charset",attr:"val"})},color:{prop:"color",xform:new c},condense:{prop:"condense",xform:new n({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new n({tag:"extend",attr:"val"})},family:{prop:"family",xform:new o({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new n({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new i({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new i({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new n({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new n({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new o({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new i({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(x,b){const{map:g}=this;x.openNode(this.options.tagName),s.each(this.map,(v,y)=>{g[y].xform.render(x,b[v.prop])}),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;if(this.map[x.name])return this.parser=this.map[x.name].xform,this.parser.parseOpen(x);switch(x.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser&&!this.parser.parseClose(x)){const b=this.map[x];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(x){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},h.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,h,f){const c=t("../../../utils/under-dash"),n=t("../../defaultnumformats"),o=t("../base-xform"),i=(function(){const s={};return c.each(n,(l,d)=>{l.f&&(s[l.f]=parseInt(d,10))}),s})();class r extends o{constructor(l,d){super(),this.id=l,this.formatCode=d}get tag(){return"numFmt"}render(l,d){l.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(l){switch(l.name){case"numFmt":return this.model={id:parseInt(l.attributes.numFmtId,10),formatCode:l.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}r.getDefaultFmtId=function(s){return i[s]},r.getDefaultFmtCode=function(s){return n[s]&&n[s].f},h.exports=r},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,h,f){const c=t("../base-xform"),n={boolean:(o,i)=>o===void 0?i:o};h.exports=class extends c{get tag(){return"protection"}render(o,i){o.addRollback(),o.openNode("protection");let r=!1;function s(l,d){d!==void 0&&(o.addAttribute(l,d),r=!0)}s("locked",n.boolean(i.locked,!0)?void 0:"0"),s("hidden",n.boolean(i.hidden,!1)?"1":void 0),o.closeNode(),r?o.commit():o.rollback()}parseOpen(o){const i={locked:o.attributes.locked!=="0",hidden:o.attributes.hidden==="1"},r=!i.locked||i.hidden;this.model=r?i:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,h,f){const c=t("../base-xform"),n=t("./alignment-xform"),o=t("./protection-xform");h.exports=class extends c{constructor(i){super(),this.xfId=!(!i||!i.xfId),this.map={alignment:new n,protection:new o}}get tag(){return"xf"}render(i,r){i.openNode("xf",{numFmtId:r.numFmtId||0,fontId:r.fontId||0,fillId:r.fillId||0,borderId:r.borderId||0}),this.xfId&&i.addAttribute("xfId",r.xfId||0),r.numFmtId&&i.addAttribute("applyNumberFormat","1"),r.fontId&&i.addAttribute("applyFont","1"),r.fillId&&i.addAttribute("applyFill","1"),r.borderId&&i.addAttribute("applyBorder","1"),r.alignment&&i.addAttribute("applyAlignment","1"),r.protection&&i.addAttribute("applyProtection","1"),r.alignment&&this.map.alignment.render(i,r.alignment),r.protection&&this.map.protection.render(i,r.protection),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"xf":return this.model={numFmtId:parseInt(i.attributes.numFmtId,10),fontId:parseInt(i.attributes.fontId,10),fillId:parseInt(i.attributes.fillId,10),borderId:parseInt(i.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(i.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(i),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):i!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,h,f){const c=t("../../../doc/enums"),n=t("../../../utils/xml-stream"),o=t("../base-xform"),i=t("../static-xform"),r=t("../list-xform"),s=t("./font-xform"),l=t("./fill-xform"),d=t("./border-xform"),u=t("./numfmt-xform"),x=t("./style-xform"),b=t("./dxf-xform");class g extends o{constructor(y){super(),this.map={numFmts:new r({tag:"numFmts",count:!0,childXform:new u}),fonts:new r({tag:"fonts",count:!0,childXform:new s,$:{"x14ac:knownFonts":1}}),fills:new r({tag:"fills",count:!0,childXform:new l}),borders:new r({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new r({tag:"cellStyleXfs",count:!0,childXform:new x}),cellXfs:new r({tag:"cellXfs",count:!0,childXform:new x({xfId:!0})}),dxfs:new r({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new u,font:new s,fill:new l,border:new d,style:new x({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,N){N=N||this.model,y.openXml(n.StdDocAttributes),y.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(N.numFmts&&N.numFmts.length&&(y.openNode("numFmts",{count:N.numFmts.length}),N.numFmts.forEach(E=>{y.writeXml(E)}),y.closeNode()),N.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:N.fonts.length,"x14ac:knownFonts":1}),N.fonts.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("fills",{count:N.fills.length}),N.fills.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("borders",{count:N.borders.length}),N.borders.forEach(E=>{y.writeXml(E)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:N.styles.length}),N.styles.forEach(E=>{y.writeXml(E)}),y.closeNode()):(this.map.numFmts.render(y,N.numFmts),this.map.fonts.render(y,N.fonts),this.map.fills.render(y,N.fills),this.map.borders.render(y,N.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,N.styles)),g.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,N.dxfs),g.STATIC_XFORMS.tableStyles.render(y),g.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const N=(E,I)=>{I.model&&I.model.length&&(this.model[E]=I.model)};if(N("numFmts",this.map.numFmts),N("fonts",this.map.fonts),N("fills",this.map.fills),N("borders",this.map.borders),N("styles",this.map.cellXfs),N("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(I=>{E[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(y,N){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const E={};if(N=N||c.ValueType.Number,y.numFmt)E.numFmtId=this._addNumFmtStr(y.numFmt);else switch(N){case c.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case c.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(E.fontId=this._addFont(y.font)),y.border&&(E.borderId=this._addBorder(y.border)),y.fill&&(E.fillId=this._addFill(y.fill)),y.alignment&&(E.alignment=y.alignment),y.protection&&(E.protection=y.protection);const I=this._addStyle(E);return this.weakMap&&this.weakMap.set(y,I),I}getStyleModel(y){const N=this.model.styles[y];if(!N)return null;let E=this.index.model[y];if(E)return E;if(E=this.index.model[y]={},N.numFmtId){const O=this.index.numFmt[N.numFmtId]||u.getDefaultFmtCode(N.numFmtId);O&&(E.numFmt=O)}function I(O,$,z){if(z||z===0){const U=$[z];U&&(E[O]=U)}}return I("font",this.model.fonts,N.fontId),I("border",this.model.borders,N.borderId),I("fill",this.model.fills,N.fillId),N.alignment&&(E.alignment=N.alignment),N.protection&&(E.protection=N.protection),E}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const N=this.map.style.toXml(y);let E=this.index.style[N];return E===void 0&&(E=this.index.style[N]=this.model.styles.length,this.model.styles.push(N)),E}_addNumFmtStr(y){let N=u.getDefaultFmtId(y);if(N!==void 0||(N=this.index.numFmt[y],N!==void 0))return N;N=this.index.numFmt[y]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:N,formatCode:y});return this.model.numFmts.push(E),N}_addFont(y){const N=this.map.font.toXml(y);let E=this.index.font[N];return E===void 0&&(E=this.index.font[N]=this.model.fonts.length,this.model.fonts.push(N)),E}_addBorder(y){const N=this.map.border.toXml(y);let E=this.index.border[N];return E===void 0&&(E=this.index.border[N]=this.model.borders.length,this.model.borders.push(N)),E}_addFill(y){const N=this.map.fill.toXml(y);let E=this.index.fill[N];return E===void 0&&(E=this.index.fill[N]=this.model.fills.length,this.model.fills.push(N)),E}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new i({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new i({tag:"dxfs",$:{count:0}}),tableStyles:new i({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new i({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case c.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:u.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},h.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,h,f){const c=t("../base-xform");class n extends c{constructor(i){super(),this.model=i}get tag(){return"u"}render(i,r){if((r=r||this.model)===!0)i.leafNode("u");else{const s=n.Attributes[r];s&&i.leafNode("u",s)}}parseOpen(i){i.name==="u"&&(this.model=i.attributes.val||!0)}parseText(){}parseClose(){return!1}}n.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},h.exports=n},{"../base-xform":32}],137:[function(t,h,f){const c=t("../base-xform"),n=t("./filter-column-xform");h.exports=class extends c{constructor(){super(),this.map={filterColumn:new n}}get tag(){return"autoFilter"}prepare(o){o.columns.forEach((i,r)=>{this.map.filterColumn.prepare(i,{index:r})})}render(o,i){return o.openNode(this.tag,{ref:i.autoFilterRef}),i.columns.forEach(r=>{this.map.filterColumn.render(o,r)}),o.closeNode(),!0}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model={autoFilterRef:o.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(o){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+o)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"customFilter"}render(n,o){n.leafNode(this.tag,{val:o.val,operator:o.operator})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val,operator:n.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,h,f){const c=t("../base-xform"),n=t("../list-xform"),o=t("./custom-filter-xform"),i=t("./filter-xform");h.exports=class extends c{constructor(){super(),this.map={customFilters:new n({tag:"customFilters",count:!1,empty:!0,childXform:new o}),filters:new n({tag:"filters",count:!1,empty:!0,childXform:new i})}}get tag(){return"filterColumn"}prepare(r,s){r.colId=s.index.toString()}render(r,s){return s.customFilters?(r.openNode(this.tag,{colId:s.colId,hiddenButton:s.filterButton?"0":"1"}),this.map.customFilters.render(r,s.customFilters),r.closeNode(),!0):(r.leafNode(this.tag,{colId:s.colId,hiddenButton:s.filterButton?"0":"1"}),!0)}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;const{attributes:s}=r;switch(r.name){case this.tag:return this.model={filterButton:s.hiddenButton==="0"},!0;default:if(this.parser=this.map[r.name],this.parser)return this.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(){}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"filter"}render(n,o){n.leafNode(this.tag,{val:o.val})}parseOpen(n){return n.name===this.tag&&(this.model={val:n.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"tableColumn"}prepare(n,o){n.id=o.index+1}render(n,o){return n.leafNode(this.tag,{id:o.id.toString(),name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId}),!0}parseOpen(n){if(n.name===this.tag){const{attributes:o}=n;return this.model={name:o.name,totalsRowLabel:o.totalsRowLabel,totalsRowFunction:o.totalsRowFunction,dxfId:o.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,h,f){const c=t("../base-xform");h.exports=class extends c{get tag(){return"tableStyleInfo"}render(n,o){return n.leafNode(this.tag,{name:o.theme?o.theme:void 0,showFirstColumn:o.showFirstColumn?"1":"0",showLastColumn:o.showLastColumn?"1":"0",showRowStripes:o.showRowStripes?"1":"0",showColumnStripes:o.showColumnStripes?"1":"0"}),!0}parseOpen(n){if(n.name===this.tag){const{attributes:o}=n;return this.model={theme:o.name?o.name:null,showFirstColumn:o.showFirstColumn==="1",showLastColumn:o.showLastColumn==="1",showRowStripes:o.showRowStripes==="1",showColumnStripes:o.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,h,f){const c=t("../../../utils/xml-stream"),n=t("../base-xform"),o=t("../list-xform"),i=t("./auto-filter-xform"),r=t("./table-column-xform"),s=t("./table-style-info-xform");class l extends n{constructor(){super(),this.map={autoFilter:new i,tableColumns:new o({tag:"tableColumns",count:!0,empty:!0,childXform:new r}),tableStyleInfo:new s}}prepare(u,x){this.map.autoFilter.prepare(u),this.map.tableColumns.prepare(u.columns,x)}get tag(){return"table"}render(u,x){u.openXml(c.StdDocAttributes),u.openNode(this.tag,{...l.TABLE_ATTRIBUTES,id:x.id,name:x.name,displayName:x.displayName||x.name,ref:x.tableRef,totalsRowCount:x.totalsRow?"1":void 0,totalsRowShown:x.totalsRow?void 0:"1",headerRowCount:x.headerRow?"1":"0"}),this.map.autoFilter.render(u,x),this.map.tableColumns.render(u,x.columns),this.map.tableStyleInfo.render(u,x.style),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;const{name:x,attributes:b}=u;switch(x){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((x,b)=>{this.model.columns[b].filterButton=x.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(u,x){u.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=x.styles.getDxfStyle(b.dxfId))})}}l.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},h.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,h,f){(function(c,n){(function(){const o=t("fs"),i=t("jszip"),{PassThrough:r}=t("readable-stream"),s=t("../utils/zip-stream"),l=t("../utils/stream-buf"),d=t("../utils/utils"),u=t("../utils/xml-stream"),{bufferToString:x}=t("../utils/browser-buffer-decode"),b=t("./xform/style/styles-xform"),g=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),y=t("./xform/core/relationships-xform"),N=t("./xform/core/content-types-xform"),E=t("./xform/core/app-xform"),I=t("./xform/book/workbook-xform"),O=t("./xform/sheet/worksheet-xform"),$=t("./xform/drawing/drawing-xform"),z=t("./xform/table/table-xform"),U=t("./xform/comment/comments-xform"),V=t("./xform/comment/vml-notes-xform"),G=t("./xml/theme1");class B{constructor(D){this.workbook=D}async readFile(D,A){if(!await d.fs.exists(D))throw new Error("File not found: "+D);const k=o.createReadStream(D);try{const S=await this.read(k,A);return k.close(),S}catch(S){throw k.close(),S}}parseRels(D){return new y().parseStream(D)}parseWorkbook(D){return new I().parseStream(D)}parseSharedStrings(D){return new v().parseStream(D)}reconcile(D,A){const k=new I,S=new O(A),j=new $,C=new z;k.reconcile(D);const P={media:D.media,mediaIndex:D.mediaIndex};Object.keys(D.drawings).forEach(Y=>{const Z=D.drawings[Y],ae=D.drawingRels[Y];ae&&(P.rels=ae.reduce((q,X)=>(q[X.Id]=X,q),{}),(Z.anchors||[]).forEach(q=>{const X=q.picture&&q.picture.hyperlinks;X&&P.rels[X.rId]&&(X.hyperlink=P.rels[X.rId].Target,delete X.rId)}),j.reconcile(Z,P))});const R={styles:D.styles};Object.values(D.tables).forEach(Y=>{C.reconcile(Y,R)});const L={styles:D.styles,sharedStrings:D.sharedStrings,media:D.media,mediaIndex:D.mediaIndex,date1904:D.properties&&D.properties.date1904,drawings:D.drawings,comments:D.comments,tables:D.tables,vmlDrawings:D.vmlDrawings};D.worksheets.forEach(Y=>{Y.relationships=D.worksheetRels[Y.sheetNo],S.reconcile(Y,L)}),delete D.worksheetHash,delete D.worksheetRels,delete D.globalRels,delete D.sharedStrings,delete D.workbookRels,delete D.sheetDefs,delete D.styles,delete D.mediaIndex,delete D.drawings,delete D.drawingRels,delete D.vmlDrawings}async _processWorksheetEntry(D,A,k,S,j){const C=new O(S),P=await C.parseStream(D);P.sheetNo=k,A.worksheetHash[j]=P,A.worksheets.push(P)}async _processCommentEntry(D,A,k){const S=new U,j=await S.parseStream(D);A.comments[`../${k}.xml`]=j}async _processTableEntry(D,A,k){const S=new z,j=await S.parseStream(D);A.tables[`../tables/${k}.xml`]=j}async _processWorksheetRelsEntry(D,A,k){const S=new y,j=await S.parseStream(D);A.worksheetRels[k]=j}async _processMediaEntry(D,A,k){const S=k.lastIndexOf(".");if(S>=1){const j=k.substr(S+1),C=k.substr(0,S);await new Promise((P,R)=>{const L=new l;L.on("finish",()=>{A.mediaIndex[k]=A.media.length,A.mediaIndex[C]=A.media.length;const Y={type:"image",name:C,extension:j,buffer:L.toBuffer()};A.media.push(Y),P()}),D.on("error",Y=>{R(Y)}),D.pipe(L)})}}async _processDrawingEntry(D,A,k){const S=new $,j=await S.parseStream(D);A.drawings[k]=j}async _processDrawingRelsEntry(D,A,k){const S=new y,j=await S.parseStream(D);A.drawingRels[k]=j}async _processVmlDrawingEntry(D,A,k){const S=new V,j=await S.parseStream(D);A.vmlDrawings[`../drawings/${k}.vml`]=j}async _processThemeEntry(D,A,k){await new Promise((S,j)=>{const C=new l;D.on("error",j),C.on("error",j),C.on("finish",()=>{A.themes[k]=C.read().toString(),S()}),D.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(D,A){!D[Symbol.asyncIterator]&&D.pipe&&(D=D.pipe(new r));const k=[];for await(const S of D)k.push(S);return this.load(n.concat(k),A)}async load(D,A){let k;k=A&&A.base64?n.from(D.toString(),"base64"):D;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},j=await i.loadAsync(k);for(const C of Object.values(j.files))if(!C.dir){let P,R=C.name;if(R[0]==="/"&&(R=R.substr(1)),R.match(/xl\/media\//)||R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))P=new r,P.write(await C.async("nodebuffer"));else{let L;P=new r({writableObjectMode:!0,readableObjectMode:!0}),L=c.browser?x(await C.async("nodebuffer")):await C.async("string");const Y=16384;for(let Z=0;Z<L.length;Z+=Y)P.write(L.substring(Z,Z+Y))}switch(P.end(),R){case"_rels/.rels":S.globalRels=await this.parseRels(P);break;case"xl/workbook.xml":{const L=await this.parseWorkbook(P);S.sheets=L.sheets,S.definedNames=L.definedNames,S.views=L.views,S.properties=L.properties,S.calcProperties=L.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(P);break;case"xl/sharedStrings.xml":S.sharedStrings=new v,await S.sharedStrings.parseStream(P);break;case"xl/styles.xml":S.styles=new b,await S.styles.parseStream(P);break;case"docProps/app.xml":{const L=new E,Y=await L.parseStream(P);S.company=Y.company,S.manager=Y.manager;break}case"docProps/core.xml":{const L=new g,Y=await L.parseStream(P);Object.assign(S,Y);break}default:{let L=R.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(L){await this._processWorksheetEntry(P,S,L[1],A,R);break}if(L=R.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),L){await this._processWorksheetRelsEntry(P,S,L[1]);break}if(L=R.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),L){await this._processThemeEntry(P,S,L[1]);break}if(L=R.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),L){await this._processMediaEntry(P,S,L[1]);break}if(L=R.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),L){await this._processDrawingEntry(P,S,L[1]);break}if(L=R.match(/xl\/(comments\d+)[.]xml/),L){await this._processCommentEntry(P,S,L[1]);break}if(L=R.match(/xl\/tables\/(table\d+)[.]xml/),L){await this._processTableEntry(P,S,L[1]);break}if(L=R.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),L){await this._processDrawingRelsEntry(P,S,L[1]);break}if(L=R.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),L){await this._processVmlDrawingEntry(P,S,L[1]);break}}}}return this.reconcile(S,A),this.workbook.model=S,this.workbook}async addMedia(D,A){await Promise.all(A.media.map(async k=>{if(k.type==="image"){const S=`xl/media/${k.name}.${k.extension}`;if(k.filename){const j=await(function(C,P){return new Promise((R,L)=>{o.readFile(C,P,(Y,Z)=>{Y?L(Y):R(Z)})})})(k.filename);return D.append(j,{name:S})}if(k.buffer)return D.append(k.buffer,{name:S});if(k.base64){const j=k.base64,C=j.substring(j.indexOf(",")+1);return D.append(C,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(D,A){const k=new $,S=new y;A.worksheets.forEach(j=>{const{drawing:C}=j;if(C){k.prepare(C,{});let P=k.toXml(C);D.append(P,{name:`xl/drawings/${C.name}.xml`}),P=S.toXml(C.rels),D.append(P,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(D,A){const k=new z;A.worksheets.forEach(S=>{const{tables:j}=S;j.forEach(C=>{k.prepare(C,{});const P=k.toXml(C);D.append(P,{name:"xl/tables/"+C.target})})})}async addContentTypes(D,A){const k=new N().toXml(A);D.append(k,{name:"[Content_Types].xml"})}async addApp(D,A){const k=new E().toXml(A);D.append(k,{name:"docProps/app.xml"})}async addCore(D,A){const k=new g;D.append(k.toXml(A),{name:"docProps/core.xml"})}async addThemes(D,A){const k=A.themes||{theme1:G};Object.keys(k).forEach(S=>{const j=k[S],C=`xl/theme/${S}.xml`;D.append(j,{name:C})})}async addOfficeRels(D){const A=new y().toXml([{Id:"rId1",Type:B.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:B.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:B.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);D.append(A,{name:"_rels/.rels"})}async addWorkbookRels(D,A){let k=1;const S=[{Id:"rId"+k++,Type:B.RelType.Styles,Target:"styles.xml"},{Id:"rId"+k++,Type:B.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&S.push({Id:"rId"+k++,Type:B.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(C=>{C.rId="rId"+k++,S.push({Id:C.rId,Type:B.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const j=new y().toXml(S);D.append(j,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(D,A){A.sharedStrings&&A.sharedStrings.count&&D.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(D,A){const{xml:k}=A.styles;k&&D.append(k,{name:"xl/styles.xml"})}async addWorkbook(D,A){const k=new I;D.append(k.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(D,A){const k=new O,S=new y,j=new U,C=new V;A.worksheets.forEach(P=>{let R=new u;k.render(R,P),D.append(R.xml,{name:`xl/worksheets/sheet${P.id}.xml`}),P.rels&&P.rels.length&&(R=new u,S.render(R,P.rels),D.append(R.xml,{name:`xl/worksheets/_rels/sheet${P.id}.xml.rels`})),P.comments.length>0&&(R=new u,j.render(R,P),D.append(R.xml,{name:`xl/comments${P.id}.xml`}),R=new u,C.render(R,P),D.append(R.xml,{name:`xl/drawings/vmlDrawing${P.id}.vml`}))})}_finalize(D){return new Promise((A,k)=>{D.on("finish",()=>{A(this)}),D.on("error",k),D.finalize()})}prepareModel(D,A){D.creator=D.creator||"ExcelJS",D.lastModifiedBy=D.lastModifiedBy||"ExcelJS",D.created=D.created||new Date,D.modified=D.modified||new Date,D.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,D.useStyles=A.useStyles===void 0||A.useStyles,D.sharedStrings=new v,D.styles=D.useStyles?new b(!0):new b.Mock;const k=new I,S=new O;k.prepare(D);const j={sharedStrings:D.sharedStrings,styles:D.styles,date1904:D.properties.date1904,drawingsCount:0,media:D.media};j.drawings=D.drawings=[],j.commentRefs=D.commentRefs=[];let C=0;D.tables=[],D.worksheets.forEach(P=>{P.tables.forEach(R=>{C++,R.target=`table${C}.xml`,R.id=C,D.tables.push(R)}),S.prepare(P,j)})}async write(D,A){A=A||{};const{model:k}=this.workbook,S=new s.ZipWriter(A.zip);return S.pipe(D),this.prepareModel(k,A),await this.addContentTypes(S,k),await this.addOfficeRels(S,k),await this.addWorkbookRels(S,k),await this.addWorksheets(S,k),await this.addSharedStrings(S,k),await this.addDrawings(S,k),await this.addTables(S,k),await Promise.all([this.addThemes(S,k),this.addStyles(S,k)]),await this.addMedia(S,k),await Promise.all([this.addApp(S,k),this.addCore(S,k)]),await this.addWorkbook(S,k),this._finalize(S)}writeFile(D,A){const k=o.createWriteStream(D);return new Promise((S,j)=>{k.on("finish",()=>{S()}),k.on("error",C=>{j(C)}),this.write(k,A).then(()=>{k.end()}).catch(C=>{j(C)})})}async writeBuffer(D){const A=new l;return await this.write(A,D),A.read()}}B.RelType=t("./rel-type"),h.exports=B}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,h,f){h.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,h,f){(function(c){(function(){Object.defineProperty(f,"__esModule",{value:!0}),f.CsvFormatterStream=void 0;const n=t("stream"),o=t("./formatter");class i extends n.Transform{constructor(s){super({writableObjectMode:s.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=s,this.rowFormatter=new o.RowFormatter(s),this.hasWrittenBOM=!s.writeBOM}transform(s){return this.rowFormatter.rowTransform=s,this}_transform(s,l,d){let u=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(s,(x,b)=>x?(u=!0,d(x)):(b&&b.forEach(g=>{this.push(c.from(g,"utf8"))}),u=!0,d()))}catch(x){if(u)throw x;d(x)}}_flush(s){this.rowFormatter.finish((l,d)=>l?s(l):(d&&d.forEach(u=>{this.push(c.from(u,"utf8"))}),s()))}}f.CsvFormatterStream=i}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.FormatterOptions=void 0,f.FormatterOptions=class{constructor(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var n;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,c||{}),c?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),c?.quote===!0?this.quote='"':c?.quote===!1&&(this.quote=""),typeof c?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((n=c.writeHeaders)===null||n===void 0||n),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,h,f){var c=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.FieldFormatter=void 0;const n=c(t("lodash.isboolean")),o=c(t("lodash.isnil")),i=c(t("lodash.escaperegexp"));f.FieldFormatter=class{constructor(r){this._headers=null,this.formatterOptions=r,r.headers!==null&&(this.headers=r.headers),this.REPLACE_REGEXP=new RegExp(r.quote,"g");const s=`[${r.delimiter}${i.default(r.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(s)}set headers(r){this._headers=r}shouldQuote(r,s){const l=s?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return n.default(l)?l:Array.isArray(l)?l[r]:this._headers!==null&&l[this._headers[r]]}format(r,s,l){const d=(""+(o.default(r)?"":r)).replace(/\0/g,""),{formatterOptions:u}=this;return u.quote!==""&&d.indexOf(u.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,u.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(s,l)?this.quoteField(d):d}quoteField(r){const{quote:s}=this.formatterOptions;return`${s}${r}${s}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,h,f){var c=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(f,"__esModule",{value:!0}),f.RowFormatter=void 0;const n=c(t("lodash.isfunction")),o=c(t("lodash.isequal")),i=t("./FieldFormatter"),r=t("../types");class s{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new i.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return s.isRowHashArray(d)?d.map(u=>u[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return r.isSyncTransform(d)?(u,x)=>{let b=null;try{b=d(u)}catch(g){return x(g)}return x(null,b)}:(u,x)=>{d(u,x)}}set rowTransform(d){if(!n.default(d))throw new TypeError("The transform should be a function");this._rowTransform=s.createTransform(d)}format(d,u){this.callTransformer(d,(x,b)=>{if(x)return u(x);if(!d)return u(null);const g=[];if(b){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(b);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const N=this.gatherColumns(b);g.push(this.formatColumns(N,!1))}}return u(null,g)})}finish(d){const u=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));u.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&u.push(this.formatterOptions.rowDelimiter),d(null,u)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const u=s.gatherHeaders(d);return this.headers=u,this.fieldFormatter.headers=u,this.shouldWriteHeaders?{shouldFormatColumns:!o.default(u,d),headers:u}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?s.isRowHashArray(d)?this.headers.map((u,x)=>{const b=d[x];return b?b[1]:""}):s.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((u,x)=>d[x]):this.headers.map(u=>d[u])}callTransformer(d,u){return this._rowTransform?this._rowTransform(d,u):u(null,d)}formatColumns(d,u){const x=d.map((g,v)=>this.fieldFormatter.format(g,v,u)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,x].join(""):x}}f.RowFormatter=s},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.FieldFormatter=f.RowFormatter=void 0;var c=t("./RowFormatter");Object.defineProperty(f,"RowFormatter",{enumerable:!0,get:function(){return c.RowFormatter}});var n=t("./FieldFormatter");Object.defineProperty(f,"FieldFormatter",{enumerable:!0,get:function(){return n.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,h,f){(function(c){(function(){var n=Object.create?function(v,y,N,E){E===void 0&&(E=N),Object.defineProperty(v,E,{enumerable:!0,get:function(){return y[N]}})}:function(v,y,N,E){E===void 0&&(E=N),v[E]=y[N]},o=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},i=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var N in v)N!=="default"&&Object.prototype.hasOwnProperty.call(v,N)&&n(y,v,N);return o(y,v),y},r=function(v,y){for(var N in v)N==="default"||Object.prototype.hasOwnProperty.call(y,N)||n(y,v,N)};Object.defineProperty(f,"__esModule",{value:!0}),f.writeToPath=f.writeToString=f.writeToBuffer=f.writeToStream=f.write=f.format=f.FormatterOptions=f.CsvFormatterStream=void 0;const s=t("util"),l=t("stream"),d=i(t("fs")),u=t("./FormatterOptions"),x=t("./CsvFormatterStream");r(t("./types"),f);var b=t("./CsvFormatterStream");Object.defineProperty(f,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var g=t("./FormatterOptions");Object.defineProperty(f,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),f.format=v=>new x.CsvFormatterStream(new u.FormatterOptions(v)),f.write=(v,y)=>{const N=f.format(y),E=s.promisify((I,O)=>{N.write(I,void 0,O)});return v.reduce((I,O)=>I.then(()=>E(O)),Promise.resolve()).then(()=>N.end()).catch(I=>{N.emit("error",I)}),N},f.writeToStream=(v,y,N)=>f.write(y,N).pipe(v),f.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const N=[],E=new l.Writable({write(I,O,$){N.push(I),$()}});return new Promise((I,O)=>{E.on("error",O).on("finish",()=>I(c.concat(N))),f.write(v,y).pipe(E)})},f.writeToString=(v,y)=>f.writeToBuffer(v,y).then(N=>N.toString()),f.writeToPath=(v,y,N)=>{const E=d.createWriteStream(v,{encoding:"utf8"});return f.write(y,N).pipe(E)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.isSyncTransform=void 0,f.isSyncTransform=c=>c.length===1},{}],153:[function(t,h,f){(function(c){(function(){Object.defineProperty(f,"__esModule",{value:!0}),f.CsvParserStream=void 0;const n=t("string_decoder"),o=t("stream"),i=t("./transforms"),r=t("./parser");class s extends o.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new r.Parser(d),this.headerTransformer=new i.HeaderTransformer(d),this.decoder=new n.StringDecoder(d.encoding),this.rowTransformerValidator=new i.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var u=arguments.length,x=new Array(u>1?u-1:0),b=1;b<u;b++)x[b-1]=arguments[b];return super.emit(d,...x)}_transform(d,u,x){if(this.hasHitRowLimit)return x();const b=s.wrapDoneCallback(x);try{const{lines:g}=this,v=g+this.decoder.write(d),y=this.parse(v,!0);return this.processRows(y,b)}catch(g){return b(g)}}_flush(d){const u=s.wrapDoneCallback(d);if(this.hasHitRowLimit)return u();try{const x=this.lines+this.decoder.end(),b=this.parse(x,!1);return this.processRows(b,u)}catch(x){return u(x)}}parse(d,u){if(!d)return[];const{line:x,rows:b}=this.parser.parse(d,u);return this.lines=x,b}processRows(d,u){const x=d.length,b=g=>{const v=E=>E?u(E):g%100!=0?b(g+1):void c(()=>b(g+1));if(this.checkAndEmitHeaders(),g>=x||this.hasHitRowLimit)return u();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=d[g];this.rowCount+=1,this.parsedRowCount+=1;const N=this.rowCount;return this.transformRow(y,(E,I)=>{if(E)return this.rowCount-=1,v(E);if(!I)return v(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,v)}else this.emit("data-invalid",I.row,N,I.reason);return v()})};b(0)}transformRow(d,u){try{this.headerTransformer.transform(d,(x,b)=>x?u(x):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,u):this.skipRow(u):(this.rowCount-=1,this.parsedRowCount-=1,u(null,{row:null,isValid:!0})):this.shouldEmitRows?u(null,{isValid:!1,row:d}):this.skipRow(u):u(new Error("Expected result from header transform")))}catch(x){u(x)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,u){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),u()}catch(x){u(x)}}static wrapDoneCallback(d){let u=!1;return function(x){if(x){if(u)throw x;return u=!0,void d(x)}for(var b=arguments.length,g=new Array(b>1?b-1:0),v=1;v<b;v++)g[v-1]=arguments[v];d(...g)}}}f.CsvParserStream=s}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,h,f){var c=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(f,"__esModule",{value:!0}),f.ParserOptions=void 0;const n=c(t("lodash.escaperegexp")),o=c(t("lodash.isnil"));f.ParserOptions=class{constructor(i){var r;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,i||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=n.default(this.delimiter),this.escapeChar=(r=this.escape)!==null&&r!==void 0?r:this.quote,this.supportsComments=!o.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,h,f){var c=Object.create?function(b,g,v,y){y===void 0&&(y=v),Object.defineProperty(b,y,{enumerable:!0,get:function(){return g[v]}})}:function(b,g,v,y){y===void 0&&(y=v),b[y]=g[v]},n=Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g},o=function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&c(g,b,v);return n(g,b),g},i=function(b,g){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||c(g,b,v)};Object.defineProperty(f,"__esModule",{value:!0}),f.parseString=f.parseFile=f.parseStream=f.parse=f.ParserOptions=f.CsvParserStream=void 0;const r=o(t("fs")),s=t("stream"),l=t("./ParserOptions"),d=t("./CsvParserStream");i(t("./types"),f);var u=t("./CsvParserStream");Object.defineProperty(f,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}});var x=t("./ParserOptions");Object.defineProperty(f,"ParserOptions",{enumerable:!0,get:function(){return x.ParserOptions}}),f.parse=b=>new d.CsvParserStream(new l.ParserOptions(b)),f.parseStream=(b,g)=>b.pipe(new d.CsvParserStream(new l.ParserOptions(g))),f.parseFile=function(b){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r.createReadStream(b).pipe(new d.CsvParserStream(new l.ParserOptions(g)))},f.parseString=(b,g)=>{const v=new s.Readable;return v.push(b),v.push(null),v.pipe(new d.CsvParserStream(new l.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.Parser=void 0;const c=t("./Scanner"),n=t("./RowParser"),o=t("./Token");class i{constructor(s){this.parserOptions=s,this.rowParser=new n.RowParser(this.parserOptions)}static removeBOM(s){return s&&s.charCodeAt(0)===65279?s.slice(1):s}parse(s,l){const d=new c.Scanner({line:i.removeBOM(s),parserOptions:this.parserOptions,hasMoreData:l});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(s){const l=[];let d=!0;for(;d;)d=this.parseRow(s,l);return{line:s.line,rows:l}}parseWithComments(s){const{parserOptions:l}=this,d=[];for(let u=s.nextCharacterToken;u!==null;u=s.nextCharacterToken)if(o.Token.isTokenComment(u,l)){if(s.advancePastLine()===null)return{line:s.lineFromCursor,rows:d};if(!s.hasMoreCharacters)return{line:s.lineFromCursor,rows:d};s.truncateToCursor()}else if(!this.parseRow(s,d))break;return{line:s.line,rows:d}}parseRow(s,l){if(!s.nextNonSpaceToken)return!1;const d=this.rowParser.parse(s);return d!==null&&(this.parserOptions.ignoreEmpty&&n.RowParser.isEmptyRow(d)||l.push(d),!0)}}f.Parser=i},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.RowParser=void 0;const c=t("./column"),n=t("./Token");f.RowParser=class{constructor(o){this.parserOptions=o,this.columnParser=new c.ColumnParser(o)}static isEmptyRow(o){return o.join("").replace(/\s+/g,"")===""}parse(o){const{parserOptions:i}=this,{hasMoreData:r}=o,s=o,l=[];let d=this.getStartToken(s,l);for(;d;){if(n.Token.isTokenRowDelimiter(d))return s.advancePastToken(d),!s.hasMoreCharacters&&n.Token.isTokenCarriageReturn(d,i)&&r?null:(s.truncateToCursor(),l);if(!this.shouldSkipColumnParse(s,d,l)){const u=this.columnParser.parse(s);if(u===null)return null;l.push(u)}d=s.nextNonSpaceToken}return r?null:(s.truncateToCursor(),l)}getStartToken(o,i){const r=o.nextNonSpaceToken;return r!==null&&n.Token.isTokenDelimiter(r,this.parserOptions)?(i.push(""),o.nextNonSpaceToken):r}shouldSkipColumnParse(o,i,r){const{parserOptions:s}=this;if(n.Token.isTokenDelimiter(i,s)){o.advancePastToken(i);const l=o.nextCharacterToken;if(!o.hasMoreCharacters||l!==null&&n.Token.isTokenRowDelimiter(l)||l!==null&&n.Token.isTokenDelimiter(l,s))return r.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.Scanner=void 0;const c=t("./Token"),n=/((?:\r\n)|\n|\r)/;f.Scanner=class{constructor(o){this.cursor=0,this.line=o.line,this.lineLength=this.line.length,this.parserOptions=o.parserOptions,this.hasMoreData=o.hasMoreData,this.cursor=o.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:o}=this,i=this.parserOptions.NEXT_TOKEN_REGEXP;if(o.search(i)===-1)return null;const r=i.exec(o);if(r==null)return null;const s=r[1],l=this.cursor+(r.index||0);return new c.Token({token:s,startCursor:l,endCursor:l+s.length-1})}get nextCharacterToken(){const{cursor:o,lineLength:i}=this;return i<=o?null:new c.Token({token:this.line[o],startCursor:o,endCursor:o})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const o=n.exec(this.lineFromCursor);return o?(this.cursor+=(o.index||0)+o[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(o){return this.cursor=o,this}advanceToToken(o){return this.cursor=o.startCursor,this}advancePastToken(o){return this.cursor=o.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.Token=void 0,f.Token=class{constructor(c){this.token=c.token,this.startCursor=c.startCursor,this.endCursor=c.endCursor}static isTokenRowDelimiter(c){const n=c.token;return n==="\r"||n===`
`||n===`\r
`}static isTokenCarriageReturn(c,n){return c.token===n.carriageReturn}static isTokenComment(c,n){return n.supportsComments&&!!c&&c.token===n.comment}static isTokenEscapeCharacter(c,n){return c.token===n.escapeChar}static isTokenQuote(c,n){return c.token===n.quote}static isTokenDelimiter(c,n){return c.token===n.delimiter}}},{}],160:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.ColumnFormatter=void 0,f.ColumnFormatter=class{constructor(c){c.trim?this.format=n=>n.trim():c.ltrim?this.format=n=>n.trimLeft():c.rtrim?this.format=n=>n.trimRight():this.format=n=>n}}},{}],161:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.ColumnParser=void 0;const c=t("./NonQuotedColumnParser"),n=t("./QuotedColumnParser"),o=t("../Token");f.ColumnParser=class{constructor(i){this.parserOptions=i,this.quotedColumnParser=new n.QuotedColumnParser(i),this.nonQuotedColumnParser=new c.NonQuotedColumnParser(i)}parse(i){const{nextNonSpaceToken:r}=i;return r!==null&&o.Token.isTokenQuote(r,this.parserOptions)?(i.advanceToToken(r),this.quotedColumnParser.parse(i)):this.nonQuotedColumnParser.parse(i)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.NonQuotedColumnParser=void 0;const c=t("./ColumnFormatter"),n=t("../Token");f.NonQuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new c.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const{parserOptions:i}=this,r=[];let s=o.nextCharacterToken;for(;s&&!n.Token.isTokenDelimiter(s,i)&&!n.Token.isTokenRowDelimiter(s);s=o.nextCharacterToken)r.push(s.token),o.advancePastToken(s);return this.columnFormatter.format(r.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.QuotedColumnParser=void 0;const c=t("./ColumnFormatter"),n=t("../Token");f.QuotedColumnParser=class{constructor(o){this.parserOptions=o,this.columnFormatter=new c.ColumnFormatter(o)}parse(o){if(!o.hasMoreCharacters)return null;const i=o.cursor,{foundClosingQuote:r,col:s}=this.gatherDataBetweenQuotes(o);if(!r){if(o.advanceTo(i),!o.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${o.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(o),s}gatherDataBetweenQuotes(o){const{parserOptions:i}=this;let r=!1,s=!1;const l=[];let d=o.nextCharacterToken;for(;!s&&d!==null;d=o.nextCharacterToken){const u=n.Token.isTokenQuote(d,i);if(!r&&u)r=!0;else if(r)if(n.Token.isTokenEscapeCharacter(d,i)){o.advancePastToken(d);const x=o.nextCharacterToken;x!==null&&(n.Token.isTokenQuote(x,i)||n.Token.isTokenEscapeCharacter(x,i))?(l.push(x.token),d=x):u?s=!0:l.push(d.token)}else u?s=!0:l.push(d.token);o.advancePastToken(d)}return{col:this.columnFormatter.format(l.join("")),foundClosingQuote:s}}checkForMalformedColumn(o){const{parserOptions:i}=this,{nextNonSpaceToken:r}=o;if(r){const s=n.Token.isTokenDelimiter(r,i),l=n.Token.isTokenRowDelimiter(r);if(!s&&!l){const d=o.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${i.escapedDelimiter}' OR new line got: '${r.token}'. at '${d}`)}o.advanceToToken(r)}else o.hasMoreData||o.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.ColumnFormatter=f.QuotedColumnParser=f.NonQuotedColumnParser=f.ColumnParser=void 0;var c=t("./ColumnParser");Object.defineProperty(f,"ColumnParser",{enumerable:!0,get:function(){return c.ColumnParser}});var n=t("./NonQuotedColumnParser");Object.defineProperty(f,"NonQuotedColumnParser",{enumerable:!0,get:function(){return n.NonQuotedColumnParser}});var o=t("./QuotedColumnParser");Object.defineProperty(f,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}});var i=t("./ColumnFormatter");Object.defineProperty(f,"ColumnFormatter",{enumerable:!0,get:function(){return i.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.QuotedColumnParser=f.NonQuotedColumnParser=f.ColumnParser=f.Token=f.Scanner=f.RowParser=f.Parser=void 0;var c=t("./Parser");Object.defineProperty(f,"Parser",{enumerable:!0,get:function(){return c.Parser}});var n=t("./RowParser");Object.defineProperty(f,"RowParser",{enumerable:!0,get:function(){return n.RowParser}});var o=t("./Scanner");Object.defineProperty(f,"Scanner",{enumerable:!0,get:function(){return o.Scanner}});var i=t("./Token");Object.defineProperty(f,"Token",{enumerable:!0,get:function(){return i.Token}});var r=t("./column");Object.defineProperty(f,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}}),Object.defineProperty(f,"NonQuotedColumnParser",{enumerable:!0,get:function(){return r.NonQuotedColumnParser}}),Object.defineProperty(f,"QuotedColumnParser",{enumerable:!0,get:function(){return r.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,h,f){var c=function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(f,"__esModule",{value:!0}),f.HeaderTransformer=void 0;const n=c(t("lodash.isundefined")),o=c(t("lodash.isfunction")),i=c(t("lodash.uniq")),r=c(t("lodash.groupby"));f.HeaderTransformer=class{constructor(s){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=s,s.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(s.headers)?this.setHeaders(s.headers):o.default(s.headers)&&(this.headersTransform=s.headers)}transform(s,l){return this.shouldMapRow(s)?l(null,this.processRow(s)):l(null,{row:null,isValid:!0})}shouldMapRow(s){const{parserOptions:l}=this;if(!this.headersTransform&&l.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(s)){if(this.headersTransform)this.setHeaders(this.headersTransform(s));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(s)}return!1}return!0}processRow(s){if(!this.headers)return{row:s,isValid:!0};const{parserOptions:l}=this;if(!l.discardUnmappedColumns&&s.length>this.headersLength){if(!l.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${s.length}`);return{row:s,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${s.length}`}}return l.strictColumnHandling&&s.length<this.headersLength?{row:s,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${s.length}`}:{row:this.mapHeaders(s),isValid:!0}}mapHeaders(s){const l={},{headers:d,headersLength:u}=this;for(let x=0;x<u;x+=1){const b=d[x];if(!n.default(b)){const g=s[x];n.default(g)?l[b]="":l[b]=g}}return l}setHeaders(s){var l;const d=s.filter(u=>!!u);if(i.default(d).length!==d.length){const u=r.default(d),x=Object.keys(u).filter(b=>u[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(x))}this.headers=s,this.receivedHeaders=!0,this.headersLength=((l=this.headers)===null||l===void 0?void 0:l.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,h,f){var c=function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.RowTransformerValidator=void 0;const n=c(t("lodash.isfunction")),o=t("../types");class i{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(s){return o.isSyncTransform(s)?(l,d)=>{let u=null;try{u=s(l)}catch(x){return d(x)}return d(null,u)}:s}static createValidator(s){return o.isSyncValidate(s)?(l,d)=>{d(null,{row:l,isValid:s(l)})}:(l,d)=>{s(l,(u,x,b)=>u?d(u):d(null,x?{row:l,isValid:x,reason:b}:{row:l,isValid:!1,reason:b}))}}set rowTransform(s){if(!n.default(s))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(s)}set rowValidator(s){if(!n.default(s))throw new TypeError("The validate should be a function");this._rowValidator=i.createValidator(s)}transformAndValidate(s,l){return this.callTransformer(s,(d,u)=>d?l(d):u?this.callValidator(u,(x,b)=>x?l(x):b&&!b.isValid?l(null,{row:u,isValid:!1,reason:b.reason}):l(null,{row:u,isValid:!0})):l(null,{row:null,isValid:!0}))}callTransformer(s,l){return this._rowTransform?this._rowTransform(s,l):l(null,s)}callValidator(s,l){return this._rowValidator?this._rowValidator(s,l):l(null,{row:s,isValid:!0})}}f.RowTransformerValidator=i},{"../types":169,"lodash.isfunction":446}],168:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.HeaderTransformer=f.RowTransformerValidator=void 0;var c=t("./RowTransformerValidator");Object.defineProperty(f,"RowTransformerValidator",{enumerable:!0,get:function(){return c.RowTransformerValidator}});var n=t("./HeaderTransformer");Object.defineProperty(f,"HeaderTransformer",{enumerable:!0,get:function(){return n.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.isSyncValidate=f.isSyncTransform=void 0,f.isSyncTransform=c=>c.length===1,f.isSyncValidate=c=>c.length===1},{}],170:[function(t,h,f){const c=f;c.bignum=t("bn.js"),c.define=t("./asn1/api").define,c.base=t("./asn1/base"),c.constants=t("./asn1/constants"),c.decoders=t("./asn1/decoders"),c.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,h,f){const c=t("./encoders"),n=t("./decoders"),o=t("inherits");function i(r,s){this.name=r,this.body=s,this.decoders={},this.encoders={}}f.define=function(r,s){return new i(r,s)},i.prototype._createNamed=function(r){const s=this.name;function l(d){this._initNamed(d,s)}return o(l,r),l.prototype._initNamed=function(d,u){r.call(this,d,u)},new l(this)},i.prototype._getDecoder=function(r){return r=r||"der",this.decoders.hasOwnProperty(r)||(this.decoders[r]=this._createNamed(n[r])),this.decoders[r]},i.prototype.decode=function(r,s,l){return this._getDecoder(s).decode(r,l)},i.prototype._getEncoder=function(r){return r=r||"der",this.encoders.hasOwnProperty(r)||(this.encoders[r]=this._createNamed(c[r])),this.encoders[r]},i.prototype.encode=function(r,s,l){return this._getEncoder(s).encode(r,l)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,h,f){const c=t("inherits"),n=t("../base/reporter").Reporter,o=t("safer-buffer").Buffer;function i(s,l){n.call(this,l),o.isBuffer(s)?(this.base=s,this.offset=0,this.length=s.length):this.error("Input not Buffer")}function r(s,l){if(Array.isArray(s))this.length=0,this.value=s.map((function(d){return r.isEncoderBuffer(d)||(d=new r(d,l)),this.length+=d.length,d}),this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return l.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=o.byteLength(s);else{if(!o.isBuffer(s))return l.error("Unsupported type: "+typeof s);this.value=s,this.length=s.length}}c(i,n),f.DecoderBuffer=i,i.isDecoderBuffer=function(s){return s instanceof i?!0:typeof s=="object"&&o.isBuffer(s.base)&&s.constructor.name==="DecoderBuffer"&&typeof s.offset=="number"&&typeof s.length=="number"&&typeof s.save=="function"&&typeof s.restore=="function"&&typeof s.isEmpty=="function"&&typeof s.readUInt8=="function"&&typeof s.skip=="function"&&typeof s.raw=="function"},i.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},i.prototype.restore=function(s){const l=new i(this.base);return l.offset=s.offset,l.length=this.offset,this.offset=s.offset,n.prototype.restore.call(this,s.reporter),l},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(s){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(s||"DecoderBuffer overrun")},i.prototype.skip=function(s,l){if(!(this.offset+s<=this.length))return this.error(l||"DecoderBuffer overrun");const d=new i(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+s,this.offset+=s,d},i.prototype.raw=function(s){return this.base.slice(s?s.offset:this.offset,this.length)},f.EncoderBuffer=r,r.isEncoderBuffer=function(s){return s instanceof r?!0:typeof s=="object"&&s.constructor.name==="EncoderBuffer"&&typeof s.length=="number"&&typeof s.join=="function"},r.prototype.join=function(s,l){return s||(s=o.alloc(this.length)),l||(l=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(d){d.join(s,l),l+=d.length})):(typeof this.value=="number"?s[l]=this.value:typeof this.value=="string"?s.write(this.value,l):o.isBuffer(this.value)&&this.value.copy(s,l),l+=this.length)),s}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,h,f){const c=f;c.Reporter=t("./reporter").Reporter,c.DecoderBuffer=t("./buffer").DecoderBuffer,c.EncoderBuffer=t("./buffer").EncoderBuffer,c.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,h,f){const c=t("../base/reporter").Reporter,n=t("../base/buffer").EncoderBuffer,o=t("../base/buffer").DecoderBuffer,i=t("minimalistic-assert"),r=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(r);function l(u,x,b){const g={};this._baseState=g,g.name=b,g.enc=u,g.parent=x||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}h.exports=l;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];l.prototype.clone=function(){const u=this._baseState,x={};d.forEach((function(g){x[g]=u[g]}));const b=new this.constructor(x.parent);return b._baseState=x,b},l.prototype._wrap=function(){const u=this._baseState;s.forEach((function(x){this[x]=function(){const b=new this.constructor(this);return u.children.push(b),b[x].apply(b,arguments)}}),this)},l.prototype._init=function(u){const x=this._baseState;i(x.parent===null),u.call(this),x.children=x.children.filter((function(b){return b._baseState.parent===this}),this),i.equal(x.children.length,1,"Root node can have only one child")},l.prototype._useArgs=function(u){const x=this._baseState,b=u.filter((function(g){return g instanceof this.constructor}),this);u=u.filter((function(g){return!(g instanceof this.constructor)}),this),b.length!==0&&(i(x.children===null),x.children=b,b.forEach((function(g){g._baseState.parent=this}),this)),u.length!==0&&(i(x.args===null),x.args=u,x.reverseArgs=u.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const v={};return Object.keys(g).forEach((function(y){y==(0|y)&&(y|=0);const N=g[y];v[N]=y})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(u){l.prototype[u]=function(){const x=this._baseState;throw new Error(u+" not implemented for encoding: "+x.enc)}})),r.forEach((function(u){l.prototype[u]=function(){const x=this._baseState,b=Array.prototype.slice.call(arguments);return i(x.tag===null),x.tag=u,this._useArgs(b),this}})),l.prototype.use=function(u){i(u);const x=this._baseState;return i(x.use===null),x.use=u,this},l.prototype.optional=function(){return this._baseState.optional=!0,this},l.prototype.def=function(u){const x=this._baseState;return i(x.default===null),x.default=u,x.optional=!0,this},l.prototype.explicit=function(u){const x=this._baseState;return i(x.explicit===null&&x.implicit===null),x.explicit=u,this},l.prototype.implicit=function(u){const x=this._baseState;return i(x.explicit===null&&x.implicit===null),x.implicit=u,this},l.prototype.obj=function(){const u=this._baseState,x=Array.prototype.slice.call(arguments);return u.obj=!0,x.length!==0&&this._useArgs(x),this},l.prototype.key=function(u){const x=this._baseState;return i(x.key===null),x.key=u,this},l.prototype.any=function(){return this._baseState.any=!0,this},l.prototype.choice=function(u){const x=this._baseState;return i(x.choice===null),x.choice=u,this._useArgs(Object.keys(u).map((function(b){return u[b]}))),this},l.prototype.contains=function(u){const x=this._baseState;return i(x.use===null),x.contains=u,this},l.prototype._decode=function(u,x){const b=this._baseState;if(b.parent===null)return u.wrapResult(b.children[0]._decode(u,x));let g,v=b.default,y=!0,N=null;if(b.key!==null&&(N=u.enterKey(b.key)),b.optional){let E=null;if(b.explicit!==null?E=b.explicit:b.implicit!==null?E=b.implicit:b.tag!==null&&(E=b.tag),E!==null||b.any){if(y=this._peekTag(u,E,b.any),u.isError(y))return y}else{const I=u.save();try{b.choice===null?this._decodeGeneric(b.tag,u,x):this._decodeChoice(u,x),y=!0}catch{y=!1}u.restore(I)}}if(b.obj&&y&&(g=u.enterObject()),y){if(b.explicit!==null){const I=this._decodeTag(u,b.explicit);if(u.isError(I))return I;u=I}const E=u.offset;if(b.use===null&&b.choice===null){let I;b.any&&(I=u.save());const O=this._decodeTag(u,b.implicit!==null?b.implicit:b.tag,b.any);if(u.isError(O))return O;b.any?v=u.raw(I):u=O}if(x&&x.track&&b.tag!==null&&x.track(u.path(),E,u.length,"tagged"),x&&x.track&&b.tag!==null&&x.track(u.path(),u.offset,u.length,"content"),b.any||(v=b.choice===null?this._decodeGeneric(b.tag,u,x):this._decodeChoice(u,x)),u.isError(v))return v;if(b.any||b.choice!==null||b.children===null||b.children.forEach((function(I){I._decode(u,x)})),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const I=new o(v);v=this._getUse(b.contains,u._reporterState.obj)._decode(I,x)}}return b.obj&&y&&(v=u.leaveObject(g)),b.key===null||v===null&&y!==!0?N!==null&&u.exitKey(N):u.leaveKey(N,b.key,v),v},l.prototype._decodeGeneric=function(u,x,b){const g=this._baseState;return u==="seq"||u==="set"?null:u==="seqof"||u==="setof"?this._decodeList(x,u,g.args[0],b):/str$/.test(u)?this._decodeStr(x,u,b):u==="objid"&&g.args?this._decodeObjid(x,g.args[0],g.args[1],b):u==="objid"?this._decodeObjid(x,null,null,b):u==="gentime"||u==="utctime"?this._decodeTime(x,u,b):u==="null_"?this._decodeNull(x,b):u==="bool"?this._decodeBool(x,b):u==="objDesc"?this._decodeStr(x,u,b):u==="int"||u==="enum"?this._decodeInt(x,g.args&&g.args[0],b):g.use!==null?this._getUse(g.use,x._reporterState.obj)._decode(x,b):x.error("unknown tag: "+u)},l.prototype._getUse=function(u,x){const b=this._baseState;return b.useDecoder=this._use(u,x),i(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},l.prototype._decodeChoice=function(u,x){const b=this._baseState;let g=null,v=!1;return Object.keys(b.choice).some((function(y){const N=u.save(),E=b.choice[y];try{const I=E._decode(u,x);if(u.isError(I))return!1;g={type:y,value:I},v=!0}catch{return u.restore(N),!1}return!0}),this),v?g:u.error("Choice not matched")},l.prototype._createEncoderBuffer=function(u){return new n(u,this.reporter)},l.prototype._encode=function(u,x,b){const g=this._baseState;if(g.default!==null&&g.default===u)return;const v=this._encodeValue(u,x,b);return v===void 0||this._skipDefault(v,x,b)?void 0:v},l.prototype._encodeValue=function(u,x,b){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(u,x||new c);let v=null;if(this.reporter=x,g.optional&&u===void 0){if(g.default===null)return;u=g.default}let y=null,N=!1;if(g.any)v=this._createEncoderBuffer(u);else if(g.choice)v=this._encodeChoice(u,x);else if(g.contains)y=this._getUse(g.contains,b)._encode(u,x),N=!0;else if(g.children)y=g.children.map((function(E){if(E._baseState.tag==="null_")return E._encode(null,x,u);if(E._baseState.key===null)return x.error("Child should have a key");const I=x.enterKey(E._baseState.key);if(typeof u!="object")return x.error("Child expected, but input is not object");const O=E._encode(u[E._baseState.key],x,u);return x.leaveKey(I),O}),this).filter((function(E){return E})),y=this._createEncoderBuffer(y);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return x.error("Too many args for : "+g.tag);if(!Array.isArray(u))return x.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,y=this._createEncoderBuffer(u.map((function(I){const O=this._baseState;return this._getUse(O.args[0],u)._encode(I,x)}),E))}else g.use!==null?v=this._getUse(g.use,b)._encode(u,x):(y=this._encodePrimitive(g.tag,u),N=!0);if(!g.any&&g.choice===null){const E=g.implicit!==null?g.implicit:g.tag,I=g.implicit===null?"universal":"context";E===null?g.use===null&&x.error("Tag could be omitted only for .use()"):g.use===null&&(v=this._encodeComposite(E,N,I,y))}return g.explicit!==null&&(v=this._encodeComposite(g.explicit,!1,"context",v)),v},l.prototype._encodeChoice=function(u,x){const b=this._baseState,g=b.choice[u.type];return g||i(!1,u.type+" not found in "+JSON.stringify(Object.keys(b.choice))),g._encode(u.value,x)},l.prototype._encodePrimitive=function(u,x){const b=this._baseState;if(/str$/.test(u))return this._encodeStr(x,u);if(u==="objid"&&b.args)return this._encodeObjid(x,b.reverseArgs[0],b.args[1]);if(u==="objid")return this._encodeObjid(x,null,null);if(u==="gentime"||u==="utctime")return this._encodeTime(x,u);if(u==="null_")return this._encodeNull();if(u==="int"||u==="enum")return this._encodeInt(x,b.args&&b.reverseArgs[0]);if(u==="bool")return this._encodeBool(x);if(u==="objDesc")return this._encodeStr(x,u);throw new Error("Unsupported tag: "+u)},l.prototype._isNumstr=function(u){return/^[0-9 ]*$/.test(u)},l.prototype._isPrintstr=function(u){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(u)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,h,f){const c=t("inherits");function n(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}function o(i,r){this.path=i,this.rethrow(r)}f.Reporter=n,n.prototype.isError=function(i){return i instanceof o},n.prototype.save=function(){const i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},n.prototype.restore=function(i){const r=this._reporterState;r.obj=i.obj,r.path=r.path.slice(0,i.pathLen)},n.prototype.enterKey=function(i){return this._reporterState.path.push(i)},n.prototype.exitKey=function(i){const r=this._reporterState;r.path=r.path.slice(0,i-1)},n.prototype.leaveKey=function(i,r,s){const l=this._reporterState;this.exitKey(i),l.obj!==null&&(l.obj[r]=s)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){const i=this._reporterState,r=i.obj;return i.obj={},r},n.prototype.leaveObject=function(i){const r=this._reporterState,s=r.obj;return r.obj=i,s},n.prototype.error=function(i){let r;const s=this._reporterState,l=i instanceof o;if(r=l?i:new o(s.path.map((function(d){return"["+JSON.stringify(d)+"]"})).join(""),i.message||i,i.stack),!s.options.partial)throw r;return l||s.errors.push(r),r},n.prototype.wrapResult=function(i){const r=this._reporterState;return r.options.partial?{result:this.isError(i)?null:i,errors:r.errors}:i},c(o,Error),o.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}},{inherits:440}],176:[function(t,h,f){function c(n){const o={};return Object.keys(n).forEach((function(i){(0|i)==i&&(i|=0);const r=n[i];o[r]=i})),o}f.tagClass={0:"universal",1:"application",2:"context",3:"private"},f.tagClassByName=c(f.tagClass),f.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},f.tagByName=c(f.tag)},{}],177:[function(t,h,f){const c=f;c._reverse=function(n){const o={};return Object.keys(n).forEach((function(i){(0|i)==i&&(i|=0);const r=n[i];o[r]=i})),o},c.der=t("./der")},{"./der":176}],178:[function(t,h,f){const c=t("inherits"),n=t("bn.js"),o=t("../base/buffer").DecoderBuffer,i=t("../base/node"),r=t("../constants/der");function s(x){this.enc="der",this.name=x.name,this.entity=x,this.tree=new l,this.tree._init(x.body)}function l(x){i.call(this,"der",x)}function d(x,b){let g=x.readUInt8(b);if(x.isError(g))return g;const v=r.tagClass[g>>6],y=(32&g)==0;if((31&g)==31){let N=g;for(g=0;(128&N)==128;){if(N=x.readUInt8(b),x.isError(N))return N;g<<=7,g|=127&N}}else g&=31;return{cls:v,primitive:y,tag:g,tagStr:r.tag[g]}}function u(x,b,g){let v=x.readUInt8(g);if(x.isError(v))return v;if(!b&&v===128)return null;if((128&v)==0)return v;const y=127&v;if(y>4)return x.error("length octect is too long");v=0;for(let N=0;N<y;N++){v<<=8;const E=x.readUInt8(g);if(x.isError(E))return E;v|=E}return v}h.exports=s,s.prototype.decode=function(x,b){return o.isDecoderBuffer(x)||(x=new o(x,b)),this.tree._decode(x,b)},c(l,i),l.prototype._peekTag=function(x,b,g){if(x.isEmpty())return!1;const v=x.save(),y=d(x,'Failed to peek tag: "'+b+'"');return x.isError(y)?y:(x.restore(v),y.tag===b||y.tagStr===b||y.tagStr+"of"===b||g)},l.prototype._decodeTag=function(x,b,g){const v=d(x,'Failed to decode tag of "'+b+'"');if(x.isError(v))return v;let y=u(x,v.primitive,'Failed to get length of "'+b+'"');if(x.isError(y))return y;if(!g&&v.tag!==b&&v.tagStr!==b&&v.tagStr+"of"!==b)return x.error('Failed to match tag: "'+b+'"');if(v.primitive||y!==null)return x.skip(y,'Failed to match body of: "'+b+'"');const N=x.save(),E=this._skipUntilEnd(x,'Failed to skip indefinite length body: "'+this.tag+'"');return x.isError(E)?E:(y=x.offset-N.offset,x.restore(N),x.skip(y,'Failed to match body of: "'+b+'"'))},l.prototype._skipUntilEnd=function(x,b){for(;;){const g=d(x,b);if(x.isError(g))return g;const v=u(x,g.primitive,b);if(x.isError(v))return v;let y;if(y=g.primitive||v!==null?x.skip(v):this._skipUntilEnd(x,b),x.isError(y))return y;if(g.tagStr==="end")break}},l.prototype._decodeList=function(x,b,g,v){const y=[];for(;!x.isEmpty();){const N=this._peekTag(x,"end");if(x.isError(N))return N;const E=g.decode(x,"der",v);if(x.isError(E)&&N)break;y.push(E)}return y},l.prototype._decodeStr=function(x,b){if(b==="bitstr"){const g=x.readUInt8();return x.isError(g)?g:{unused:g,data:x.raw()}}if(b==="bmpstr"){const g=x.raw();if(g.length%2==1)return x.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<g.length/2;y++)v+=String.fromCharCode(g.readUInt16BE(2*y));return v}if(b==="numstr"){const g=x.raw().toString("ascii");return this._isNumstr(g)?g:x.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return x.raw();if(b==="printstr"){const g=x.raw().toString("ascii");return this._isPrintstr(g)?g:x.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?x.raw().toString():x.error("Decoding of string type: "+b+" unsupported")},l.prototype._decodeObjid=function(x,b,g){let v;const y=[];let N=0,E=0;for(;!x.isEmpty();)E=x.readUInt8(),N<<=7,N|=127&E,(128&E)==0&&(y.push(N),N=0);128&E&&y.push(N);const I=y[0]/40|0,O=y[0]%40;if(v=g?y:[I,O].concat(y.slice(1)),b){let $=b[v.join(" ")];$===void 0&&($=b[v.join(".")]),$!==void 0&&(v=$)}return v},l.prototype._decodeTime=function(x,b){const g=x.raw().toString();let v,y,N,E,I,O;if(b==="gentime")v=0|g.slice(0,4),y=0|g.slice(4,6),N=0|g.slice(6,8),E=0|g.slice(8,10),I=0|g.slice(10,12),O=0|g.slice(12,14);else{if(b!=="utctime")return x.error("Decoding "+b+" time is not supported yet");v=0|g.slice(0,2),y=0|g.slice(2,4),N=0|g.slice(4,6),E=0|g.slice(6,8),I=0|g.slice(8,10),O=0|g.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,N,E,I,O,0)},l.prototype._decodeNull=function(){return null},l.prototype._decodeBool=function(x){const b=x.readUInt8();return x.isError(b)?b:b!==0},l.prototype._decodeInt=function(x,b){const g=x.raw();let v=new n(g);return b&&(v=b[v.toString(10)]||v),v},l.prototype._use=function(x,b){return typeof x=="function"&&(x=x(b)),x._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,h,f){const c=f;c.der=t("./der"),c.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,h,f){const c=t("inherits"),n=t("safer-buffer").Buffer,o=t("./der");function i(r){o.call(this,r),this.enc="pem"}c(i,o),h.exports=i,i.prototype.decode=function(r,s){const l=r.toString().split(/[\r\n]+/g),d=s.label.toUpperCase(),u=/^-----(BEGIN|END) ([^-]+)-----$/;let x=-1,b=-1;for(let y=0;y<l.length;y++){const N=l[y].match(u);if(N!==null&&N[2]===d){if(x!==-1){if(N[1]!=="END")break;b=y;break}if(N[1]!=="BEGIN")break;x=y}}if(x===-1||b===-1)throw new Error("PEM section not found for: "+d);const g=l.slice(x+1,b).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const v=n.from(g,"base64");return o.prototype.decode.call(this,v,s)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,h,f){const c=t("inherits"),n=t("safer-buffer").Buffer,o=t("../base/node"),i=t("../constants/der");function r(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new s,this.tree._init(d.body)}function s(d){o.call(this,"der",d)}function l(d){return d<10?"0"+d:d}h.exports=r,r.prototype.encode=function(d,u){return this.tree._encode(d,u).join()},c(s,o),s.prototype._encodeComposite=function(d,u,x,b){const g=(function(N,E,I,O){let $;if(N==="seqof"?N="seq":N==="setof"&&(N="set"),i.tagByName.hasOwnProperty(N))$=i.tagByName[N];else{if(typeof N!="number"||(0|N)!==N)return O.error("Unknown tag: "+N);$=N}return $>=31?O.error("Multi-octet tag encoding unsupported"):(E||($|=32),$|=i.tagClassByName[I||"universal"]<<6,$)})(d,u,x,this.reporter);if(b.length<128){const N=n.alloc(2);return N[0]=g,N[1]=b.length,this._createEncoderBuffer([N,b])}let v=1;for(let N=b.length;N>=256;N>>=8)v++;const y=n.alloc(2+v);y[0]=g,y[1]=128|v;for(let N=1+v,E=b.length;E>0;N--,E>>=8)y[N]=255&E;return this._createEncoderBuffer([y,b])},s.prototype._encodeStr=function(d,u){if(u==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(u==="bmpstr"){const x=n.alloc(2*d.length);for(let b=0;b<d.length;b++)x.writeUInt16BE(d.charCodeAt(b),2*b);return this._createEncoderBuffer(x)}return u==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)||u==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+u+" unsupported")},s.prototype._encodeObjid=function(d,u,x){if(typeof d=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=u[d].split(/[\s.]+/g);for(let y=0;y<d.length;y++)d[y]|=0}else if(Array.isArray(d)){d=d.slice();for(let y=0;y<d.length;y++)d[y]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!x){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let b=0;for(let y=0;y<d.length;y++){let N=d[y];for(b++;N>=128;N>>=7)b++}const g=n.alloc(b);let v=g.length-1;for(let y=d.length-1;y>=0;y--){let N=d[y];for(g[v--]=127&N;(N>>=7)>0;)g[v--]=128|127&N}return this._createEncoderBuffer(g)},s.prototype._encodeTime=function(d,u){let x;const b=new Date(d);return u==="gentime"?x=[l(b.getUTCFullYear()),l(b.getUTCMonth()+1),l(b.getUTCDate()),l(b.getUTCHours()),l(b.getUTCMinutes()),l(b.getUTCSeconds()),"Z"].join(""):u==="utctime"?x=[l(b.getUTCFullYear()%100),l(b.getUTCMonth()+1),l(b.getUTCDate()),l(b.getUTCHours()),l(b.getUTCMinutes()),l(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(x,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(d,u){if(typeof d=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=u[d]}if(typeof d!="number"&&!n.isBuffer(d)){const g=d.toArray();!d.sign&&128&g[0]&&g.unshift(0),d=n.from(g)}if(n.isBuffer(d)){let g=d.length;d.length===0&&g++;const v=n.alloc(g);return d.copy(v),d.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let x=1;for(let g=d;g>=256;g>>=8)x++;const b=new Array(x);for(let g=b.length-1;g>=0;g--)b[g]=255&d,d>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(n.from(b))},s.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},s.prototype._use=function(d,u){return typeof d=="function"&&(d=d(u)),d._getEncoder("der").tree},s.prototype._skipDefault=function(d,u,x){const b=this._baseState;let g;if(b.default===null)return!1;const v=d.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,u,x).join()),v.length!==b.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==b.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,h,f){const c=f;c.der=t("./der"),c.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,h,f){const c=t("inherits"),n=t("./der");function o(i){n.call(this,i),this.enc="pem"}c(o,n),h.exports=o,o.prototype.encode=function(i,r){const s=n.prototype.encode.call(this,i).toString("base64"),l=["-----BEGIN "+r.label+"-----"];for(let d=0;d<s.length;d+=64)l.push(s.slice(d,d+64));return l.push("-----END "+r.label+"-----"),l.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,h,f){(function(c,n){function o(T,D){if(!T)throw new Error(D||"Assertion failed")}function i(T,D){T.super_=D;var A=function(){};A.prototype=D.prototype,T.prototype=new A,T.prototype.constructor=T}function r(T,D,A){if(r.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(D!=="le"&&D!=="be"||(A=D,D=10),this._init(T||0,D||10,A||"be"))}var s;typeof c=="object"?c.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{s=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function l(T,D){var A=T.charCodeAt(D);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function d(T,D,A){var k=l(T,A);return A-1>=D&&(k|=l(T,A-1)<<4),k}function u(T,D,A,k){for(var S=0,j=Math.min(T.length,A),C=D;C<j;C++){var P=T.charCodeAt(C)-48;S*=k,S+=P>=49?P-49+10:P>=17?P-17+10:P}return S}r.isBN=function(T){return T instanceof r||T!==null&&typeof T=="object"&&T.constructor.wordSize===r.wordSize&&Array.isArray(T.words)},r.max=function(T,D){return T.cmp(D)>0?T:D},r.min=function(T,D){return T.cmp(D)<0?T:D},r.prototype._init=function(T,D,A){if(typeof T=="number")return this._initNumber(T,D,A);if(typeof T=="object")return this._initArray(T,D,A);D==="hex"&&(D=16),o(D===(0|D)&&D>=2&&D<=36);var k=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(k++,this.negative=1),k<T.length&&(D===16?this._parseHex(T,k,A):(this._parseBase(T,D,k),A==="le"&&this._initArray(this.toArray(),D,A)))},r.prototype._initNumber=function(T,D,A){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(o(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),D,A)},r.prototype._initArray=function(T,D,A){if(o(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S,j,C=0;if(A==="be")for(k=T.length-1,S=0;k>=0;k-=3)j=T[k]|T[k-1]<<8|T[k-2]<<16,this.words[S]|=j<<C&67108863,this.words[S+1]=j>>>26-C&67108863,(C+=24)>=26&&(C-=26,S++);else if(A==="le")for(k=0,S=0;k<T.length;k+=3)j=T[k]|T[k+1]<<8|T[k+2]<<16,this.words[S]|=j<<C&67108863,this.words[S+1]=j>>>26-C&67108863,(C+=24)>=26&&(C-=26,S++);return this.strip()},r.prototype._parseHex=function(T,D,A){this.length=Math.ceil((T.length-D)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var S,j=0,C=0;if(A==="be")for(k=T.length-1;k>=D;k-=2)S=d(T,D,k)<<j,this.words[C]|=67108863&S,j>=18?(j-=18,C+=1,this.words[C]|=S>>>26):j+=8;else for(k=(T.length-D)%2==0?D+1:D;k<T.length;k+=2)S=d(T,D,k)<<j,this.words[C]|=67108863&S,j>=18?(j-=18,C+=1,this.words[C]|=S>>>26):j+=8;this.strip()},r.prototype._parseBase=function(T,D,A){this.words=[0],this.length=1;for(var k=0,S=1;S<=67108863;S*=D)k++;k--,S=S/D|0;for(var j=T.length-A,C=j%k,P=Math.min(j,j-C)+A,R=0,L=A;L<P;L+=k)R=u(T,L,L+k,D),this.imuln(S),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(C!==0){var Y=1;for(R=u(T,L,T.length,D),L=0;L<C;L++)Y*=D;this.imuln(Y),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this.strip()},r.prototype.copy=function(T){T.words=new Array(this.length);for(var D=0;D<this.length;D++)T.words[D]=this.words[D];T.length=this.length,T.negative=this.negative,T.red=this.red},r.prototype.clone=function(){var T=new r(null);return this.copy(T),T},r.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},r.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},r.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(T,D,A){A.negative=D.negative^T.negative;var k=T.length+D.length|0;A.length=k,k=k-1|0;var S=0|T.words[0],j=0|D.words[0],C=S*j,P=67108863&C,R=C/67108864|0;A.words[0]=P;for(var L=1;L<k;L++){for(var Y=R>>>26,Z=67108863&R,ae=Math.min(L,D.length-1),q=Math.max(0,L-T.length+1);q<=ae;q++){var X=L-q|0;Y+=(C=(S=0|T.words[X])*(j=0|D.words[q])+Z)/67108864|0,Z=67108863&C}A.words[L]=0|Z,R=0|Y}return R!==0?A.words[L]=0|R:A.length--,A.strip()}r.prototype.toString=function(T,D){var A;if(D=0|D||1,(T=T||10)===16||T==="hex"){A="";for(var k=0,S=0,j=0;j<this.length;j++){var C=this.words[j],P=(16777215&(C<<k|S)).toString(16);A=(S=C>>>24-k&16777215)!==0||j!==this.length-1?x[6-P.length]+P+A:P+A,(k+=2)>=26&&(k-=26,j--)}for(S!==0&&(A=S.toString(16)+A);A.length%D!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(T===(0|T)&&T>=2&&T<=36){var R=b[T],L=g[T];A="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var Z=Y.modn(L).toString(T);A=(Y=Y.idivn(L)).isZero()?Z+A:x[R-Z.length]+Z+A}for(this.isZero()&&(A="0"+A);A.length%D!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}o(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},r.prototype.toJSON=function(){return this.toString(16)},r.prototype.toBuffer=function(T,D){return o(s!==void 0),this.toArrayLike(s,T,D)},r.prototype.toArray=function(T,D){return this.toArrayLike(Array,T,D)},r.prototype.toArrayLike=function(T,D,A){var k=this.byteLength(),S=A||Math.max(1,k);o(k<=S,"byte array longer than desired length"),o(S>0,"Requested array length <= 0"),this.strip();var j,C,P=D==="le",R=new T(S),L=this.clone();if(P){for(C=0;!L.isZero();C++)j=L.andln(255),L.iushrn(8),R[C]=j;for(;C<S;C++)R[C]=0}else{for(C=0;C<S-k;C++)R[C]=0;for(C=0;!L.isZero();C++)j=L.andln(255),L.iushrn(8),R[S-C-1]=j}return R},Math.clz32?r.prototype._countBits=function(T){return 32-Math.clz32(T)}:r.prototype._countBits=function(T){var D=T,A=0;return D>=4096&&(A+=13,D>>>=13),D>=64&&(A+=7,D>>>=7),D>=8&&(A+=4,D>>>=4),D>=2&&(A+=2,D>>>=2),A+D},r.prototype._zeroBits=function(T){if(T===0)return 26;var D=T,A=0;return(8191&D)==0&&(A+=13,D>>>=13),(127&D)==0&&(A+=7,D>>>=7),(15&D)==0&&(A+=4,D>>>=4),(3&D)==0&&(A+=2,D>>>=2),(1&D)==0&&A++,A},r.prototype.bitLength=function(){var T=this.words[this.length-1],D=this._countBits(T);return 26*(this.length-1)+D},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,D=0;D<this.length;D++){var A=this._zeroBits(this.words[D]);if(T+=A,A!==26)break}return T},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},r.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var D=0;D<T.length;D++)this.words[D]=this.words[D]|T.words[D];return this.strip()},r.prototype.ior=function(T){return o((this.negative|T.negative)==0),this.iuor(T)},r.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},r.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},r.prototype.iuand=function(T){var D;D=this.length>T.length?T:this;for(var A=0;A<D.length;A++)this.words[A]=this.words[A]&T.words[A];return this.length=D.length,this.strip()},r.prototype.iand=function(T){return o((this.negative|T.negative)==0),this.iuand(T)},r.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},r.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},r.prototype.iuxor=function(T){var D,A;this.length>T.length?(D=this,A=T):(D=T,A=this);for(var k=0;k<A.length;k++)this.words[k]=D.words[k]^A.words[k];if(this!==D)for(;k<D.length;k++)this.words[k]=D.words[k];return this.length=D.length,this.strip()},r.prototype.ixor=function(T){return o((this.negative|T.negative)==0),this.iuxor(T)},r.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},r.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},r.prototype.inotn=function(T){o(typeof T=="number"&&T>=0);var D=0|Math.ceil(T/26),A=T%26;this._expand(D),A>0&&D--;for(var k=0;k<D;k++)this.words[k]=67108863&~this.words[k];return A>0&&(this.words[k]=~this.words[k]&67108863>>26-A),this.strip()},r.prototype.notn=function(T){return this.clone().inotn(T)},r.prototype.setn=function(T,D){o(typeof T=="number"&&T>=0);var A=T/26|0,k=T%26;return this._expand(A+1),this.words[A]=D?this.words[A]|1<<k:this.words[A]&~(1<<k),this.strip()},r.prototype.iadd=function(T){var D,A,k;if(this.negative!==0&&T.negative===0)return this.negative=0,D=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,D=this.isub(T),T.negative=1,D._normSign();this.length>T.length?(A=this,k=T):(A=T,k=this);for(var S=0,j=0;j<k.length;j++)D=(0|A.words[j])+(0|k.words[j])+S,this.words[j]=67108863&D,S=D>>>26;for(;S!==0&&j<A.length;j++)D=(0|A.words[j])+S,this.words[j]=67108863&D,S=D>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;j<A.length;j++)this.words[j]=A.words[j];return this},r.prototype.add=function(T){var D;return T.negative!==0&&this.negative===0?(T.negative=0,D=this.sub(T),T.negative^=1,D):T.negative===0&&this.negative!==0?(this.negative=0,D=T.sub(this),this.negative=1,D):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},r.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var D=this.iadd(T);return T.negative=1,D._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var A,k,S=this.cmp(T);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(A=this,k=T):(A=T,k=this);for(var j=0,C=0;C<k.length;C++)j=(D=(0|A.words[C])-(0|k.words[C])+j)>>26,this.words[C]=67108863&D;for(;j!==0&&C<A.length;C++)j=(D=(0|A.words[C])+j)>>26,this.words[C]=67108863&D;if(j===0&&C<A.length&&A!==this)for(;C<A.length;C++)this.words[C]=A.words[C];return this.length=Math.max(this.length,C),A!==this&&(this.negative=1),this.strip()},r.prototype.sub=function(T){return this.clone().isub(T)};var y=function(T,D,A){var k,S,j,C=T.words,P=D.words,R=A.words,L=0,Y=0|C[0],Z=8191&Y,ae=Y>>>13,q=0|C[1],X=8191&q,F=q>>>13,M=0|C[2],K=8191&M,se=M>>>13,oe=0|C[3],ne=8191&oe,le=oe>>>13,Se=0|C[4],je=8191&Se,ee=Se>>>13,ce=0|C[5],be=8191&ce,Te=ce>>>13,Ce=0|C[6],Pe=8191&Ce,Be=Ce>>>13,Ge=0|C[7],st=8191&Ge,bt=Ge>>>13,_e=0|C[8],We=8191&_e,vt=_e>>>13,At=0|C[9],Nt=8191&At,De=At>>>13,ge=0|P[0],Oe=8191&ge,Ke=ge>>>13,pe=0|P[1],me=8191&pe,xe=pe>>>13,te=0|P[2],we=8191&te,Ue=te>>>13,et=0|P[3],dt=8191&et,St=et>>>13,Ut=0|P[4],ve=8191&Ut,de=Ut>>>13,Ye=0|P[5],ut=8191&Ye,pt=Ye>>>13,Le=0|P[6],Je=8191&Le,ke=Le>>>13,Me=0|P[7],He=8191&Me,ot=Me>>>13,at=0|P[8],ft=8191&at,Kt=at>>>13,zt=0|P[9],Re=8191&zt,rt=zt>>>13;A.negative=T.negative^D.negative,A.length=19;var mt=(L+(k=Math.imul(Z,Oe))|0)+((8191&(S=(S=Math.imul(Z,Ke))+Math.imul(ae,Oe)|0))<<13)|0;L=((j=Math.imul(ae,Ke))+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,k=Math.imul(X,Oe),S=(S=Math.imul(X,Ke))+Math.imul(F,Oe)|0,j=Math.imul(F,Ke);var Dt=(L+(k=k+Math.imul(Z,me)|0)|0)+((8191&(S=(S=S+Math.imul(Z,xe)|0)+Math.imul(ae,me)|0))<<13)|0;L=((j=j+Math.imul(ae,xe)|0)+(S>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,k=Math.imul(K,Oe),S=(S=Math.imul(K,Ke))+Math.imul(se,Oe)|0,j=Math.imul(se,Ke),k=k+Math.imul(X,me)|0,S=(S=S+Math.imul(X,xe)|0)+Math.imul(F,me)|0,j=j+Math.imul(F,xe)|0;var _t=(L+(k=k+Math.imul(Z,we)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ue)|0)+Math.imul(ae,we)|0))<<13)|0;L=((j=j+Math.imul(ae,Ue)|0)+(S>>>13)|0)+(_t>>>26)|0,_t&=67108863,k=Math.imul(ne,Oe),S=(S=Math.imul(ne,Ke))+Math.imul(le,Oe)|0,j=Math.imul(le,Ke),k=k+Math.imul(K,me)|0,S=(S=S+Math.imul(K,xe)|0)+Math.imul(se,me)|0,j=j+Math.imul(se,xe)|0,k=k+Math.imul(X,we)|0,S=(S=S+Math.imul(X,Ue)|0)+Math.imul(F,we)|0,j=j+Math.imul(F,Ue)|0;var jt=(L+(k=k+Math.imul(Z,dt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,St)|0)+Math.imul(ae,dt)|0))<<13)|0;L=((j=j+Math.imul(ae,St)|0)+(S>>>13)|0)+(jt>>>26)|0,jt&=67108863,k=Math.imul(je,Oe),S=(S=Math.imul(je,Ke))+Math.imul(ee,Oe)|0,j=Math.imul(ee,Ke),k=k+Math.imul(ne,me)|0,S=(S=S+Math.imul(ne,xe)|0)+Math.imul(le,me)|0,j=j+Math.imul(le,xe)|0,k=k+Math.imul(K,we)|0,S=(S=S+Math.imul(K,Ue)|0)+Math.imul(se,we)|0,j=j+Math.imul(se,Ue)|0,k=k+Math.imul(X,dt)|0,S=(S=S+Math.imul(X,St)|0)+Math.imul(F,dt)|0,j=j+Math.imul(F,St)|0;var Ie=(L+(k=k+Math.imul(Z,ve)|0)|0)+((8191&(S=(S=S+Math.imul(Z,de)|0)+Math.imul(ae,ve)|0))<<13)|0;L=((j=j+Math.imul(ae,de)|0)+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,k=Math.imul(be,Oe),S=(S=Math.imul(be,Ke))+Math.imul(Te,Oe)|0,j=Math.imul(Te,Ke),k=k+Math.imul(je,me)|0,S=(S=S+Math.imul(je,xe)|0)+Math.imul(ee,me)|0,j=j+Math.imul(ee,xe)|0,k=k+Math.imul(ne,we)|0,S=(S=S+Math.imul(ne,Ue)|0)+Math.imul(le,we)|0,j=j+Math.imul(le,Ue)|0,k=k+Math.imul(K,dt)|0,S=(S=S+Math.imul(K,St)|0)+Math.imul(se,dt)|0,j=j+Math.imul(se,St)|0,k=k+Math.imul(X,ve)|0,S=(S=S+Math.imul(X,de)|0)+Math.imul(F,ve)|0,j=j+Math.imul(F,de)|0;var ht=(L+(k=k+Math.imul(Z,ut)|0)|0)+((8191&(S=(S=S+Math.imul(Z,pt)|0)+Math.imul(ae,ut)|0))<<13)|0;L=((j=j+Math.imul(ae,pt)|0)+(S>>>13)|0)+(ht>>>26)|0,ht&=67108863,k=Math.imul(Pe,Oe),S=(S=Math.imul(Pe,Ke))+Math.imul(Be,Oe)|0,j=Math.imul(Be,Ke),k=k+Math.imul(be,me)|0,S=(S=S+Math.imul(be,xe)|0)+Math.imul(Te,me)|0,j=j+Math.imul(Te,xe)|0,k=k+Math.imul(je,we)|0,S=(S=S+Math.imul(je,Ue)|0)+Math.imul(ee,we)|0,j=j+Math.imul(ee,Ue)|0,k=k+Math.imul(ne,dt)|0,S=(S=S+Math.imul(ne,St)|0)+Math.imul(le,dt)|0,j=j+Math.imul(le,St)|0,k=k+Math.imul(K,ve)|0,S=(S=S+Math.imul(K,de)|0)+Math.imul(se,ve)|0,j=j+Math.imul(se,de)|0,k=k+Math.imul(X,ut)|0,S=(S=S+Math.imul(X,pt)|0)+Math.imul(F,ut)|0,j=j+Math.imul(F,pt)|0;var Vt=(L+(k=k+Math.imul(Z,Je)|0)|0)+((8191&(S=(S=S+Math.imul(Z,ke)|0)+Math.imul(ae,Je)|0))<<13)|0;L=((j=j+Math.imul(ae,ke)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,k=Math.imul(st,Oe),S=(S=Math.imul(st,Ke))+Math.imul(bt,Oe)|0,j=Math.imul(bt,Ke),k=k+Math.imul(Pe,me)|0,S=(S=S+Math.imul(Pe,xe)|0)+Math.imul(Be,me)|0,j=j+Math.imul(Be,xe)|0,k=k+Math.imul(be,we)|0,S=(S=S+Math.imul(be,Ue)|0)+Math.imul(Te,we)|0,j=j+Math.imul(Te,Ue)|0,k=k+Math.imul(je,dt)|0,S=(S=S+Math.imul(je,St)|0)+Math.imul(ee,dt)|0,j=j+Math.imul(ee,St)|0,k=k+Math.imul(ne,ve)|0,S=(S=S+Math.imul(ne,de)|0)+Math.imul(le,ve)|0,j=j+Math.imul(le,de)|0,k=k+Math.imul(K,ut)|0,S=(S=S+Math.imul(K,pt)|0)+Math.imul(se,ut)|0,j=j+Math.imul(se,pt)|0,k=k+Math.imul(X,Je)|0,S=(S=S+Math.imul(X,ke)|0)+Math.imul(F,Je)|0,j=j+Math.imul(F,ke)|0;var Ne=(L+(k=k+Math.imul(Z,He)|0)|0)+((8191&(S=(S=S+Math.imul(Z,ot)|0)+Math.imul(ae,He)|0))<<13)|0;L=((j=j+Math.imul(ae,ot)|0)+(S>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,k=Math.imul(We,Oe),S=(S=Math.imul(We,Ke))+Math.imul(vt,Oe)|0,j=Math.imul(vt,Ke),k=k+Math.imul(st,me)|0,S=(S=S+Math.imul(st,xe)|0)+Math.imul(bt,me)|0,j=j+Math.imul(bt,xe)|0,k=k+Math.imul(Pe,we)|0,S=(S=S+Math.imul(Pe,Ue)|0)+Math.imul(Be,we)|0,j=j+Math.imul(Be,Ue)|0,k=k+Math.imul(be,dt)|0,S=(S=S+Math.imul(be,St)|0)+Math.imul(Te,dt)|0,j=j+Math.imul(Te,St)|0,k=k+Math.imul(je,ve)|0,S=(S=S+Math.imul(je,de)|0)+Math.imul(ee,ve)|0,j=j+Math.imul(ee,de)|0,k=k+Math.imul(ne,ut)|0,S=(S=S+Math.imul(ne,pt)|0)+Math.imul(le,ut)|0,j=j+Math.imul(le,pt)|0,k=k+Math.imul(K,Je)|0,S=(S=S+Math.imul(K,ke)|0)+Math.imul(se,Je)|0,j=j+Math.imul(se,ke)|0,k=k+Math.imul(X,He)|0,S=(S=S+Math.imul(X,ot)|0)+Math.imul(F,He)|0,j=j+Math.imul(F,ot)|0;var Ve=(L+(k=k+Math.imul(Z,ft)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Kt)|0)+Math.imul(ae,ft)|0))<<13)|0;L=((j=j+Math.imul(ae,Kt)|0)+(S>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,k=Math.imul(Nt,Oe),S=(S=Math.imul(Nt,Ke))+Math.imul(De,Oe)|0,j=Math.imul(De,Ke),k=k+Math.imul(We,me)|0,S=(S=S+Math.imul(We,xe)|0)+Math.imul(vt,me)|0,j=j+Math.imul(vt,xe)|0,k=k+Math.imul(st,we)|0,S=(S=S+Math.imul(st,Ue)|0)+Math.imul(bt,we)|0,j=j+Math.imul(bt,Ue)|0,k=k+Math.imul(Pe,dt)|0,S=(S=S+Math.imul(Pe,St)|0)+Math.imul(Be,dt)|0,j=j+Math.imul(Be,St)|0,k=k+Math.imul(be,ve)|0,S=(S=S+Math.imul(be,de)|0)+Math.imul(Te,ve)|0,j=j+Math.imul(Te,de)|0,k=k+Math.imul(je,ut)|0,S=(S=S+Math.imul(je,pt)|0)+Math.imul(ee,ut)|0,j=j+Math.imul(ee,pt)|0,k=k+Math.imul(ne,Je)|0,S=(S=S+Math.imul(ne,ke)|0)+Math.imul(le,Je)|0,j=j+Math.imul(le,ke)|0,k=k+Math.imul(K,He)|0,S=(S=S+Math.imul(K,ot)|0)+Math.imul(se,He)|0,j=j+Math.imul(se,ot)|0,k=k+Math.imul(X,ft)|0,S=(S=S+Math.imul(X,Kt)|0)+Math.imul(F,ft)|0,j=j+Math.imul(F,Kt)|0;var lt=(L+(k=k+Math.imul(Z,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Z,rt)|0)+Math.imul(ae,Re)|0))<<13)|0;L=((j=j+Math.imul(ae,rt)|0)+(S>>>13)|0)+(lt>>>26)|0,lt&=67108863,k=Math.imul(Nt,me),S=(S=Math.imul(Nt,xe))+Math.imul(De,me)|0,j=Math.imul(De,xe),k=k+Math.imul(We,we)|0,S=(S=S+Math.imul(We,Ue)|0)+Math.imul(vt,we)|0,j=j+Math.imul(vt,Ue)|0,k=k+Math.imul(st,dt)|0,S=(S=S+Math.imul(st,St)|0)+Math.imul(bt,dt)|0,j=j+Math.imul(bt,St)|0,k=k+Math.imul(Pe,ve)|0,S=(S=S+Math.imul(Pe,de)|0)+Math.imul(Be,ve)|0,j=j+Math.imul(Be,de)|0,k=k+Math.imul(be,ut)|0,S=(S=S+Math.imul(be,pt)|0)+Math.imul(Te,ut)|0,j=j+Math.imul(Te,pt)|0,k=k+Math.imul(je,Je)|0,S=(S=S+Math.imul(je,ke)|0)+Math.imul(ee,Je)|0,j=j+Math.imul(ee,ke)|0,k=k+Math.imul(ne,He)|0,S=(S=S+Math.imul(ne,ot)|0)+Math.imul(le,He)|0,j=j+Math.imul(le,ot)|0,k=k+Math.imul(K,ft)|0,S=(S=S+Math.imul(K,Kt)|0)+Math.imul(se,ft)|0,j=j+Math.imul(se,Kt)|0;var kt=(L+(k=k+Math.imul(X,Re)|0)|0)+((8191&(S=(S=S+Math.imul(X,rt)|0)+Math.imul(F,Re)|0))<<13)|0;L=((j=j+Math.imul(F,rt)|0)+(S>>>13)|0)+(kt>>>26)|0,kt&=67108863,k=Math.imul(Nt,we),S=(S=Math.imul(Nt,Ue))+Math.imul(De,we)|0,j=Math.imul(De,Ue),k=k+Math.imul(We,dt)|0,S=(S=S+Math.imul(We,St)|0)+Math.imul(vt,dt)|0,j=j+Math.imul(vt,St)|0,k=k+Math.imul(st,ve)|0,S=(S=S+Math.imul(st,de)|0)+Math.imul(bt,ve)|0,j=j+Math.imul(bt,de)|0,k=k+Math.imul(Pe,ut)|0,S=(S=S+Math.imul(Pe,pt)|0)+Math.imul(Be,ut)|0,j=j+Math.imul(Be,pt)|0,k=k+Math.imul(be,Je)|0,S=(S=S+Math.imul(be,ke)|0)+Math.imul(Te,Je)|0,j=j+Math.imul(Te,ke)|0,k=k+Math.imul(je,He)|0,S=(S=S+Math.imul(je,ot)|0)+Math.imul(ee,He)|0,j=j+Math.imul(ee,ot)|0,k=k+Math.imul(ne,ft)|0,S=(S=S+Math.imul(ne,Kt)|0)+Math.imul(le,ft)|0,j=j+Math.imul(le,Kt)|0;var Ot=(L+(k=k+Math.imul(K,Re)|0)|0)+((8191&(S=(S=S+Math.imul(K,rt)|0)+Math.imul(se,Re)|0))<<13)|0;L=((j=j+Math.imul(se,rt)|0)+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,k=Math.imul(Nt,dt),S=(S=Math.imul(Nt,St))+Math.imul(De,dt)|0,j=Math.imul(De,St),k=k+Math.imul(We,ve)|0,S=(S=S+Math.imul(We,de)|0)+Math.imul(vt,ve)|0,j=j+Math.imul(vt,de)|0,k=k+Math.imul(st,ut)|0,S=(S=S+Math.imul(st,pt)|0)+Math.imul(bt,ut)|0,j=j+Math.imul(bt,pt)|0,k=k+Math.imul(Pe,Je)|0,S=(S=S+Math.imul(Pe,ke)|0)+Math.imul(Be,Je)|0,j=j+Math.imul(Be,ke)|0,k=k+Math.imul(be,He)|0,S=(S=S+Math.imul(be,ot)|0)+Math.imul(Te,He)|0,j=j+Math.imul(Te,ot)|0,k=k+Math.imul(je,ft)|0,S=(S=S+Math.imul(je,Kt)|0)+Math.imul(ee,ft)|0,j=j+Math.imul(ee,Kt)|0;var Pt=(L+(k=k+Math.imul(ne,Re)|0)|0)+((8191&(S=(S=S+Math.imul(ne,rt)|0)+Math.imul(le,Re)|0))<<13)|0;L=((j=j+Math.imul(le,rt)|0)+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,k=Math.imul(Nt,ve),S=(S=Math.imul(Nt,de))+Math.imul(De,ve)|0,j=Math.imul(De,de),k=k+Math.imul(We,ut)|0,S=(S=S+Math.imul(We,pt)|0)+Math.imul(vt,ut)|0,j=j+Math.imul(vt,pt)|0,k=k+Math.imul(st,Je)|0,S=(S=S+Math.imul(st,ke)|0)+Math.imul(bt,Je)|0,j=j+Math.imul(bt,ke)|0,k=k+Math.imul(Pe,He)|0,S=(S=S+Math.imul(Pe,ot)|0)+Math.imul(Be,He)|0,j=j+Math.imul(Be,ot)|0,k=k+Math.imul(be,ft)|0,S=(S=S+Math.imul(be,Kt)|0)+Math.imul(Te,ft)|0,j=j+Math.imul(Te,Kt)|0;var $t=(L+(k=k+Math.imul(je,Re)|0)|0)+((8191&(S=(S=S+Math.imul(je,rt)|0)+Math.imul(ee,Re)|0))<<13)|0;L=((j=j+Math.imul(ee,rt)|0)+(S>>>13)|0)+($t>>>26)|0,$t&=67108863,k=Math.imul(Nt,ut),S=(S=Math.imul(Nt,pt))+Math.imul(De,ut)|0,j=Math.imul(De,pt),k=k+Math.imul(We,Je)|0,S=(S=S+Math.imul(We,ke)|0)+Math.imul(vt,Je)|0,j=j+Math.imul(vt,ke)|0,k=k+Math.imul(st,He)|0,S=(S=S+Math.imul(st,ot)|0)+Math.imul(bt,He)|0,j=j+Math.imul(bt,ot)|0,k=k+Math.imul(Pe,ft)|0,S=(S=S+Math.imul(Pe,Kt)|0)+Math.imul(Be,ft)|0,j=j+Math.imul(Be,Kt)|0;var sr=(L+(k=k+Math.imul(be,Re)|0)|0)+((8191&(S=(S=S+Math.imul(be,rt)|0)+Math.imul(Te,Re)|0))<<13)|0;L=((j=j+Math.imul(Te,rt)|0)+(S>>>13)|0)+(sr>>>26)|0,sr&=67108863,k=Math.imul(Nt,Je),S=(S=Math.imul(Nt,ke))+Math.imul(De,Je)|0,j=Math.imul(De,ke),k=k+Math.imul(We,He)|0,S=(S=S+Math.imul(We,ot)|0)+Math.imul(vt,He)|0,j=j+Math.imul(vt,ot)|0,k=k+Math.imul(st,ft)|0,S=(S=S+Math.imul(st,Kt)|0)+Math.imul(bt,ft)|0,j=j+Math.imul(bt,Kt)|0;var Yt=(L+(k=k+Math.imul(Pe,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Pe,rt)|0)+Math.imul(Be,Re)|0))<<13)|0;L=((j=j+Math.imul(Be,rt)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,k=Math.imul(Nt,He),S=(S=Math.imul(Nt,ot))+Math.imul(De,He)|0,j=Math.imul(De,ot),k=k+Math.imul(We,ft)|0,S=(S=S+Math.imul(We,Kt)|0)+Math.imul(vt,ft)|0,j=j+Math.imul(vt,Kt)|0;var Lt=(L+(k=k+Math.imul(st,Re)|0)|0)+((8191&(S=(S=S+Math.imul(st,rt)|0)+Math.imul(bt,Re)|0))<<13)|0;L=((j=j+Math.imul(bt,rt)|0)+(S>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,k=Math.imul(Nt,ft),S=(S=Math.imul(Nt,Kt))+Math.imul(De,ft)|0,j=Math.imul(De,Kt);var Jt=(L+(k=k+Math.imul(We,Re)|0)|0)+((8191&(S=(S=S+Math.imul(We,rt)|0)+Math.imul(vt,Re)|0))<<13)|0;L=((j=j+Math.imul(vt,rt)|0)+(S>>>13)|0)+(Jt>>>26)|0,Jt&=67108863;var dr=(L+(k=Math.imul(Nt,Re))|0)+((8191&(S=(S=Math.imul(Nt,rt))+Math.imul(De,Re)|0))<<13)|0;return L=((j=Math.imul(De,rt))+(S>>>13)|0)+(dr>>>26)|0,dr&=67108863,R[0]=mt,R[1]=Dt,R[2]=_t,R[3]=jt,R[4]=Ie,R[5]=ht,R[6]=Vt,R[7]=Ne,R[8]=Ve,R[9]=lt,R[10]=kt,R[11]=Ot,R[12]=Pt,R[13]=$t,R[14]=sr,R[15]=Yt,R[16]=Lt,R[17]=Jt,R[18]=dr,L!==0&&(R[19]=L,A.length++),A};function N(T,D,A){return new E().mulp(T,D,A)}function E(T,D){this.x=T,this.y=D}Math.imul||(y=v),r.prototype.mulTo=function(T,D){var A=this.length+T.length;return this.length===10&&T.length===10?y(this,T,D):A<63?v(this,T,D):A<1024?(function(k,S,j){j.negative=S.negative^k.negative,j.length=k.length+S.length;for(var C=0,P=0,R=0;R<j.length-1;R++){var L=P;P=0;for(var Y=67108863&C,Z=Math.min(R,S.length-1),ae=Math.max(0,R-k.length+1);ae<=Z;ae++){var q=R-ae,X=(0|k.words[q])*(0|S.words[ae]),F=67108863&X;Y=67108863&(F=F+Y|0),P+=(L=(L=L+(X/67108864|0)|0)+(F>>>26)|0)>>>26,L&=67108863}j.words[R]=Y,C=L,L=P}return C!==0?j.words[R]=C:j.length--,j.strip()})(this,T,D):N(this,T,D)},E.prototype.makeRBT=function(T){for(var D=new Array(T),A=r.prototype._countBits(T)-1,k=0;k<T;k++)D[k]=this.revBin(k,A,T);return D},E.prototype.revBin=function(T,D,A){if(T===0||T===A-1)return T;for(var k=0,S=0;S<D;S++)k|=(1&T)<<D-S-1,T>>=1;return k},E.prototype.permute=function(T,D,A,k,S,j){for(var C=0;C<j;C++)k[C]=D[T[C]],S[C]=A[T[C]]},E.prototype.transform=function(T,D,A,k,S,j){this.permute(j,T,D,A,k,S);for(var C=1;C<S;C<<=1)for(var P=C<<1,R=Math.cos(2*Math.PI/P),L=Math.sin(2*Math.PI/P),Y=0;Y<S;Y+=P)for(var Z=R,ae=L,q=0;q<C;q++){var X=A[Y+q],F=k[Y+q],M=A[Y+q+C],K=k[Y+q+C],se=Z*M-ae*K;K=Z*K+ae*M,M=se,A[Y+q]=X+M,k[Y+q]=F+K,A[Y+q+C]=X-M,k[Y+q+C]=F-K,q!==P&&(se=R*Z-L*ae,ae=R*ae+L*Z,Z=se)}},E.prototype.guessLen13b=function(T,D){var A=1|Math.max(D,T),k=1&A,S=0;for(A=A/2|0;A;A>>>=1)S++;return 1<<S+1+k},E.prototype.conjugate=function(T,D,A){if(!(A<=1))for(var k=0;k<A/2;k++){var S=T[k];T[k]=T[A-k-1],T[A-k-1]=S,S=D[k],D[k]=-D[A-k-1],D[A-k-1]=-S}},E.prototype.normalize13b=function(T,D){for(var A=0,k=0;k<D/2;k++){var S=8192*Math.round(T[2*k+1]/D)+Math.round(T[2*k]/D)+A;T[k]=67108863&S,A=S<67108864?0:S/67108864|0}return T},E.prototype.convert13b=function(T,D,A,k){for(var S=0,j=0;j<D;j++)S+=0|T[j],A[2*j]=8191&S,S>>>=13,A[2*j+1]=8191&S,S>>>=13;for(j=2*D;j<k;++j)A[j]=0;o(S===0),o((-8192&S)==0)},E.prototype.stub=function(T){for(var D=new Array(T),A=0;A<T;A++)D[A]=0;return D},E.prototype.mulp=function(T,D,A){var k=2*this.guessLen13b(T.length,D.length),S=this.makeRBT(k),j=this.stub(k),C=new Array(k),P=new Array(k),R=new Array(k),L=new Array(k),Y=new Array(k),Z=new Array(k),ae=A.words;ae.length=k,this.convert13b(T.words,T.length,C,k),this.convert13b(D.words,D.length,L,k),this.transform(C,j,P,R,k,S),this.transform(L,j,Y,Z,k,S);for(var q=0;q<k;q++){var X=P[q]*Y[q]-R[q]*Z[q];R[q]=P[q]*Z[q]+R[q]*Y[q],P[q]=X}return this.conjugate(P,R,k),this.transform(P,R,ae,j,k,S),this.conjugate(ae,j,k),this.normalize13b(ae,k),A.negative=T.negative^D.negative,A.length=T.length+D.length,A.strip()},r.prototype.mul=function(T){var D=new r(null);return D.words=new Array(this.length+T.length),this.mulTo(T,D)},r.prototype.mulf=function(T){var D=new r(null);return D.words=new Array(this.length+T.length),N(this,T,D)},r.prototype.imul=function(T){return this.clone().mulTo(T,this)},r.prototype.imuln=function(T){o(typeof T=="number"),o(T<67108864);for(var D=0,A=0;A<this.length;A++){var k=(0|this.words[A])*T,S=(67108863&k)+(67108863&D);D>>=26,D+=k/67108864|0,D+=S>>>26,this.words[A]=67108863&S}return D!==0&&(this.words[A]=D,this.length++),this},r.prototype.muln=function(T){return this.clone().imuln(T)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(T){var D=(function(j){for(var C=new Array(j.bitLength()),P=0;P<C.length;P++){var R=P/26|0,L=P%26;C[P]=(j.words[R]&1<<L)>>>L}return C})(T);if(D.length===0)return new r(1);for(var A=this,k=0;k<D.length&&D[k]===0;k++,A=A.sqr());if(++k<D.length)for(var S=A.sqr();k<D.length;k++,S=S.sqr())D[k]!==0&&(A=A.mul(S));return A},r.prototype.iushln=function(T){o(typeof T=="number"&&T>=0);var D,A=T%26,k=(T-A)/26,S=67108863>>>26-A<<26-A;if(A!==0){var j=0;for(D=0;D<this.length;D++){var C=this.words[D]&S,P=(0|this.words[D])-C<<A;this.words[D]=P|j,j=C>>>26-A}j&&(this.words[D]=j,this.length++)}if(k!==0){for(D=this.length-1;D>=0;D--)this.words[D+k]=this.words[D];for(D=0;D<k;D++)this.words[D]=0;this.length+=k}return this.strip()},r.prototype.ishln=function(T){return o(this.negative===0),this.iushln(T)},r.prototype.iushrn=function(T,D,A){var k;o(typeof T=="number"&&T>=0),k=D?(D-D%26)/26:0;var S=T%26,j=Math.min((T-S)/26,this.length),C=67108863^67108863>>>S<<S,P=A;if(k-=j,k=Math.max(0,k),P){for(var R=0;R<j;R++)P.words[R]=this.words[R];P.length=j}if(j!==0)if(this.length>j)for(this.length-=j,R=0;R<this.length;R++)this.words[R]=this.words[R+j];else this.words[0]=0,this.length=1;var L=0;for(R=this.length-1;R>=0&&(L!==0||R>=k);R--){var Y=0|this.words[R];this.words[R]=L<<26-S|Y>>>S,L=Y&C}return P&&L!==0&&(P.words[P.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},r.prototype.ishrn=function(T,D,A){return o(this.negative===0),this.iushrn(T,D,A)},r.prototype.shln=function(T){return this.clone().ishln(T)},r.prototype.ushln=function(T){return this.clone().iushln(T)},r.prototype.shrn=function(T){return this.clone().ishrn(T)},r.prototype.ushrn=function(T){return this.clone().iushrn(T)},r.prototype.testn=function(T){o(typeof T=="number"&&T>=0);var D=T%26,A=(T-D)/26,k=1<<D;return!(this.length<=A)&&!!(this.words[A]&k)},r.prototype.imaskn=function(T){o(typeof T=="number"&&T>=0);var D=T%26,A=(T-D)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(D!==0&&A++,this.length=Math.min(A,this.length),D!==0){var k=67108863^67108863>>>D<<D;this.words[this.length-1]&=k}return this.strip()},r.prototype.maskn=function(T){return this.clone().imaskn(T)},r.prototype.iaddn=function(T){return o(typeof T=="number"),o(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},r.prototype._iaddn=function(T){this.words[0]+=T;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},r.prototype.isubn=function(T){if(o(typeof T=="number"),o(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},r.prototype.addn=function(T){return this.clone().iaddn(T)},r.prototype.subn=function(T){return this.clone().isubn(T)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(T,D,A){var k,S,j=T.length+A;this._expand(j);var C=0;for(k=0;k<T.length;k++){S=(0|this.words[k+A])+C;var P=(0|T.words[k])*D;C=((S-=67108863&P)>>26)-(P/67108864|0),this.words[k+A]=67108863&S}for(;k<this.length-A;k++)C=(S=(0|this.words[k+A])+C)>>26,this.words[k+A]=67108863&S;if(C===0)return this.strip();for(o(C===-1),C=0,k=0;k<this.length;k++)C=(S=-(0|this.words[k])+C)>>26,this.words[k]=67108863&S;return this.negative=1,this.strip()},r.prototype._wordDiv=function(T,D){var A=(this.length,T.length),k=this.clone(),S=T,j=0|S.words[S.length-1];(A=26-this._countBits(j))!==0&&(S=S.ushln(A),k.iushln(A),j=0|S.words[S.length-1]);var C,P=k.length-S.length;if(D!=="mod"){(C=new r(null)).length=P+1,C.words=new Array(C.length);for(var R=0;R<C.length;R++)C.words[R]=0}var L=k.clone()._ishlnsubmul(S,1,P);L.negative===0&&(k=L,C&&(C.words[P]=1));for(var Y=P-1;Y>=0;Y--){var Z=67108864*(0|k.words[S.length+Y])+(0|k.words[S.length+Y-1]);for(Z=Math.min(Z/j|0,67108863),k._ishlnsubmul(S,Z,Y);k.negative!==0;)Z--,k.negative=0,k._ishlnsubmul(S,1,Y),k.isZero()||(k.negative^=1);C&&(C.words[Y]=Z)}return C&&C.strip(),k.strip(),D!=="div"&&A!==0&&k.iushrn(A),{div:C||null,mod:k}},r.prototype.divmod=function(T,D,A){return o(!T.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&T.negative===0?(j=this.neg().divmod(T,D),D!=="mod"&&(k=j.div.neg()),D!=="div"&&(S=j.mod.neg(),A&&S.negative!==0&&S.iadd(T)),{div:k,mod:S}):this.negative===0&&T.negative!==0?(j=this.divmod(T.neg(),D),D!=="mod"&&(k=j.div.neg()),{div:k,mod:j.mod}):(this.negative&T.negative)!=0?(j=this.neg().divmod(T.neg(),D),D!=="div"&&(S=j.mod.neg(),A&&S.negative!==0&&S.isub(T)),{div:j.div,mod:S}):T.length>this.length||this.cmp(T)<0?{div:new r(0),mod:this}:T.length===1?D==="div"?{div:this.divn(T.words[0]),mod:null}:D==="mod"?{div:null,mod:new r(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new r(this.modn(T.words[0]))}:this._wordDiv(T,D);var k,S,j},r.prototype.div=function(T){return this.divmod(T,"div",!1).div},r.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},r.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},r.prototype.divRound=function(T){var D=this.divmod(T);if(D.mod.isZero())return D.div;var A=D.div.negative!==0?D.mod.isub(T):D.mod,k=T.ushrn(1),S=T.andln(1),j=A.cmp(k);return j<0||S===1&&j===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},r.prototype.modn=function(T){o(T<=67108863);for(var D=(1<<26)%T,A=0,k=this.length-1;k>=0;k--)A=(D*A+(0|this.words[k]))%T;return A},r.prototype.idivn=function(T){o(T<=67108863);for(var D=0,A=this.length-1;A>=0;A--){var k=(0|this.words[A])+67108864*D;this.words[A]=k/T|0,D=k%T}return this.strip()},r.prototype.divn=function(T){return this.clone().idivn(T)},r.prototype.egcd=function(T){o(T.negative===0),o(!T.isZero());var D=this,A=T.clone();D=D.negative!==0?D.umod(T):D.clone();for(var k=new r(1),S=new r(0),j=new r(0),C=new r(1),P=0;D.isEven()&&A.isEven();)D.iushrn(1),A.iushrn(1),++P;for(var R=A.clone(),L=D.clone();!D.isZero();){for(var Y=0,Z=1;(D.words[0]&Z)==0&&Y<26;++Y,Z<<=1);if(Y>0)for(D.iushrn(Y);Y-- >0;)(k.isOdd()||S.isOdd())&&(k.iadd(R),S.isub(L)),k.iushrn(1),S.iushrn(1);for(var ae=0,q=1;(A.words[0]&q)==0&&ae<26;++ae,q<<=1);if(ae>0)for(A.iushrn(ae);ae-- >0;)(j.isOdd()||C.isOdd())&&(j.iadd(R),C.isub(L)),j.iushrn(1),C.iushrn(1);D.cmp(A)>=0?(D.isub(A),k.isub(j),S.isub(C)):(A.isub(D),j.isub(k),C.isub(S))}return{a:j,b:C,gcd:A.iushln(P)}},r.prototype._invmp=function(T){o(T.negative===0),o(!T.isZero());var D=this,A=T.clone();D=D.negative!==0?D.umod(T):D.clone();for(var k,S=new r(1),j=new r(0),C=A.clone();D.cmpn(1)>0&&A.cmpn(1)>0;){for(var P=0,R=1;(D.words[0]&R)==0&&P<26;++P,R<<=1);if(P>0)for(D.iushrn(P);P-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);for(var L=0,Y=1;(A.words[0]&Y)==0&&L<26;++L,Y<<=1);if(L>0)for(A.iushrn(L);L-- >0;)j.isOdd()&&j.iadd(C),j.iushrn(1);D.cmp(A)>=0?(D.isub(A),S.isub(j)):(A.isub(D),j.isub(S))}return(k=D.cmpn(1)===0?S:j).cmpn(0)<0&&k.iadd(T),k},r.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var D=this.clone(),A=T.clone();D.negative=0,A.negative=0;for(var k=0;D.isEven()&&A.isEven();k++)D.iushrn(1),A.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=D.cmp(A);if(S<0){var j=D;D=A,A=j}else if(S===0||A.cmpn(1)===0)break;D.isub(A)}return A.iushln(k)},r.prototype.invm=function(T){return this.egcd(T).a.umod(T)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(T){return this.words[0]&T},r.prototype.bincn=function(T){o(typeof T=="number");var D=T%26,A=(T-D)/26,k=1<<D;if(this.length<=A)return this._expand(A+1),this.words[A]|=k,this;for(var S=k,j=A;S!==0&&j<this.length;j++){var C=0|this.words[j];S=(C+=S)>>>26,C&=67108863,this.words[j]=C}return S!==0&&(this.words[j]=S,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(T){var D,A=T<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)D=1;else{A&&(T=-T),o(T<=67108863,"Number is too big");var k=0|this.words[0];D=k===T?0:k<T?-1:1}return this.negative!==0?0|-D:D},r.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var D=this.ucmp(T);return this.negative!==0?0|-D:D},r.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var D=0,A=this.length-1;A>=0;A--){var k=0|this.words[A],S=0|T.words[A];if(k!==S){k<S?D=-1:k>S&&(D=1);break}}return D},r.prototype.gtn=function(T){return this.cmpn(T)===1},r.prototype.gt=function(T){return this.cmp(T)===1},r.prototype.gten=function(T){return this.cmpn(T)>=0},r.prototype.gte=function(T){return this.cmp(T)>=0},r.prototype.ltn=function(T){return this.cmpn(T)===-1},r.prototype.lt=function(T){return this.cmp(T)===-1},r.prototype.lten=function(T){return this.cmpn(T)<=0},r.prototype.lte=function(T){return this.cmp(T)<=0},r.prototype.eqn=function(T){return this.cmpn(T)===0},r.prototype.eq=function(T){return this.cmp(T)===0},r.red=function(T){return new G(T)},r.prototype.toRed=function(T){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},r.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(T){return this.red=T,this},r.prototype.forceRed=function(T){return o(!this.red,"Already a number in reduction context"),this._forceRed(T)},r.prototype.redAdd=function(T){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},r.prototype.redIAdd=function(T){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},r.prototype.redSub=function(T){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},r.prototype.redISub=function(T){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},r.prototype.redShl=function(T){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},r.prototype.redMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},r.prototype.redIMul=function(T){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},r.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(T){return o(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var I={k256:null,p224:null,p192:null,p25519:null};function O(T,D){this.name=T,this.p=new r(D,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function G(T){if(typeof T=="string"){var D=r._prime(T);this.m=D.p,this.prime=D}else o(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function B(T){G.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var T=new r(null);return T.words=new Array(Math.ceil(this.n/13)),T},O.prototype.ireduce=function(T){var D,A=T;do this.split(A,this.tmp),D=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(D>this.n);var k=D<this.n?-1:A.ucmp(this.p);return k===0?(A.words[0]=0,A.length=1):k>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},O.prototype.split=function(T,D){T.iushrn(this.n,0,D)},O.prototype.imulK=function(T){return T.imul(this.k)},i($,O),$.prototype.split=function(T,D){for(var A=Math.min(T.length,9),k=0;k<A;k++)D.words[k]=T.words[k];if(D.length=A,T.length<=9)return T.words[0]=0,void(T.length=1);var S=T.words[9];for(D.words[D.length++]=4194303&S,k=10;k<T.length;k++){var j=0|T.words[k];T.words[k-10]=(4194303&j)<<4|S>>>22,S=j}S>>>=22,T.words[k-10]=S,S===0&&T.length>10?T.length-=10:T.length-=9},$.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var D=0,A=0;A<T.length;A++){var k=0|T.words[A];D+=977*k,T.words[A]=67108863&D,D=64*k+(D/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},i(z,O),i(U,O),i(V,O),V.prototype.imulK=function(T){for(var D=0,A=0;A<T.length;A++){var k=19*(0|T.words[A])+D,S=67108863&k;k>>>=26,T.words[A]=S,D=k}return D!==0&&(T.words[T.length++]=D),T},r._prime=function(T){if(I[T])return I[T];var D;if(T==="k256")D=new $;else if(T==="p224")D=new z;else if(T==="p192")D=new U;else{if(T!=="p25519")throw new Error("Unknown prime "+T);D=new V}return I[T]=D,D},G.prototype._verify1=function(T){o(T.negative===0,"red works only with positives"),o(T.red,"red works only with red numbers")},G.prototype._verify2=function(T,D){o((T.negative|D.negative)==0,"red works only with positives"),o(T.red&&T.red===D.red,"red works only with red numbers")},G.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},G.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},G.prototype.add=function(T,D){this._verify2(T,D);var A=T.add(D);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},G.prototype.iadd=function(T,D){this._verify2(T,D);var A=T.iadd(D);return A.cmp(this.m)>=0&&A.isub(this.m),A},G.prototype.sub=function(T,D){this._verify2(T,D);var A=T.sub(D);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},G.prototype.isub=function(T,D){this._verify2(T,D);var A=T.isub(D);return A.cmpn(0)<0&&A.iadd(this.m),A},G.prototype.shl=function(T,D){return this._verify1(T),this.imod(T.ushln(D))},G.prototype.imul=function(T,D){return this._verify2(T,D),this.imod(T.imul(D))},G.prototype.mul=function(T,D){return this._verify2(T,D),this.imod(T.mul(D))},G.prototype.isqr=function(T){return this.imul(T,T.clone())},G.prototype.sqr=function(T){return this.mul(T,T)},G.prototype.sqrt=function(T){if(T.isZero())return T.clone();var D=this.m.andln(3);if(o(D%2==1),D===3){var A=this.m.add(new r(1)).iushrn(2);return this.pow(T,A)}for(var k=this.m.subn(1),S=0;!k.isZero()&&k.andln(1)===0;)S++,k.iushrn(1);o(!k.isZero());var j=new r(1).toRed(this),C=j.redNeg(),P=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new r(2*R*R).toRed(this);this.pow(R,P).cmp(C)!==0;)R.redIAdd(C);for(var L=this.pow(R,k),Y=this.pow(T,k.addn(1).iushrn(1)),Z=this.pow(T,k),ae=S;Z.cmp(j)!==0;){for(var q=Z,X=0;q.cmp(j)!==0;X++)q=q.redSqr();o(X<ae);var F=this.pow(L,new r(1).iushln(ae-X-1));Y=Y.redMul(F),L=F.redSqr(),Z=Z.redMul(L),ae=X}return Y},G.prototype.invm=function(T){var D=T._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},G.prototype.pow=function(T,D){if(D.isZero())return new r(1).toRed(this);if(D.cmpn(1)===0)return T.clone();var A=new Array(16);A[0]=new r(1).toRed(this),A[1]=T;for(var k=2;k<A.length;k++)A[k]=this.mul(A[k-1],T);var S=A[0],j=0,C=0,P=D.bitLength()%26;for(P===0&&(P=26),k=D.length-1;k>=0;k--){for(var R=D.words[k],L=P-1;L>=0;L--){var Y=R>>L&1;S!==A[0]&&(S=this.sqr(S)),Y!==0||j!==0?(j<<=1,j|=Y,(++C===4||k===0&&L===0)&&(S=this.mul(S,A[j]),C=0,j=0)):C=0}P=26}return S},G.prototype.convertTo=function(T){var D=T.umod(this.m);return D===T?D.clone():D},G.prototype.convertFrom=function(T){var D=T.clone();return D.red=null,D},r.mont=function(T){return new B(T)},i(B,G),B.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},B.prototype.convertFrom=function(T){var D=this.imod(T.mul(this.rinv));return D.red=null,D},B.prototype.imul=function(T,D){if(T.isZero()||D.isZero())return T.words[0]=0,T.length=1,T;var A=T.imul(D),k=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(k).iushrn(this.shift),j=S;return S.cmp(this.m)>=0?j=S.isub(this.m):S.cmpn(0)<0&&(j=S.iadd(this.m)),j._forceRed(this)},B.prototype.mul=function(T,D){if(T.isZero()||D.isZero())return new r(0)._forceRed(this);var A=T.mul(D),k=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(k).iushrn(this.shift),j=S;return S.cmp(this.m)>=0?j=S.isub(this.m):S.cmpn(0)<0&&(j=S.iadd(this.m)),j._forceRed(this)},B.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],185:[function(t,h,f){f.byteLength=function(u){var x=l(u),b=x[0],g=x[1];return 3*(b+g)/4-g},f.toByteArray=function(u){var x,b,g=l(u),v=g[0],y=g[1],N=new o((function(O,$,z){return 3*($+z)/4-z})(0,v,y)),E=0,I=y>0?v-4:v;for(b=0;b<I;b+=4)x=n[u.charCodeAt(b)]<<18|n[u.charCodeAt(b+1)]<<12|n[u.charCodeAt(b+2)]<<6|n[u.charCodeAt(b+3)],N[E++]=x>>16&255,N[E++]=x>>8&255,N[E++]=255&x;return y===2&&(x=n[u.charCodeAt(b)]<<2|n[u.charCodeAt(b+1)]>>4,N[E++]=255&x),y===1&&(x=n[u.charCodeAt(b)]<<10|n[u.charCodeAt(b+1)]<<4|n[u.charCodeAt(b+2)]>>2,N[E++]=x>>8&255,N[E++]=255&x),N},f.fromByteArray=function(u){for(var x,b=u.length,g=b%3,v=[],y=0,N=b-g;y<N;y+=16383)v.push(d(u,y,y+16383>N?N:y+16383));return g===1?(x=u[b-1],v.push(c[x>>2]+c[x<<4&63]+"==")):g===2&&(x=(u[b-2]<<8)+u[b-1],v.push(c[x>>10]+c[x>>4&63]+c[x<<2&63]+"=")),v.join("")};for(var c=[],n=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,s=i.length;r<s;++r)c[r]=i[r],n[i.charCodeAt(r)]=r;function l(u){var x=u.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=u.indexOf("=");return b===-1&&(b=x),[b,b===x?0:4-b%4]}function d(u,x,b){for(var g,v,y=[],N=x;N<b;N+=3)g=(u[N]<<16&16711680)+(u[N+1]<<8&65280)+(255&u[N+2]),y.push(c[(v=g)>>18&63]+c[v>>12&63]+c[v>>6&63]+c[63&v]);return y.join("")}n[45]=62,n[95]=63},{}],186:[function(t,h,f){(function(c,n){function o(A,k){if(!A)throw new Error(k||"Assertion failed")}function i(A,k){A.super_=k;var S=function(){};S.prototype=k.prototype,A.prototype=new S,A.prototype.constructor=A}function r(A,k,S){if(r.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(k!=="le"&&k!=="be"||(S=k,k=10),this._init(A||0,k||10,S||"be"))}var s;typeof c=="object"?c.exports=r:(void 0).BN=r,r.BN=r,r.wordSize=26;try{s=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function l(A,k){var S=A.charCodeAt(k);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void o(!1,"Invalid character in "+A)}function d(A,k,S){var j=l(A,S);return S-1>=k&&(j|=l(A,S-1)<<4),j}function u(A,k,S,j){for(var C=0,P=0,R=Math.min(A.length,S),L=k;L<R;L++){var Y=A.charCodeAt(L)-48;C*=j,P=Y>=49?Y-49+10:Y>=17?Y-17+10:Y,o(Y>=0&&P<j,"Invalid character"),C+=P}return C}function x(A,k){A.words=k.words,A.length=k.length,A.negative=k.negative,A.red=k.red}if(r.isBN=function(A){return A instanceof r||A!==null&&typeof A=="object"&&A.constructor.wordSize===r.wordSize&&Array.isArray(A.words)},r.max=function(A,k){return A.cmp(k)>0?A:k},r.min=function(A,k){return A.cmp(k)<0?A:k},r.prototype._init=function(A,k,S){if(typeof A=="number")return this._initNumber(A,k,S);if(typeof A=="object")return this._initArray(A,k,S);k==="hex"&&(k=16),o(k===(0|k)&&k>=2&&k<=36);var j=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(j++,this.negative=1),j<A.length&&(k===16?this._parseHex(A,j,S):(this._parseBase(A,k,j),S==="le"&&this._initArray(this.toArray(),k,S)))},r.prototype._initNumber=function(A,k,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(o(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),k,S)},r.prototype._initArray=function(A,k,S){if(o(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var C,P,R=0;if(S==="be")for(j=A.length-1,C=0;j>=0;j-=3)P=A[j]|A[j-1]<<8|A[j-2]<<16,this.words[C]|=P<<R&67108863,this.words[C+1]=P>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);else if(S==="le")for(j=0,C=0;j<A.length;j+=3)P=A[j]|A[j+1]<<8|A[j+2]<<16,this.words[C]|=P<<R&67108863,this.words[C+1]=P>>>26-R&67108863,(R+=24)>=26&&(R-=26,C++);return this._strip()},r.prototype._parseHex=function(A,k,S){this.length=Math.ceil((A.length-k)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var C,P=0,R=0;if(S==="be")for(j=A.length-1;j>=k;j-=2)C=d(A,k,j)<<P,this.words[R]|=67108863&C,P>=18?(P-=18,R+=1,this.words[R]|=C>>>26):P+=8;else for(j=(A.length-k)%2==0?k+1:k;j<A.length;j+=2)C=d(A,k,j)<<P,this.words[R]|=67108863&C,P>=18?(P-=18,R+=1,this.words[R]|=C>>>26):P+=8;this._strip()},r.prototype._parseBase=function(A,k,S){this.words=[0],this.length=1;for(var j=0,C=1;C<=67108863;C*=k)j++;j--,C=C/k|0;for(var P=A.length-S,R=P%j,L=Math.min(P,P-R)+S,Y=0,Z=S;Z<L;Z+=j)Y=u(A,Z,Z+j,k),this.imuln(C),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(R!==0){var ae=1;for(Y=u(A,Z,A.length,k),Z=0;Z<R;Z++)ae*=k;this.imuln(ae),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this._strip()},r.prototype.copy=function(A){A.words=new Array(this.length);for(var k=0;k<this.length;k++)A.words[k]=this.words[k];A.length=this.length,A.negative=this.negative,A.red=this.red},r.prototype._move=function(A){x(A,this)},r.prototype.clone=function(){var A=new r(null);return this.copy(A),A},r.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},r.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},r.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{r.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{r.prototype.inspect=b}else r.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];r.prototype.toString=function(A,k){var S;if(k=0|k||1,(A=A||10)===16||A==="hex"){S="";for(var j=0,C=0,P=0;P<this.length;P++){var R=this.words[P],L=(16777215&(R<<j|C)).toString(16);C=R>>>24-j&16777215,(j+=2)>=26&&(j-=26,P--),S=C!==0||P!==this.length-1?g[6-L.length]+L+S:L+S}for(C!==0&&(S=C.toString(16)+S);S.length%k!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(0|A)&&A>=2&&A<=36){var Y=v[A],Z=y[A];S="";var ae=this.clone();for(ae.negative=0;!ae.isZero();){var q=ae.modrn(Z).toString(A);S=(ae=ae.idivn(Z)).isZero()?q+S:g[Y-q.length]+q+S}for(this.isZero()&&(S="0"+S);S.length%k!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}o(!1,"Base should be between 2 and 36")},r.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},r.prototype.toJSON=function(){return this.toString(16,2)},s&&(r.prototype.toBuffer=function(A,k){return this.toArrayLike(s,A,k)}),r.prototype.toArray=function(A,k){return this.toArrayLike(Array,A,k)};function N(A,k,S){S.negative=k.negative^A.negative;var j=A.length+k.length|0;S.length=j,j=j-1|0;var C=0|A.words[0],P=0|k.words[0],R=C*P,L=67108863&R,Y=R/67108864|0;S.words[0]=L;for(var Z=1;Z<j;Z++){for(var ae=Y>>>26,q=67108863&Y,X=Math.min(Z,k.length-1),F=Math.max(0,Z-A.length+1);F<=X;F++){var M=Z-F|0;ae+=(R=(C=0|A.words[M])*(P=0|k.words[F])+q)/67108864|0,q=67108863&R}S.words[Z]=0|q,Y=0|ae}return Y!==0?S.words[Z]=0|Y:S.length--,S._strip()}r.prototype.toArrayLike=function(A,k,S){this._strip();var j=this.byteLength(),C=S||Math.max(1,j);o(j<=C,"byte array longer than desired length"),o(C>0,"Requested array length <= 0");var P=(function(R,L){return R.allocUnsafe?R.allocUnsafe(L):new R(L)})(A,C);return this["_toArrayLike"+(k==="le"?"LE":"BE")](P,j),P},r.prototype._toArrayLikeLE=function(A,k){for(var S=0,j=0,C=0,P=0;C<this.length;C++){var R=this.words[C]<<P|j;A[S++]=255&R,S<A.length&&(A[S++]=R>>8&255),S<A.length&&(A[S++]=R>>16&255),P===6?(S<A.length&&(A[S++]=R>>24&255),j=0,P=0):(j=R>>>24,P+=2)}if(S<A.length)for(A[S++]=j;S<A.length;)A[S++]=0},r.prototype._toArrayLikeBE=function(A,k){for(var S=A.length-1,j=0,C=0,P=0;C<this.length;C++){var R=this.words[C]<<P|j;A[S--]=255&R,S>=0&&(A[S--]=R>>8&255),S>=0&&(A[S--]=R>>16&255),P===6?(S>=0&&(A[S--]=R>>24&255),j=0,P=0):(j=R>>>24,P+=2)}if(S>=0)for(A[S--]=j;S>=0;)A[S--]=0},Math.clz32?r.prototype._countBits=function(A){return 32-Math.clz32(A)}:r.prototype._countBits=function(A){var k=A,S=0;return k>=4096&&(S+=13,k>>>=13),k>=64&&(S+=7,k>>>=7),k>=8&&(S+=4,k>>>=4),k>=2&&(S+=2,k>>>=2),S+k},r.prototype._zeroBits=function(A){if(A===0)return 26;var k=A,S=0;return(8191&k)==0&&(S+=13,k>>>=13),(127&k)==0&&(S+=7,k>>>=7),(15&k)==0&&(S+=4,k>>>=4),(3&k)==0&&(S+=2,k>>>=2),(1&k)==0&&S++,S},r.prototype.bitLength=function(){var A=this.words[this.length-1],k=this._countBits(A);return 26*(this.length-1)+k},r.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,k=0;k<this.length;k++){var S=this._zeroBits(this.words[k]);if(A+=S,S!==26)break}return A},r.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},r.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},r.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},r.prototype.isNeg=function(){return this.negative!==0},r.prototype.neg=function(){return this.clone().ineg()},r.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},r.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var k=0;k<A.length;k++)this.words[k]=this.words[k]|A.words[k];return this._strip()},r.prototype.ior=function(A){return o((this.negative|A.negative)==0),this.iuor(A)},r.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},r.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},r.prototype.iuand=function(A){var k;k=this.length>A.length?A:this;for(var S=0;S<k.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=k.length,this._strip()},r.prototype.iand=function(A){return o((this.negative|A.negative)==0),this.iuand(A)},r.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},r.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},r.prototype.iuxor=function(A){var k,S;this.length>A.length?(k=this,S=A):(k=A,S=this);for(var j=0;j<S.length;j++)this.words[j]=k.words[j]^S.words[j];if(this!==k)for(;j<k.length;j++)this.words[j]=k.words[j];return this.length=k.length,this._strip()},r.prototype.ixor=function(A){return o((this.negative|A.negative)==0),this.iuxor(A)},r.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},r.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},r.prototype.inotn=function(A){o(typeof A=="number"&&A>=0);var k=0|Math.ceil(A/26),S=A%26;this._expand(k),S>0&&k--;for(var j=0;j<k;j++)this.words[j]=67108863&~this.words[j];return S>0&&(this.words[j]=~this.words[j]&67108863>>26-S),this._strip()},r.prototype.notn=function(A){return this.clone().inotn(A)},r.prototype.setn=function(A,k){o(typeof A=="number"&&A>=0);var S=A/26|0,j=A%26;return this._expand(S+1),this.words[S]=k?this.words[S]|1<<j:this.words[S]&~(1<<j),this._strip()},r.prototype.iadd=function(A){var k,S,j;if(this.negative!==0&&A.negative===0)return this.negative=0,k=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,k=this.isub(A),A.negative=1,k._normSign();this.length>A.length?(S=this,j=A):(S=A,j=this);for(var C=0,P=0;P<j.length;P++)k=(0|S.words[P])+(0|j.words[P])+C,this.words[P]=67108863&k,C=k>>>26;for(;C!==0&&P<S.length;P++)k=(0|S.words[P])+C,this.words[P]=67108863&k,C=k>>>26;if(this.length=S.length,C!==0)this.words[this.length]=C,this.length++;else if(S!==this)for(;P<S.length;P++)this.words[P]=S.words[P];return this},r.prototype.add=function(A){var k;return A.negative!==0&&this.negative===0?(A.negative=0,k=this.sub(A),A.negative^=1,k):A.negative===0&&this.negative!==0?(this.negative=0,k=A.sub(this),this.negative=1,k):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},r.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var k=this.iadd(A);return A.negative=1,k._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S,j,C=this.cmp(A);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(S=this,j=A):(S=A,j=this);for(var P=0,R=0;R<j.length;R++)P=(k=(0|S.words[R])-(0|j.words[R])+P)>>26,this.words[R]=67108863&k;for(;P!==0&&R<S.length;R++)P=(k=(0|S.words[R])+P)>>26,this.words[R]=67108863&k;if(P===0&&R<S.length&&S!==this)for(;R<S.length;R++)this.words[R]=S.words[R];return this.length=Math.max(this.length,R),S!==this&&(this.negative=1),this._strip()},r.prototype.sub=function(A){return this.clone().isub(A)};var E=function(A,k,S){var j,C,P,R=A.words,L=k.words,Y=S.words,Z=0,ae=0|R[0],q=8191&ae,X=ae>>>13,F=0|R[1],M=8191&F,K=F>>>13,se=0|R[2],oe=8191&se,ne=se>>>13,le=0|R[3],Se=8191&le,je=le>>>13,ee=0|R[4],ce=8191&ee,be=ee>>>13,Te=0|R[5],Ce=8191&Te,Pe=Te>>>13,Be=0|R[6],Ge=8191&Be,st=Be>>>13,bt=0|R[7],_e=8191&bt,We=bt>>>13,vt=0|R[8],At=8191&vt,Nt=vt>>>13,De=0|R[9],ge=8191&De,Oe=De>>>13,Ke=0|L[0],pe=8191&Ke,me=Ke>>>13,xe=0|L[1],te=8191&xe,we=xe>>>13,Ue=0|L[2],et=8191&Ue,dt=Ue>>>13,St=0|L[3],Ut=8191&St,ve=St>>>13,de=0|L[4],Ye=8191&de,ut=de>>>13,pt=0|L[5],Le=8191&pt,Je=pt>>>13,ke=0|L[6],Me=8191&ke,He=ke>>>13,ot=0|L[7],at=8191&ot,ft=ot>>>13,Kt=0|L[8],zt=8191&Kt,Re=Kt>>>13,rt=0|L[9],mt=8191&rt,Dt=rt>>>13;S.negative=A.negative^k.negative,S.length=19;var _t=(Z+(j=Math.imul(q,pe))|0)+((8191&(C=(C=Math.imul(q,me))+Math.imul(X,pe)|0))<<13)|0;Z=((P=Math.imul(X,me))+(C>>>13)|0)+(_t>>>26)|0,_t&=67108863,j=Math.imul(M,pe),C=(C=Math.imul(M,me))+Math.imul(K,pe)|0,P=Math.imul(K,me);var jt=(Z+(j=j+Math.imul(q,te)|0)|0)+((8191&(C=(C=C+Math.imul(q,we)|0)+Math.imul(X,te)|0))<<13)|0;Z=((P=P+Math.imul(X,we)|0)+(C>>>13)|0)+(jt>>>26)|0,jt&=67108863,j=Math.imul(oe,pe),C=(C=Math.imul(oe,me))+Math.imul(ne,pe)|0,P=Math.imul(ne,me),j=j+Math.imul(M,te)|0,C=(C=C+Math.imul(M,we)|0)+Math.imul(K,te)|0,P=P+Math.imul(K,we)|0;var Ie=(Z+(j=j+Math.imul(q,et)|0)|0)+((8191&(C=(C=C+Math.imul(q,dt)|0)+Math.imul(X,et)|0))<<13)|0;Z=((P=P+Math.imul(X,dt)|0)+(C>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,j=Math.imul(Se,pe),C=(C=Math.imul(Se,me))+Math.imul(je,pe)|0,P=Math.imul(je,me),j=j+Math.imul(oe,te)|0,C=(C=C+Math.imul(oe,we)|0)+Math.imul(ne,te)|0,P=P+Math.imul(ne,we)|0,j=j+Math.imul(M,et)|0,C=(C=C+Math.imul(M,dt)|0)+Math.imul(K,et)|0,P=P+Math.imul(K,dt)|0;var ht=(Z+(j=j+Math.imul(q,Ut)|0)|0)+((8191&(C=(C=C+Math.imul(q,ve)|0)+Math.imul(X,Ut)|0))<<13)|0;Z=((P=P+Math.imul(X,ve)|0)+(C>>>13)|0)+(ht>>>26)|0,ht&=67108863,j=Math.imul(ce,pe),C=(C=Math.imul(ce,me))+Math.imul(be,pe)|0,P=Math.imul(be,me),j=j+Math.imul(Se,te)|0,C=(C=C+Math.imul(Se,we)|0)+Math.imul(je,te)|0,P=P+Math.imul(je,we)|0,j=j+Math.imul(oe,et)|0,C=(C=C+Math.imul(oe,dt)|0)+Math.imul(ne,et)|0,P=P+Math.imul(ne,dt)|0,j=j+Math.imul(M,Ut)|0,C=(C=C+Math.imul(M,ve)|0)+Math.imul(K,Ut)|0,P=P+Math.imul(K,ve)|0;var Vt=(Z+(j=j+Math.imul(q,Ye)|0)|0)+((8191&(C=(C=C+Math.imul(q,ut)|0)+Math.imul(X,Ye)|0))<<13)|0;Z=((P=P+Math.imul(X,ut)|0)+(C>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,j=Math.imul(Ce,pe),C=(C=Math.imul(Ce,me))+Math.imul(Pe,pe)|0,P=Math.imul(Pe,me),j=j+Math.imul(ce,te)|0,C=(C=C+Math.imul(ce,we)|0)+Math.imul(be,te)|0,P=P+Math.imul(be,we)|0,j=j+Math.imul(Se,et)|0,C=(C=C+Math.imul(Se,dt)|0)+Math.imul(je,et)|0,P=P+Math.imul(je,dt)|0,j=j+Math.imul(oe,Ut)|0,C=(C=C+Math.imul(oe,ve)|0)+Math.imul(ne,Ut)|0,P=P+Math.imul(ne,ve)|0,j=j+Math.imul(M,Ye)|0,C=(C=C+Math.imul(M,ut)|0)+Math.imul(K,Ye)|0,P=P+Math.imul(K,ut)|0;var Ne=(Z+(j=j+Math.imul(q,Le)|0)|0)+((8191&(C=(C=C+Math.imul(q,Je)|0)+Math.imul(X,Le)|0))<<13)|0;Z=((P=P+Math.imul(X,Je)|0)+(C>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,j=Math.imul(Ge,pe),C=(C=Math.imul(Ge,me))+Math.imul(st,pe)|0,P=Math.imul(st,me),j=j+Math.imul(Ce,te)|0,C=(C=C+Math.imul(Ce,we)|0)+Math.imul(Pe,te)|0,P=P+Math.imul(Pe,we)|0,j=j+Math.imul(ce,et)|0,C=(C=C+Math.imul(ce,dt)|0)+Math.imul(be,et)|0,P=P+Math.imul(be,dt)|0,j=j+Math.imul(Se,Ut)|0,C=(C=C+Math.imul(Se,ve)|0)+Math.imul(je,Ut)|0,P=P+Math.imul(je,ve)|0,j=j+Math.imul(oe,Ye)|0,C=(C=C+Math.imul(oe,ut)|0)+Math.imul(ne,Ye)|0,P=P+Math.imul(ne,ut)|0,j=j+Math.imul(M,Le)|0,C=(C=C+Math.imul(M,Je)|0)+Math.imul(K,Le)|0,P=P+Math.imul(K,Je)|0;var Ve=(Z+(j=j+Math.imul(q,Me)|0)|0)+((8191&(C=(C=C+Math.imul(q,He)|0)+Math.imul(X,Me)|0))<<13)|0;Z=((P=P+Math.imul(X,He)|0)+(C>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,j=Math.imul(_e,pe),C=(C=Math.imul(_e,me))+Math.imul(We,pe)|0,P=Math.imul(We,me),j=j+Math.imul(Ge,te)|0,C=(C=C+Math.imul(Ge,we)|0)+Math.imul(st,te)|0,P=P+Math.imul(st,we)|0,j=j+Math.imul(Ce,et)|0,C=(C=C+Math.imul(Ce,dt)|0)+Math.imul(Pe,et)|0,P=P+Math.imul(Pe,dt)|0,j=j+Math.imul(ce,Ut)|0,C=(C=C+Math.imul(ce,ve)|0)+Math.imul(be,Ut)|0,P=P+Math.imul(be,ve)|0,j=j+Math.imul(Se,Ye)|0,C=(C=C+Math.imul(Se,ut)|0)+Math.imul(je,Ye)|0,P=P+Math.imul(je,ut)|0,j=j+Math.imul(oe,Le)|0,C=(C=C+Math.imul(oe,Je)|0)+Math.imul(ne,Le)|0,P=P+Math.imul(ne,Je)|0,j=j+Math.imul(M,Me)|0,C=(C=C+Math.imul(M,He)|0)+Math.imul(K,Me)|0,P=P+Math.imul(K,He)|0;var lt=(Z+(j=j+Math.imul(q,at)|0)|0)+((8191&(C=(C=C+Math.imul(q,ft)|0)+Math.imul(X,at)|0))<<13)|0;Z=((P=P+Math.imul(X,ft)|0)+(C>>>13)|0)+(lt>>>26)|0,lt&=67108863,j=Math.imul(At,pe),C=(C=Math.imul(At,me))+Math.imul(Nt,pe)|0,P=Math.imul(Nt,me),j=j+Math.imul(_e,te)|0,C=(C=C+Math.imul(_e,we)|0)+Math.imul(We,te)|0,P=P+Math.imul(We,we)|0,j=j+Math.imul(Ge,et)|0,C=(C=C+Math.imul(Ge,dt)|0)+Math.imul(st,et)|0,P=P+Math.imul(st,dt)|0,j=j+Math.imul(Ce,Ut)|0,C=(C=C+Math.imul(Ce,ve)|0)+Math.imul(Pe,Ut)|0,P=P+Math.imul(Pe,ve)|0,j=j+Math.imul(ce,Ye)|0,C=(C=C+Math.imul(ce,ut)|0)+Math.imul(be,Ye)|0,P=P+Math.imul(be,ut)|0,j=j+Math.imul(Se,Le)|0,C=(C=C+Math.imul(Se,Je)|0)+Math.imul(je,Le)|0,P=P+Math.imul(je,Je)|0,j=j+Math.imul(oe,Me)|0,C=(C=C+Math.imul(oe,He)|0)+Math.imul(ne,Me)|0,P=P+Math.imul(ne,He)|0,j=j+Math.imul(M,at)|0,C=(C=C+Math.imul(M,ft)|0)+Math.imul(K,at)|0,P=P+Math.imul(K,ft)|0;var kt=(Z+(j=j+Math.imul(q,zt)|0)|0)+((8191&(C=(C=C+Math.imul(q,Re)|0)+Math.imul(X,zt)|0))<<13)|0;Z=((P=P+Math.imul(X,Re)|0)+(C>>>13)|0)+(kt>>>26)|0,kt&=67108863,j=Math.imul(ge,pe),C=(C=Math.imul(ge,me))+Math.imul(Oe,pe)|0,P=Math.imul(Oe,me),j=j+Math.imul(At,te)|0,C=(C=C+Math.imul(At,we)|0)+Math.imul(Nt,te)|0,P=P+Math.imul(Nt,we)|0,j=j+Math.imul(_e,et)|0,C=(C=C+Math.imul(_e,dt)|0)+Math.imul(We,et)|0,P=P+Math.imul(We,dt)|0,j=j+Math.imul(Ge,Ut)|0,C=(C=C+Math.imul(Ge,ve)|0)+Math.imul(st,Ut)|0,P=P+Math.imul(st,ve)|0,j=j+Math.imul(Ce,Ye)|0,C=(C=C+Math.imul(Ce,ut)|0)+Math.imul(Pe,Ye)|0,P=P+Math.imul(Pe,ut)|0,j=j+Math.imul(ce,Le)|0,C=(C=C+Math.imul(ce,Je)|0)+Math.imul(be,Le)|0,P=P+Math.imul(be,Je)|0,j=j+Math.imul(Se,Me)|0,C=(C=C+Math.imul(Se,He)|0)+Math.imul(je,Me)|0,P=P+Math.imul(je,He)|0,j=j+Math.imul(oe,at)|0,C=(C=C+Math.imul(oe,ft)|0)+Math.imul(ne,at)|0,P=P+Math.imul(ne,ft)|0,j=j+Math.imul(M,zt)|0,C=(C=C+Math.imul(M,Re)|0)+Math.imul(K,zt)|0,P=P+Math.imul(K,Re)|0;var Ot=(Z+(j=j+Math.imul(q,mt)|0)|0)+((8191&(C=(C=C+Math.imul(q,Dt)|0)+Math.imul(X,mt)|0))<<13)|0;Z=((P=P+Math.imul(X,Dt)|0)+(C>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,j=Math.imul(ge,te),C=(C=Math.imul(ge,we))+Math.imul(Oe,te)|0,P=Math.imul(Oe,we),j=j+Math.imul(At,et)|0,C=(C=C+Math.imul(At,dt)|0)+Math.imul(Nt,et)|0,P=P+Math.imul(Nt,dt)|0,j=j+Math.imul(_e,Ut)|0,C=(C=C+Math.imul(_e,ve)|0)+Math.imul(We,Ut)|0,P=P+Math.imul(We,ve)|0,j=j+Math.imul(Ge,Ye)|0,C=(C=C+Math.imul(Ge,ut)|0)+Math.imul(st,Ye)|0,P=P+Math.imul(st,ut)|0,j=j+Math.imul(Ce,Le)|0,C=(C=C+Math.imul(Ce,Je)|0)+Math.imul(Pe,Le)|0,P=P+Math.imul(Pe,Je)|0,j=j+Math.imul(ce,Me)|0,C=(C=C+Math.imul(ce,He)|0)+Math.imul(be,Me)|0,P=P+Math.imul(be,He)|0,j=j+Math.imul(Se,at)|0,C=(C=C+Math.imul(Se,ft)|0)+Math.imul(je,at)|0,P=P+Math.imul(je,ft)|0,j=j+Math.imul(oe,zt)|0,C=(C=C+Math.imul(oe,Re)|0)+Math.imul(ne,zt)|0,P=P+Math.imul(ne,Re)|0;var Pt=(Z+(j=j+Math.imul(M,mt)|0)|0)+((8191&(C=(C=C+Math.imul(M,Dt)|0)+Math.imul(K,mt)|0))<<13)|0;Z=((P=P+Math.imul(K,Dt)|0)+(C>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,j=Math.imul(ge,et),C=(C=Math.imul(ge,dt))+Math.imul(Oe,et)|0,P=Math.imul(Oe,dt),j=j+Math.imul(At,Ut)|0,C=(C=C+Math.imul(At,ve)|0)+Math.imul(Nt,Ut)|0,P=P+Math.imul(Nt,ve)|0,j=j+Math.imul(_e,Ye)|0,C=(C=C+Math.imul(_e,ut)|0)+Math.imul(We,Ye)|0,P=P+Math.imul(We,ut)|0,j=j+Math.imul(Ge,Le)|0,C=(C=C+Math.imul(Ge,Je)|0)+Math.imul(st,Le)|0,P=P+Math.imul(st,Je)|0,j=j+Math.imul(Ce,Me)|0,C=(C=C+Math.imul(Ce,He)|0)+Math.imul(Pe,Me)|0,P=P+Math.imul(Pe,He)|0,j=j+Math.imul(ce,at)|0,C=(C=C+Math.imul(ce,ft)|0)+Math.imul(be,at)|0,P=P+Math.imul(be,ft)|0,j=j+Math.imul(Se,zt)|0,C=(C=C+Math.imul(Se,Re)|0)+Math.imul(je,zt)|0,P=P+Math.imul(je,Re)|0;var $t=(Z+(j=j+Math.imul(oe,mt)|0)|0)+((8191&(C=(C=C+Math.imul(oe,Dt)|0)+Math.imul(ne,mt)|0))<<13)|0;Z=((P=P+Math.imul(ne,Dt)|0)+(C>>>13)|0)+($t>>>26)|0,$t&=67108863,j=Math.imul(ge,Ut),C=(C=Math.imul(ge,ve))+Math.imul(Oe,Ut)|0,P=Math.imul(Oe,ve),j=j+Math.imul(At,Ye)|0,C=(C=C+Math.imul(At,ut)|0)+Math.imul(Nt,Ye)|0,P=P+Math.imul(Nt,ut)|0,j=j+Math.imul(_e,Le)|0,C=(C=C+Math.imul(_e,Je)|0)+Math.imul(We,Le)|0,P=P+Math.imul(We,Je)|0,j=j+Math.imul(Ge,Me)|0,C=(C=C+Math.imul(Ge,He)|0)+Math.imul(st,Me)|0,P=P+Math.imul(st,He)|0,j=j+Math.imul(Ce,at)|0,C=(C=C+Math.imul(Ce,ft)|0)+Math.imul(Pe,at)|0,P=P+Math.imul(Pe,ft)|0,j=j+Math.imul(ce,zt)|0,C=(C=C+Math.imul(ce,Re)|0)+Math.imul(be,zt)|0,P=P+Math.imul(be,Re)|0;var sr=(Z+(j=j+Math.imul(Se,mt)|0)|0)+((8191&(C=(C=C+Math.imul(Se,Dt)|0)+Math.imul(je,mt)|0))<<13)|0;Z=((P=P+Math.imul(je,Dt)|0)+(C>>>13)|0)+(sr>>>26)|0,sr&=67108863,j=Math.imul(ge,Ye),C=(C=Math.imul(ge,ut))+Math.imul(Oe,Ye)|0,P=Math.imul(Oe,ut),j=j+Math.imul(At,Le)|0,C=(C=C+Math.imul(At,Je)|0)+Math.imul(Nt,Le)|0,P=P+Math.imul(Nt,Je)|0,j=j+Math.imul(_e,Me)|0,C=(C=C+Math.imul(_e,He)|0)+Math.imul(We,Me)|0,P=P+Math.imul(We,He)|0,j=j+Math.imul(Ge,at)|0,C=(C=C+Math.imul(Ge,ft)|0)+Math.imul(st,at)|0,P=P+Math.imul(st,ft)|0,j=j+Math.imul(Ce,zt)|0,C=(C=C+Math.imul(Ce,Re)|0)+Math.imul(Pe,zt)|0,P=P+Math.imul(Pe,Re)|0;var Yt=(Z+(j=j+Math.imul(ce,mt)|0)|0)+((8191&(C=(C=C+Math.imul(ce,Dt)|0)+Math.imul(be,mt)|0))<<13)|0;Z=((P=P+Math.imul(be,Dt)|0)+(C>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,j=Math.imul(ge,Le),C=(C=Math.imul(ge,Je))+Math.imul(Oe,Le)|0,P=Math.imul(Oe,Je),j=j+Math.imul(At,Me)|0,C=(C=C+Math.imul(At,He)|0)+Math.imul(Nt,Me)|0,P=P+Math.imul(Nt,He)|0,j=j+Math.imul(_e,at)|0,C=(C=C+Math.imul(_e,ft)|0)+Math.imul(We,at)|0,P=P+Math.imul(We,ft)|0,j=j+Math.imul(Ge,zt)|0,C=(C=C+Math.imul(Ge,Re)|0)+Math.imul(st,zt)|0,P=P+Math.imul(st,Re)|0;var Lt=(Z+(j=j+Math.imul(Ce,mt)|0)|0)+((8191&(C=(C=C+Math.imul(Ce,Dt)|0)+Math.imul(Pe,mt)|0))<<13)|0;Z=((P=P+Math.imul(Pe,Dt)|0)+(C>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,j=Math.imul(ge,Me),C=(C=Math.imul(ge,He))+Math.imul(Oe,Me)|0,P=Math.imul(Oe,He),j=j+Math.imul(At,at)|0,C=(C=C+Math.imul(At,ft)|0)+Math.imul(Nt,at)|0,P=P+Math.imul(Nt,ft)|0,j=j+Math.imul(_e,zt)|0,C=(C=C+Math.imul(_e,Re)|0)+Math.imul(We,zt)|0,P=P+Math.imul(We,Re)|0;var Jt=(Z+(j=j+Math.imul(Ge,mt)|0)|0)+((8191&(C=(C=C+Math.imul(Ge,Dt)|0)+Math.imul(st,mt)|0))<<13)|0;Z=((P=P+Math.imul(st,Dt)|0)+(C>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,j=Math.imul(ge,at),C=(C=Math.imul(ge,ft))+Math.imul(Oe,at)|0,P=Math.imul(Oe,ft),j=j+Math.imul(At,zt)|0,C=(C=C+Math.imul(At,Re)|0)+Math.imul(Nt,zt)|0,P=P+Math.imul(Nt,Re)|0;var dr=(Z+(j=j+Math.imul(_e,mt)|0)|0)+((8191&(C=(C=C+Math.imul(_e,Dt)|0)+Math.imul(We,mt)|0))<<13)|0;Z=((P=P+Math.imul(We,Dt)|0)+(C>>>13)|0)+(dr>>>26)|0,dr&=67108863,j=Math.imul(ge,zt),C=(C=Math.imul(ge,Re))+Math.imul(Oe,zt)|0,P=Math.imul(Oe,Re);var hr=(Z+(j=j+Math.imul(At,mt)|0)|0)+((8191&(C=(C=C+Math.imul(At,Dt)|0)+Math.imul(Nt,mt)|0))<<13)|0;Z=((P=P+Math.imul(Nt,Dt)|0)+(C>>>13)|0)+(hr>>>26)|0,hr&=67108863;var Fr=(Z+(j=Math.imul(ge,mt))|0)+((8191&(C=(C=Math.imul(ge,Dt))+Math.imul(Oe,mt)|0))<<13)|0;return Z=((P=Math.imul(Oe,Dt))+(C>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,Y[0]=_t,Y[1]=jt,Y[2]=Ie,Y[3]=ht,Y[4]=Vt,Y[5]=Ne,Y[6]=Ve,Y[7]=lt,Y[8]=kt,Y[9]=Ot,Y[10]=Pt,Y[11]=$t,Y[12]=sr,Y[13]=Yt,Y[14]=Lt,Y[15]=Jt,Y[16]=dr,Y[17]=hr,Y[18]=Fr,Z!==0&&(Y[19]=Z,S.length++),S};function I(A,k,S){S.negative=k.negative^A.negative,S.length=A.length+k.length;for(var j=0,C=0,P=0;P<S.length-1;P++){var R=C;C=0;for(var L=67108863&j,Y=Math.min(P,k.length-1),Z=Math.max(0,P-A.length+1);Z<=Y;Z++){var ae=P-Z,q=(0|A.words[ae])*(0|k.words[Z]),X=67108863&q;L=67108863&(X=X+L|0),C+=(R=(R=R+(q/67108864|0)|0)+(X>>>26)|0)>>>26,R&=67108863}S.words[P]=L,j=R,R=C}return j!==0?S.words[P]=j:S.length--,S._strip()}function O(A,k,S){return I(A,k,S)}Math.imul||(E=N),r.prototype.mulTo=function(A,k){var S=this.length+A.length;return this.length===10&&A.length===10?E(this,A,k):S<63?N(this,A,k):S<1024?I(this,A,k):O(this,A,k)},r.prototype.mul=function(A){var k=new r(null);return k.words=new Array(this.length+A.length),this.mulTo(A,k)},r.prototype.mulf=function(A){var k=new r(null);return k.words=new Array(this.length+A.length),O(this,A,k)},r.prototype.imul=function(A){return this.clone().mulTo(A,this)},r.prototype.imuln=function(A){var k=A<0;k&&(A=-A),o(typeof A=="number"),o(A<67108864);for(var S=0,j=0;j<this.length;j++){var C=(0|this.words[j])*A,P=(67108863&C)+(67108863&S);S>>=26,S+=C/67108864|0,S+=P>>>26,this.words[j]=67108863&P}return S!==0&&(this.words[j]=S,this.length++),k?this.ineg():this},r.prototype.muln=function(A){return this.clone().imuln(A)},r.prototype.sqr=function(){return this.mul(this)},r.prototype.isqr=function(){return this.imul(this.clone())},r.prototype.pow=function(A){var k=(function(P){for(var R=new Array(P.bitLength()),L=0;L<R.length;L++){var Y=L/26|0,Z=L%26;R[L]=P.words[Y]>>>Z&1}return R})(A);if(k.length===0)return new r(1);for(var S=this,j=0;j<k.length&&k[j]===0;j++,S=S.sqr());if(++j<k.length)for(var C=S.sqr();j<k.length;j++,C=C.sqr())k[j]!==0&&(S=S.mul(C));return S},r.prototype.iushln=function(A){o(typeof A=="number"&&A>=0);var k,S=A%26,j=(A-S)/26,C=67108863>>>26-S<<26-S;if(S!==0){var P=0;for(k=0;k<this.length;k++){var R=this.words[k]&C,L=(0|this.words[k])-R<<S;this.words[k]=L|P,P=R>>>26-S}P&&(this.words[k]=P,this.length++)}if(j!==0){for(k=this.length-1;k>=0;k--)this.words[k+j]=this.words[k];for(k=0;k<j;k++)this.words[k]=0;this.length+=j}return this._strip()},r.prototype.ishln=function(A){return o(this.negative===0),this.iushln(A)},r.prototype.iushrn=function(A,k,S){var j;o(typeof A=="number"&&A>=0),j=k?(k-k%26)/26:0;var C=A%26,P=Math.min((A-C)/26,this.length),R=67108863^67108863>>>C<<C,L=S;if(j-=P,j=Math.max(0,j),L){for(var Y=0;Y<P;Y++)L.words[Y]=this.words[Y];L.length=P}if(P!==0)if(this.length>P)for(this.length-=P,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+P];else this.words[0]=0,this.length=1;var Z=0;for(Y=this.length-1;Y>=0&&(Z!==0||Y>=j);Y--){var ae=0|this.words[Y];this.words[Y]=Z<<26-C|ae>>>C,Z=ae&R}return L&&Z!==0&&(L.words[L.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},r.prototype.ishrn=function(A,k,S){return o(this.negative===0),this.iushrn(A,k,S)},r.prototype.shln=function(A){return this.clone().ishln(A)},r.prototype.ushln=function(A){return this.clone().iushln(A)},r.prototype.shrn=function(A){return this.clone().ishrn(A)},r.prototype.ushrn=function(A){return this.clone().iushrn(A)},r.prototype.testn=function(A){o(typeof A=="number"&&A>=0);var k=A%26,S=(A-k)/26,j=1<<k;return!(this.length<=S)&&!!(this.words[S]&j)},r.prototype.imaskn=function(A){o(typeof A=="number"&&A>=0);var k=A%26,S=(A-k)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(k!==0&&S++,this.length=Math.min(S,this.length),k!==0){var j=67108863^67108863>>>k<<k;this.words[this.length-1]&=j}return this._strip()},r.prototype.maskn=function(A){return this.clone().imaskn(A)},r.prototype.iaddn=function(A){return o(typeof A=="number"),o(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},r.prototype._iaddn=function(A){this.words[0]+=A;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},r.prototype.isubn=function(A){if(o(typeof A=="number"),o(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},r.prototype.addn=function(A){return this.clone().iaddn(A)},r.prototype.subn=function(A){return this.clone().isubn(A)},r.prototype.iabs=function(){return this.negative=0,this},r.prototype.abs=function(){return this.clone().iabs()},r.prototype._ishlnsubmul=function(A,k,S){var j,C,P=A.length+S;this._expand(P);var R=0;for(j=0;j<A.length;j++){C=(0|this.words[j+S])+R;var L=(0|A.words[j])*k;R=((C-=67108863&L)>>26)-(L/67108864|0),this.words[j+S]=67108863&C}for(;j<this.length-S;j++)R=(C=(0|this.words[j+S])+R)>>26,this.words[j+S]=67108863&C;if(R===0)return this._strip();for(o(R===-1),R=0,j=0;j<this.length;j++)R=(C=-(0|this.words[j])+R)>>26,this.words[j]=67108863&C;return this.negative=1,this._strip()},r.prototype._wordDiv=function(A,k){var S=(this.length,A.length),j=this.clone(),C=A,P=0|C.words[C.length-1];(S=26-this._countBits(P))!==0&&(C=C.ushln(S),j.iushln(S),P=0|C.words[C.length-1]);var R,L=j.length-C.length;if(k!=="mod"){(R=new r(null)).length=L+1,R.words=new Array(R.length);for(var Y=0;Y<R.length;Y++)R.words[Y]=0}var Z=j.clone()._ishlnsubmul(C,1,L);Z.negative===0&&(j=Z,R&&(R.words[L]=1));for(var ae=L-1;ae>=0;ae--){var q=67108864*(0|j.words[C.length+ae])+(0|j.words[C.length+ae-1]);for(q=Math.min(q/P|0,67108863),j._ishlnsubmul(C,q,ae);j.negative!==0;)q--,j.negative=0,j._ishlnsubmul(C,1,ae),j.isZero()||(j.negative^=1);R&&(R.words[ae]=q)}return R&&R._strip(),j._strip(),k!=="div"&&S!==0&&j.iushrn(S),{div:R||null,mod:j}},r.prototype.divmod=function(A,k,S){return o(!A.isZero()),this.isZero()?{div:new r(0),mod:new r(0)}:this.negative!==0&&A.negative===0?(P=this.neg().divmod(A,k),k!=="mod"&&(j=P.div.neg()),k!=="div"&&(C=P.mod.neg(),S&&C.negative!==0&&C.iadd(A)),{div:j,mod:C}):this.negative===0&&A.negative!==0?(P=this.divmod(A.neg(),k),k!=="mod"&&(j=P.div.neg()),{div:j,mod:P.mod}):(this.negative&A.negative)!=0?(P=this.neg().divmod(A.neg(),k),k!=="div"&&(C=P.mod.neg(),S&&C.negative!==0&&C.isub(A)),{div:P.div,mod:C}):A.length>this.length||this.cmp(A)<0?{div:new r(0),mod:this}:A.length===1?k==="div"?{div:this.divn(A.words[0]),mod:null}:k==="mod"?{div:null,mod:new r(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new r(this.modrn(A.words[0]))}:this._wordDiv(A,k);var j,C,P},r.prototype.div=function(A){return this.divmod(A,"div",!1).div},r.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},r.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},r.prototype.divRound=function(A){var k=this.divmod(A);if(k.mod.isZero())return k.div;var S=k.div.negative!==0?k.mod.isub(A):k.mod,j=A.ushrn(1),C=A.andln(1),P=S.cmp(j);return P<0||C===1&&P===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},r.prototype.modrn=function(A){var k=A<0;k&&(A=-A),o(A<=67108863);for(var S=(1<<26)%A,j=0,C=this.length-1;C>=0;C--)j=(S*j+(0|this.words[C]))%A;return k?-j:j},r.prototype.modn=function(A){return this.modrn(A)},r.prototype.idivn=function(A){var k=A<0;k&&(A=-A),o(A<=67108863);for(var S=0,j=this.length-1;j>=0;j--){var C=(0|this.words[j])+67108864*S;this.words[j]=C/A|0,S=C%A}return this._strip(),k?this.ineg():this},r.prototype.divn=function(A){return this.clone().idivn(A)},r.prototype.egcd=function(A){o(A.negative===0),o(!A.isZero());var k=this,S=A.clone();k=k.negative!==0?k.umod(A):k.clone();for(var j=new r(1),C=new r(0),P=new r(0),R=new r(1),L=0;k.isEven()&&S.isEven();)k.iushrn(1),S.iushrn(1),++L;for(var Y=S.clone(),Z=k.clone();!k.isZero();){for(var ae=0,q=1;(k.words[0]&q)==0&&ae<26;++ae,q<<=1);if(ae>0)for(k.iushrn(ae);ae-- >0;)(j.isOdd()||C.isOdd())&&(j.iadd(Y),C.isub(Z)),j.iushrn(1),C.iushrn(1);for(var X=0,F=1;(S.words[0]&F)==0&&X<26;++X,F<<=1);if(X>0)for(S.iushrn(X);X-- >0;)(P.isOdd()||R.isOdd())&&(P.iadd(Y),R.isub(Z)),P.iushrn(1),R.iushrn(1);k.cmp(S)>=0?(k.isub(S),j.isub(P),C.isub(R)):(S.isub(k),P.isub(j),R.isub(C))}return{a:P,b:R,gcd:S.iushln(L)}},r.prototype._invmp=function(A){o(A.negative===0),o(!A.isZero());var k=this,S=A.clone();k=k.negative!==0?k.umod(A):k.clone();for(var j,C=new r(1),P=new r(0),R=S.clone();k.cmpn(1)>0&&S.cmpn(1)>0;){for(var L=0,Y=1;(k.words[0]&Y)==0&&L<26;++L,Y<<=1);if(L>0)for(k.iushrn(L);L-- >0;)C.isOdd()&&C.iadd(R),C.iushrn(1);for(var Z=0,ae=1;(S.words[0]&ae)==0&&Z<26;++Z,ae<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)P.isOdd()&&P.iadd(R),P.iushrn(1);k.cmp(S)>=0?(k.isub(S),C.isub(P)):(S.isub(k),P.isub(C))}return(j=k.cmpn(1)===0?C:P).cmpn(0)<0&&j.iadd(A),j},r.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var k=this.clone(),S=A.clone();k.negative=0,S.negative=0;for(var j=0;k.isEven()&&S.isEven();j++)k.iushrn(1),S.iushrn(1);for(;;){for(;k.isEven();)k.iushrn(1);for(;S.isEven();)S.iushrn(1);var C=k.cmp(S);if(C<0){var P=k;k=S,S=P}else if(C===0||S.cmpn(1)===0)break;k.isub(S)}return S.iushln(j)},r.prototype.invm=function(A){return this.egcd(A).a.umod(A)},r.prototype.isEven=function(){return(1&this.words[0])==0},r.prototype.isOdd=function(){return(1&this.words[0])==1},r.prototype.andln=function(A){return this.words[0]&A},r.prototype.bincn=function(A){o(typeof A=="number");var k=A%26,S=(A-k)/26,j=1<<k;if(this.length<=S)return this._expand(S+1),this.words[S]|=j,this;for(var C=j,P=S;C!==0&&P<this.length;P++){var R=0|this.words[P];C=(R+=C)>>>26,R&=67108863,this.words[P]=R}return C!==0&&(this.words[P]=C,this.length++),this},r.prototype.isZero=function(){return this.length===1&&this.words[0]===0},r.prototype.cmpn=function(A){var k,S=A<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)k=1;else{S&&(A=-A),o(A<=67108863,"Number is too big");var j=0|this.words[0];k=j===A?0:j<A?-1:1}return this.negative!==0?0|-k:k},r.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var k=this.ucmp(A);return this.negative!==0?0|-k:k},r.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var k=0,S=this.length-1;S>=0;S--){var j=0|this.words[S],C=0|A.words[S];if(j!==C){j<C?k=-1:j>C&&(k=1);break}}return k},r.prototype.gtn=function(A){return this.cmpn(A)===1},r.prototype.gt=function(A){return this.cmp(A)===1},r.prototype.gten=function(A){return this.cmpn(A)>=0},r.prototype.gte=function(A){return this.cmp(A)>=0},r.prototype.ltn=function(A){return this.cmpn(A)===-1},r.prototype.lt=function(A){return this.cmp(A)===-1},r.prototype.lten=function(A){return this.cmpn(A)<=0},r.prototype.lte=function(A){return this.cmp(A)<=0},r.prototype.eqn=function(A){return this.cmpn(A)===0},r.prototype.eq=function(A){return this.cmp(A)===0},r.red=function(A){return new T(A)},r.prototype.toRed=function(A){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},r.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},r.prototype._forceRed=function(A){return this.red=A,this},r.prototype.forceRed=function(A){return o(!this.red,"Already a number in reduction context"),this._forceRed(A)},r.prototype.redAdd=function(A){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},r.prototype.redIAdd=function(A){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},r.prototype.redSub=function(A){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},r.prototype.redISub=function(A){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},r.prototype.redShl=function(A){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},r.prototype.redMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},r.prototype.redIMul=function(A){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},r.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},r.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},r.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},r.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},r.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},r.prototype.redPow=function(A){return o(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var $={k256:null,p224:null,p192:null,p25519:null};function z(A,k){this.name=A,this.p=new r(k,16),this.n=this.p.bitLength(),this.k=new r(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function G(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(A){if(typeof A=="string"){var k=r._prime(A);this.m=k.p,this.prime=k}else o(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function D(A){T.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new r(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}z.prototype._tmp=function(){var A=new r(null);return A.words=new Array(Math.ceil(this.n/13)),A},z.prototype.ireduce=function(A){var k,S=A;do this.split(S,this.tmp),k=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(k>this.n);var j=k<this.n?-1:S.ucmp(this.p);return j===0?(S.words[0]=0,S.length=1):j>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},z.prototype.split=function(A,k){A.iushrn(this.n,0,k)},z.prototype.imulK=function(A){return A.imul(this.k)},i(U,z),U.prototype.split=function(A,k){for(var S=Math.min(A.length,9),j=0;j<S;j++)k.words[j]=A.words[j];if(k.length=S,A.length<=9)return A.words[0]=0,void(A.length=1);var C=A.words[9];for(k.words[k.length++]=4194303&C,j=10;j<A.length;j++){var P=0|A.words[j];A.words[j-10]=(4194303&P)<<4|C>>>22,C=P}C>>>=22,A.words[j-10]=C,C===0&&A.length>10?A.length-=10:A.length-=9},U.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var k=0,S=0;S<A.length;S++){var j=0|A.words[S];k+=977*j,A.words[S]=67108863&k,k=64*j+(k/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},i(V,z),i(G,z),i(B,z),B.prototype.imulK=function(A){for(var k=0,S=0;S<A.length;S++){var j=19*(0|A.words[S])+k,C=67108863&j;j>>>=26,A.words[S]=C,k=j}return k!==0&&(A.words[A.length++]=k),A},r._prime=function(A){if($[A])return $[A];var k;if(A==="k256")k=new U;else if(A==="p224")k=new V;else if(A==="p192")k=new G;else{if(A!=="p25519")throw new Error("Unknown prime "+A);k=new B}return $[A]=k,k},T.prototype._verify1=function(A){o(A.negative===0,"red works only with positives"),o(A.red,"red works only with red numbers")},T.prototype._verify2=function(A,k){o((A.negative|k.negative)==0,"red works only with positives"),o(A.red&&A.red===k.red,"red works only with red numbers")},T.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(x(A,A.umod(this.m)._forceRed(this)),A)},T.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},T.prototype.add=function(A,k){this._verify2(A,k);var S=A.add(k);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},T.prototype.iadd=function(A,k){this._verify2(A,k);var S=A.iadd(k);return S.cmp(this.m)>=0&&S.isub(this.m),S},T.prototype.sub=function(A,k){this._verify2(A,k);var S=A.sub(k);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},T.prototype.isub=function(A,k){this._verify2(A,k);var S=A.isub(k);return S.cmpn(0)<0&&S.iadd(this.m),S},T.prototype.shl=function(A,k){return this._verify1(A),this.imod(A.ushln(k))},T.prototype.imul=function(A,k){return this._verify2(A,k),this.imod(A.imul(k))},T.prototype.mul=function(A,k){return this._verify2(A,k),this.imod(A.mul(k))},T.prototype.isqr=function(A){return this.imul(A,A.clone())},T.prototype.sqr=function(A){return this.mul(A,A)},T.prototype.sqrt=function(A){if(A.isZero())return A.clone();var k=this.m.andln(3);if(o(k%2==1),k===3){var S=this.m.add(new r(1)).iushrn(2);return this.pow(A,S)}for(var j=this.m.subn(1),C=0;!j.isZero()&&j.andln(1)===0;)C++,j.iushrn(1);o(!j.isZero());var P=new r(1).toRed(this),R=P.redNeg(),L=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new r(2*Y*Y).toRed(this);this.pow(Y,L).cmp(R)!==0;)Y.redIAdd(R);for(var Z=this.pow(Y,j),ae=this.pow(A,j.addn(1).iushrn(1)),q=this.pow(A,j),X=C;q.cmp(P)!==0;){for(var F=q,M=0;F.cmp(P)!==0;M++)F=F.redSqr();o(M<X);var K=this.pow(Z,new r(1).iushln(X-M-1));ae=ae.redMul(K),Z=K.redSqr(),q=q.redMul(Z),X=M}return ae},T.prototype.invm=function(A){var k=A._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},T.prototype.pow=function(A,k){if(k.isZero())return new r(1).toRed(this);if(k.cmpn(1)===0)return A.clone();var S=new Array(16);S[0]=new r(1).toRed(this),S[1]=A;for(var j=2;j<S.length;j++)S[j]=this.mul(S[j-1],A);var C=S[0],P=0,R=0,L=k.bitLength()%26;for(L===0&&(L=26),j=k.length-1;j>=0;j--){for(var Y=k.words[j],Z=L-1;Z>=0;Z--){var ae=Y>>Z&1;C!==S[0]&&(C=this.sqr(C)),ae!==0||P!==0?(P<<=1,P|=ae,(++R===4||j===0&&Z===0)&&(C=this.mul(C,S[P]),R=0,P=0)):R=0}L=26}return C},T.prototype.convertTo=function(A){var k=A.umod(this.m);return k===A?k.clone():k},T.prototype.convertFrom=function(A){var k=A.clone();return k.red=null,k},r.mont=function(A){return new D(A)},i(D,T),D.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},D.prototype.convertFrom=function(A){var k=this.imod(A.mul(this.rinv));return k.red=null,k},D.prototype.imul=function(A,k){if(A.isZero()||k.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(k),j=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(j).iushrn(this.shift),P=C;return C.cmp(this.m)>=0?P=C.isub(this.m):C.cmpn(0)<0&&(P=C.iadd(this.m)),P._forceRed(this)},D.prototype.mul=function(A,k){if(A.isZero()||k.isZero())return new r(0)._forceRed(this);var S=A.mul(k),j=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(j).iushrn(this.shift),P=C;return C.cmp(this.m)>=0?P=C.isub(this.m):C.cmpn(0)<0&&(P=C.iadd(this.m)),P._forceRed(this)},D.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(h===void 0||h)},{buffer:188}],187:[function(t,h,f){var c;function n(i){this.rand=i}if(h.exports=function(i){return c||(c=new n(null)),c.generate(i)},h.exports.Rand=n,n.prototype.generate=function(i){return this._rand(i)},n.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var r=new Uint8Array(i),s=0;s<r.length;s++)r[s]=this.rand.getByte();return r},typeof self=="object")self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(i){var r=new Uint8Array(i);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(i){var r=new Uint8Array(i);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=t("crypto");if(typeof o.randomBytes!="function")throw new Error("Not supported");n.prototype._rand=function(i){return o.randomBytes(i)}}catch{}},{crypto:188}],188:[function(t,h,f){},{}],189:[function(t,h,f){var c=t("safe-buffer").Buffer;function n(d){c.isBuffer(d)||(d=c.from(d));for(var u=d.length/4|0,x=new Array(u),b=0;b<u;b++)x[b]=d.readUInt32BE(4*b);return x}function o(d){for(;0<d.length;d++)d[0]=0}function i(d,u,x,b,g){for(var v,y,N,E,I=x[0],O=x[1],$=x[2],z=x[3],U=d[0]^u[0],V=d[1]^u[1],G=d[2]^u[2],B=d[3]^u[3],T=4,D=1;D<g;D++)v=I[U>>>24]^O[V>>>16&255]^$[G>>>8&255]^z[255&B]^u[T++],y=I[V>>>24]^O[G>>>16&255]^$[B>>>8&255]^z[255&U]^u[T++],N=I[G>>>24]^O[B>>>16&255]^$[U>>>8&255]^z[255&V]^u[T++],E=I[B>>>24]^O[U>>>16&255]^$[V>>>8&255]^z[255&G]^u[T++],U=v,V=y,G=N,B=E;return v=(b[U>>>24]<<24|b[V>>>16&255]<<16|b[G>>>8&255]<<8|b[255&B])^u[T++],y=(b[V>>>24]<<24|b[G>>>16&255]<<16|b[B>>>8&255]<<8|b[255&U])^u[T++],N=(b[G>>>24]<<24|b[B>>>16&255]<<16|b[U>>>8&255]<<8|b[255&V])^u[T++],E=(b[B>>>24]<<24|b[U>>>16&255]<<16|b[V>>>8&255]<<8|b[255&G])^u[T++],[v>>>=0,y>>>=0,N>>>=0,E>>>=0]}var r=[0,1,2,4,8,16,32,64,128,27,54],s=(function(){for(var d=new Array(256),u=0;u<256;u++)d[u]=u<128?u<<1:u<<1^283;for(var x=[],b=[],g=[[],[],[],[]],v=[[],[],[],[]],y=0,N=0,E=0;E<256;++E){var I=N^N<<1^N<<2^N<<3^N<<4;I=I>>>8^255&I^99,x[y]=I,b[I]=y;var O=d[y],$=d[O],z=d[$],U=257*d[I]^16843008*I;g[0][y]=U<<24|U>>>8,g[1][y]=U<<16|U>>>16,g[2][y]=U<<8|U>>>24,g[3][y]=U,U=16843009*z^65537*$^257*O^16843008*y,v[0][I]=U<<24|U>>>8,v[1][I]=U<<16|U>>>16,v[2][I]=U<<8|U>>>24,v[3][I]=U,y===0?y=N=1:(y=O^d[d[d[z^O]]],N^=d[d[N]])}return{SBOX:x,INV_SBOX:b,SUB_MIX:g,INV_SUB_MIX:v}})();function l(d){this._key=n(d),this._reset()}l.blockSize=16,l.keySize=32,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var d=this._key,u=d.length,x=u+6,b=4*(x+1),g=[],v=0;v<u;v++)g[v]=d[v];for(v=u;v<b;v++){var y=g[v-1];v%u==0?(y=y<<8|y>>>24,y=s.SBOX[y>>>24]<<24|s.SBOX[y>>>16&255]<<16|s.SBOX[y>>>8&255]<<8|s.SBOX[255&y],y^=r[v/u|0]<<24):u>6&&v%u==4&&(y=s.SBOX[y>>>24]<<24|s.SBOX[y>>>16&255]<<16|s.SBOX[y>>>8&255]<<8|s.SBOX[255&y]),g[v]=g[v-u]^y}for(var N=[],E=0;E<b;E++){var I=b-E,O=g[I-(E%4?0:4)];N[E]=E<4||I<=4?O:s.INV_SUB_MIX[0][s.SBOX[O>>>24]]^s.INV_SUB_MIX[1][s.SBOX[O>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[O>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&O]]}this._nRounds=x,this._keySchedule=g,this._invKeySchedule=N},l.prototype.encryptBlockRaw=function(d){return i(d=n(d),this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},l.prototype.encryptBlock=function(d){var u=this.encryptBlockRaw(d),x=c.allocUnsafe(16);return x.writeUInt32BE(u[0],0),x.writeUInt32BE(u[1],4),x.writeUInt32BE(u[2],8),x.writeUInt32BE(u[3],12),x},l.prototype.decryptBlock=function(d){var u=(d=n(d))[1];d[1]=d[3],d[3]=u;var x=i(d,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),b=c.allocUnsafe(16);return b.writeUInt32BE(x[0],0),b.writeUInt32BE(x[3],4),b.writeUInt32BE(x[2],8),b.writeUInt32BE(x[1],12),b},l.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},h.exports.AES=l},{"safe-buffer":494}],190:[function(t,h,f){var c=t("./aes"),n=t("safe-buffer").Buffer,o=t("cipher-base"),i=t("inherits"),r=t("./ghash"),s=t("buffer-xor"),l=t("./incr32");function d(u,x,b,g){o.call(this);var v=n.alloc(4,0);this._cipher=new c.AES(x);var y=this._cipher.encryptBlock(v);this._ghash=new r(y),b=(function(N,E,I){if(E.length===12)return N._finID=n.concat([E,n.from([0,0,0,1])]),n.concat([E,n.from([0,0,0,2])]);var O=new r(I),$=E.length,z=$%16;O.update(E),z&&(z=16-z,O.update(n.alloc(z,0))),O.update(n.alloc(8,0));var U=8*$,V=n.alloc(8);V.writeUIntBE(U,0,8),O.update(V),N._finID=O.state;var G=n.from(N._finID);return l(G),G})(this,b,y),this._prev=n.from(b),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=u,this._authTag=null,this._called=!1}i(d,o),d.prototype._update=function(u){if(!this._called&&this._alen){var x=16-this._alen%16;x<16&&(x=n.alloc(x,0),this._ghash.update(x))}this._called=!0;var b=this._mode.encrypt(this,u);return this._decrypt?this._ghash.update(u):this._ghash.update(b),this._len+=u.length,b},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var u=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(x,b){var g=0;x.length!==b.length&&g++;for(var v=Math.min(x.length,b.length),y=0;y<v;++y)g+=x[y]^b[y];return g})(u,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=u,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(u){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=u},d.prototype.setAAD=function(u){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(u),this._alen+=u.length},h.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,h,f){var c=t("./encrypter"),n=t("./decrypter"),o=t("./modes/list.json");f.createCipher=f.Cipher=c.createCipher,f.createCipheriv=f.Cipheriv=c.createCipheriv,f.createDecipher=f.Decipher=n.createDecipher,f.createDecipheriv=f.Decipheriv=n.createDecipheriv,f.listCiphers=f.getCiphers=function(){return Object.keys(o)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,h,f){var c=t("./authCipher"),n=t("safe-buffer").Buffer,o=t("./modes"),i=t("./streamCipher"),r=t("cipher-base"),s=t("./aes"),l=t("evp_bytestokey");function d(b,g,v){r.call(this),this._cache=new u,this._last=void 0,this._cipher=new s.AES(g),this._prev=n.from(v),this._mode=b,this._autopadding=!0}function u(){this.cache=n.allocUnsafe(0)}function x(b,g,v){var y=o[b.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=n.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof g=="string"&&(g=n.from(g)),g.length!==y.key/8)throw new TypeError("invalid key length "+g.length);return y.type==="stream"?new i(y.module,g,v,!0):y.type==="auth"?new c(y.module,g,v,!0):new d(y.module,g,v)}t("inherits")(d,r),d.prototype._update=function(b){var g,v;this._cache.add(b);for(var y=[];g=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,g),y.push(v);return n.concat(y)},d.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return(function(g){var v=g[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(g[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return g.slice(0,16-v)})(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},u.prototype.add=function(b){this.cache=n.concat([this.cache,b])},u.prototype.get=function(b){var g;if(b){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},u.prototype.flush=function(){if(this.cache.length)return this.cache},f.createDecipher=function(b,g){var v=o[b.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=l(g,!1,v.key,v.iv);return x(b,y.key,y.iv)},f.createDecipheriv=x},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,h,f){var c=t("./modes"),n=t("./authCipher"),o=t("safe-buffer").Buffer,i=t("./streamCipher"),r=t("cipher-base"),s=t("./aes"),l=t("evp_bytestokey");function d(g,v,y){r.call(this),this._cache=new x,this._cipher=new s.AES(v),this._prev=o.from(y),this._mode=g,this._autopadding=!0}t("inherits")(d,r),d.prototype._update=function(g){var v,y;this._cache.add(g);for(var N=[];v=this._cache.get();)y=this._mode.encrypt(this,v),N.push(y);return o.concat(N)};var u=o.alloc(16,16);function x(){this.cache=o.allocUnsafe(0)}function b(g,v,y){var N=c[g.toLowerCase()];if(!N)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),v.length!==N.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=o.from(y)),N.mode!=="GCM"&&y.length!==N.iv)throw new TypeError("invalid iv length "+y.length);return N.type==="stream"?new i(N.module,v,y):N.type==="auth"?new n(N.module,v,y):new d(N.module,v,y)}d.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(u))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},x.prototype.add=function(g){this.cache=o.concat([this.cache,g])},x.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},x.prototype.flush=function(){for(var g=16-this.cache.length,v=o.allocUnsafe(g),y=-1;++y<g;)v.writeUInt8(g,y);return o.concat([this.cache,v])},f.createCipheriv=b,f.createCipher=function(g,v){var y=c[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var N=l(v,!1,y.key,y.iv);return b(g,N.key,N.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,h,f){var c=t("safe-buffer").Buffer,n=c.alloc(16,0);function o(r){var s=c.allocUnsafe(16);return s.writeUInt32BE(r[0]>>>0,0),s.writeUInt32BE(r[1]>>>0,4),s.writeUInt32BE(r[2]>>>0,8),s.writeUInt32BE(r[3]>>>0,12),s}function i(r){this.h=r,this.state=c.alloc(16,0),this.cache=c.allocUnsafe(0)}i.prototype.ghash=function(r){for(var s=-1;++s<r.length;)this.state[s]^=r[s];this._multiply()},i.prototype._multiply=function(){for(var r,s,l,d=[(r=this.h).readUInt32BE(0),r.readUInt32BE(4),r.readUInt32BE(8),r.readUInt32BE(12)],u=[0,0,0,0],x=-1;++x<128;){for((this.state[~~(x/8)]&1<<7-x%8)!=0&&(u[0]^=d[0],u[1]^=d[1],u[2]^=d[2],u[3]^=d[3]),l=(1&d[3])!=0,s=3;s>0;s--)d[s]=d[s]>>>1|(1&d[s-1])<<31;d[0]=d[0]>>>1,l&&(d[0]=d[0]^225<<24)}this.state=o(u)},i.prototype.update=function(r){var s;for(this.cache=c.concat([this.cache,r]);this.cache.length>=16;)s=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(s)},i.prototype.final=function(r,s){return this.cache.length&&this.ghash(c.concat([this.cache,n],16)),this.ghash(o([0,r,0,s])),this.state},h.exports=i},{"safe-buffer":494}],195:[function(t,h,f){h.exports=function(c){for(var n,o=c.length;o--;){if((n=c.readUInt8(o))!==255){n++,c.writeUInt8(n,o);break}c.writeUInt8(0,o)}}},{}],196:[function(t,h,f){var c=t("buffer-xor");f.encrypt=function(n,o){var i=c(o,n._prev);return n._prev=n._cipher.encryptBlock(i),n._prev},f.decrypt=function(n,o){var i=n._prev;n._prev=o;var r=n._cipher.decryptBlock(o);return c(r,i)}},{"buffer-xor":219}],197:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("buffer-xor");function o(i,r,s){var l=r.length,d=n(r,i._cache);return i._cache=i._cache.slice(l),i._prev=c.concat([i._prev,s?r:d]),d}f.encrypt=function(i,r,s){for(var l,d=c.allocUnsafe(0);r.length;){if(i._cache.length===0&&(i._cache=i._cipher.encryptBlock(i._prev),i._prev=c.allocUnsafe(0)),!(i._cache.length<=r.length)){d=c.concat([d,o(i,r,s)]);break}l=i._cache.length,d=c.concat([d,o(i,r.slice(0,l),s)]),r=r.slice(l)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,h,f){var c=t("safe-buffer").Buffer;function n(i,r,s){for(var l,d,u=-1,x=0;++u<8;)l=r&1<<7-u?128:0,x+=(128&(d=i._cipher.encryptBlock(i._prev)[0]^l))>>u%8,i._prev=o(i._prev,s?l:d);return x}function o(i,r){var s=i.length,l=-1,d=c.allocUnsafe(i.length);for(i=c.concat([i,c.from([r])]);++l<s;)d[l]=i[l]<<1|i[l+1]>>7;return d}f.encrypt=function(i,r,s){for(var l=r.length,d=c.allocUnsafe(l),u=-1;++u<l;)d[u]=n(i,r[u],s);return d}},{"safe-buffer":494}],199:[function(t,h,f){var c=t("safe-buffer").Buffer;function n(o,i,r){var s=o._cipher.encryptBlock(o._prev)[0]^i;return o._prev=c.concat([o._prev.slice(1),c.from([r?i:s])]),s}f.encrypt=function(o,i,r){for(var s=i.length,l=c.allocUnsafe(s),d=-1;++d<s;)l[d]=n(o,i[d],r);return l}},{"safe-buffer":494}],200:[function(t,h,f){var c=t("buffer-xor"),n=t("safe-buffer").Buffer,o=t("../incr32");function i(r){var s=r._cipher.encryptBlockRaw(r._prev);return o(r._prev),s}f.encrypt=function(r,s){var l=Math.ceil(s.length/16),d=r._cache.length;r._cache=n.concat([r._cache,n.allocUnsafe(16*l)]);for(var u=0;u<l;u++){var x=i(r),b=d+16*u;r._cache.writeUInt32BE(x[0],b+0),r._cache.writeUInt32BE(x[1],b+4),r._cache.writeUInt32BE(x[2],b+8),r._cache.writeUInt32BE(x[3],b+12)}var g=r._cache.slice(0,s.length);return r._cache=r._cache.slice(s.length),c(s,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,h,f){f.encrypt=function(c,n){return c._cipher.encryptBlock(n)},f.decrypt=function(c,n){return c._cipher.decryptBlock(n)}},{}],202:[function(t,h,f){var c={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},n=t("./list.json");for(var o in n)n[o].module=c[n[o].mode];h.exports=n},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,h,f){h.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,h,f){(function(c){(function(){var n=t("buffer-xor");function o(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}f.encrypt=function(i,r){for(;i._cache.length<r.length;)i._cache=c.concat([i._cache,o(i)]);var s=i._cache.slice(0,r.length);return i._cache=i._cache.slice(r.length),n(r,s)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,h,f){var c=t("./aes"),n=t("safe-buffer").Buffer,o=t("cipher-base");function i(r,s,l,d){o.call(this),this._cipher=new c.AES(s),this._prev=n.from(l),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=d,this._mode=r}t("inherits")(i,o),i.prototype._update=function(r){return this._mode.encrypt(this,r,this._decrypt)},i.prototype._final=function(){this._cipher.scrub()},h.exports=i},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,h,f){var c=t("browserify-des"),n=t("browserify-aes/browser"),o=t("browserify-aes/modes"),i=t("browserify-des/modes"),r=t("evp_bytestokey");function s(d,u,x){if(d=d.toLowerCase(),o[d])return n.createCipheriv(d,u,x);if(i[d])return new c({key:u,iv:x,mode:d});throw new TypeError("invalid suite type")}function l(d,u,x){if(d=d.toLowerCase(),o[d])return n.createDecipheriv(d,u,x);if(i[d])return new c({key:u,iv:x,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}f.createCipher=f.Cipher=function(d,u){var x,b;if(d=d.toLowerCase(),o[d])x=o[d].key,b=o[d].iv;else{if(!i[d])throw new TypeError("invalid suite type");x=8*i[d].key,b=i[d].iv}var g=r(u,!1,x,b);return s(d,g.key,g.iv)},f.createCipheriv=f.Cipheriv=s,f.createDecipher=f.Decipher=function(d,u){var x,b;if(d=d.toLowerCase(),o[d])x=o[d].key,b=o[d].iv;else{if(!i[d])throw new TypeError("invalid suite type");x=8*i[d].key,b=i[d].iv}var g=r(u,!1,x,b);return l(d,g.key,g.iv)},f.createDecipheriv=f.Decipheriv=l,f.listCiphers=f.getCiphers=function(){return Object.keys(i).concat(n.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,h,f){var c=t("cipher-base"),n=t("des.js"),o=t("inherits"),i=t("safe-buffer").Buffer,r={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function s(l){c.call(this);var d,u=l.mode.toLowerCase(),x=r[u];d=l.decrypt?"decrypt":"encrypt";var b=l.key;i.isBuffer(b)||(b=i.from(b)),u!=="des-ede"&&u!=="des-ede-cbc"||(b=i.concat([b,b.slice(0,8)]));var g=l.iv;i.isBuffer(g)||(g=i.from(g)),this._des=x.create({key:b,iv:g,type:d})}r.des=r["des-cbc"],r.des3=r["des-ede3-cbc"],h.exports=s,o(s,c),s.prototype._update=function(l){return i.from(this._des.update(l))},s.prototype._final=function(){return i.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,h,f){f["des-ecb"]={key:8,iv:0},f["des-cbc"]=f.des={key:8,iv:8},f["des-ede3-cbc"]=f.des3={key:24,iv:8},f["des-ede3"]={key:24,iv:0},f["des-ede-cbc"]={key:16,iv:8},f["des-ede"]={key:16,iv:0}},{}],209:[function(t,h,f){(function(c){(function(){var n=t("bn.js"),o=t("randombytes");function i(s){var l,d=s.modulus.byteLength();do l=new n(o(d));while(l.cmp(s.modulus)>=0||!l.umod(s.prime1)||!l.umod(s.prime2));return l}function r(s,l){var d=(function($){var z=i($);return{blinder:z.toRed(n.mont($.modulus)).redPow(new n($.publicExponent)).fromRed(),unblinder:z.invm($.modulus)}})(l),u=l.modulus.byteLength(),x=new n(s).mul(d.blinder).umod(l.modulus),b=x.toRed(n.mont(l.prime1)),g=x.toRed(n.mont(l.prime2)),v=l.coefficient,y=l.prime1,N=l.prime2,E=b.redPow(l.exponent1).fromRed(),I=g.redPow(l.exponent2).fromRed(),O=E.isub(I).imul(v).umod(y).imul(N);return I.iadd(O).imul(d.unblinder).umod(l.modulus).toArrayLike(c,"be",u)}r.getr=i,h.exports=r}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,h,f){h.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,h,f){h.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,h,f){h.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("create-hash"),o=t("readable-stream"),i=t("inherits"),r=t("./sign"),s=t("./verify"),l=t("./algorithms.json");function d(g){o.Writable.call(this);var v=l[g];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=n(v.hash),this._tag=v.id,this._signType=v.sign}function u(g){o.Writable.call(this);var v=l[g];if(!v)throw new Error("Unknown message digest");this._hash=n(v.hash),this._tag=v.id,this._signType=v.sign}function x(g){return new d(g)}function b(g){return new u(g)}Object.keys(l).forEach((function(g){l[g].id=c.from(l[g].id,"hex"),l[g.toLowerCase()]=l[g]})),i(d,o.Writable),d.prototype._write=function(g,v,y){this._hash.update(g),y()},d.prototype.update=function(g,v){return typeof g=="string"&&(g=c.from(g,v)),this._hash.update(g),this},d.prototype.sign=function(g,v){this.end();var y=this._hash.digest(),N=r(y,g,this._hashType,this._signType,this._tag);return v?N.toString(v):N},i(u,o.Writable),u.prototype._write=function(g,v,y){this._hash.update(g),y()},u.prototype.update=function(g,v){return typeof g=="string"&&(g=c.from(g,v)),this._hash.update(g),this},u.prototype.verify=function(g,v,y){typeof v=="string"&&(v=c.from(v,y)),this.end();var N=this._hash.digest();return s(v,N,g,this._signType,this._tag)},h.exports={Sign:x,Verify:b,createSign:x,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("create-hmac"),o=t("browserify-rsa"),i=t("elliptic").ec,r=t("bn.js"),s=t("parse-asn1"),l=t("./curves.json");function d(g,v,y,N){if((g=c.from(g.toArray())).length<v.byteLength()){var E=c.alloc(v.byteLength()-g.length);g=c.concat([E,g])}var I=y.length,O=(function(U,V){U=(U=u(U,V)).mod(V);var G=c.from(U.toArray());if(G.length<V.byteLength()){var B=c.alloc(V.byteLength()-G.length);G=c.concat([B,G])}return G})(y,v),$=c.alloc(I);$.fill(1);var z=c.alloc(I);return z=n(N,z).update($).update(c.from([0])).update(g).update(O).digest(),$=n(N,z).update($).digest(),{k:z=n(N,z).update($).update(c.from([1])).update(g).update(O).digest(),v:$=n(N,z).update($).digest()}}function u(g,v){var y=new r(g),N=(g.length<<3)-v.bitLength();return N>0&&y.ishrn(N),y}function x(g,v,y){var N,E;do{for(N=c.alloc(0);8*N.length<g.bitLength();)v.v=n(y,v.k).update(v.v).digest(),N=c.concat([N,v.v]);E=u(N,g),v.k=n(y,v.k).update(v.v).update(c.from([0])).digest(),v.v=n(y,v.k).update(v.v).digest()}while(E.cmp(g)!==-1);return E}function b(g,v,y,N){return g.toRed(r.mont(y)).redPow(v).fromRed().mod(N)}h.exports=function(g,v,y,N,E){var I=s(v);if(I.curve){if(N!=="ecdsa"&&N!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(U,V){var G=l[V.curve.join(".")];if(!G)throw new Error("unknown curve "+V.curve.join("."));var B=new i(G).keyFromPrivate(V.privateKey).sign(U);return c.from(B.toDER())})(g,I)}if(I.type==="dsa"){if(N!=="dsa")throw new Error("wrong private key type");return(function(U,V,G){for(var B,T=V.params.priv_key,D=V.params.p,A=V.params.q,k=V.params.g,S=new r(0),j=u(U,A).mod(A),C=!1,P=d(T,A,U,G);C===!1;)B=x(A,P,G),S=b(k,B,D,A),(C=B.invm(A).imul(j.add(T.mul(S))).mod(A)).cmpn(0)===0&&(C=!1,S=new r(0));return(function(R,L){R=R.toArray(),L=L.toArray(),128&R[0]&&(R=[0].concat(R)),128&L[0]&&(L=[0].concat(L));var Y=[48,R.length+L.length+4,2,R.length];return Y=Y.concat(R,[2,L.length],L),c.from(Y)})(S,C)})(g,I,y)}if(N!=="rsa"&&N!=="ecdsa/rsa")throw new Error("wrong private key type");g=c.concat([E,g]);for(var O=I.modulus.byteLength(),$=[0,1];g.length+$.length+1<O;)$.push(255);$.push(0);for(var z=-1;++z<g.length;)$.push(g[z]);return o($,I)},h.exports.getKey=d,h.exports.makeKey=x},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("bn.js"),o=t("elliptic").ec,i=t("parse-asn1"),r=t("./curves.json");function s(l,d){if(l.cmpn(0)<=0)throw new Error("invalid sig");if(l.cmp(d)>=d)throw new Error("invalid sig")}h.exports=function(l,d,u,x,b){var g=i(u);if(g.type==="ec"){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");return(function($,z,U){var V=r[U.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+U.data.algorithm.curve.join("."));var G=new o(V),B=U.data.subjectPrivateKey.data;return G.verify(z,$,B)})(l,d,g)}if(g.type==="dsa"){if(x!=="dsa")throw new Error("wrong public key type");return(function($,z,U){var V=U.data.p,G=U.data.q,B=U.data.g,T=U.data.pub_key,D=i.signature.decode($,"der"),A=D.s,k=D.r;s(A,G),s(k,G);var S=n.mont(V),j=A.invm(G);return B.toRed(S).redPow(new n(z).mul(j).mod(G)).fromRed().mul(T.toRed(S).redPow(k.mul(j).mod(G)).fromRed()).mod(V).mod(G).cmp(k)===0})(l,d,g)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");d=c.concat([b,d]);for(var v=g.modulus.byteLength(),y=[1],N=0;d.length+y.length+2<v;)y.push(255),N++;y.push(0);for(var E=-1;++E<d.length;)y.push(d[E]);y=c.from(y);var I=n.mont(g.modulus);l=(l=new n(l).toRed(I)).redPow(new n(g.publicExponent)),l=c.from(l.fromRed().toArray());var O=N<8?1:0;for(v=Math.min(l.length,y.length),l.length!==y.length&&(O=1),E=-1;++E<v;)O|=l[E]^y[E];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,h,f){},{}],217:[function(t,h,f){var c=t("buffer"),n=c.Buffer;function o(r,s){for(var l in r)s[l]=r[l]}function i(r,s,l){return n(r,s,l)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?h.exports=c:(o(c,f),f.Buffer=i),o(n,i),i.from=function(r,s,l){if(typeof r=="number")throw new TypeError("Argument must not be a number");return n(r,s,l)},i.alloc=function(r,s,l){if(typeof r!="number")throw new TypeError("Argument must be a number");var d=n(r);return s!==void 0?typeof l=="string"?d.fill(s,l):d.fill(s):d.fill(0),d},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return n(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(r)}},{buffer:220}],218:[function(t,h,f){var c=t("safe-buffer").Buffer,n=c.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(g){var v;switch(this.encoding=(function(y){var N=(function(E){if(!E)return"utf8";for(var I;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(I)return;E=(""+E).toLowerCase(),I=!0}})(y);if(typeof N!="string"&&(c.isEncoding===n||!n(y)))throw new Error("Unknown encoding: "+y);return N||y})(g),this.encoding){case"utf16le":this.text=s,this.end=l,v=4;break;case"utf8":this.fillLast=r,v=4;break;case"base64":this.text=d,this.end=u,v=3;break;default:return this.write=x,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(v)}function i(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function r(g){var v=this.lastTotal-this.lastNeed,y=(function(N,E,I){if((192&E[0])!=128)return N.lastNeed=0,"";if(N.lastNeed>1&&E.length>1){if((192&E[1])!=128)return N.lastNeed=1,"";if(N.lastNeed>2&&E.length>2&&(192&E[2])!=128)return N.lastNeed=2,""}})(this,g);return y!==void 0?y:this.lastNeed<=g.length?(g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,v,0,g.length),void(this.lastNeed-=g.length))}function s(g,v){if((g.length-v)%2==0){var y=g.toString("utf16le",v);if(y){var N=y.charCodeAt(y.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function l(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function d(g,v){var y=(g.length-v)%3;return y===0?g.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-y))}function u(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function x(g){return g.toString(this.encoding)}function b(g){return g&&g.length?this.write(g):""}f.StringDecoder=o,o.prototype.write=function(g){if(g.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(g))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<g.length?v?v+this.text(g,y):this.text(g,y):v||""},o.prototype.end=function(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"":v},o.prototype.text=function(g,v){var y=(function(E,I,O){var $=I.length-1;if($<O)return 0;var z=i(I[$]);return z>=0?(z>0&&(E.lastNeed=z-1),z):--$<O||z===-2?0:(z=i(I[$]))>=0?(z>0&&(E.lastNeed=z-2),z):--$<O||z===-2?0:(z=i(I[$]))>=0?(z>0&&(z===2?z=0:E.lastNeed=z-3),z):0})(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=y;var N=g.length-(y-this.lastNeed);return g.copy(this.lastChar,0,N),g.toString("utf8",v,N)},o.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(t,h,f){(function(c){(function(){h.exports=function(n,o){for(var i=Math.min(n.length,o.length),r=new c(i),s=0;s<i;++s)r[s]=n[s]^o[s];return r}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,h,f){(function(c){(function(){var n=t("base64-js"),o=t("ieee754");f.Buffer=r,f.SlowBuffer=function(F){return+F!=F&&(F=0),r.alloc(+F)},f.INSPECT_MAX_BYTES=50;function i(F){if(F>2147483647)throw new RangeError('The value "'+F+'" is invalid for option "size"');var M=new Uint8Array(F);return M.__proto__=r.prototype,M}function r(F,M,K){if(typeof F=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(F)}return s(F,M,K)}function s(F,M,K){if(typeof F=="string")return(function(ne,le){if(typeof le=="string"&&le!==""||(le="utf8"),!r.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var Se=0|b(ne,le),je=i(Se),ee=je.write(ne,le);return ee!==Se&&(je=je.slice(0,ee)),je})(F,M);if(ArrayBuffer.isView(F))return u(F);if(F==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F);if(q(F,ArrayBuffer)||F&&q(F.buffer,ArrayBuffer))return(function(ne,le,Se){if(le<0||ne.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<le+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var je;return je=le===void 0&&Se===void 0?new Uint8Array(ne):Se===void 0?new Uint8Array(ne,le):new Uint8Array(ne,le,Se),je.__proto__=r.prototype,je})(F,M,K);if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var se=F.valueOf&&F.valueOf();if(se!=null&&se!==F)return r.from(se,M,K);var oe=(function(ne){if(r.isBuffer(ne)){var le=0|x(ne.length),Se=i(le);return Se.length===0||ne.copy(Se,0,0,le),Se}if(ne.length!==void 0)return typeof ne.length!="number"||X(ne.length)?i(0):u(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return u(ne.data)})(F);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return r.from(F[Symbol.toPrimitive]("string"),M,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function l(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F){return l(F),i(F<0?0:0|x(F))}function u(F){for(var M=F.length<0?0:0|x(F.length),K=i(M),se=0;se<M;se+=1)K[se]=255&F[se];return K}function x(F){if(F>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|F}function b(F,M){if(r.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||q(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var K=F.length,se=arguments.length>2&&arguments[2]===!0;if(!se&&K===0)return 0;for(var oe=!1;;)switch(M){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return Y(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return Z(F).length;default:if(oe)return se?-1:Y(F).length;M=(""+M).toLowerCase(),oe=!0}}function g(F,M,K){var se=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(M>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return D(this,M,K);case"utf8":case"utf-8":return G(this,M,K);case"ascii":return B(this,M,K);case"latin1":case"binary":return T(this,M,K);case"base64":return V(this,M,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,M,K);default:if(se)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),se=!0}}function v(F,M,K){var se=F[M];F[M]=F[K],F[K]=se}function y(F,M,K,se,oe){if(F.length===0)return-1;if(typeof K=="string"?(se=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),X(K=+K)&&(K=oe?0:F.length-1),K<0&&(K=F.length+K),K>=F.length){if(oe)return-1;K=F.length-1}else if(K<0){if(!oe)return-1;K=0}if(typeof M=="string"&&(M=r.from(M,se)),r.isBuffer(M))return M.length===0?-1:N(F,M,K,se,oe);if(typeof M=="number")return M&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(F,M,K):Uint8Array.prototype.lastIndexOf.call(F,M,K):N(F,[M],K,se,oe);throw new TypeError("val must be string, number or Buffer")}function N(F,M,K,se,oe){var ne,le=1,Se=F.length,je=M.length;if(se!==void 0&&((se=String(se).toLowerCase())==="ucs2"||se==="ucs-2"||se==="utf16le"||se==="utf-16le")){if(F.length<2||M.length<2)return-1;le=2,Se/=2,je/=2,K/=2}function ee(Ce,Pe){return le===1?Ce[Pe]:Ce.readUInt16BE(Pe*le)}if(oe){var ce=-1;for(ne=K;ne<Se;ne++)if(ee(F,ne)===ee(M,ce===-1?0:ne-ce)){if(ce===-1&&(ce=ne),ne-ce+1===je)return ce*le}else ce!==-1&&(ne-=ne-ce),ce=-1}else for(K+je>Se&&(K=Se-je),ne=K;ne>=0;ne--){for(var be=!0,Te=0;Te<je;Te++)if(ee(F,ne+Te)!==ee(M,Te)){be=!1;break}if(be)return ne}return-1}function E(F,M,K,se){K=Number(K)||0;var oe=F.length-K;se?(se=Number(se))>oe&&(se=oe):se=oe;var ne=M.length;se>ne/2&&(se=ne/2);for(var le=0;le<se;++le){var Se=parseInt(M.substr(2*le,2),16);if(X(Se))return le;F[K+le]=Se}return le}function I(F,M,K,se){return ae(Y(M,F.length-K),F,K,se)}function O(F,M,K,se){return ae((function(oe){for(var ne=[],le=0;le<oe.length;++le)ne.push(255&oe.charCodeAt(le));return ne})(M),F,K,se)}function $(F,M,K,se){return O(F,M,K,se)}function z(F,M,K,se){return ae(Z(M),F,K,se)}function U(F,M,K,se){return ae((function(oe,ne){for(var le,Se,je,ee=[],ce=0;ce<oe.length&&!((ne-=2)<0);++ce)le=oe.charCodeAt(ce),Se=le>>8,je=le%256,ee.push(je),ee.push(Se);return ee})(M,F.length-K),F,K,se)}function V(F,M,K){return M===0&&K===F.length?n.fromByteArray(F):n.fromByteArray(F.slice(M,K))}function G(F,M,K){K=Math.min(F.length,K);for(var se=[],oe=M;oe<K;){var ne,le,Se,je,ee=F[oe],ce=null,be=ee>239?4:ee>223?3:ee>191?2:1;if(oe+be<=K)switch(be){case 1:ee<128&&(ce=ee);break;case 2:(192&(ne=F[oe+1]))==128&&(je=(31&ee)<<6|63&ne)>127&&(ce=je);break;case 3:ne=F[oe+1],le=F[oe+2],(192&ne)==128&&(192&le)==128&&(je=(15&ee)<<12|(63&ne)<<6|63&le)>2047&&(je<55296||je>57343)&&(ce=je);break;case 4:ne=F[oe+1],le=F[oe+2],Se=F[oe+3],(192&ne)==128&&(192&le)==128&&(192&Se)==128&&(je=(15&ee)<<18|(63&ne)<<12|(63&le)<<6|63&Se)>65535&&je<1114112&&(ce=je)}ce===null?(ce=65533,be=1):ce>65535&&(ce-=65536,se.push(ce>>>10&1023|55296),ce=56320|1023&ce),se.push(ce),oe+=be}return(function(Te){var Ce=Te.length;if(Ce<=4096)return String.fromCharCode.apply(String,Te);for(var Pe="",Be=0;Be<Ce;)Pe+=String.fromCharCode.apply(String,Te.slice(Be,Be+=4096));return Pe})(se)}f.kMaxLength=2147483647,r.TYPED_ARRAY_SUPPORT=(function(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42}catch{return!1}})(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(F,M,K){return s(F,M,K)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(F,M,K){return(function(se,oe,ne){return l(se),se<=0?i(se):oe!==void 0?typeof ne=="string"?i(se).fill(oe,ne):i(se).fill(oe):i(se)})(F,M,K)},r.allocUnsafe=function(F){return d(F)},r.allocUnsafeSlow=function(F){return d(F)},r.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==r.prototype},r.compare=function(F,M){if(q(F,Uint8Array)&&(F=r.from(F,F.offset,F.byteLength)),q(M,Uint8Array)&&(M=r.from(M,M.offset,M.byteLength)),!r.isBuffer(F)||!r.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===M)return 0;for(var K=F.length,se=M.length,oe=0,ne=Math.min(K,se);oe<ne;++oe)if(F[oe]!==M[oe]){K=F[oe],se=M[oe];break}return K<se?-1:se<K?1:0},r.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(F,M){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return r.alloc(0);var K;if(M===void 0)for(M=0,K=0;K<F.length;++K)M+=F[K].length;var se=r.allocUnsafe(M),oe=0;for(K=0;K<F.length;++K){var ne=F[K];if(q(ne,Uint8Array)&&(ne=r.from(ne)),!r.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(se,oe),oe+=ne.length}return se},r.byteLength=b,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<F;M+=2)v(this,M,M+1);return this},r.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<F;M+=4)v(this,M,M+3),v(this,M+1,M+2);return this},r.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<F;M+=8)v(this,M,M+7),v(this,M+1,M+6),v(this,M+2,M+5),v(this,M+3,M+4);return this},r.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?G(this,0,F):g.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(F){if(!r.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F||r.compare(this,F)===0},r.prototype.inspect=function(){var F="",M=f.INSPECT_MAX_BYTES;return F=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(F+=" ... "),"<Buffer "+F+">"},r.prototype.compare=function(F,M,K,se,oe){if(q(F,Uint8Array)&&(F=r.from(F,F.offset,F.byteLength)),!r.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(M===void 0&&(M=0),K===void 0&&(K=F?F.length:0),se===void 0&&(se=0),oe===void 0&&(oe=this.length),M<0||K>F.length||se<0||oe>this.length)throw new RangeError("out of range index");if(se>=oe&&M>=K)return 0;if(se>=oe)return-1;if(M>=K)return 1;if(this===F)return 0;for(var ne=(oe>>>=0)-(se>>>=0),le=(K>>>=0)-(M>>>=0),Se=Math.min(ne,le),je=this.slice(se,oe),ee=F.slice(M,K),ce=0;ce<Se;++ce)if(je[ce]!==ee[ce]){ne=je[ce],le=ee[ce];break}return ne<le?-1:le<ne?1:0},r.prototype.includes=function(F,M,K){return this.indexOf(F,M,K)!==-1},r.prototype.indexOf=function(F,M,K){return y(this,F,M,K,!0)},r.prototype.lastIndexOf=function(F,M,K){return y(this,F,M,K,!1)},r.prototype.write=function(F,M,K,se){if(M===void 0)se="utf8",K=this.length,M=0;else if(K===void 0&&typeof M=="string")se=M,K=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(K)?(K>>>=0,se===void 0&&(se="utf8")):(se=K,K=void 0)}var oe=this.length-M;if((K===void 0||K>oe)&&(K=oe),F.length>0&&(K<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var ne=!1;;)switch(se){case"hex":return E(this,F,M,K);case"utf8":case"utf-8":return I(this,F,M,K);case"ascii":return O(this,F,M,K);case"latin1":case"binary":return $(this,F,M,K);case"base64":return z(this,F,M,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,F,M,K);default:if(ne)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),ne=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(F,M,K){var se="";K=Math.min(F.length,K);for(var oe=M;oe<K;++oe)se+=String.fromCharCode(127&F[oe]);return se}function T(F,M,K){var se="";K=Math.min(F.length,K);for(var oe=M;oe<K;++oe)se+=String.fromCharCode(F[oe]);return se}function D(F,M,K){var se=F.length;(!M||M<0)&&(M=0),(!K||K<0||K>se)&&(K=se);for(var oe="",ne=M;ne<K;++ne)oe+=L(F[ne]);return oe}function A(F,M,K){for(var se=F.slice(M,K),oe="",ne=0;ne<se.length;ne+=2)oe+=String.fromCharCode(se[ne]+256*se[ne+1]);return oe}function k(F,M,K){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+M>K)throw new RangeError("Trying to access beyond buffer length")}function S(F,M,K,se,oe,ne){if(!r.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>oe||M<ne)throw new RangeError('"value" argument is out of bounds');if(K+se>F.length)throw new RangeError("Index out of range")}function j(F,M,K,se,oe,ne){if(K+se>F.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function C(F,M,K,se,oe){return M=+M,K>>>=0,oe||j(F,0,K,4),o.write(F,M,K,se,23,4),K+4}function P(F,M,K,se,oe){return M=+M,K>>>=0,oe||j(F,0,K,8),o.write(F,M,K,se,52,8),K+8}r.prototype.slice=function(F,M){var K=this.length;(F=~~F)<0?(F+=K)<0&&(F=0):F>K&&(F=K),(M=M===void 0?K:~~M)<0?(M+=K)<0&&(M=0):M>K&&(M=K),M<F&&(M=F);var se=this.subarray(F,M);return se.__proto__=r.prototype,se},r.prototype.readUIntLE=function(F,M,K){F>>>=0,M>>>=0,K||k(F,M,this.length);for(var se=this[F],oe=1,ne=0;++ne<M&&(oe*=256);)se+=this[F+ne]*oe;return se},r.prototype.readUIntBE=function(F,M,K){F>>>=0,M>>>=0,K||k(F,M,this.length);for(var se=this[F+--M],oe=1;M>0&&(oe*=256);)se+=this[F+--M]*oe;return se},r.prototype.readUInt8=function(F,M){return F>>>=0,M||k(F,1,this.length),this[F]},r.prototype.readUInt16LE=function(F,M){return F>>>=0,M||k(F,2,this.length),this[F]|this[F+1]<<8},r.prototype.readUInt16BE=function(F,M){return F>>>=0,M||k(F,2,this.length),this[F]<<8|this[F+1]},r.prototype.readUInt32LE=function(F,M){return F>>>=0,M||k(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},r.prototype.readUInt32BE=function(F,M){return F>>>=0,M||k(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},r.prototype.readIntLE=function(F,M,K){F>>>=0,M>>>=0,K||k(F,M,this.length);for(var se=this[F],oe=1,ne=0;++ne<M&&(oe*=256);)se+=this[F+ne]*oe;return se>=(oe*=128)&&(se-=Math.pow(2,8*M)),se},r.prototype.readIntBE=function(F,M,K){F>>>=0,M>>>=0,K||k(F,M,this.length);for(var se=M,oe=1,ne=this[F+--se];se>0&&(oe*=256);)ne+=this[F+--se]*oe;return ne>=(oe*=128)&&(ne-=Math.pow(2,8*M)),ne},r.prototype.readInt8=function(F,M){return F>>>=0,M||k(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},r.prototype.readInt16LE=function(F,M){F>>>=0,M||k(F,2,this.length);var K=this[F]|this[F+1]<<8;return 32768&K?4294901760|K:K},r.prototype.readInt16BE=function(F,M){F>>>=0,M||k(F,2,this.length);var K=this[F+1]|this[F]<<8;return 32768&K?4294901760|K:K},r.prototype.readInt32LE=function(F,M){return F>>>=0,M||k(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},r.prototype.readInt32BE=function(F,M){return F>>>=0,M||k(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},r.prototype.readFloatLE=function(F,M){return F>>>=0,M||k(F,4,this.length),o.read(this,F,!0,23,4)},r.prototype.readFloatBE=function(F,M){return F>>>=0,M||k(F,4,this.length),o.read(this,F,!1,23,4)},r.prototype.readDoubleLE=function(F,M){return F>>>=0,M||k(F,8,this.length),o.read(this,F,!0,52,8)},r.prototype.readDoubleBE=function(F,M){return F>>>=0,M||k(F,8,this.length),o.read(this,F,!1,52,8)},r.prototype.writeUIntLE=function(F,M,K,se){F=+F,M>>>=0,K>>>=0,se||S(this,F,M,K,Math.pow(2,8*K)-1,0);var oe=1,ne=0;for(this[M]=255&F;++ne<K&&(oe*=256);)this[M+ne]=F/oe&255;return M+K},r.prototype.writeUIntBE=function(F,M,K,se){F=+F,M>>>=0,K>>>=0,se||S(this,F,M,K,Math.pow(2,8*K)-1,0);var oe=K-1,ne=1;for(this[M+oe]=255&F;--oe>=0&&(ne*=256);)this[M+oe]=F/ne&255;return M+K},r.prototype.writeUInt8=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,1,255,0),this[M]=255&F,M+1},r.prototype.writeUInt16LE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,2,65535,0),this[M]=255&F,this[M+1]=F>>>8,M+2},r.prototype.writeUInt16BE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,2,65535,0),this[M]=F>>>8,this[M+1]=255&F,M+2},r.prototype.writeUInt32LE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,4,4294967295,0),this[M+3]=F>>>24,this[M+2]=F>>>16,this[M+1]=F>>>8,this[M]=255&F,M+4},r.prototype.writeUInt32BE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,4,4294967295,0),this[M]=F>>>24,this[M+1]=F>>>16,this[M+2]=F>>>8,this[M+3]=255&F,M+4},r.prototype.writeIntLE=function(F,M,K,se){if(F=+F,M>>>=0,!se){var oe=Math.pow(2,8*K-1);S(this,F,M,K,oe-1,-oe)}var ne=0,le=1,Se=0;for(this[M]=255&F;++ne<K&&(le*=256);)F<0&&Se===0&&this[M+ne-1]!==0&&(Se=1),this[M+ne]=(F/le>>0)-Se&255;return M+K},r.prototype.writeIntBE=function(F,M,K,se){if(F=+F,M>>>=0,!se){var oe=Math.pow(2,8*K-1);S(this,F,M,K,oe-1,-oe)}var ne=K-1,le=1,Se=0;for(this[M+ne]=255&F;--ne>=0&&(le*=256);)F<0&&Se===0&&this[M+ne+1]!==0&&(Se=1),this[M+ne]=(F/le>>0)-Se&255;return M+K},r.prototype.writeInt8=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,1,127,-128),F<0&&(F=255+F+1),this[M]=255&F,M+1},r.prototype.writeInt16LE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,2,32767,-32768),this[M]=255&F,this[M+1]=F>>>8,M+2},r.prototype.writeInt16BE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,2,32767,-32768),this[M]=F>>>8,this[M+1]=255&F,M+2},r.prototype.writeInt32LE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,4,2147483647,-2147483648),this[M]=255&F,this[M+1]=F>>>8,this[M+2]=F>>>16,this[M+3]=F>>>24,M+4},r.prototype.writeInt32BE=function(F,M,K){return F=+F,M>>>=0,K||S(this,F,M,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),this[M]=F>>>24,this[M+1]=F>>>16,this[M+2]=F>>>8,this[M+3]=255&F,M+4},r.prototype.writeFloatLE=function(F,M,K){return C(this,F,M,!0,K)},r.prototype.writeFloatBE=function(F,M,K){return C(this,F,M,!1,K)},r.prototype.writeDoubleLE=function(F,M,K){return P(this,F,M,!0,K)},r.prototype.writeDoubleBE=function(F,M,K){return P(this,F,M,!1,K)},r.prototype.copy=function(F,M,K,se){if(!r.isBuffer(F))throw new TypeError("argument should be a Buffer");if(K||(K=0),se||se===0||(se=this.length),M>=F.length&&(M=F.length),M||(M=0),se>0&&se<K&&(se=K),se===K||F.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),F.length-M<se-K&&(se=F.length-M+K);var oe=se-K;if(this===F&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(M,K,se);else if(this===F&&K<M&&M<se)for(var ne=oe-1;ne>=0;--ne)F[ne+M]=this[ne+K];else Uint8Array.prototype.set.call(F,this.subarray(K,se),M);return oe},r.prototype.fill=function(F,M,K,se){if(typeof F=="string"){if(typeof M=="string"?(se=M,M=0,K=this.length):typeof K=="string"&&(se=K,K=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!r.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(F.length===1){var oe=F.charCodeAt(0);(se==="utf8"&&oe<128||se==="latin1")&&(F=oe)}}else typeof F=="number"&&(F&=255);if(M<0||this.length<M||this.length<K)throw new RangeError("Out of range index");if(K<=M)return this;var ne;if(M>>>=0,K=K===void 0?this.length:K>>>0,F||(F=0),typeof F=="number")for(ne=M;ne<K;++ne)this[ne]=F;else{var le=r.isBuffer(F)?F:r.from(F,se),Se=le.length;if(Se===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(ne=0;ne<K-M;++ne)this[ne+M]=le[ne%Se]}return this};var R=/[^+/0-9A-Za-z-_]/g;function L(F){return F<16?"0"+F.toString(16):F.toString(16)}function Y(F,M){var K;M=M||1/0;for(var se=F.length,oe=null,ne=[],le=0;le<se;++le){if((K=F.charCodeAt(le))>55295&&K<57344){if(!oe){if(K>56319){(M-=3)>-1&&ne.push(239,191,189);continue}if(le+1===se){(M-=3)>-1&&ne.push(239,191,189);continue}oe=K;continue}if(K<56320){(M-=3)>-1&&ne.push(239,191,189),oe=K;continue}K=65536+(oe-55296<<10|K-56320)}else oe&&(M-=3)>-1&&ne.push(239,191,189);if(oe=null,K<128){if((M-=1)<0)break;ne.push(K)}else if(K<2048){if((M-=2)<0)break;ne.push(K>>6|192,63&K|128)}else if(K<65536){if((M-=3)<0)break;ne.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;ne.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ne}function Z(F){return n.toByteArray((function(M){if((M=(M=M.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;M.length%4!=0;)M+="=";return M})(F))}function ae(F,M,K,se){for(var oe=0;oe<se&&!(oe+K>=M.length||oe>=F.length);++oe)M[oe+K]=F[oe];return oe}function q(F,M){return F instanceof M||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===M.name}function X(F){return F!=F}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("stream").Transform,o=t("string_decoder").StringDecoder;function i(r){n.call(this),this.hashMode=typeof r=="string",this.hashMode?this[r]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(i,n),i.prototype.update=function(r,s,l){typeof r=="string"&&(r=c.from(r,s));var d=this._update(r);return this.hashMode?this:(l&&(d=this._toString(d,l)),d)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(r,s,l){var d;try{this.hashMode?this._update(r):this.push(this._update(r))}catch(u){d=u}finally{l(d)}},i.prototype._flush=function(r){var s;try{this.push(this.__final())}catch(l){s=l}r(s)},i.prototype._finalOrDigest=function(r){var s=this.__final()||c.alloc(0);return r&&(s=this._toString(s,r,!0)),s},i.prototype._toString=function(r,s,l){if(this._decoder||(this._decoder=new o(s),this._encoding=s),this._encoding!==s)throw new Error("can't switch encodings");var d=this._decoder.write(r);return l&&(d+=this._decoder.end()),d},h.exports=i},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,h,f){var c=t("../internals/is-callable"),n=t("../internals/try-to-string"),o=TypeError;h.exports=function(i){if(c(i))return i;throw new o(n(i)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,h,f){var c=t("../internals/is-constructor"),n=t("../internals/try-to-string"),o=TypeError;h.exports=function(i){if(c(i))return i;throw new o(n(i)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,h,f){var c=t("../internals/is-callable"),n=String,o=TypeError;h.exports=function(i){if(typeof i=="object"||c(i))return i;throw new o("Can't set "+n(i)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,h,f){var c=t("../internals/well-known-symbol"),n=t("../internals/object-create"),o=t("../internals/object-define-property").f,i=c("unscopables"),r=Array.prototype;r[i]===void 0&&o(r,i,{configurable:!0,value:n(null)}),h.exports=function(s){r[i][s]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,h,f){var c=t("../internals/object-is-prototype-of"),n=TypeError;h.exports=function(o,i){if(c(i,o))return o;throw new n("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,h,f){var c=t("../internals/is-object"),n=String,o=TypeError;h.exports=function(i){if(c(i))return i;throw new o(n(i)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,h,f){var c=t("../internals/to-indexed-object"),n=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),i=function(r){return function(s,l,d){var u,x=c(s),b=o(x),g=n(d,b);if(r&&l!=l){for(;b>g;)if((u=x[g++])!=u)return!0}else for(;b>g;g++)if((r||g in x)&&x[g]===l)return r||g||0;return!r&&-1}};h.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,h,f){var c=t("../internals/function-bind-context"),n=t("../internals/function-uncurry-this"),o=t("../internals/indexed-object"),i=t("../internals/to-object"),r=t("../internals/length-of-array-like"),s=t("../internals/array-species-create"),l=n([].push),d=function(u){var x=u===1,b=u===2,g=u===3,v=u===4,y=u===6,N=u===7,E=u===5||y;return function(I,O,$,z){for(var U,V,G=i(I),B=o(G),T=c(O,$),D=r(B),A=0,k=z||s,S=x?k(I,D):b||N?k(I,0):void 0;D>A;A++)if((E||A in B)&&(V=T(U=B[A],A,G),u))if(x)S[A]=V;else if(V)switch(u){case 3:return!0;case 5:return U;case 6:return A;case 2:l(S,U)}else switch(u){case 4:return!1;case 7:l(S,U)}return y?-1:g||v?v:S}};h.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,h,f){var c=t("../internals/to-absolute-index"),n=t("../internals/length-of-array-like"),o=t("../internals/create-property"),i=Array,r=Math.max;h.exports=function(s,l,d){for(var u=n(s),x=c(l,u),b=c(d===void 0?u:d,u),g=i(r(b-x,0)),v=0;x<b;x++,v++)o(g,v,s[x]);return g.length=v,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,h,f){var c=t("../internals/function-uncurry-this");h.exports=c([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,h,f){var c=t("../internals/is-array"),n=t("../internals/is-constructor"),o=t("../internals/is-object"),i=t("../internals/well-known-symbol")("species"),r=Array;h.exports=function(s){var l;return c(s)&&(l=s.constructor,(n(l)&&(l===r||c(l.prototype))||o(l)&&(l=l[i])===null)&&(l=void 0)),l===void 0?r:l}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,h,f){var c=t("../internals/array-species-constructor");h.exports=function(n,o){return new(c(n))(o===0?0:o)}},{"../internals/array-species-constructor":232}],234:[function(t,h,f){var c=t("../internals/well-known-symbol")("iterator"),n=!1;try{var o=0,i={next:function(){return{done:!!o++}},return:function(){n=!0}};i[c]=function(){return this},Array.from(i,(function(){throw 2}))}catch{}h.exports=function(r,s){try{if(!s&&!n)return!1}catch{return!1}var l=!1;try{var d={};d[c]=function(){return{next:function(){return{done:l=!0}}}},r(d)}catch{}return l}},{"../internals/well-known-symbol":357}],235:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=c({}.toString),o=c("".slice);h.exports=function(i){return o(n(i),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,h,f){var c=t("../internals/to-string-tag-support"),n=t("../internals/is-callable"),o=t("../internals/classof-raw"),i=t("../internals/well-known-symbol")("toStringTag"),r=Object,s=o((function(){return arguments})())==="Arguments";h.exports=c?o:function(l){var d,u,x;return l===void 0?"Undefined":l===null?"Null":typeof(u=(function(b,g){try{return b[g]}catch{}})(d=r(l),i))=="string"?u:s?o(d):(x=o(d))==="Object"&&n(d.callee)?"Arguments":x}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,h,f){var c=t("../internals/has-own-property"),n=t("../internals/own-keys"),o=t("../internals/object-get-own-property-descriptor"),i=t("../internals/object-define-property");h.exports=function(r,s,l){for(var d=n(s),u=i.f,x=o.f,b=0;b<d.length;b++){var g=d[b];c(r,g)||l&&c(l,g)||u(r,g,x(s,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,h,f){var c=t("../internals/well-known-symbol")("match");h.exports=function(n){var o=/./;try{"/./"[n](o)}catch{try{return o[c]=!1,"/./"[n](o)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,h,f){var c=t("../internals/fails");h.exports=!c((function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype}))},{"../internals/fails":260}],240:[function(t,h,f){h.exports=function(c,n){return{value:c,done:n}}},{}],241:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");h.exports=c?function(i,r,s){return n.f(i,r,o(1,s))}:function(i,r,s){return i[r]=s,i}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,h,f){h.exports=function(c,n){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:n}}},{}],243:[function(t,h,f){var c=t("../internals/to-property-key"),n=t("../internals/object-define-property"),o=t("../internals/create-property-descriptor");h.exports=function(i,r,s){var l=c(r);l in i?n.f(i,l,o(0,s)):i[l]=s}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,h,f){var c=t("../internals/make-built-in"),n=t("../internals/object-define-property");h.exports=function(o,i,r){return r.get&&c(r.get,i,{getter:!0}),r.set&&c(r.set,i,{setter:!0}),n.f(o,i,r)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,h,f){var c=t("../internals/is-callable"),n=t("../internals/object-define-property"),o=t("../internals/make-built-in"),i=t("../internals/define-global-property");h.exports=function(r,s,l,d){d||(d={});var u=d.enumerable,x=d.name!==void 0?d.name:s;if(c(l)&&o(l,x,d),d.global)u?r[s]=l:i(s,l);else{try{d.unsafe?r[s]&&(u=!0):delete r[s]}catch{}u?r[s]=l:n.f(r,s,{value:l,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return r}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,h,f){var c=t("../internals/global"),n=Object.defineProperty;h.exports=function(o,i){try{n(c,o,{value:i,configurable:!0,writable:!0})}catch{c[o]=i}return i}},{"../internals/global":274}],247:[function(t,h,f){var c=t("../internals/fails");h.exports=!c((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,h,f){var c=typeof document=="object"&&document.all,n=c===void 0&&c!==void 0;h.exports={all:c,IS_HTMLDDA:n}},{}],249:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/is-object"),o=c.document,i=n(o)&&n(o.createElement);h.exports=function(r){return i?o.createElement(r):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,h,f){var c=t("../internals/engine-is-deno"),n=t("../internals/engine-is-node");h.exports=!c&&!n&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,h,f){h.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,h,f){var c=t("../internals/engine-user-agent");h.exports=/ipad|iphone|ipod/i.test(c)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,h,f){var c=t("../internals/engine-user-agent");h.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(c)},{"../internals/engine-user-agent":256}],254:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/classof-raw");h.exports=n(c.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,h,f){var c=t("../internals/engine-user-agent");h.exports=/web0s(?!.*chrome)/i.test(c)},{"../internals/engine-user-agent":256}],256:[function(t,h,f){h.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,h,f){var c,n,o=t("../internals/global"),i=t("../internals/engine-user-agent"),r=o.process,s=o.Deno,l=r&&r.versions||s&&s.version,d=l&&l.v8;d&&(n=(c=d.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!n&&i&&(!(c=i.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=i.match(/Chrome\/(\d+)/))&&(n=+c[1]),h.exports=n},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,h,f){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/create-non-enumerable-property"),i=t("../internals/define-built-in"),r=t("../internals/define-global-property"),s=t("../internals/copy-constructor-properties"),l=t("../internals/is-forced");h.exports=function(d,u){var x,b,g,v,y,N=d.target,E=d.global,I=d.stat;if(x=E?c:I?c[N]||r(N,{}):(c[N]||{}).prototype)for(b in u){if(v=u[b],g=d.dontCallGetSet?(y=n(x,b))&&y.value:x[b],!l(E?b:N+(I?".":"#")+b,d.forced)&&g!==void 0){if(typeof v==typeof g)continue;s(v,g)}(d.sham||g&&g.sham)&&o(v,"sham",!0),i(x,b,v,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,h,f){h.exports=function(c){try{return!!c()}catch{return!0}}},{}],261:[function(t,h,f){var c=t("../internals/function-bind-native"),n=Function.prototype,o=n.apply,i=n.call;h.exports=typeof Reflect=="object"&&Reflect.apply||(c?i.bind(o):function(){return i.apply(o,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,h,f){var c=t("../internals/function-uncurry-this-clause"),n=t("../internals/a-callable"),o=t("../internals/function-bind-native"),i=c(c.bind);h.exports=function(r,s){return n(r),s===void 0?r:o?i(r,s):function(){return r.apply(s,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,h,f){var c=t("../internals/fails");h.exports=!c((function(){var n=(function(){}).bind();return typeof n!="function"||n.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,h,f){var c=t("../internals/function-bind-native"),n=Function.prototype.call;h.exports=c?n.bind(n):function(){return n.apply(n,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/has-own-property"),o=Function.prototype,i=c&&Object.getOwnPropertyDescriptor,r=n(o,"name"),s=r&&(function(){}).name==="something",l=r&&(!c||c&&i(o,"name").configurable);h.exports={EXISTS:r,PROPER:s,CONFIGURABLE:l}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/a-callable");h.exports=function(o,i,r){try{return c(n(Object.getOwnPropertyDescriptor(o,i)[r]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,h,f){var c=t("../internals/classof-raw"),n=t("../internals/function-uncurry-this");h.exports=function(o){if(c(o)==="Function")return n(o)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,h,f){var c=t("../internals/function-bind-native"),n=Function.prototype,o=n.call,i=c&&n.bind.bind(o,o);h.exports=c?i:function(r){return function(){return o.apply(r,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/is-callable"),o=function(i){return n(i)?i:void 0};h.exports=function(i,r){return arguments.length<2?o(c[i]):c[i]&&c[i][r]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,h,f){var c=t("../internals/classof"),n=t("../internals/get-method"),o=t("../internals/is-null-or-undefined"),i=t("../internals/iterators"),r=t("../internals/well-known-symbol")("iterator");h.exports=function(s){if(!o(s))return n(s,r)||n(s,"@@iterator")||i[c(s)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,h,f){var c=t("../internals/function-call"),n=t("../internals/a-callable"),o=t("../internals/an-object"),i=t("../internals/try-to-string"),r=t("../internals/get-iterator-method"),s=TypeError;h.exports=function(l,d){var u=arguments.length<2?r(l):d;if(n(u))return o(c(u,l));throw new s(i(l)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/is-array"),o=t("../internals/is-callable"),i=t("../internals/classof-raw"),r=t("../internals/to-string"),s=c([].push);h.exports=function(l){if(o(l))return l;if(n(l)){for(var d=l.length,u=[],x=0;x<d;x++){var b=l[x];typeof b=="string"?s(u,b):typeof b!="number"&&i(b)!=="Number"&&i(b)!=="String"||s(u,r(b))}var g=u.length,v=!0;return function(y,N){if(v)return v=!1,N;if(n(this))return N;for(var E=0;E<g;E++)if(u[E]===y)return N}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,h,f){var c=t("../internals/a-callable"),n=t("../internals/is-null-or-undefined");h.exports=function(o,i){var r=o[i];return n(r)?void 0:c(r)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,h,f){(function(c){(function(){var n=function(o){return o&&o.Math===Math&&o};h.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof c=="object"&&c)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/to-object"),o=c({}.hasOwnProperty);h.exports=Object.hasOwn||function(i,r){return o(n(i),r)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,h,f){h.exports={}},{}],277:[function(t,h,f){h.exports=function(c,n){try{arguments.length===1?console.error(c):console.error(c,n)}catch{}}},{}],278:[function(t,h,f){var c=t("../internals/get-built-in");h.exports=c("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/fails"),o=t("../internals/document-create-element");h.exports=!c&&!n((function(){return Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/fails"),o=t("../internals/classof-raw"),i=Object,r=c("".split);h.exports=n((function(){return!i("z").propertyIsEnumerable(0)}))?function(s){return o(s)==="String"?r(s,""):i(s)}:i},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/is-callable"),o=t("../internals/shared-store"),i=c(Function.toString);n(o.inspectSource)||(o.inspectSource=function(r){return i(r)}),h.exports=o.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,h,f){var c,n,o,i=t("../internals/weak-map-basic-detection"),r=t("../internals/global"),s=t("../internals/is-object"),l=t("../internals/create-non-enumerable-property"),d=t("../internals/has-own-property"),u=t("../internals/shared-store"),x=t("../internals/shared-key"),b=t("../internals/hidden-keys"),g=r.TypeError,v=r.WeakMap;if(i||u.state){var y=u.state||(u.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,c=function(E,I){if(y.has(E))throw new g("Object already initialized");return I.facade=E,y.set(E,I),I},n=function(E){return y.get(E)||{}},o=function(E){return y.has(E)}}else{var N=x("state");b[N]=!0,c=function(E,I){if(d(E,N))throw new g("Object already initialized");return I.facade=E,l(E,N,I),I},n=function(E){return d(E,N)?E[N]:{}},o=function(E){return d(E,N)}}h.exports={set:c,get:n,has:o,enforce:function(E){return o(E)?n(E):c(E,{})},getterFor:function(E){return function(I){var O;if(!s(I)||(O=n(I)).type!==E)throw new g("Incompatible receiver, "+E+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,h,f){var c=t("../internals/well-known-symbol"),n=t("../internals/iterators"),o=c("iterator"),i=Array.prototype;h.exports=function(r){return r!==void 0&&(n.Array===r||i[o]===r)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,h,f){var c=t("../internals/classof-raw");h.exports=Array.isArray||function(n){return c(n)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,h,f){var c=t("../internals/document-all"),n=c.all;h.exports=c.IS_HTMLDDA?function(o){return typeof o=="function"||o===n}:function(o){return typeof o=="function"}},{"../internals/document-all":248}],286:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/fails"),o=t("../internals/is-callable"),i=t("../internals/classof"),r=t("../internals/get-built-in"),s=t("../internals/inspect-source"),l=function(){},d=[],u=r("Reflect","construct"),x=/^\s*(?:class|function)\b/,b=c(x.exec),g=!x.test(l),v=function(N){if(!o(N))return!1;try{return u(l,d,N),!0}catch{return!1}},y=function(N){if(!o(N))return!1;switch(i(N)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!b(x,s(N))}catch{return!0}};y.sham=!0,h.exports=!u||n((function(){var N;return v(v.call)||!v(Object)||!v((function(){N=!0}))||N}))?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,h,f){var c=t("../internals/fails"),n=t("../internals/is-callable"),o=/#|\.prototype\./,i=function(u,x){var b=s[r(u)];return b===d||b!==l&&(n(x)?c(x):!!x)},r=i.normalize=function(u){return String(u).replace(o,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",d=i.POLYFILL="P";h.exports=i},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,h,f){h.exports=function(c){return c==null}},{}],289:[function(t,h,f){var c=t("../internals/is-callable"),n=t("../internals/document-all"),o=n.all;h.exports=n.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:c(i)||i===o}:function(i){return typeof i=="object"?i!==null:c(i)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,h,f){h.exports=!1},{}],291:[function(t,h,f){var c=t("../internals/is-object"),n=t("../internals/classof-raw"),o=t("../internals/well-known-symbol")("match");h.exports=function(i){var r;return c(i)&&((r=i[o])!==void 0?!!r:n(i)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,h,f){var c=t("../internals/get-built-in"),n=t("../internals/is-callable"),o=t("../internals/object-is-prototype-of"),i=t("../internals/use-symbol-as-uid"),r=Object;h.exports=i?function(s){return typeof s=="symbol"}:function(s){var l=c("Symbol");return n(l)&&o(l.prototype,r(s))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,h,f){var c=t("../internals/function-bind-context"),n=t("../internals/function-call"),o=t("../internals/an-object"),i=t("../internals/try-to-string"),r=t("../internals/is-array-iterator-method"),s=t("../internals/length-of-array-like"),l=t("../internals/object-is-prototype-of"),d=t("../internals/get-iterator"),u=t("../internals/get-iterator-method"),x=t("../internals/iterator-close"),b=TypeError,g=function(y,N){this.stopped=y,this.result=N},v=g.prototype;h.exports=function(y,N,E){var I,O,$,z,U,V,G,B=E&&E.that,T=!(!E||!E.AS_ENTRIES),D=!(!E||!E.IS_RECORD),A=!(!E||!E.IS_ITERATOR),k=!(!E||!E.INTERRUPTED),S=c(N,B),j=function(P){return I&&x(I,"normal",P),new g(!0,P)},C=function(P){return T?(o(P),k?S(P[0],P[1],j):S(P[0],P[1])):k?S(P,j):S(P)};if(D)I=y.iterator;else if(A)I=y;else{if(!(O=u(y)))throw new b(i(y)+" is not iterable");if(r(O)){for($=0,z=s(y);z>$;$++)if((U=C(y[$]))&&l(v,U))return U;return new g(!1)}I=d(y,O)}for(V=D?y.next:I.next;!(G=n(V,I)).done;){try{U=C(G.value)}catch(P){x(I,"throw",P)}if(typeof U=="object"&&U&&l(v,U))return U}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,h,f){var c=t("../internals/function-call"),n=t("../internals/an-object"),o=t("../internals/get-method");h.exports=function(i,r,s){var l,d;n(i);try{if(!(l=o(i,"return"))){if(r==="throw")throw s;return s}l=c(l,i)}catch(u){d=!0,l=u}if(r==="throw")throw s;if(d)throw l;return n(l),s}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,h,f){var c=t("../internals/iterators-core").IteratorPrototype,n=t("../internals/object-create"),o=t("../internals/create-property-descriptor"),i=t("../internals/set-to-string-tag"),r=t("../internals/iterators"),s=function(){return this};h.exports=function(l,d,u,x){var b=d+" Iterator";return l.prototype=n(c,{next:o(+!x,u)}),i(l,b,!1,!0),r[b]=s,l}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-call"),o=t("../internals/is-pure"),i=t("../internals/function-name"),r=t("../internals/is-callable"),s=t("../internals/iterator-create-constructor"),l=t("../internals/object-get-prototype-of"),d=t("../internals/object-set-prototype-of"),u=t("../internals/set-to-string-tag"),x=t("../internals/create-non-enumerable-property"),b=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),v=t("../internals/iterators"),y=t("../internals/iterators-core"),N=i.PROPER,E=i.CONFIGURABLE,I=y.IteratorPrototype,O=y.BUGGY_SAFARI_ITERATORS,$=g("iterator"),z=function(){return this};h.exports=function(U,V,G,B,T,D,A){s(G,V,B);var k,S,j,C=function(q){if(q===T&&Z)return Z;if(!O&&q&&q in L)return L[q];switch(q){case"keys":case"values":case"entries":return function(){return new G(this,q)}}return function(){return new G(this)}},P=V+" Iterator",R=!1,L=U.prototype,Y=L[$]||L["@@iterator"]||T&&L[T],Z=!O&&Y||C(T),ae=V==="Array"&&L.entries||Y;if(ae&&(k=l(ae.call(new U)))!==Object.prototype&&k.next&&(o||l(k)===I||(d?d(k,I):r(k[$])||b(k,$,z)),u(k,P,!0,!0),o&&(v[P]=z)),N&&T==="values"&&Y&&Y.name!=="values"&&(!o&&E?x(L,"name","values"):(R=!0,Z=function(){return n(Y,this)})),T)if(S={values:C("values"),keys:D?Z:C("keys"),entries:C("entries")},A)for(j in S)(O||R||!(j in L))&&b(L,j,S[j]);else c({target:V,proto:!0,forced:O||R},S);return o&&!A||L[$]===Z||b(L,$,Z,{name:T}),v[V]=Z,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,h,f){var c,n,o,i=t("../internals/fails"),r=t("../internals/is-callable"),s=t("../internals/is-object"),l=t("../internals/object-create"),d=t("../internals/object-get-prototype-of"),u=t("../internals/define-built-in"),x=t("../internals/well-known-symbol"),b=t("../internals/is-pure"),g=x("iterator"),v=!1;[].keys&&("next"in(o=[].keys())?(n=d(d(o)))!==Object.prototype&&(c=n):v=!0),!s(c)||i((function(){var y={};return c[g].call(y)!==y}))?c={}:b&&(c=l(c)),r(c[g])||u(c,g,(function(){return this})),h.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,h,f){arguments[4][276][0].apply(f,arguments)},{dup:276}],299:[function(t,h,f){var c=t("../internals/to-length");h.exports=function(n){return c(n.length)}},{"../internals/to-length":343}],300:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/fails"),o=t("../internals/is-callable"),i=t("../internals/has-own-property"),r=t("../internals/descriptors"),s=t("../internals/function-name").CONFIGURABLE,l=t("../internals/inspect-source"),d=t("../internals/internal-state"),u=d.enforce,x=d.get,b=String,g=Object.defineProperty,v=c("".slice),y=c("".replace),N=c([].join),E=r&&!n((function(){return g((function(){}),"length",{value:8}).length!==8})),I=String(String).split("String"),O=h.exports=function($,z,U){v(b(z),0,7)==="Symbol("&&(z="["+y(b(z),/^Symbol\(([^)]*)\)/,"$1")+"]"),U&&U.getter&&(z="get "+z),U&&U.setter&&(z="set "+z),(!i($,"name")||s&&$.name!==z)&&(r?g($,"name",{value:z,configurable:!0}):$.name=z),E&&U&&i(U,"arity")&&$.length!==U.arity&&g($,"length",{value:U.arity});try{U&&i(U,"constructor")&&U.constructor?r&&g($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var V=u($);return i(V,"source")||(V.source=N(I,typeof z=="string"?z:"")),$};Function.prototype.toString=O((function(){return o(this)&&x(this).source||l(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,h,f){var c=Math.ceil,n=Math.floor;h.exports=Math.trunc||function(o){var i=+o;return(i>0?n:c)(i)}},{}],302:[function(t,h,f){var c,n,o,i,r,s=t("../internals/global"),l=t("../internals/function-bind-context"),d=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/task").set,x=t("../internals/queue"),b=t("../internals/engine-is-ios"),g=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),y=t("../internals/engine-is-node"),N=s.MutationObserver||s.WebKitMutationObserver,E=s.document,I=s.process,O=s.Promise,$=d(s,"queueMicrotask"),z=$&&$.value;if(!z){var U=new x,V=function(){var G,B;for(y&&(G=I.domain)&&G.exit();B=U.get();)try{B()}catch(T){throw U.head&&c(),T}G&&G.enter()};b||y||v||!N||!E?!g&&O&&O.resolve?((i=O.resolve(void 0)).constructor=O,r=l(i.then,i),c=function(){r(V)}):y?c=function(){I.nextTick(V)}:(u=l(u,s),c=function(){u(V)}):(n=!0,o=E.createTextNode(""),new N(V).observe(o,{characterData:!0}),c=function(){o.data=n=!n}),z=function(G){U.head||c(),U.add(G)}}h.exports=z},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,h,f){var c=t("../internals/a-callable"),n=TypeError,o=function(i){var r,s;this.promise=new i((function(l,d){if(r!==void 0||s!==void 0)throw new n("Bad Promise constructor");r=l,s=d})),this.resolve=c(r),this.reject=c(s)};h.exports.f=function(i){return new o(i)}},{"../internals/a-callable":222}],304:[function(t,h,f){var c=t("../internals/is-regexp"),n=TypeError;h.exports=function(o){if(c(o))throw new n("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":291}],305:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/function-uncurry-this"),o=t("../internals/function-call"),i=t("../internals/fails"),r=t("../internals/object-keys"),s=t("../internals/object-get-own-property-symbols"),l=t("../internals/object-property-is-enumerable"),d=t("../internals/to-object"),u=t("../internals/indexed-object"),x=Object.assign,b=Object.defineProperty,g=n([].concat);h.exports=!x||i((function(){if(c&&x({b:1},x(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},N=Symbol("assign detection");return v[N]=7,"abcdefghijklmnopqrst".split("").forEach((function(E){y[E]=E})),x({},v)[N]!==7||r(x({},y)).join("")!=="abcdefghijklmnopqrst"}))?function(v,y){for(var N=d(v),E=arguments.length,I=1,O=s.f,$=l.f;E>I;)for(var z,U=u(arguments[I++]),V=O?g(r(U),O(U)):r(U),G=V.length,B=0;G>B;)z=V[B++],c&&!o($,U,z)||(N[z]=U[z]);return N}:x},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,h,f){var c,n=t("../internals/an-object"),o=t("../internals/object-define-properties"),i=t("../internals/enum-bug-keys"),r=t("../internals/hidden-keys"),s=t("../internals/html"),l=t("../internals/document-create-element"),d=t("../internals/shared-key"),u=d("IE_PROTO"),x=function(){},b=function(y){return"<script>"+y+"<\/script>"},g=function(y){y.write(b("")),y.close();var N=y.parentWindow.Object;return y=null,N},v=function(){try{c=new ActiveXObject("htmlfile")}catch{}var y,N;v=typeof document<"u"?document.domain&&c?g(c):((N=l("iframe")).style.display="none",s.appendChild(N),N.src="javascript:",(y=N.contentWindow.document).open(),y.write(b("document.F=Object")),y.close(),y.F):g(c);for(var E=i.length;E--;)delete v.prototype[i[E]];return v()};r[u]=!0,h.exports=Object.create||function(y,N){var E;return y!==null?(x.prototype=n(y),E=new x,x.prototype=null,E[u]=y):E=v(),N===void 0?E:o.f(E,N)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/v8-prototype-define-bug"),o=t("../internals/object-define-property"),i=t("../internals/an-object"),r=t("../internals/to-indexed-object"),s=t("../internals/object-keys");f.f=c&&!n?Object.defineProperties:function(l,d){i(l);for(var u,x=r(d),b=s(d),g=b.length,v=0;g>v;)o.f(l,u=b[v++],x[u]);return l}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/ie8-dom-define"),o=t("../internals/v8-prototype-define-bug"),i=t("../internals/an-object"),r=t("../internals/to-property-key"),s=TypeError,l=Object.defineProperty,d=Object.getOwnPropertyDescriptor;f.f=c?o?function(u,x,b){if(i(u),x=r(x),i(b),typeof u=="function"&&x==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var g=d(u,x);g&&g.writable&&(u[x]=b.value,b={configurable:"configurable"in b?b.configurable:g.configurable,enumerable:"enumerable"in b?b.enumerable:g.enumerable,writable:!1})}return l(u,x,b)}:l:function(u,x,b){if(i(u),x=r(x),i(b),n)try{return l(u,x,b)}catch{}if("get"in b||"set"in b)throw new s("Accessors not supported");return"value"in b&&(u[x]=b.value),u}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/function-call"),o=t("../internals/object-property-is-enumerable"),i=t("../internals/create-property-descriptor"),r=t("../internals/to-indexed-object"),s=t("../internals/to-property-key"),l=t("../internals/has-own-property"),d=t("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;f.f=c?u:function(x,b){if(x=r(x),b=s(b),d)try{return u(x,b)}catch{}if(l(x,b))return i(!n(o.f,x,b),x[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,h,f){var c=t("../internals/classof-raw"),n=t("../internals/to-indexed-object"),o=t("../internals/object-get-own-property-names").f,i=t("../internals/array-slice-simple"),r=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(s){return r&&c(s)==="Window"?(function(l){try{return o(l)}catch{return i(r)}})(s):o(n(s))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,h,f){var c=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys").concat("length","prototype");f.f=Object.getOwnPropertyNames||function(o){return c(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,h,f){f.f=Object.getOwnPropertySymbols},{}],313:[function(t,h,f){var c=t("../internals/has-own-property"),n=t("../internals/is-callable"),o=t("../internals/to-object"),i=t("../internals/shared-key"),r=t("../internals/correct-prototype-getter"),s=i("IE_PROTO"),l=Object,d=l.prototype;h.exports=r?l.getPrototypeOf:function(u){var x=o(u);if(c(x,s))return x[s];var b=x.constructor;return n(b)&&x instanceof b?b.prototype:x instanceof l?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,h,f){var c=t("../internals/function-uncurry-this");h.exports=c({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=t("../internals/has-own-property"),o=t("../internals/to-indexed-object"),i=t("../internals/array-includes").indexOf,r=t("../internals/hidden-keys"),s=c([].push);h.exports=function(l,d){var u,x=o(l),b=0,g=[];for(u in x)!n(r,u)&&n(x,u)&&s(g,u);for(;d.length>b;)n(x,u=d[b++])&&(~i(g,u)||s(g,u));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,h,f){var c=t("../internals/object-keys-internal"),n=t("../internals/enum-bug-keys");h.exports=Object.keys||function(o){return c(o,n)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,h,f){var c={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!c.call({1:2},1);f.f=o?function(i){var r=n(this,i);return!!r&&r.enumerable}:c},{}],318:[function(t,h,f){var c=t("../internals/function-uncurry-this-accessor"),n=t("../internals/an-object"),o=t("../internals/a-possible-prototype");h.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var i,r=!1,s={};try{(i=c(Object.prototype,"__proto__","set"))(s,[]),r=s instanceof Array}catch{}return function(l,d){return n(l),o(d),r?i(l,d):l.__proto__=d,l}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/fails"),o=t("../internals/function-uncurry-this"),i=t("../internals/object-get-prototype-of"),r=t("../internals/object-keys"),s=t("../internals/to-indexed-object"),l=o(t("../internals/object-property-is-enumerable").f),d=o([].push),u=c&&n((function(){var b=Object.create(null);return b[2]=2,!l(b,2)})),x=function(b){return function(g){for(var v,y=s(g),N=r(y),E=u&&i(y)===null,I=N.length,O=0,$=[];I>O;)v=N[O++],c&&!(E?v in y:l(y,v))||d($,b?[v,y[v]]:y[v]);return $}};h.exports={entries:x(!0),values:x(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,h,f){var c=t("../internals/function-call"),n=t("../internals/is-callable"),o=t("../internals/is-object"),i=TypeError;h.exports=function(r,s){var l,d;if(s==="string"&&n(l=r.toString)&&!o(d=c(l,r))||n(l=r.valueOf)&&!o(d=c(l,r))||s!=="string"&&n(l=r.toString)&&!o(d=c(l,r)))return d;throw new i("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,h,f){var c=t("../internals/get-built-in"),n=t("../internals/function-uncurry-this"),o=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),r=t("../internals/an-object"),s=n([].concat);h.exports=c("Reflect","ownKeys")||function(l){var d=o.f(r(l)),u=i.f;return u?s(d,u(l)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,h,f){var c=t("../internals/global");h.exports=c},{"../internals/global":274}],323:[function(t,h,f){h.exports=function(c){try{return{error:!1,value:c()}}catch(n){return{error:!0,value:n}}}},{}],324:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/promise-native-constructor"),o=t("../internals/is-callable"),i=t("../internals/is-forced"),r=t("../internals/inspect-source"),s=t("../internals/well-known-symbol"),l=t("../internals/engine-is-browser"),d=t("../internals/engine-is-deno"),u=t("../internals/is-pure"),x=t("../internals/engine-v8-version"),b=n&&n.prototype,g=s("species"),v=!1,y=o(c.PromiseRejectionEvent),N=i("Promise",(function(){var E=r(n),I=E!==String(n);if(!I&&x===66||u&&(!b.catch||!b.finally))return!0;if(!x||x<51||!/native code/.test(E)){var O=new n((function(z){z(1)})),$=function(z){z((function(){}),(function(){}))};if((O.constructor={})[g]=$,!(v=O.then((function(){}))instanceof $))return!0}return!I&&(l||d)&&!y}));h.exports={CONSTRUCTOR:N,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,h,f){var c=t("../internals/global");h.exports=c.Promise},{"../internals/global":274}],326:[function(t,h,f){var c=t("../internals/an-object"),n=t("../internals/is-object"),o=t("../internals/new-promise-capability");h.exports=function(i,r){if(c(i),n(r)&&r.constructor===i)return r;var s=o.f(i);return(0,s.resolve)(r),s.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,h,f){var c=t("../internals/promise-native-constructor"),n=t("../internals/check-correctness-of-iteration"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR;h.exports=o||!n((function(i){c.all(i).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,h,f){var c=function(){this.head=null,this.tail=null};c.prototype={add:function(n){var o={item:n,next:null},i=this.tail;i?i.next=o:this.head=o,this.tail=o},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},h.exports=c},{}],329:[function(t,h,f){var c=t("../internals/is-null-or-undefined"),n=TypeError;h.exports=function(o){if(c(o))throw new n("Can't call method on "+o);return o}},{"../internals/is-null-or-undefined":288}],330:[function(t,h,f){var c=t("../internals/get-built-in"),n=t("../internals/define-built-in-accessor"),o=t("../internals/well-known-symbol"),i=t("../internals/descriptors"),r=o("species");h.exports=function(s){var l=c(s);i&&l&&!l[r]&&n(l,r,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,h,f){var c=t("../internals/object-define-property").f,n=t("../internals/has-own-property"),o=t("../internals/well-known-symbol")("toStringTag");h.exports=function(i,r,s){i&&!s&&(i=i.prototype),i&&!n(i,o)&&c(i,o,{configurable:!0,value:r})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,h,f){var c=t("../internals/shared"),n=t("../internals/uid"),o=c("keys");h.exports=function(i){return o[i]||(o[i]=n(i))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/define-global-property"),o=c["__core-js_shared__"]||n("__core-js_shared__",{});h.exports=o},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,h,f){var c=t("../internals/is-pure"),n=t("../internals/shared-store");(h.exports=function(o,i){return n[o]||(n[o]=i!==void 0?i:{})})("versions",[]).push({version:"3.33.0",mode:c?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,h,f){var c=t("../internals/an-object"),n=t("../internals/a-constructor"),o=t("../internals/is-null-or-undefined"),i=t("../internals/well-known-symbol")("species");h.exports=function(r,s){var l,d=c(r).constructor;return d===void 0||o(l=c(d)[i])?s:n(l)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,h,f){var c=t("../internals/engine-v8-version"),n=t("../internals/fails"),o=t("../internals/global").String;h.exports=!!Object.getOwnPropertySymbols&&!n((function(){var i=Symbol("symbol detection");return!o(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&c&&c<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,h,f){var c=t("../internals/function-call"),n=t("../internals/get-built-in"),o=t("../internals/well-known-symbol"),i=t("../internals/define-built-in");h.exports=function(){var r=n("Symbol"),s=r&&r.prototype,l=s&&s.valueOf,d=o("toPrimitive");s&&!s[d]&&i(s,d,(function(u){return c(l,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,h,f){var c=t("../internals/symbol-constructor-detection");h.exports=c&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,h,f){var c,n,o,i,r=t("../internals/global"),s=t("../internals/function-apply"),l=t("../internals/function-bind-context"),d=t("../internals/is-callable"),u=t("../internals/has-own-property"),x=t("../internals/fails"),b=t("../internals/html"),g=t("../internals/array-slice"),v=t("../internals/document-create-element"),y=t("../internals/validate-arguments-length"),N=t("../internals/engine-is-ios"),E=t("../internals/engine-is-node"),I=r.setImmediate,O=r.clearImmediate,$=r.process,z=r.Dispatch,U=r.Function,V=r.MessageChannel,G=r.String,B=0,T={};x((function(){c=r.location}));var D=function(j){if(u(T,j)){var C=T[j];delete T[j],C()}},A=function(j){return function(){D(j)}},k=function(j){D(j.data)},S=function(j){r.postMessage(G(j),c.protocol+"//"+c.host)};I&&O||(I=function(j){y(arguments.length,1);var C=d(j)?j:U(j),P=g(arguments,1);return T[++B]=function(){s(C,void 0,P)},n(B),B},O=function(j){delete T[j]},E?n=function(j){$.nextTick(A(j))}:z&&z.now?n=function(j){z.now(A(j))}:V&&!N?(i=(o=new V).port2,o.port1.onmessage=k,n=l(i.postMessage,i)):r.addEventListener&&d(r.postMessage)&&!r.importScripts&&c&&c.protocol!=="file:"&&!x(S)?(n=S,r.addEventListener("message",k,!1)):n="onreadystatechange"in v("script")?function(j){b.appendChild(v("script")).onreadystatechange=function(){b.removeChild(this),D(j)}}:function(j){setTimeout(A(j),0)}),h.exports={set:I,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,h,f){var c=t("../internals/to-integer-or-infinity"),n=Math.max,o=Math.min;h.exports=function(i,r){var s=c(i);return s<0?n(s+r,0):o(s,r)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,h,f){var c=t("../internals/indexed-object"),n=t("../internals/require-object-coercible");h.exports=function(o){return c(n(o))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,h,f){var c=t("../internals/math-trunc");h.exports=function(n){var o=+n;return o!=o||o===0?0:c(o)}},{"../internals/math-trunc":301}],343:[function(t,h,f){var c=t("../internals/to-integer-or-infinity"),n=Math.min;h.exports=function(o){return o>0?n(c(o),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,h,f){var c=t("../internals/require-object-coercible"),n=Object;h.exports=function(o){return n(c(o))}},{"../internals/require-object-coercible":329}],345:[function(t,h,f){var c=t("../internals/function-call"),n=t("../internals/is-object"),o=t("../internals/is-symbol"),i=t("../internals/get-method"),r=t("../internals/ordinary-to-primitive"),s=t("../internals/well-known-symbol"),l=TypeError,d=s("toPrimitive");h.exports=function(u,x){if(!n(u)||o(u))return u;var b,g=i(u,d);if(g){if(x===void 0&&(x="default"),b=c(g,u,x),!n(b)||o(b))return b;throw new l("Can't convert object to primitive value")}return x===void 0&&(x="number"),r(u,x)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,h,f){var c=t("../internals/to-primitive"),n=t("../internals/is-symbol");h.exports=function(o){var i=c(o,"string");return n(i)?i:i+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,h,f){var c={};c[t("../internals/well-known-symbol")("toStringTag")]="z",h.exports=String(c)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,h,f){var c=t("../internals/classof"),n=String;h.exports=function(o){if(c(o)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return n(o)}},{"../internals/classof":236}],349:[function(t,h,f){var c=String;h.exports=function(n){try{return c(n)}catch{return"Object"}}},{}],350:[function(t,h,f){var c=t("../internals/function-uncurry-this"),n=0,o=Math.random(),i=c(1 .toString);h.exports=function(r){return"Symbol("+(r===void 0?"":r)+")_"+i(++n+o,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,h,f){var c=t("../internals/symbol-constructor-detection");h.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,h,f){var c=t("../internals/descriptors"),n=t("../internals/fails");h.exports=c&&n((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,h,f){var c=TypeError;h.exports=function(n,o){if(n<o)throw new c("Not enough arguments");return n}},{}],354:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/is-callable"),o=c.WeakMap;h.exports=n(o)&&/native code/.test(String(o))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,h,f){var c=t("../internals/path"),n=t("../internals/has-own-property"),o=t("../internals/well-known-symbol-wrapped"),i=t("../internals/object-define-property").f;h.exports=function(r){var s=c.Symbol||(c.Symbol={});n(s,r)||i(s,r,{value:o.f(r)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,h,f){var c=t("../internals/well-known-symbol");f.f=c},{"../internals/well-known-symbol":357}],357:[function(t,h,f){var c=t("../internals/global"),n=t("../internals/shared"),o=t("../internals/has-own-property"),i=t("../internals/uid"),r=t("../internals/symbol-constructor-detection"),s=t("../internals/use-symbol-as-uid"),l=c.Symbol,d=n("wks"),u=s?l.for||l:l&&l.withoutSetter||i;h.exports=function(x){return o(d,x)||(d[x]=r&&o(l,x)?l[x]:u("Symbol."+x)),d[x]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/array-iteration").findIndex,o=t("../internals/add-to-unscopables"),i=!0;"findIndex"in[]&&Array(1).findIndex((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{findIndex:function(r){return n(this,r,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/array-iteration").find,o=t("../internals/add-to-unscopables"),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{find:function(r){return n(this,r,arguments.length>1?arguments[1]:void 0)}}),o("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/array-includes").includes,o=t("../internals/fails"),i=t("../internals/add-to-unscopables");c({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(r){return n(this,r,arguments.length>1?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,h,f){var c=t("../internals/to-indexed-object"),n=t("../internals/add-to-unscopables"),o=t("../internals/iterators"),i=t("../internals/internal-state"),r=t("../internals/object-define-property").f,s=t("../internals/iterator-define"),l=t("../internals/create-iter-result-object"),d=t("../internals/is-pure"),u=t("../internals/descriptors"),x=i.set,b=i.getterFor("Array Iterator");h.exports=s(Array,"Array",(function(v,y){x(this,{type:"Array Iterator",target:c(v),index:0,kind:y})}),(function(){var v=b(this),y=v.target,N=v.kind,E=v.index++;if(!y||E>=y.length)return v.target=void 0,l(void 0,!0);switch(N){case"keys":return l(E,!1);case"values":return l(y[E],!1)}return l([E,y[E]],!1)}),"values");var g=o.Arguments=o.Array;if(n("keys"),n("values"),n("entries"),!d&&u&&g.name!=="values")try{r(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/get-built-in"),o=t("../internals/function-apply"),i=t("../internals/function-call"),r=t("../internals/function-uncurry-this"),s=t("../internals/fails"),l=t("../internals/is-callable"),d=t("../internals/is-symbol"),u=t("../internals/array-slice"),x=t("../internals/get-json-replacer-function"),b=t("../internals/symbol-constructor-detection"),g=String,v=n("JSON","stringify"),y=r(/./.exec),N=r("".charAt),E=r("".charCodeAt),I=r("".replace),O=r(1 .toString),$=/[\uD800-\uDFFF]/g,z=/^[\uD800-\uDBFF]$/,U=/^[\uDC00-\uDFFF]$/,V=!b||s((function(){var D=n("Symbol")("stringify detection");return v([D])!=="[null]"||v({a:D})!=="{}"||v(Object(D))!=="{}"})),G=s((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),B=function(D,A){var k=u(arguments),S=x(A);if(l(S)||D!==void 0&&!d(D))return k[1]=function(j,C){if(l(S)&&(C=i(S,this,g(j),C)),!d(C))return C},o(v,null,k)},T=function(D,A,k){var S=N(k,A-1),j=N(k,A+1);return y(z,D)&&!y(U,j)||y(U,D)&&!y(z,S)?"\\u"+O(E(D,0),16):D};v&&c({target:"JSON",stat:!0,arity:3,forced:V||G},{stringify:function(D,A,k){var S=u(arguments),j=o(V?B:v,null,S);return G&&typeof j=="string"?I(j,$,T):j}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,h,f){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(c){return c!=c}})},{"../internals/export":259}],364:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/object-assign");c({target:"Object",stat:!0,arity:2,forced:Object.assign!==n},{assign:n})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/symbol-constructor-detection"),o=t("../internals/fails"),i=t("../internals/object-get-own-property-symbols"),r=t("../internals/to-object");c({target:"Object",stat:!0,forced:!n||o((function(){i.f(1)}))},{getOwnPropertySymbols:function(s){var l=i.f;return l?l(r(s)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/to-object"),o=t("../internals/object-keys");c({target:"Object",stat:!0,forced:t("../internals/fails")((function(){o(1)}))},{keys:function(i){return o(n(i))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/object-to-array").values;c({target:"Object",stat:!0},{values:function(o){return n(o)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-call"),o=t("../internals/a-callable"),i=t("../internals/new-promise-capability"),r=t("../internals/perform"),s=t("../internals/iterate");c({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(l){var d=this,u=i.f(d),x=u.resolve,b=u.reject,g=r((function(){var v=o(d.resolve),y=[],N=0,E=1;s(l,(function(I){var O=N++,$=!1;E++,n(v,d,I).then((function(z){$||($=!0,y[O]=z,--E||x(y))}),b)})),--E||x(y)}));return g.error&&b(g.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/is-pure"),o=t("../internals/promise-constructor-detection").CONSTRUCTOR,i=t("../internals/promise-native-constructor"),r=t("../internals/get-built-in"),s=t("../internals/is-callable"),l=t("../internals/define-built-in"),d=i&&i.prototype;if(c({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(x){return this.then(void 0,x)}}),!n&&s(i)){var u=r("Promise").prototype.catch;d.catch!==u&&l(d,"catch",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,h,f){var c,n,o,i=t("../internals/export"),r=t("../internals/is-pure"),s=t("../internals/engine-is-node"),l=t("../internals/global"),d=t("../internals/function-call"),u=t("../internals/define-built-in"),x=t("../internals/object-set-prototype-of"),b=t("../internals/set-to-string-tag"),g=t("../internals/set-species"),v=t("../internals/a-callable"),y=t("../internals/is-callable"),N=t("../internals/is-object"),E=t("../internals/an-instance"),I=t("../internals/species-constructor"),O=t("../internals/task").set,$=t("../internals/microtask"),z=t("../internals/host-report-errors"),U=t("../internals/perform"),V=t("../internals/queue"),G=t("../internals/internal-state"),B=t("../internals/promise-native-constructor"),T=t("../internals/promise-constructor-detection"),D=t("../internals/new-promise-capability"),A=T.CONSTRUCTOR,k=T.REJECTION_EVENT,S=T.SUBCLASSING,j=G.getterFor("Promise"),C=G.set,P=B&&B.prototype,R=B,L=P,Y=l.TypeError,Z=l.document,ae=l.process,q=D.f,X=q,F=!!(Z&&Z.createEvent&&l.dispatchEvent),M=function(be){var Te;return!(!N(be)||!y(Te=be.then))&&Te},K=function(be,Te){var Ce,Pe,Be,Ge=Te.value,st=Te.state===1,bt=st?be.ok:be.fail,_e=be.resolve,We=be.reject,vt=be.domain;try{bt?(st||(Te.rejection===2&&Se(Te),Te.rejection=1),bt===!0?Ce=Ge:(vt&&vt.enter(),Ce=bt(Ge),vt&&(vt.exit(),Be=!0)),Ce===be.promise?We(new Y("Promise-chain cycle")):(Pe=M(Ce))?d(Pe,Ce,_e,We):_e(Ce)):We(Ge)}catch(At){vt&&!Be&&vt.exit(),We(At)}},se=function(be,Te){be.notified||(be.notified=!0,$((function(){for(var Ce,Pe=be.reactions;Ce=Pe.get();)K(Ce,be);be.notified=!1,Te&&!be.rejection&&ne(be)})))},oe=function(be,Te,Ce){var Pe,Be;F?((Pe=Z.createEvent("Event")).promise=Te,Pe.reason=Ce,Pe.initEvent(be,!1,!0),l.dispatchEvent(Pe)):Pe={promise:Te,reason:Ce},!k&&(Be=l["on"+be])?Be(Pe):be==="unhandledrejection"&&z("Unhandled promise rejection",Ce)},ne=function(be){d(O,l,(function(){var Te,Ce=be.facade,Pe=be.value;if(le(be)&&(Te=U((function(){s?ae.emit("unhandledRejection",Pe,Ce):oe("unhandledrejection",Ce,Pe)})),be.rejection=s||le(be)?2:1,Te.error))throw Te.value}))},le=function(be){return be.rejection!==1&&!be.parent},Se=function(be){d(O,l,(function(){var Te=be.facade;s?ae.emit("rejectionHandled",Te):oe("rejectionhandled",Te,be.value)}))},je=function(be,Te,Ce){return function(Pe){be(Te,Pe,Ce)}},ee=function(be,Te,Ce){be.done||(be.done=!0,Ce&&(be=Ce),be.value=Te,be.state=2,se(be,!0))},ce=function(be,Te,Ce){if(!be.done){be.done=!0,Ce&&(be=Ce);try{if(be.facade===Te)throw new Y("Promise can't be resolved itself");var Pe=M(Te);Pe?$((function(){var Be={done:!1};try{d(Pe,Te,je(ce,Be,be),je(ee,Be,be))}catch(Ge){ee(Be,Ge,be)}})):(be.value=Te,be.state=1,se(be,!1))}catch(Be){ee({done:!1},Be,be)}}};if(A&&(L=(R=function(be){E(this,L),v(be),d(c,this);var Te=j(this);try{be(je(ce,Te),je(ee,Te))}catch(Ce){ee(Te,Ce)}}).prototype,(c=function(be){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=u(L,"then",(function(be,Te){var Ce=j(this),Pe=q(I(this,R));return Ce.parent=!0,Pe.ok=!y(be)||be,Pe.fail=y(Te)&&Te,Pe.domain=s?ae.domain:void 0,Ce.state===0?Ce.reactions.add(Pe):$((function(){K(Pe,Ce)})),Pe.promise})),n=function(){var be=new c,Te=j(be);this.promise=be,this.resolve=je(ce,Te),this.reject=je(ee,Te)},D.f=q=function(be){return be===R||be===void 0?new n(be):X(be)},!r&&y(B)&&P!==Object.prototype)){o=P.then,S||u(P,"then",(function(be,Te){var Ce=this;return new R((function(Pe,Be){d(o,Ce,Pe,Be)})).then(be,Te)}),{unsafe:!0});try{delete P.constructor}catch{}x&&x(P,L)}i({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:R}),b(R,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/is-pure"),o=t("../internals/promise-native-constructor"),i=t("../internals/fails"),r=t("../internals/get-built-in"),s=t("../internals/is-callable"),l=t("../internals/species-constructor"),d=t("../internals/promise-resolve"),u=t("../internals/define-built-in"),x=o&&o.prototype;if(c({target:"Promise",proto:!0,real:!0,forced:!!o&&i((function(){x.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var v=l(this,r("Promise")),y=s(g);return this.then(y?function(N){return d(v,g()).then((function(){return N}))}:g,y?function(N){return d(v,g()).then((function(){throw N}))}:g)}}),!n&&s(o)){var b=r("Promise").prototype.finally;x.finally!==b&&u(x,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,h,f){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-call"),o=t("../internals/a-callable"),i=t("../internals/new-promise-capability"),r=t("../internals/perform"),s=t("../internals/iterate");c({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(l){var d=this,u=i.f(d),x=u.reject,b=r((function(){var g=o(d.resolve);s(l,(function(v){n(g,d,v).then(u.resolve,x)}))}));return b.error&&x(b.value),u.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-call"),o=t("../internals/new-promise-capability");c({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(i){var r=o.f(this);return n(r.reject,void 0,i),r.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/get-built-in"),o=t("../internals/is-pure"),i=t("../internals/promise-native-constructor"),r=t("../internals/promise-constructor-detection").CONSTRUCTOR,s=t("../internals/promise-resolve"),l=n("Promise"),d=o&&!r;c({target:"Promise",stat:!0,forced:o||r},{resolve:function(u){return s(d&&this===l?i:this,u)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-uncurry-this"),o=t("../internals/to-absolute-index"),i=RangeError,r=String.fromCharCode,s=String.fromCodePoint,l=n([].join);c({target:"String",stat:!0,arity:1,forced:!!s&&s.length!==1},{fromCodePoint:function(d){for(var u,x=[],b=arguments.length,g=0;b>g;){if(u=+arguments[g++],o(u,1114111)!==u)throw new i(u+" is not a valid code point");x[g]=u<65536?r(u):r(55296+((u-=65536)>>10),u%1024+56320)}return l(x,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/function-uncurry-this"),o=t("../internals/not-a-regexp"),i=t("../internals/require-object-coercible"),r=t("../internals/to-string"),s=t("../internals/correct-is-regexp-logic"),l=n("".indexOf);c({target:"String",proto:!0,forced:!s("includes")},{includes:function(d){return!!~l(r(i(this)),r(o(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,h,f){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/global"),o=t("../internals/function-call"),i=t("../internals/function-uncurry-this"),r=t("../internals/is-pure"),s=t("../internals/descriptors"),l=t("../internals/symbol-constructor-detection"),d=t("../internals/fails"),u=t("../internals/has-own-property"),x=t("../internals/object-is-prototype-of"),b=t("../internals/an-object"),g=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),y=t("../internals/to-string"),N=t("../internals/create-property-descriptor"),E=t("../internals/object-create"),I=t("../internals/object-keys"),O=t("../internals/object-get-own-property-names"),$=t("../internals/object-get-own-property-names-external"),z=t("../internals/object-get-own-property-symbols"),U=t("../internals/object-get-own-property-descriptor"),V=t("../internals/object-define-property"),G=t("../internals/object-define-properties"),B=t("../internals/object-property-is-enumerable"),T=t("../internals/define-built-in"),D=t("../internals/define-built-in-accessor"),A=t("../internals/shared"),k=t("../internals/shared-key"),S=t("../internals/hidden-keys"),j=t("../internals/uid"),C=t("../internals/well-known-symbol"),P=t("../internals/well-known-symbol-wrapped"),R=t("../internals/well-known-symbol-define"),L=t("../internals/symbol-define-to-primitive"),Y=t("../internals/set-to-string-tag"),Z=t("../internals/internal-state"),ae=t("../internals/array-iteration").forEach,q=k("hidden"),X=Z.set,F=Z.getterFor("Symbol"),M=Object.prototype,K=n.Symbol,se=K&&K.prototype,oe=n.RangeError,ne=n.TypeError,le=n.QObject,Se=U.f,je=V.f,ee=$.f,ce=B.f,be=i([].push),Te=A("symbols"),Ce=A("op-symbols"),Pe=A("wks"),Be=!le||!le.prototype||!le.prototype.findChild,Ge=function(ge,Oe,Ke){var pe=Se(M,Oe);pe&&delete M[Oe],je(ge,Oe,Ke),pe&&ge!==M&&je(M,Oe,pe)},st=s&&d((function(){return E(je({},"a",{get:function(){return je(this,"a",{value:7}).a}})).a!==7}))?Ge:je,bt=function(ge,Oe){var Ke=Te[ge]=E(se);return X(Ke,{type:"Symbol",tag:ge,description:Oe}),s||(Ke.description=Oe),Ke},_e=function(ge,Oe,Ke){ge===M&&_e(Ce,Oe,Ke),b(ge);var pe=v(Oe);return b(Ke),u(Te,pe)?(Ke.enumerable?(u(ge,q)&&ge[q][pe]&&(ge[q][pe]=!1),Ke=E(Ke,{enumerable:N(0,!1)})):(u(ge,q)||je(ge,q,N(1,{})),ge[q][pe]=!0),st(ge,pe,Ke)):je(ge,pe,Ke)},We=function(ge,Oe){b(ge);var Ke=g(Oe),pe=I(Ke).concat(De(Ke));return ae(pe,(function(me){s&&!o(vt,Ke,me)||_e(ge,me,Ke[me])})),ge},vt=function(ge){var Oe=v(ge),Ke=o(ce,this,Oe);return!(this===M&&u(Te,Oe)&&!u(Ce,Oe))&&(!(Ke||!u(this,Oe)||!u(Te,Oe)||u(this,q)&&this[q][Oe])||Ke)},At=function(ge,Oe){var Ke=g(ge),pe=v(Oe);if(Ke!==M||!u(Te,pe)||u(Ce,pe)){var me=Se(Ke,pe);return!me||!u(Te,pe)||u(Ke,q)&&Ke[q][pe]||(me.enumerable=!0),me}},Nt=function(ge){var Oe=ee(g(ge)),Ke=[];return ae(Oe,(function(pe){u(Te,pe)||u(S,pe)||be(Ke,pe)})),Ke},De=function(ge){var Oe=ge===M,Ke=ee(Oe?Ce:g(ge)),pe=[];return ae(Ke,(function(me){!u(Te,me)||Oe&&!u(M,me)||be(pe,Te[me])})),pe};l||(T(se=(K=function(){if(x(se,this))throw new ne("Symbol is not a constructor");var ge=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Oe=j(ge),Ke=function(pe){this===M&&o(Ke,Ce,pe),u(this,q)&&u(this[q],Oe)&&(this[q][Oe]=!1);var me=N(1,pe);try{st(this,Oe,me)}catch(xe){if(!(xe instanceof oe))throw xe;Ge(this,Oe,me)}};return s&&Be&&st(M,Oe,{configurable:!0,set:Ke}),bt(Oe,ge)}).prototype,"toString",(function(){return F(this).tag})),T(K,"withoutSetter",(function(ge){return bt(j(ge),ge)})),B.f=vt,V.f=_e,G.f=We,U.f=At,O.f=$.f=Nt,z.f=De,P.f=function(ge){return bt(C(ge),ge)},s&&(D(se,"description",{configurable:!0,get:function(){return F(this).description}}),r||T(M,"propertyIsEnumerable",vt,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:K}),ae(I(Pe),(function(ge){R(ge)})),c({target:"Symbol",stat:!0,forced:!l},{useSetter:function(){Be=!0},useSimple:function(){Be=!1}}),c({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(ge,Oe){return Oe===void 0?E(ge):We(E(ge),Oe)},defineProperty:_e,defineProperties:We,getOwnPropertyDescriptor:At}),c({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:Nt}),L(),Y(K,"Symbol"),S[q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/get-built-in"),o=t("../internals/has-own-property"),i=t("../internals/to-string"),r=t("../internals/shared"),s=t("../internals/symbol-registry-detection"),l=r("string-to-symbol-registry"),d=r("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!s},{for:function(u){var x=i(u);if(o(l,x))return l[x];var b=n("Symbol")(x);return l[x]=b,d[b]=x,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,h,f){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,h,f){var c=t("../internals/export"),n=t("../internals/has-own-property"),o=t("../internals/is-symbol"),i=t("../internals/try-to-string"),r=t("../internals/shared"),s=t("../internals/symbol-registry-detection"),l=r("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!s},{keyFor:function(d){if(!o(d))throw new TypeError(i(d)+" is not a symbol");if(n(l,d))return l[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,h,f){function c(n){return Object.prototype.toString.call(n)}f.isArray=function(n){return Array.isArray?Array.isArray(n):c(n)==="[object Array]"},f.isBoolean=function(n){return typeof n=="boolean"},f.isNull=function(n){return n===null},f.isNullOrUndefined=function(n){return n==null},f.isNumber=function(n){return typeof n=="number"},f.isString=function(n){return typeof n=="string"},f.isSymbol=function(n){return typeof n=="symbol"},f.isUndefined=function(n){return n===void 0},f.isRegExp=function(n){return c(n)==="[object RegExp]"},f.isObject=function(n){return typeof n=="object"&&n!==null},f.isDate=function(n){return c(n)==="[object Date]"},f.isError=function(n){return c(n)==="[object Error]"||n instanceof Error},f.isFunction=function(n){return typeof n=="function"},f.isPrimitive=function(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||n===void 0},f.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,h,f){(function(c){(function(){var n=t("elliptic"),o=t("bn.js");h.exports=function(l){return new r(l)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function r(l){this.curveType=i[l],this.curveType||(this.curveType={name:l}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(l,d,u){Array.isArray(l)||(l=l.toArray());var x=new c(l);if(u&&x.length<u){var b=new c(u-x.length);b.fill(0),x=c.concat([b,x])}return d?x.toString(d):x}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,r.prototype.generateKeys=function(l,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(l,d)},r.prototype.computeSecret=function(l,d,u){return d=d||"utf8",c.isBuffer(l)||(l=new c(l,d)),s(this.curve.keyFromPublic(l).getPublic().mul(this.keys.getPrivate()).getX(),u,this.curveType.byteLength)},r.prototype.getPublicKey=function(l,d){var u=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(u[u.length-1]%2?u[0]=7:u[0]=6),s(u,l)},r.prototype.getPrivateKey=function(l){return s(this.keys.getPrivate(),l)},r.prototype.setPublicKey=function(l,d){return d=d||"utf8",c.isBuffer(l)||(l=new c(l,d)),this.keys._importPublic(l),this},r.prototype.setPrivateKey=function(l,d){d=d||"utf8",c.isBuffer(l)||(l=new c(l,d));var u=new o(l);return u=u.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(u),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,h,f){arguments[4][184][0].apply(f,arguments)},{buffer:188,dup:184}],386:[function(t,h,f){var c=t("inherits"),n=t("md5.js"),o=t("ripemd160"),i=t("sha.js"),r=t("cipher-base");function s(l){r.call(this,"digest"),this._hash=l}c(s,r),s.prototype._update=function(l){this._hash.update(l)},s.prototype._final=function(){return this._hash.digest()},h.exports=function(l){return(l=l.toLowerCase())==="md5"?new n:l==="rmd160"||l==="ripemd160"?new o:new s(i(l))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,h,f){var c=t("md5.js");h.exports=function(n){return new c().update(n).digest()}},{"md5.js":450}],388:[function(t,h,f){var c=t("inherits"),n=t("./legacy"),o=t("cipher-base"),i=t("safe-buffer").Buffer,r=t("create-hash/md5"),s=t("ripemd160"),l=t("sha.js"),d=i.alloc(128);function u(x,b){o.call(this,"digest"),typeof b=="string"&&(b=i.from(b));var g=x==="sha512"||x==="sha384"?128:64;this._alg=x,this._key=b,b.length>g?b=(x==="rmd160"?new s:l(x)).update(b).digest():b.length<g&&(b=i.concat([b,d],g));for(var v=this._ipad=i.allocUnsafe(g),y=this._opad=i.allocUnsafe(g),N=0;N<g;N++)v[N]=54^b[N],y[N]=92^b[N];this._hash=x==="rmd160"?new s:l(x),this._hash.update(v)}c(u,o),u.prototype._update=function(x){this._hash.update(x)},u.prototype._final=function(){var x=this._hash.digest();return(this._alg==="rmd160"?new s:l(this._alg)).update(this._opad).update(x).digest()},h.exports=function(x,b){return(x=x.toLowerCase())==="rmd160"||x==="ripemd160"?new u("rmd160",b):x==="md5"?new n(r,b):new u(x,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,h,f){var c=t("inherits"),n=t("safe-buffer").Buffer,o=t("cipher-base"),i=n.alloc(128);function r(s,l){o.call(this,"digest"),typeof l=="string"&&(l=n.from(l)),this._alg=s,this._key=l,l.length>64?l=s(l):l.length<64&&(l=n.concat([l,i],64));for(var d=this._ipad=n.allocUnsafe(64),u=this._opad=n.allocUnsafe(64),x=0;x<64;x++)d[x]=54^l[x],u[x]=92^l[x];this._hash=[d]}c(r,o),r.prototype._update=function(s){this._hash.push(s)},r.prototype._final=function(){var s=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,s]))},h.exports=r},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,h,f){f.randomBytes=f.rng=f.pseudoRandomBytes=f.prng=t("randombytes"),f.createHash=f.Hash=t("create-hash"),f.createHmac=f.Hmac=t("create-hmac");var c=t("browserify-sign/algos"),n=Object.keys(c),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);f.getHashes=function(){return o};var i=t("pbkdf2");f.pbkdf2=i.pbkdf2,f.pbkdf2Sync=i.pbkdf2Sync;var r=t("browserify-cipher");f.Cipher=r.Cipher,f.createCipher=r.createCipher,f.Cipheriv=r.Cipheriv,f.createCipheriv=r.createCipheriv,f.Decipher=r.Decipher,f.createDecipher=r.createDecipher,f.Decipheriv=r.Decipheriv,f.createDecipheriv=r.createDecipheriv,f.getCiphers=r.getCiphers,f.listCiphers=r.listCiphers;var s=t("diffie-hellman");f.DiffieHellmanGroup=s.DiffieHellmanGroup,f.createDiffieHellmanGroup=s.createDiffieHellmanGroup,f.getDiffieHellman=s.getDiffieHellman,f.createDiffieHellman=s.createDiffieHellman,f.DiffieHellman=s.DiffieHellman;var l=t("browserify-sign");f.createSign=l.createSign,f.Sign=l.Sign,f.createVerify=l.createVerify,f.Verify=l.Verify,f.createECDH=t("create-ecdh");var d=t("public-encrypt");f.publicEncrypt=d.publicEncrypt,f.privateEncrypt=d.privateEncrypt,f.publicDecrypt=d.publicDecrypt,f.privateDecrypt=d.privateDecrypt;var u=t("randomfill");f.randomFill=u.randomFill,f.randomFillSync=u.randomFillSync,f.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},f.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,h,f){(function(c,n){typeof f=="object"&&h!==void 0?h.exports=n():(c=typeof globalThis<"u"?globalThis:c||self).dayjs=n()})(void 0,(function(){var c=6e4,n=36e5,o="millisecond",i="second",r="minute",s="hour",l="day",d="week",u="month",x="quarter",b="year",g="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var S=["th","st","nd","rd"],j=k%100;return"["+k+(S[(j-20)%10]||S[j]||S[0])+"]"}},I=function(k,S,j){var C=String(k);return!C||C.length>=S?k:""+Array(S+1-C.length).join(j)+k},O={s:I,z:function(k){var S=-k.utcOffset(),j=Math.abs(S),C=Math.floor(j/60),P=j%60;return(S<=0?"+":"-")+I(C,2,"0")+":"+I(P,2,"0")},m:function k(S,j){if(S.date()<j.date())return-k(j,S);var C=12*(j.year()-S.year())+(j.month()-S.month()),P=S.clone().add(C,u),R=j-P<0,L=S.clone().add(C+(R?-1:1),u);return+(-(C+(j-P)/(R?P-L:L-P))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:u,y:b,w:d,d:l,D:g,h:s,m:r,s:i,ms:o,Q:x}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},$="en",z={};z[$]=E;var U="$isDayjsObject",V=function(k){return k instanceof D||!(!k||!k[U])},G=function k(S,j,C){var P;if(!S)return $;if(typeof S=="string"){var R=S.toLowerCase();z[R]&&(P=R),j&&(z[R]=j,P=R);var L=S.split("-");if(!P&&L.length>1)return k(L[0])}else{var Y=S.name;z[Y]=S,P=Y}return!C&&P&&($=P),P||!C&&$},B=function(k,S){if(V(k))return k.clone();var j=typeof S=="object"?S:{};return j.date=k,j.args=arguments,new D(j)},T=O;T.l=G,T.i=V,T.w=function(k,S){return B(k,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var D=(function(){function k(j){this.$L=G(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[U]=!0}var S=k.prototype;return S.parse=function(j){this.$d=(function(C){var P=C.date,R=C.utc;if(P===null)return new Date(NaN);if(T.u(P))return new Date;if(P instanceof Date)return new Date(P);if(typeof P=="string"&&!/Z$/i.test(P)){var L=P.match(y);if(L){var Y=L[2]-1||0,Z=(L[7]||"0").substring(0,3);return R?new Date(Date.UTC(L[1],Y,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)):new Date(L[1],Y,L[3]||1,L[4]||0,L[5]||0,L[6]||0,Z)}}return new Date(P)})(j),this.init()},S.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},S.$utils=function(){return T},S.isValid=function(){return this.$d.toString()!==v},S.isSame=function(j,C){var P=B(j);return this.startOf(C)<=P&&P<=this.endOf(C)},S.isAfter=function(j,C){return B(j)<this.startOf(C)},S.isBefore=function(j,C){return this.endOf(C)<B(j)},S.$g=function(j,C,P){return T.u(j)?this[C]:this.set(P,j)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(j,C){var P=this,R=!!T.u(C)||C,L=T.p(j),Y=function(se,oe){var ne=T.w(P.$u?Date.UTC(P.$y,oe,se):new Date(P.$y,oe,se),P);return R?ne:ne.endOf(l)},Z=function(se,oe){return T.w(P.toDate()[se].apply(P.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(oe)),P)},ae=this.$W,q=this.$M,X=this.$D,F="set"+(this.$u?"UTC":"");switch(L){case b:return R?Y(1,0):Y(31,11);case u:return R?Y(1,q):Y(0,q+1);case d:var M=this.$locale().weekStart||0,K=(ae<M?ae+7:ae)-M;return Y(R?X-K:X+(6-K),q);case l:case g:return Z(F+"Hours",0);case s:return Z(F+"Minutes",1);case r:return Z(F+"Seconds",2);case i:return Z(F+"Milliseconds",3);default:return this.clone()}},S.endOf=function(j){return this.startOf(j,!1)},S.$set=function(j,C){var P,R=T.p(j),L="set"+(this.$u?"UTC":""),Y=(P={},P[l]=L+"Date",P[g]=L+"Date",P[u]=L+"Month",P[b]=L+"FullYear",P[s]=L+"Hours",P[r]=L+"Minutes",P[i]=L+"Seconds",P[o]=L+"Milliseconds",P)[R],Z=R===l?this.$D+(C-this.$W):C;if(R===u||R===b){var ae=this.clone().set(g,1);ae.$d[Y](Z),ae.init(),this.$d=ae.set(g,Math.min(this.$D,ae.daysInMonth())).$d}else Y&&this.$d[Y](Z);return this.init(),this},S.set=function(j,C){return this.clone().$set(j,C)},S.get=function(j){return this[T.p(j)]()},S.add=function(j,C){var P,R=this;j=Number(j);var L=T.p(C),Y=function(q){var X=B(R);return T.w(X.date(X.date()+Math.round(q*j)),R)};if(L===u)return this.set(u,this.$M+j);if(L===b)return this.set(b,this.$y+j);if(L===l)return Y(1);if(L===d)return Y(7);var Z=(P={},P[r]=c,P[s]=n,P[i]=1e3,P)[L]||1,ae=this.$d.getTime()+j*Z;return T.w(ae,this)},S.subtract=function(j,C){return this.add(-1*j,C)},S.format=function(j){var C=this,P=this.$locale();if(!this.isValid())return P.invalidDate||v;var R=j||"YYYY-MM-DDTHH:mm:ssZ",L=T.z(this),Y=this.$H,Z=this.$m,ae=this.$M,q=P.weekdays,X=P.months,F=P.meridiem,M=function(oe,ne,le,Se){return oe&&(oe[ne]||oe(C,R))||le[ne].slice(0,Se)},K=function(oe){return T.s(Y%12||12,oe,"0")},se=F||function(oe,ne,le){var Se=oe<12?"AM":"PM";return le?Se.toLowerCase():Se};return R.replace(N,(function(oe,ne){return ne||(function(le){switch(le){case"YY":return String(C.$y).slice(-2);case"YYYY":return T.s(C.$y,4,"0");case"M":return ae+1;case"MM":return T.s(ae+1,2,"0");case"MMM":return M(P.monthsShort,ae,X,3);case"MMMM":return M(X,ae);case"D":return C.$D;case"DD":return T.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return M(P.weekdaysMin,C.$W,q,2);case"ddd":return M(P.weekdaysShort,C.$W,q,3);case"dddd":return q[C.$W];case"H":return String(Y);case"HH":return T.s(Y,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return se(Y,Z,!0);case"A":return se(Y,Z,!1);case"m":return String(Z);case"mm":return T.s(Z,2,"0");case"s":return String(C.$s);case"ss":return T.s(C.$s,2,"0");case"SSS":return T.s(C.$ms,3,"0");case"Z":return L}return null})(oe)||L.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(j,C,P){var R,L=this,Y=T.p(C),Z=B(j),ae=(Z.utcOffset()-this.utcOffset())*c,q=this-Z,X=function(){return T.m(L,Z)};switch(Y){case b:R=X()/12;break;case u:R=X();break;case x:R=X()/3;break;case d:R=(q-ae)/6048e5;break;case l:R=(q-ae)/864e5;break;case s:R=q/n;break;case r:R=q/c;break;case i:R=q/1e3;break;default:R=q}return P?R:T.a(R)},S.daysInMonth=function(){return this.endOf(u).$D},S.$locale=function(){return z[this.$L]},S.locale=function(j,C){if(!j)return this.$L;var P=this.clone(),R=G(j,C,!0);return R&&(P.$L=R),P},S.clone=function(){return T.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},k})(),A=D.prototype;return B.prototype=A,[["$ms",o],["$s",i],["$m",r],["$H",s],["$W",l],["$M",u],["$y",b],["$D",g]].forEach((function(k){A[k[1]]=function(S){return this.$g(S,k[0],k[1])}})),B.extend=function(k,S){return k.$i||(k(S,D,B),k.$i=!0),B},B.locale=G,B.isDayjs=V,B.unix=function(k){return B(1e3*k)},B.en=z[$],B.Ls=z,B.p={},B}))},{}],392:[function(t,h,f){(function(c,n){typeof f=="object"&&h!==void 0?h.exports=n():(c=typeof globalThis<"u"?globalThis:c||self).dayjs_plugin_customParseFormat=n()})(void 0,(function(){var c={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,i=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,s={},l=function(y){return(y=+y)+(y>68?1900:2e3)},d=function(y){return function(N){this[y]=+N}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=(function(N){if(!N||N==="Z")return 0;var E=N.match(/([+-]|\d\d)/g),I=60*E[1]+(+E[2]||0);return I===0?0:E[0]==="+"?-I:I})(y)}],x=function(y){var N=s[y];return N&&(N.indexOf?N:N.s.concat(N.f))},b=function(y,N){var E,I=s.meridiem;if(I){for(var O=1;O<=24;O+=1)if(y.indexOf(I(O,0,N))>-1){E=O>12;break}}else E=y===(N?"pm":"PM");return E},g={A:[r,function(y){this.afternoon=b(y,!1)}],a:[r,function(y){this.afternoon=b(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[o,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[i,d("seconds")],ss:[i,d("seconds")],m:[i,d("minutes")],mm:[i,d("minutes")],H:[i,d("hours")],h:[i,d("hours")],HH:[i,d("hours")],hh:[i,d("hours")],D:[i,d("day")],DD:[o,d("day")],Do:[r,function(y){var N=s.ordinal,E=y.match(/\d+/);if(this.day=E[0],N)for(var I=1;I<=31;I+=1)N(I).replace(/\[|\]/g,"")===y&&(this.day=I)}],M:[i,d("month")],MM:[o,d("month")],MMM:[r,function(y){var N=x("months"),E=(x("monthsShort")||N.map((function(I){return I.slice(0,3)}))).indexOf(y)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[r,function(y){var N=x("months").indexOf(y)+1;if(N<1)throw new Error;this.month=N%12||N}],Y:[/[+-]?\d+/,d("year")],YY:[o,function(y){this.year=l(y)}],YYYY:[/\d{4}/,d("year")],Z:u,ZZ:u};function v(y){var N,E;N=y,E=s&&s.formats;for(var I=(y=N.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(B,T,D){var A=D&&D.toUpperCase();return T||E[D]||c[D]||E[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(k,S,j){return S||j.slice(1)}))}))).match(n),O=I.length,$=0;$<O;$+=1){var z=I[$],U=g[z],V=U&&U[0],G=U&&U[1];I[$]=G?{regex:V,parser:G}:z.replace(/^\[|\]$/g,"")}return function(B){for(var T={},D=0,A=0;D<O;D+=1){var k=I[D];if(typeof k=="string")A+=k.length;else{var S=k.regex,j=k.parser,C=B.slice(A),P=S.exec(C)[0];j.call(T,P),B=B.replace(P,"")}}return(function(R){var L=R.afternoon;if(L!==void 0){var Y=R.hours;L?Y<12&&(R.hours+=12):Y===12&&(R.hours=0),delete R.afternoon}})(T),T}}return function(y,N,E){E.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(l=y.parseTwoDigitYear);var I=N.prototype,O=I.parse;I.parse=function($){var z=$.date,U=$.utc,V=$.args;this.$u=U;var G=V[1];if(typeof G=="string"){var B=V[2]===!0,T=V[3]===!0,D=B||T,A=V[2];T&&(A=V[2]),s=this.$locale(),!B&&A&&(s=E.Ls[A]),this.$d=(function(C,P,R){try{if(["x","X"].indexOf(P)>-1)return new Date((P==="X"?1e3:1)*C);var L=v(P)(C),Y=L.year,Z=L.month,ae=L.day,q=L.hours,X=L.minutes,F=L.seconds,M=L.milliseconds,K=L.zone,se=new Date,oe=ae||(Y||Z?1:se.getDate()),ne=Y||se.getFullYear(),le=0;Y&&!Z||(le=Z>0?Z-1:se.getMonth());var Se=q||0,je=X||0,ee=F||0,ce=M||0;return K?new Date(Date.UTC(ne,le,oe,Se,je,ee,ce+60*K.offset*1e3)):R?new Date(Date.UTC(ne,le,oe,Se,je,ee,ce)):new Date(ne,le,oe,Se,je,ee,ce)}catch{return new Date("")}})(z,G,U),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),D&&z!=this.format(G)&&(this.$d=new Date("")),s={}}else if(G instanceof Array)for(var k=G.length,S=1;S<=k;S+=1){V[1]=G[S-1];var j=E.apply(this,V);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}S===k&&(this.$d=new Date(""))}else O.call(this,$)}}}))},{}],393:[function(t,h,f){(function(c,n){typeof f=="object"&&h!==void 0?h.exports=n():(c=typeof globalThis<"u"?globalThis:c||self).dayjs_plugin_utc=n()})(void 0,(function(){var c="minute",n=/[+-]\d\d(?::?\d\d)?/g,o=/([+-]|\d\d)/g;return function(i,r,s){var l=r.prototype;s.utc=function(y){var N={date:y,utc:!0,args:arguments};return new r(N)},l.utc=function(y){var N=s(this.toDate(),{locale:this.$L,utc:!0});return y?N.add(this.utcOffset(),c):N},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),d.call(this,y)};var u=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else u.call(this)};var x=l.utcOffset;l.utcOffset=function(y,N){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?x.call(this):this.$offset;if(typeof y=="string"&&(y=(function(z){z===void 0&&(z="");var U=z.match(n);if(!U)return null;var V=(""+U[0]).match(o)||["-",0,0],G=V[0],B=60*+V[1]+ +V[2];return B===0?0:G==="+"?B:-B})(y))===null)return this;var I=Math.abs(y)<=16?60*y:y,O=this;if(N)return O.$offset=I,O.$u=y===0,O;if(y!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(I+$,c)).$offset=I,O.$x.$localOffset=$}else O=this.utc();return O};var b=l.format;l.format=function(y){var N=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,N)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var v=l.diff;l.diff=function(y,N,E){if(y&&this.$u===y.$u)return v.call(this,y,N,E);var I=this.local(),O=s(y).local();return v.call(I,O,N,E)}}}))},{}],394:[function(t,h,f){f.utils=t("./des/utils"),f.Cipher=t("./des/cipher"),f.DES=t("./des/des"),f.CBC=t("./des/cbc"),f.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,h,f){var c=t("minimalistic-assert"),n=t("inherits"),o={};function i(r){c.equal(r.length,8,"Invalid IV length"),this.iv=new Array(8);for(var s=0;s<this.iv.length;s++)this.iv[s]=r[s]}f.instantiate=function(r){function s(x){r.call(this,x),this._cbcInit()}n(s,r);for(var l=Object.keys(o),d=0;d<l.length;d++){var u=l[d];s.prototype[u]=o[u]}return s.create=function(x){return new s(x)},s},o._cbcInit=function(){var r=new i(this.options.iv);this._cbcState=r},o._update=function(r,s,l,d){var u=this._cbcState,x=this.constructor.super_.prototype,b=u.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)b[g]^=r[s+g];for(x._update.call(this,b,0,l,d),g=0;g<this.blockSize;g++)b[g]=l[d+g]}else{for(x._update.call(this,r,s,l,d),g=0;g<this.blockSize;g++)l[d+g]^=b[g];for(g=0;g<this.blockSize;g++)b[g]=r[s+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,h,f){var c=t("minimalistic-assert");function n(o){this.options=o,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=o.padding!==!1}h.exports=n,n.prototype._init=function(){},n.prototype.update=function(o){return o.length===0?[]:this.type==="decrypt"?this._updateDecrypt(o):this._updateEncrypt(o)},n.prototype._buffer=function(o,i){for(var r=Math.min(this.buffer.length-this.bufferOff,o.length-i),s=0;s<r;s++)this.buffer[this.bufferOff+s]=o[i+s];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(o,i){return this._update(this.buffer,0,o,i),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(o){var i=0,r=0,s=(this.bufferOff+o.length)/this.blockSize|0,l=new Array(s*this.blockSize);this.bufferOff!==0&&(i+=this._buffer(o,i),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(l,r)));for(var d=o.length-(o.length-i)%this.blockSize;i<d;i+=this.blockSize)this._update(o,i,l,r),r+=this.blockSize;for(;i<o.length;i++,this.bufferOff++)this.buffer[this.bufferOff]=o[i];return l},n.prototype._updateDecrypt=function(o){for(var i=0,r=0,s=Math.ceil((this.bufferOff+o.length)/this.blockSize)-1,l=new Array(s*this.blockSize);s>0;s--)i+=this._buffer(o,i),r+=this._flushBuffer(l,r);return i+=this._buffer(o,i),l},n.prototype.final=function(o){var i,r;return o&&(i=this.update(o)),r=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),i?i.concat(r):r},n.prototype._pad=function(o,i){if(i===0)return!1;for(;i<o.length;)o[i++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var o=new Array(this.blockSize);return this._update(this.buffer,0,o,0),o},n.prototype._unpad=function(o){return o},n.prototype._finalDecrypt=function(){c.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var o=new Array(this.blockSize);return this._flushBuffer(o,0),this._unpad(o)}},{"minimalistic-assert":453}],397:[function(t,h,f){var c=t("minimalistic-assert"),n=t("inherits"),o=t("./utils"),i=t("./cipher");function r(){this.tmp=new Array(2),this.keys=null}function s(d){i.call(this,d);var u=new r;this._desState=u,this.deriveKeys(u,d.key)}n(s,i),h.exports=s,s.create=function(d){return new s(d)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(d,u){d.keys=new Array(32),c.equal(u.length,this.blockSize,"Invalid key length");var x=o.readUInt32BE(u,0),b=o.readUInt32BE(u,4);o.pc1(x,b,d.tmp,0),x=d.tmp[0],b=d.tmp[1];for(var g=0;g<d.keys.length;g+=2){var v=l[g>>>1];x=o.r28shl(x,v),b=o.r28shl(b,v),o.pc2(x,b,d.keys,g)}},s.prototype._update=function(d,u,x,b){var g=this._desState,v=o.readUInt32BE(d,u),y=o.readUInt32BE(d,u+4);o.ip(v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],this.type==="encrypt"?this._encrypt(g,v,y,g.tmp,0):this._decrypt(g,v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],o.writeUInt32BE(x,v,b),o.writeUInt32BE(x,y,b+4)},s.prototype._pad=function(d,u){if(this.padding===!1)return!1;for(var x=d.length-u,b=u;b<d.length;b++)d[b]=x;return!0},s.prototype._unpad=function(d){if(this.padding===!1)return d;for(var u=d[d.length-1],x=d.length-u;x<d.length;x++)c.equal(d[x],u);return d.slice(0,d.length-u)},s.prototype._encrypt=function(d,u,x,b,g){for(var v=u,y=x,N=0;N<d.keys.length;N+=2){var E=d.keys[N],I=d.keys[N+1];o.expand(y,d.tmp,0),E^=d.tmp[0],I^=d.tmp[1];var O=o.substitute(E,I),$=y;y=(v^o.permute(O))>>>0,v=$}o.rip(y,v,b,g)},s.prototype._decrypt=function(d,u,x,b,g){for(var v=x,y=u,N=d.keys.length-2;N>=0;N-=2){var E=d.keys[N],I=d.keys[N+1];o.expand(v,d.tmp,0),E^=d.tmp[0],I^=d.tmp[1];var O=o.substitute(E,I),$=v;v=(y^o.permute(O))>>>0,y=$}o.rip(v,y,b,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,h,f){var c=t("minimalistic-assert"),n=t("inherits"),o=t("./cipher"),i=t("./des");function r(l,d){c.equal(d.length,24,"Invalid key length");var u=d.slice(0,8),x=d.slice(8,16),b=d.slice(16,24);this.ciphers=l==="encrypt"?[i.create({type:"encrypt",key:u}),i.create({type:"decrypt",key:x}),i.create({type:"encrypt",key:b})]:[i.create({type:"decrypt",key:b}),i.create({type:"encrypt",key:x}),i.create({type:"decrypt",key:u})]}function s(l){o.call(this,l);var d=new r(this.type,this.options.key);this._edeState=d}n(s,o),h.exports=s,s.create=function(l){return new s(l)},s.prototype._update=function(l,d,u,x){var b=this._edeState;b.ciphers[0]._update(l,d,u,x),b.ciphers[1]._update(u,x,u,x),b.ciphers[2]._update(u,x,u,x)},s.prototype._pad=i.prototype._pad,s.prototype._unpad=i.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,h,f){f.readUInt32BE=function(i,r){return(i[0+r]<<24|i[1+r]<<16|i[2+r]<<8|i[3+r])>>>0},f.writeUInt32BE=function(i,r,s){i[0+s]=r>>>24,i[1+s]=r>>>16&255,i[2+s]=r>>>8&255,i[3+s]=255&r},f.ip=function(i,r,s,l){for(var d=0,u=0,x=6;x>=0;x-=2){for(var b=0;b<=24;b+=8)d<<=1,d|=r>>>b+x&1;for(b=0;b<=24;b+=8)d<<=1,d|=i>>>b+x&1}for(x=6;x>=0;x-=2){for(b=1;b<=25;b+=8)u<<=1,u|=r>>>b+x&1;for(b=1;b<=25;b+=8)u<<=1,u|=i>>>b+x&1}s[l+0]=d>>>0,s[l+1]=u>>>0},f.rip=function(i,r,s,l){for(var d=0,u=0,x=0;x<4;x++)for(var b=24;b>=0;b-=8)d<<=1,d|=r>>>b+x&1,d<<=1,d|=i>>>b+x&1;for(x=4;x<8;x++)for(b=24;b>=0;b-=8)u<<=1,u|=r>>>b+x&1,u<<=1,u|=i>>>b+x&1;s[l+0]=d>>>0,s[l+1]=u>>>0},f.pc1=function(i,r,s,l){for(var d=0,u=0,x=7;x>=5;x--){for(var b=0;b<=24;b+=8)d<<=1,d|=r>>b+x&1;for(b=0;b<=24;b+=8)d<<=1,d|=i>>b+x&1}for(b=0;b<=24;b+=8)d<<=1,d|=r>>b+x&1;for(x=1;x<=3;x++){for(b=0;b<=24;b+=8)u<<=1,u|=r>>b+x&1;for(b=0;b<=24;b+=8)u<<=1,u|=i>>b+x&1}for(b=0;b<=24;b+=8)u<<=1,u|=i>>b+x&1;s[l+0]=d>>>0,s[l+1]=u>>>0},f.r28shl=function(i,r){return i<<r&268435455|i>>>28-r};var c=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];f.pc2=function(i,r,s,l){for(var d=0,u=0,x=c.length>>>1,b=0;b<x;b++)d<<=1,d|=i>>>c[b]&1;for(b=x;b<c.length;b++)u<<=1,u|=r>>>c[b]&1;s[l+0]=d>>>0,s[l+1]=u>>>0},f.expand=function(i,r,s){var l=0,d=0;l=(1&i)<<5|i>>>27;for(var u=23;u>=15;u-=4)l<<=6,l|=i>>>u&63;for(u=11;u>=3;u-=4)d|=i>>>u&63,d<<=6;d|=(31&i)<<1|i>>>31,r[s+0]=l>>>0,r[s+1]=d>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];f.substitute=function(i,r){for(var s=0,l=0;l<4;l++)s<<=4,s|=n[64*l+(i>>>18-6*l&63)];for(l=0;l<4;l++)s<<=4,s|=n[256+64*l+(r>>>18-6*l&63)];return s>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];f.permute=function(i){for(var r=0,s=0;s<o.length;s++)r<<=1,r|=i>>>o[s]&1;return r>>>0},f.padSplit=function(i,r,s){for(var l=i.toString(2);l.length<r;)l="0"+l;for(var d=[],u=0;u<r;u+=s)d.push(l.slice(u,u+s));return d.join(" ")}},{}],400:[function(t,h,f){(function(c){(function(){var n=t("./lib/generatePrime"),o=t("./lib/primes.json"),i=t("./lib/dh"),r={binary:!0,hex:!0,base64:!0};f.DiffieHellmanGroup=f.createDiffieHellmanGroup=f.getDiffieHellman=function(s){var l=new c(o[s].prime,"hex"),d=new c(o[s].gen,"hex");return new i(l,d)},f.createDiffieHellman=f.DiffieHellman=function s(l,d,u,x){return c.isBuffer(d)||r[d]===void 0?s(l,"binary",d,u):(d=d||"binary",x=x||"binary",u=u||new c([2]),c.isBuffer(u)||(u=new c(u,x)),typeof l=="number"?new i(n(l,u),u,!0):(c.isBuffer(l)||(l=new c(l,d)),new i(l,u,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,h,f){(function(c){(function(){var n=t("bn.js"),o=new(t("miller-rabin")),i=new n(24),r=new n(11),s=new n(10),l=new n(3),d=new n(7),u=t("./generatePrime"),x=t("randombytes");function b(E,I){return I=I||"utf8",c.isBuffer(E)||(E=new c(E,I)),this._pub=new n(E),this}function g(E,I){return I=I||"utf8",c.isBuffer(E)||(E=new c(E,I)),this._priv=new n(E),this}h.exports=y;var v={};function y(E,I,O){this.setGenerator(I),this.__prime=new n(E),this._prime=n.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=b,this.setPrivateKey=g):this._primeCode=8}function N(E,I){var O=new c(E.toArray());return I?O.toString(I):O}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(E,I){var O=I.toString("hex"),$=[O,E.toString(16)].join("_");if($ in v)return v[$];var z,U=0;if(E.isEven()||!u.simpleSieve||!u.fermatTest(E)||!o.test(E))return U+=1,U+=O==="02"||O==="05"?8:4,v[$]=U,U;switch(o.test(E.shrn(1))||(U+=2),O){case"02":E.mod(i).cmp(r)&&(U+=8);break;case"05":(z=E.mod(s)).cmp(l)&&z.cmp(d)&&(U+=8);break;default:U+=4}return v[$]=U,U})(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new n(x(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(E){var I=(E=(E=new n(E)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new c(I.toArray()),$=this.getPrime();if(O.length<$.length){var z=new c($.length-O.length);z.fill(0),O=c.concat([z,O])}return O},y.prototype.getPublicKey=function(E){return N(this._pub,E)},y.prototype.getPrivateKey=function(E){return N(this._priv,E)},y.prototype.getPrime=function(E){return N(this.__prime,E)},y.prototype.getGenerator=function(E){return N(this._gen,E)},y.prototype.setGenerator=function(E,I){return I=I||"utf8",c.isBuffer(E)||(E=new c(E,I)),this.__gen=E,this._gen=new n(E),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,h,f){var c=t("randombytes");h.exports=E,E.simpleSieve=y,E.fermatTest=N;var n=t("bn.js"),o=new n(24),i=new(t("miller-rabin")),r=new n(1),s=new n(2),l=new n(5),d=(new n(16),new n(8),new n(10)),u=new n(3),x=(new n(7),new n(11)),b=new n(4),g=(new n(12),null);function v(){if(g!==null)return g;var I=[];I[0]=2;for(var O=1,$=3;$<1048576;$+=2){for(var z=Math.ceil(Math.sqrt($)),U=0;U<O&&I[U]<=z&&$%I[U]!=0;U++);O!==U&&I[U]<=z||(I[O++]=$)}return g=I,I}function y(I){for(var O=v(),$=0;$<O.length;$++)if(I.modn(O[$])===0)return I.cmpn(O[$])===0;return!0}function N(I){var O=n.mont(I);return s.toRed(O).redPow(I.subn(1)).fromRed().cmpn(1)===0}function E(I,O){if(I<16)return new n(O===2||O===5?[140,123]:[140,39]);var $,z;for(O=new n(O);;){for($=new n(c(Math.ceil(I/8)));$.bitLength()>I;)$.ishrn(1);if($.isEven()&&$.iadd(r),$.testn(1)||$.iadd(s),O.cmp(s)){if(!O.cmp(l))for(;$.mod(d).cmp(u);)$.iadd(b)}else for(;$.mod(o).cmp(x);)$.iadd(b);if(y(z=$.shrn(1))&&y($)&&N(z)&&N($)&&i.test(z)&&i.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,h,f){h.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,h,f){arguments[4][184][0].apply(f,arguments)},{buffer:188,dup:184}],405:[function(t,h,f){var c=f;c.version=t("../package.json").version,c.utils=t("./elliptic/utils"),c.rand=t("brorand"),c.curve=t("./elliptic/curve"),c.curves=t("./elliptic/curves"),c.ec=t("./elliptic/ec"),c.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,h,f){var c=t("bn.js"),n=t("../utils"),o=n.getNAF,i=n.getJSF,r=n.assert;function s(d,u){this.type=d,this.p=new c(u.p,16),this.red=u.prime?c.red(u.prime):c.mont(this.p),this.zero=new c(0).toRed(this.red),this.one=new c(1).toRed(this.red),this.two=new c(2).toRed(this.red),this.n=u.n&&new c(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var x=this.n&&this.p.div(this.n);!x||x.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function l(d,u){this.curve=d,this.type=u,this.precomputed=null}h.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(d,u){r(d.precomputed);var x=d._getDoubles(),b=o(u,1,this._bitLength),g=(1<<x.step+1)-(x.step%2==0?2:1);g/=3;var v,y,N=[];for(v=0;v<b.length;v+=x.step){y=0;for(var E=v+x.step-1;E>=v;E--)y=(y<<1)+b[E];N.push(y)}for(var I=this.jpoint(null,null,null),O=this.jpoint(null,null,null),$=g;$>0;$--){for(v=0;v<N.length;v++)(y=N[v])===$?O=O.mixedAdd(x.points[v]):y===-$&&(O=O.mixedAdd(x.points[v].neg()));I=I.add(O)}return I.toP()},s.prototype._wnafMul=function(d,u){var x=4,b=d._getNAFPoints(x);x=b.wnd;for(var g=b.points,v=o(u,x,this._bitLength),y=this.jpoint(null,null,null),N=v.length-1;N>=0;N--){for(var E=0;N>=0&&v[N]===0;N--)E++;if(N>=0&&E++,y=y.dblp(E),N<0)break;var I=v[N];r(I!==0),y=d.type==="affine"?I>0?y.mixedAdd(g[I-1>>1]):y.mixedAdd(g[-I-1>>1].neg()):I>0?y.add(g[I-1>>1]):y.add(g[-I-1>>1].neg())}return d.type==="affine"?y.toP():y},s.prototype._wnafMulAdd=function(d,u,x,b,g){var v,y,N,E=this._wnafT1,I=this._wnafT2,O=this._wnafT3,$=0;for(v=0;v<b;v++){var z=(N=u[v])._getNAFPoints(d);E[v]=z.wnd,I[v]=z.points}for(v=b-1;v>=1;v-=2){var U=v-1,V=v;if(E[U]===1&&E[V]===1){var G=[u[U],null,null,u[V]];u[U].y.cmp(u[V].y)===0?(G[1]=u[U].add(u[V]),G[2]=u[U].toJ().mixedAdd(u[V].neg())):u[U].y.cmp(u[V].y.redNeg())===0?(G[1]=u[U].toJ().mixedAdd(u[V]),G[2]=u[U].add(u[V].neg())):(G[1]=u[U].toJ().mixedAdd(u[V]),G[2]=u[U].toJ().mixedAdd(u[V].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],T=i(x[U],x[V]);for($=Math.max(T[0].length,$),O[U]=new Array($),O[V]=new Array($),y=0;y<$;y++){var D=0|T[0][y],A=0|T[1][y];O[U][y]=B[3*(D+1)+(A+1)],O[V][y]=0,I[U]=G}}else O[U]=o(x[U],E[U],this._bitLength),O[V]=o(x[V],E[V],this._bitLength),$=Math.max(O[U].length,$),$=Math.max(O[V].length,$)}var k=this.jpoint(null,null,null),S=this._wnafT4;for(v=$;v>=0;v--){for(var j=0;v>=0;){var C=!0;for(y=0;y<b;y++)S[y]=0|O[y][v],S[y]!==0&&(C=!1);if(!C)break;j++,v--}if(v>=0&&j++,k=k.dblp(j),v<0)break;for(y=0;y<b;y++){var P=S[y];P!==0&&(P>0?N=I[y][P-1>>1]:P<0&&(N=I[y][-P-1>>1].neg()),k=N.type==="affine"?k.mixedAdd(N):k.add(N))}}for(v=0;v<b;v++)I[v]=null;return g?k:k.toP()},s.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(d,u){d=n.toArray(d,u);var x=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*x)return d[0]===6?r(d[d.length-1]%2==0):d[0]===7&&r(d[d.length-1]%2==1),this.point(d.slice(1,1+x),d.slice(1+x,1+2*x));if((d[0]===2||d[0]===3)&&d.length-1===x)return this.pointFromX(d.slice(1,1+x),d[0]===3);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(d){return this.encode(d,!0)},l.prototype._encode=function(d){var u=this.curve.p.byteLength(),x=this.getX().toArray("be",u);return d?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",u))},l.prototype.encode=function(d,u){return n.encode(this._encode(u),d)},l.prototype.precompute=function(d){if(this.precomputed)return this;var u={doubles:null,naf:null,beta:null};return u.naf=this._getNAFPoints(8),u.doubles=this._getDoubles(4,d),u.beta=this._getBeta(),this.precomputed=u,this},l.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var u=this.precomputed.doubles;return!!u&&u.points.length>=Math.ceil((d.bitLength()+1)/u.step)},l.prototype._getDoubles=function(d,u){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var x=[this],b=this,g=0;g<u;g+=d){for(var v=0;v<d;v++)b=b.dbl();x.push(b)}return{step:d,points:x}},l.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var u=[this],x=(1<<d)-1,b=x===1?null:this.dbl(),g=1;g<x;g++)u[g]=u[g-1].add(b);return{wnd:d,points:u}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(d){for(var u=this,x=0;x<d;x++)u=u.dbl();return u}},{"../utils":419,"bn.js":420}],407:[function(t,h,f){var c=t("../utils"),n=t("bn.js"),o=t("inherits"),i=t("./base"),r=c.assert;function s(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,i.call(this,"edwards",d),this.a=new n(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),r(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function l(d,u,x,b,g){i.BasePoint.call(this,d,"projective"),u===null&&x===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(u,16),this.y=new n(x,16),this.z=b?new n(b,16):this.curve.one,this.t=g&&new n(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(s,i),h.exports=s,s.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},s.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},s.prototype.jpoint=function(d,u,x,b){return this.point(d,u,x,b)},s.prototype.pointFromX=function(d,u){(d=new n(d,16)).red||(d=d.toRed(this.red));var x=d.redSqr(),b=this.c2.redSub(this.a.redMul(x)),g=this.one.redSub(this.c2.redMul(this.d).redMul(x)),v=b.redMul(g.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var N=y.fromRed().isOdd();return(u&&!N||!u&&N)&&(y=y.redNeg()),this.point(d,y)},s.prototype.pointFromY=function(d,u){(d=new n(d,16)).red||(d=d.toRed(this.red));var x=d.redSqr(),b=x.redSub(this.c2),g=x.redMul(this.d).redMul(this.c2).redSub(this.a),v=b.redMul(g.redInvm());if(v.cmp(this.zero)===0){if(u)throw new Error("invalid point");return this.point(this.zero,d)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==u&&(y=y.redNeg()),this.point(y,d)},s.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var u=d.x.redSqr(),x=d.y.redSqr(),b=u.redMul(this.a).redAdd(x),g=this.c2.redMul(this.one.redAdd(this.d.redMul(u).redMul(x)));return b.cmp(g)===0},o(l,i.BasePoint),s.prototype.pointFromJSON=function(d){return l.fromJSON(this,d)},s.prototype.point=function(d,u,x,b){return new l(this,d,u,x,b)},l.fromJSON=function(d,u){return new l(d,u[0],u[1],u[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},l.prototype._extDbl=function(){var d=this.x.redSqr(),u=this.y.redSqr(),x=this.z.redSqr();x=x.redIAdd(x);var b=this.curve._mulA(d),g=this.x.redAdd(this.y).redSqr().redISub(d).redISub(u),v=b.redAdd(u),y=v.redSub(x),N=b.redSub(u),E=g.redMul(y),I=v.redMul(N),O=g.redMul(N),$=y.redMul(v);return this.curve.point(E,I,$,O)},l.prototype._projDbl=function(){var d,u,x,b,g,v,y=this.x.redAdd(this.y).redSqr(),N=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var I=(b=this.curve._mulA(N)).redAdd(E);this.zOne?(d=y.redSub(N).redSub(E).redMul(I.redSub(this.curve.two)),u=I.redMul(b.redSub(E)),x=I.redSqr().redSub(I).redSub(I)):(g=this.z.redSqr(),v=I.redSub(g).redISub(g),d=y.redSub(N).redISub(E).redMul(v),u=I.redMul(b.redSub(E)),x=I.redMul(v))}else b=N.redAdd(E),g=this.curve._mulC(this.z).redSqr(),v=b.redSub(g).redSub(g),d=this.curve._mulC(y.redISub(b)).redMul(v),u=this.curve._mulC(b).redMul(N.redISub(E)),x=b.redMul(v);return this.curve.point(d,u,x)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(d){var u=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),x=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),b=this.t.redMul(this.curve.dd).redMul(d.t),g=this.z.redMul(d.z.redAdd(d.z)),v=x.redSub(u),y=g.redSub(b),N=g.redAdd(b),E=x.redAdd(u),I=v.redMul(y),O=N.redMul(E),$=v.redMul(E),z=y.redMul(N);return this.curve.point(I,O,z,$)},l.prototype._projAdd=function(d){var u,x,b=this.z.redMul(d.z),g=b.redSqr(),v=this.x.redMul(d.x),y=this.y.redMul(d.y),N=this.curve.d.redMul(v).redMul(y),E=g.redSub(N),I=g.redAdd(N),O=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(v).redISub(y),$=b.redMul(E).redMul(O);return this.curve.twisted?(u=b.redMul(I).redMul(y.redSub(this.curve._mulA(v))),x=E.redMul(I)):(u=b.redMul(I).redMul(y.redSub(v)),x=this.curve._mulC(E).redMul(I)),this.curve.point($,u,x)},l.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},l.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},l.prototype.mulAdd=function(d,u,x){return this.curve._wnafMulAdd(1,[this,u],[d,x],2,!1)},l.prototype.jmulAdd=function(d,u,x){return this.curve._wnafMulAdd(1,[this,u],[d,x],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},l.prototype.eqXToP=function(d){var u=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(u)===0)return!0;for(var x=d.clone(),b=this.curve.redN.redMul(this.z);;){if(x.iadd(this.curve.n),x.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(b),this.x.cmp(u)===0)return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,h,f){var c=f;c.base=t("./base"),c.short=t("./short"),c.mont=t("./mont"),c.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,h,f){var c=t("bn.js"),n=t("inherits"),o=t("./base"),i=t("../utils");function r(l){o.call(this,"mont",l),this.a=new c(l.a,16).toRed(this.red),this.b=new c(l.b,16).toRed(this.red),this.i4=new c(4).toRed(this.red).redInvm(),this.two=new c(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function s(l,d,u){o.BasePoint.call(this,l,"projective"),d===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new c(d,16),this.z=new c(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(r,o),h.exports=r,r.prototype.validate=function(l){var d=l.normalize().x,u=d.redSqr(),x=u.redMul(d).redAdd(u.redMul(this.a)).redAdd(d);return x.redSqrt().redSqr().cmp(x)===0},n(s,o.BasePoint),r.prototype.decodePoint=function(l,d){return this.point(i.toArray(l,d),1)},r.prototype.point=function(l,d){return new s(this,l,d)},r.prototype.pointFromJSON=function(l){return s.fromJSON(this,l)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(l,d){return new s(l,d[0],d[1]||l.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var l=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),u=l.redSub(d),x=l.redMul(d),b=u.redMul(d.redAdd(this.curve.a24.redMul(u)));return this.curve.point(x,b)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(l,d){var u=this.x.redAdd(this.z),x=this.x.redSub(this.z),b=l.x.redAdd(l.z),g=l.x.redSub(l.z).redMul(u),v=b.redMul(x),y=d.z.redMul(g.redAdd(v).redSqr()),N=d.x.redMul(g.redISub(v).redSqr());return this.curve.point(y,N)},s.prototype.mul=function(l){for(var d=l.clone(),u=this,x=this.curve.point(null,null),b=[];d.cmpn(0)!==0;d.iushrn(1))b.push(d.andln(1));for(var g=b.length-1;g>=0;g--)b[g]===0?(u=u.diffAdd(x,this),x=x.dbl()):(x=u.diffAdd(x,this),u=u.dbl());return x},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(l){return this.getX().cmp(l.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,h,f){var c=t("../utils"),n=t("bn.js"),o=t("inherits"),i=t("./base"),r=c.assert;function s(u){i.call(this,"short",u),this.a=new n(u.a,16).toRed(this.red),this.b=new n(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(u,x,b,g){i.BasePoint.call(this,u,"affine"),x===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(x,16),this.y=new n(b,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(u,x,b,g){i.BasePoint.call(this,u,"jacobian"),x===null&&b===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(x,16),this.y=new n(b,16),this.z=new n(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(s,i),h.exports=s,s.prototype._getEndomorphism=function(u){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var x,b;if(u.beta)x=new n(u.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);x=(x=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(u.lambda)b=new n(u.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(x))===0?b=v[0]:(b=v[1],r(this.g.mul(b).x.cmp(this.g.x.redMul(x))===0))}return{beta:x,lambda:b,basis:u.basis?u.basis.map((function(y){return{a:new n(y.a,16),b:new n(y.b,16)}})):this._getEndoBasis(b)}}},s.prototype._getEndoRoots=function(u){var x=u===this.p?this.red:n.mont(u),b=new n(2).toRed(x).redInvm(),g=b.redNeg(),v=new n(3).toRed(x).redNeg().redSqrt().redMul(b);return[g.redAdd(v).fromRed(),g.redSub(v).fromRed()]},s.prototype._getEndoBasis=function(u){for(var x,b,g,v,y,N,E,I,O,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),z=u,U=this.n.clone(),V=new n(1),G=new n(0),B=new n(0),T=new n(1),D=0;z.cmpn(0)!==0;){var A=U.div(z);I=U.sub(A.mul(z)),O=B.sub(A.mul(V));var k=T.sub(A.mul(G));if(!g&&I.cmp($)<0)x=E.neg(),b=V,g=I.neg(),v=O;else if(g&&++D==2)break;E=I,U=z,z=I,B=V,V=O,T=G,G=k}y=I.neg(),N=O;var S=g.sqr().add(v.sqr());return y.sqr().add(N.sqr()).cmp(S)>=0&&(y=x,N=b),g.negative&&(g=g.neg(),v=v.neg()),y.negative&&(y=y.neg(),N=N.neg()),[{a:g,b:v},{a:y,b:N}]},s.prototype._endoSplit=function(u){var x=this.endo.basis,b=x[0],g=x[1],v=g.b.mul(u).divRound(this.n),y=b.b.neg().mul(u).divRound(this.n),N=v.mul(b.a),E=y.mul(g.a),I=v.mul(b.b),O=y.mul(g.b);return{k1:u.sub(N).sub(E),k2:I.add(O).neg()}},s.prototype.pointFromX=function(u,x){(u=new n(u,16)).red||(u=u.toRed(this.red));var b=u.redSqr().redMul(u).redIAdd(u.redMul(this.a)).redIAdd(this.b),g=b.redSqrt();if(g.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(x&&!v||!x&&v)&&(g=g.redNeg()),this.point(u,g)},s.prototype.validate=function(u){if(u.inf)return!0;var x=u.x,b=u.y,g=this.a.redMul(x),v=x.redSqr().redMul(x).redIAdd(g).redIAdd(this.b);return b.redSqr().redISub(v).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(u,x,b){for(var g=this._endoWnafT1,v=this._endoWnafT2,y=0;y<u.length;y++){var N=this._endoSplit(x[y]),E=u[y],I=E._getBeta();N.k1.negative&&(N.k1.ineg(),E=E.neg(!0)),N.k2.negative&&(N.k2.ineg(),I=I.neg(!0)),g[2*y]=E,g[2*y+1]=I,v[2*y]=N.k1,v[2*y+1]=N.k2}for(var O=this._wnafMulAdd(1,g,v,2*y,b),$=0;$<2*y;$++)g[$]=null,v[$]=null;return O},o(l,i.BasePoint),s.prototype.point=function(u,x,b){return new l(this,u,x,b)},s.prototype.pointFromJSON=function(u,x){return l.fromJSON(this,u,x)},l.prototype._getBeta=function(){if(this.curve.endo){var u=this.precomputed;if(u&&u.beta)return u.beta;var x=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(u){var b=this.curve,g=function(v){return b.point(v.x.redMul(b.endo.beta),v.y)};u.beta=x,x.precomputed={beta:null,naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(g)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(g)}}}return x}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(u,x,b){typeof x=="string"&&(x=JSON.parse(x));var g=u.point(x[0],x[1],b);if(!x[2])return g;function v(N){return u.point(N[0],N[1],b)}var y=x[2];return g.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[g].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[g].concat(y.naf.points.map(v))}},g},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(u){if(this.inf)return u;if(u.inf)return this;if(this.eq(u))return this.dbl();if(this.neg().eq(u))return this.curve.point(null,null);if(this.x.cmp(u.x)===0)return this.curve.point(null,null);var x=this.y.redSub(u.y);x.cmpn(0)!==0&&(x=x.redMul(this.x.redSub(u.x).redInvm()));var b=x.redSqr().redISub(this.x).redISub(u.x),g=x.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,g)},l.prototype.dbl=function(){if(this.inf)return this;var u=this.y.redAdd(this.y);if(u.cmpn(0)===0)return this.curve.point(null,null);var x=this.curve.a,b=this.x.redSqr(),g=u.redInvm(),v=b.redAdd(b).redIAdd(b).redIAdd(x).redMul(g),y=v.redSqr().redISub(this.x.redAdd(this.x)),N=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,N)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(u){return u=new n(u,16),this.isInfinity()?this:this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve.endo?this.curve._endoWnafMulAdd([this],[u]):this.curve._wnafMul(this,u)},l.prototype.mulAdd=function(u,x,b){var g=[this,x],v=[u,b];return this.curve.endo?this.curve._endoWnafMulAdd(g,v):this.curve._wnafMulAdd(1,g,v,2)},l.prototype.jmulAdd=function(u,x,b){var g=[this,x],v=[u,b];return this.curve.endo?this.curve._endoWnafMulAdd(g,v,!0):this.curve._wnafMulAdd(1,g,v,2,!0)},l.prototype.eq=function(u){return this===u||this.inf===u.inf&&(this.inf||this.x.cmp(u.x)===0&&this.y.cmp(u.y)===0)},l.prototype.neg=function(u){if(this.inf)return this;var x=this.curve.point(this.x,this.y.redNeg());if(u&&this.precomputed){var b=this.precomputed,g=function(v){return v.neg()};x.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(g)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(g)}}}return x},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(d,i.BasePoint),s.prototype.jpoint=function(u,x,b){return new d(this,u,x,b)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var u=this.z.redInvm(),x=u.redSqr(),b=this.x.redMul(x),g=this.y.redMul(x).redMul(u);return this.curve.point(b,g)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var x=u.z.redSqr(),b=this.z.redSqr(),g=this.x.redMul(x),v=u.x.redMul(b),y=this.y.redMul(x.redMul(u.z)),N=u.y.redMul(b.redMul(this.z)),E=g.redSub(v),I=y.redSub(N);if(E.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=E.redSqr(),$=O.redMul(E),z=g.redMul(O),U=I.redSqr().redIAdd($).redISub(z).redISub(z),V=I.redMul(z.redISub(U)).redISub(y.redMul($)),G=this.z.redMul(u.z).redMul(E);return this.curve.jpoint(U,V,G)},d.prototype.mixedAdd=function(u){if(this.isInfinity())return u.toJ();if(u.isInfinity())return this;var x=this.z.redSqr(),b=this.x,g=u.x.redMul(x),v=this.y,y=u.y.redMul(x).redMul(this.z),N=b.redSub(g),E=v.redSub(y);if(N.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=N.redSqr(),O=I.redMul(N),$=b.redMul(I),z=E.redSqr().redIAdd(O).redISub($).redISub($),U=E.redMul($.redISub(z)).redISub(v.redMul(O)),V=this.z.redMul(N);return this.curve.jpoint(z,U,V)},d.prototype.dblp=function(u){if(u===0)return this;if(this.isInfinity())return this;if(!u)return this.dbl();var x;if(this.curve.zeroA||this.curve.threeA){var b=this;for(x=0;x<u;x++)b=b.dbl();return b}var g=this.curve.a,v=this.curve.tinv,y=this.x,N=this.y,E=this.z,I=E.redSqr().redSqr(),O=N.redAdd(N);for(x=0;x<u;x++){var $=y.redSqr(),z=O.redSqr(),U=z.redSqr(),V=$.redAdd($).redIAdd($).redIAdd(g.redMul(I)),G=y.redMul(z),B=V.redSqr().redISub(G.redAdd(G)),T=G.redISub(B),D=V.redMul(T);D=D.redIAdd(D).redISub(U);var A=O.redMul(E);x+1<u&&(I=I.redMul(U)),y=B,E=A,O=D}return this.curve.jpoint(y,O.redMul(v),E)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var u,x,b;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),N=this.x.redAdd(v).redSqr().redISub(g).redISub(y);N=N.redIAdd(N);var E=g.redAdd(g).redIAdd(g),I=E.redSqr().redISub(N).redISub(N),O=y.redIAdd(y);O=(O=O.redIAdd(O)).redIAdd(O),u=I,x=E.redMul(N.redISub(I)).redISub(O),b=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),z=this.y.redSqr(),U=z.redSqr(),V=this.x.redAdd(z).redSqr().redISub($).redISub(U);V=V.redIAdd(V);var G=$.redAdd($).redIAdd($),B=G.redSqr(),T=U.redIAdd(U);T=(T=T.redIAdd(T)).redIAdd(T),u=B.redISub(V).redISub(V),x=G.redMul(V.redISub(u)).redISub(T),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(u,x,b)},d.prototype._threeDbl=function(){var u,x,b;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),N=this.x.redAdd(v).redSqr().redISub(g).redISub(y);N=N.redIAdd(N);var E=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),I=E.redSqr().redISub(N).redISub(N);u=I;var O=y.redIAdd(y);O=(O=O.redIAdd(O)).redIAdd(O),x=E.redMul(N.redISub(I)).redISub(O),b=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),z=this.y.redSqr(),U=this.x.redMul(z),V=this.x.redSub($).redMul(this.x.redAdd($));V=V.redAdd(V).redIAdd(V);var G=U.redIAdd(U),B=(G=G.redIAdd(G)).redAdd(G);u=V.redSqr().redISub(B),b=this.y.redAdd(this.z).redSqr().redISub(z).redISub($);var T=z.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),x=V.redMul(G.redISub(u)).redISub(T)}return this.curve.jpoint(u,x,b)},d.prototype._dbl=function(){var u=this.curve.a,x=this.x,b=this.y,g=this.z,v=g.redSqr().redSqr(),y=x.redSqr(),N=b.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(u.redMul(v)),I=x.redAdd(x),O=(I=I.redIAdd(I)).redMul(N),$=E.redSqr().redISub(O.redAdd(O)),z=O.redISub($),U=N.redSqr();U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var V=E.redMul(z).redISub(U),G=b.redAdd(b).redMul(g);return this.curve.jpoint($,V,G)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var u=this.x.redSqr(),x=this.y.redSqr(),b=this.z.redSqr(),g=x.redSqr(),v=u.redAdd(u).redIAdd(u),y=v.redSqr(),N=this.x.redAdd(x).redSqr().redISub(u).redISub(g),E=(N=(N=(N=N.redIAdd(N)).redAdd(N).redIAdd(N)).redISub(y)).redSqr(),I=g.redIAdd(g);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var O=v.redIAdd(N).redSqr().redISub(y).redISub(E).redISub(I),$=x.redMul(O);$=($=$.redIAdd($)).redIAdd($);var z=this.x.redMul(E).redISub($);z=(z=z.redIAdd(z)).redIAdd(z);var U=this.y.redMul(O.redMul(I.redISub(O)).redISub(N.redMul(E)));U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var V=this.z.redAdd(N).redSqr().redISub(b).redISub(E);return this.curve.jpoint(z,U,V)},d.prototype.mul=function(u,x){return u=new n(u,x),this.curve._wnafMul(this,u)},d.prototype.eq=function(u){if(u.type==="affine")return this.eq(u.toJ());if(this===u)return!0;var x=this.z.redSqr(),b=u.z.redSqr();if(this.x.redMul(b).redISub(u.x.redMul(x)).cmpn(0)!==0)return!1;var g=x.redMul(this.z),v=b.redMul(u.z);return this.y.redMul(v).redISub(u.y.redMul(g)).cmpn(0)===0},d.prototype.eqXToP=function(u){var x=this.z.redSqr(),b=u.toRed(this.curve.red).redMul(x);if(this.x.cmp(b)===0)return!0;for(var g=u.clone(),v=this.curve.redN.redMul(x);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(v),this.x.cmp(b)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,h,f){var c,n=f,o=t("hash.js"),i=t("./curve"),r=t("./utils").assert;function s(d){d.type==="short"?this.curve=new i.short(d):d.type==="edwards"?this.curve=new i.edwards(d):this.curve=new i.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(d,u){Object.defineProperty(n,d,{configurable:!0,enumerable:!0,get:function(){var x=new s(u);return Object.defineProperty(n,d,{configurable:!0,enumerable:!0,value:x}),x}})}n.PresetCurve=s,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{c=t("./precomputed/secp256k1")}catch{c=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,h,f){var c=t("bn.js"),n=t("hmac-drbg"),o=t("../utils"),i=t("../curves"),r=t("brorand"),s=o.assert,l=t("./key"),d=t("./signature");function u(x){if(!(this instanceof u))return new u(x);typeof x=="string"&&(s(Object.prototype.hasOwnProperty.call(i,x),"Unknown curve "+x),x=i[x]),x instanceof i.PresetCurve&&(x={curve:x}),this.curve=x.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=x.curve.g,this.g.precompute(x.curve.n.bitLength()+1),this.hash=x.hash||x.curve.hash}h.exports=u,u.prototype.keyPair=function(x){return new l(this,x)},u.prototype.keyFromPrivate=function(x,b){return l.fromPrivate(this,x,b)},u.prototype.keyFromPublic=function(x,b){return l.fromPublic(this,x,b)},u.prototype.genKeyPair=function(x){x||(x={});for(var b=new n({hash:this.hash,pers:x.pers,persEnc:x.persEnc||"utf8",entropy:x.entropy||r(this.hash.hmacStrength),entropyEnc:x.entropy&&x.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),v=this.n.sub(new c(2));;){var y=new c(b.generate(g));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},u.prototype._truncateToN=function(x,b){var g=8*x.byteLength()-this.n.bitLength();return g>0&&(x=x.ushrn(g)),!b&&x.cmp(this.n)>=0?x.sub(this.n):x},u.prototype.sign=function(x,b,g,v){typeof g=="object"&&(v=g,g=null),v||(v={}),b=this.keyFromPrivate(b,g),x=this._truncateToN(new c(x,16));for(var y=this.n.byteLength(),N=b.getPrivate().toArray("be",y),E=x.toArray("be",y),I=new n({hash:this.hash,entropy:N,nonce:E,pers:v.pers,persEnc:v.persEnc||"utf8"}),O=this.n.sub(new c(1)),$=0;;$++){var z=v.k?v.k($):new c(I.generate(this.n.byteLength()));if(!((z=this._truncateToN(z,!0)).cmpn(1)<=0||z.cmp(O)>=0)){var U=this.g.mul(z);if(!U.isInfinity()){var V=U.getX(),G=V.umod(this.n);if(G.cmpn(0)!==0){var B=z.invm(this.n).mul(G.mul(b.getPrivate()).iadd(x));if((B=B.umod(this.n)).cmpn(0)!==0){var T=(U.getY().isOdd()?1:0)|(V.cmp(G)!==0?2:0);return v.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),T^=1),new d({r:G,s:B,recoveryParam:T})}}}}}},u.prototype.verify=function(x,b,g,v){x=this._truncateToN(new c(x,16)),g=this.keyFromPublic(g,v);var y=(b=new d(b,"hex")).r,N=b.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||N.cmpn(1)<0||N.cmp(this.n)>=0)return!1;var E,I=N.invm(this.n),O=I.mul(x).umod(this.n),$=I.mul(y).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(O,g.getPublic(),$)).isInfinity()&&E.eqXToP(y):!(E=this.g.mulAdd(O,g.getPublic(),$)).isInfinity()&&E.getX().umod(this.n).cmp(y)===0},u.prototype.recoverPubKey=function(x,b,g,v){s((3&g)===g,"The recovery param is more than two bits"),b=new d(b,v);var y=this.n,N=new c(x),E=b.r,I=b.s,O=1&g,$=g>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");E=$?this.curve.pointFromX(E.add(this.curve.n),O):this.curve.pointFromX(E,O);var z=b.r.invm(y),U=y.sub(N).mul(z).umod(y),V=I.mul(z).umod(y);return this.g.mulAdd(U,E,V)},u.prototype.getKeyRecoveryParam=function(x,b,g,v){if((b=new d(b,v)).recoveryParam!==null)return b.recoveryParam;for(var y=0;y<4;y++){var N;try{N=this.recoverPubKey(x,b,y)}catch{continue}if(N.eq(g))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,h,f){var c=t("bn.js"),n=t("../utils").assert;function o(i,r){this.ec=i,this.priv=null,this.pub=null,r.priv&&this._importPrivate(r.priv,r.privEnc),r.pub&&this._importPublic(r.pub,r.pubEnc)}h.exports=o,o.fromPublic=function(i,r,s){return r instanceof o?r:new o(i,{pub:r,pubEnc:s})},o.fromPrivate=function(i,r,s){return r instanceof o?r:new o(i,{priv:r,privEnc:s})},o.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(i,r){return typeof i=="string"&&(r=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,i):this.pub},o.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(i,r){this.priv=new c(i,r||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(i,r){if(i.x||i.y)return this.ec.curve.type==="mont"?n(i.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||n(i.x&&i.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(i.x,i.y));this.pub=this.ec.curve.decodePoint(i,r)},o.prototype.derive=function(i){return i.validate()||n(i.validate(),"public point not validated"),i.mul(this.priv).getX()},o.prototype.sign=function(i,r,s){return this.ec.sign(i,this,r,s)},o.prototype.verify=function(i,r){return this.ec.verify(i,r,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,h,f){var c=t("bn.js"),n=t("../utils"),o=n.assert;function i(u,x){if(u instanceof i)return u;this._importDER(u,x)||(o(u.r&&u.s,"Signature without r or s"),this.r=new c(u.r,16),this.s=new c(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}function r(){this.place=0}function s(u,x){var b=u[x.place++];if(!(128&b))return b;var g=15&b;if(g===0||g>4)return!1;for(var v=0,y=0,N=x.place;y<g;y++,N++)v<<=8,v|=u[N],v>>>=0;return!(v<=127)&&(x.place=N,v)}function l(u){for(var x=0,b=u.length-1;!u[x]&&!(128&u[x+1])&&x<b;)x++;return x===0?u:u.slice(x)}function d(u,x){if(x<128)u.push(x);else{var b=1+(Math.log(x)/Math.LN2>>>3);for(u.push(128|b);--b;)u.push(x>>>(b<<3)&255);u.push(x)}}h.exports=i,i.prototype._importDER=function(u,x){u=n.toArray(u,x);var b=new r;if(u[b.place++]!==48)return!1;var g=s(u,b);if(g===!1||g+b.place!==u.length||u[b.place++]!==2)return!1;var v=s(u,b);if(v===!1)return!1;var y=u.slice(b.place,v+b.place);if(b.place+=v,u[b.place++]!==2)return!1;var N=s(u,b);if(N===!1||u.length!==N+b.place)return!1;var E=u.slice(b.place,N+b.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new c(y),this.s=new c(E),this.recoveryParam=null,!0},i.prototype.toDER=function(u){var x=this.r.toArray(),b=this.s.toArray();for(128&x[0]&&(x=[0].concat(x)),128&b[0]&&(b=[0].concat(b)),x=l(x),b=l(b);!(b[0]||128&b[1]);)b=b.slice(1);var g=[2];d(g,x.length),(g=g.concat(x)).push(2),d(g,b.length);var v=g.concat(b),y=[48];return d(y,v.length),y=y.concat(v),n.encode(y,u)}},{"../utils":419,"bn.js":420}],415:[function(t,h,f){var c=t("hash.js"),n=t("../curves"),o=t("../utils"),i=o.assert,r=o.parseBytes,s=t("./key"),l=t("./signature");function d(u){if(i(u==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(u);u=n[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=c.sha512}h.exports=d,d.prototype.sign=function(u,x){u=r(u);var b=this.keyFromSecret(x),g=this.hashInt(b.messagePrefix(),u),v=this.g.mul(g),y=this.encodePoint(v),N=this.hashInt(y,b.pubBytes(),u).mul(b.priv()),E=g.add(N).umod(this.curve.n);return this.makeSignature({R:v,S:E,Rencoded:y})},d.prototype.verify=function(u,x,b){u=r(u),x=this.makeSignature(x);var g=this.keyFromPublic(b),v=this.hashInt(x.Rencoded(),g.pubBytes(),u),y=this.g.mul(x.S());return x.R().add(g.pub().mul(v)).eq(y)},d.prototype.hashInt=function(){for(var u=this.hash(),x=0;x<arguments.length;x++)u.update(arguments[x]);return o.intFromLE(u.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(u){return s.fromPublic(this,u)},d.prototype.keyFromSecret=function(u){return s.fromSecret(this,u)},d.prototype.makeSignature=function(u){return u instanceof l?u:new l(this,u)},d.prototype.encodePoint=function(u){var x=u.getY().toArray("le",this.encodingLength);return x[this.encodingLength-1]|=u.getX().isOdd()?128:0,x},d.prototype.decodePoint=function(u){var x=(u=o.parseBytes(u)).length-1,b=u.slice(0,x).concat(-129&u[x]),g=(128&u[x])!=0,v=o.intFromLE(b);return this.curve.pointFromY(v,g)},d.prototype.encodeInt=function(u){return u.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(u){return o.intFromLE(u)},d.prototype.isPoint=function(u){return u instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,h,f){var c=t("../utils"),n=c.assert,o=c.parseBytes,i=c.cachedProperty;function r(s,l){this.eddsa=s,this._secret=o(l.secret),s.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=o(l.pub)}r.fromPublic=function(s,l){return l instanceof r?l:new r(s,{pub:l})},r.fromSecret=function(s,l){return l instanceof r?l:new r(s,{secret:l})},r.prototype.secret=function(){return this._secret},i(r,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),i(r,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),i(r,"privBytes",(function(){var s=this.eddsa,l=this.hash(),d=s.encodingLength-1,u=l.slice(0,s.encodingLength);return u[0]&=248,u[d]&=127,u[d]|=64,u})),i(r,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),i(r,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),i(r,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),r.prototype.sign=function(s){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(s,this)},r.prototype.verify=function(s,l){return this.eddsa.verify(s,l,this)},r.prototype.getSecret=function(s){return n(this._secret,"KeyPair is public only"),c.encode(this.secret(),s)},r.prototype.getPublic=function(s){return c.encode(this.pubBytes(),s)},h.exports=r},{"../utils":419}],417:[function(t,h,f){var c=t("bn.js"),n=t("../utils"),o=n.assert,i=n.cachedProperty,r=n.parseBytes;function s(l,d){this.eddsa=l,typeof d!="object"&&(d=r(d)),Array.isArray(d)&&(d={R:d.slice(0,l.encodingLength),S:d.slice(l.encodingLength)}),o(d.R&&d.S,"Signature without R or S"),l.isPoint(d.R)&&(this._R=d.R),d.S instanceof c&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}i(s,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),i(s,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),i(s,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),i(s,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},h.exports=s},{"../utils":419,"bn.js":420}],418:[function(t,h,f){h.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,h,f){var c=f,n=t("bn.js"),o=t("minimalistic-assert"),i=t("minimalistic-crypto-utils");c.assert=o,c.toArray=i.toArray,c.zero2=i.zero2,c.toHex=i.toHex,c.encode=i.encode,c.getNAF=function(r,s,l){var d=new Array(Math.max(r.bitLength(),l)+1);d.fill(0);for(var u=1<<s+1,x=r.clone(),b=0;b<d.length;b++){var g,v=x.andln(u-1);x.isOdd()?(g=v>(u>>1)-1?(u>>1)-v:v,x.isubn(g)):g=0,d[b]=g,x.iushrn(1)}return d},c.getJSF=function(r,s){var l=[[],[]];r=r.clone(),s=s.clone();for(var d,u=0,x=0;r.cmpn(-u)>0||s.cmpn(-x)>0;){var b,g,v=r.andln(3)+u&3,y=s.andln(3)+x&3;v===3&&(v=-1),y===3&&(y=-1),b=(1&v)==0?0:(d=r.andln(7)+u&7)!==3&&d!==5||y!==2?v:-v,l[0].push(b),g=(1&y)==0?0:(d=s.andln(7)+x&7)!==3&&d!==5||v!==2?y:-y,l[1].push(g),2*u===b+1&&(u=1-u),2*x===g+1&&(x=1-x),r.iushrn(1),s.iushrn(1)}return l},c.cachedProperty=function(r,s,l){var d="_"+s;r.prototype[s]=function(){return this[d]!==void 0?this[d]:this[d]=l.call(this)}},c.parseBytes=function(r){return typeof r=="string"?c.toArray(r,"hex"):r},c.intFromLE=function(r){return new n(r,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,h,f){arguments[4][184][0].apply(f,arguments)},{buffer:188,dup:184}],421:[function(t,h,f){h.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,h,f){var c=Object.create||function(z){var U=function(){};return U.prototype=z,new U},n=Object.keys||function(z){var U=[];for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&U.push(V);return V},o=Function.prototype.bind||function(z){var U=this;return function(){return U.apply(z,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=c(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}h.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var r,s=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),r=l.x===0}catch{r=!1}function d(z){return z._maxListeners===void 0?i.defaultMaxListeners:z._maxListeners}function u(z,U,V){if(U)z.call(V);else for(var G=z.length,B=$(z,G),T=0;T<G;++T)B[T].call(V)}function x(z,U,V,G){if(U)z.call(V,G);else for(var B=z.length,T=$(z,B),D=0;D<B;++D)T[D].call(V,G)}function b(z,U,V,G,B){if(U)z.call(V,G,B);else for(var T=z.length,D=$(z,T),A=0;A<T;++A)D[A].call(V,G,B)}function g(z,U,V,G,B,T){if(U)z.call(V,G,B,T);else for(var D=z.length,A=$(z,D),k=0;k<D;++k)A[k].call(V,G,B,T)}function v(z,U,V,G){if(U)z.apply(V,G);else for(var B=z.length,T=$(z,B),D=0;D<B;++D)T[D].apply(V,G)}function y(z,U,V,G){var B,T,D;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((T=z._events)?(T.newListener&&(z.emit("newListener",U,V.listener?V.listener:V),T=z._events),D=T[U]):(T=z._events=c(null),z._eventsCount=0),D){if(typeof D=="function"?D=T[U]=G?[V,D]:[D,V]:G?D.unshift(V):D.push(V),!D.warned&&(B=d(z))&&B>0&&D.length>B){D.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=z,A.type=U,A.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else D=T[U]=V,++z._eventsCount;return z}function N(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var z=new Array(arguments.length),U=0;U<z.length;++U)z[U]=arguments[U];this.listener.apply(this.target,z)}}function E(z,U,V){var G={fired:!1,wrapFn:void 0,target:z,type:U,listener:V},B=o.call(N,G);return B.listener=V,G.wrapFn=B,B}function I(z,U,V){var G=z._events;if(!G)return[];var B=G[U];return B?typeof B=="function"?V?[B.listener||B]:[B]:V?(function(T){for(var D=new Array(T.length),A=0;A<D.length;++A)D[A]=T[A].listener||T[A];return D})(B):$(B,B.length):[]}function O(z){var U=this._events;if(U){var V=U[z];if(typeof V=="function")return 1;if(V)return V.length}return 0}function $(z,U){for(var V=new Array(U),G=0;G<U;++G)V[G]=z[G];return V}r?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(z){if(typeof z!="number"||z<0||z!=z)throw new TypeError('"defaultMaxListeners" must be a positive number');s=z}}):i.defaultMaxListeners=s,i.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this},i.prototype.getMaxListeners=function(){return d(this)},i.prototype.emit=function(z){var U,V,G,B,T,D,A=z==="error";if(D=this._events)A=A&&D.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var k=new Error('Unhandled "error" event. ('+U+")");throw k.context=U,k}if(!(V=D[z]))return!1;var S=typeof V=="function";switch(G=arguments.length){case 1:u(V,S,this);break;case 2:x(V,S,this,arguments[1]);break;case 3:b(V,S,this,arguments[1],arguments[2]);break;case 4:g(V,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array(G-1),T=1;T<G;T++)B[T-1]=arguments[T];v(V,S,this,B)}return!0},i.prototype.addListener=function(z,U){return y(this,z,U,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(z,U){return y(this,z,U,!0)},i.prototype.once=function(z,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,E(this,z,U)),this},i.prototype.prependOnceListener=function(z,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,E(this,z,U)),this},i.prototype.removeListener=function(z,U){var V,G,B,T,D;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(!(G=this._events))return this;if(!(V=G[z]))return this;if(V===U||V.listener===U)--this._eventsCount==0?this._events=c(null):(delete G[z],G.removeListener&&this.emit("removeListener",z,V.listener||U));else if(typeof V!="function"){for(B=-1,T=V.length-1;T>=0;T--)if(V[T]===U||V[T].listener===U){D=V[T].listener,B=T;break}if(B<0)return this;B===0?V.shift():(function(A,k){for(var S=k,j=S+1,C=A.length;j<C;S+=1,j+=1)A[S]=A[j];A.pop()})(V,B),V.length===1&&(G[z]=V[0]),G.removeListener&&this.emit("removeListener",z,D||U)}return this},i.prototype.removeAllListeners=function(z){var U,V,G;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=c(null),this._eventsCount=0):V[z]&&(--this._eventsCount==0?this._events=c(null):delete V[z]),this;if(arguments.length===0){var B,T=n(V);for(G=0;G<T.length;++G)(B=T[G])!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=c(null),this._eventsCount=0,this}if(typeof(U=V[z])=="function")this.removeListener(z,U);else if(U)for(G=U.length-1;G>=0;G--)this.removeListener(z,U[G]);return this},i.prototype.listeners=function(z){return I(this,z,!0)},i.prototype.rawListeners=function(z){return I(this,z,!1)},i.listenerCount=function(z,U){return typeof z.listenerCount=="function"?z.listenerCount(U):O.call(z,U)},i.prototype.listenerCount=O,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("md5.js");h.exports=function(o,i,r,s){if(c.isBuffer(o)||(o=c.from(o,"binary")),i&&(c.isBuffer(i)||(i=c.from(i,"binary")),i.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=r/8,d=c.alloc(l),u=c.alloc(s||0),x=c.alloc(0);l>0||s>0;){var b=new n;b.update(x),b.update(o),i&&b.update(i),x=b.digest();var g=0;if(l>0){var v=d.length-l;g=Math.min(l,x.length),x.copy(d,v,0,g),l-=g}if(g<x.length&&s>0){var y=u.length-s,N=Math.min(s,x.length-g);x.copy(u,y,g,g+N),s-=N}}return x.fill(0),{key:d,iv:u}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.CsvParserStream=f.ParserOptions=f.parseFile=f.parseStream=f.parseString=f.parse=f.FormatterOptions=f.CsvFormatterStream=f.writeToPath=f.writeToString=f.writeToBuffer=f.writeToStream=f.write=f.format=void 0;var c=t("@fast-csv/format");Object.defineProperty(f,"format",{enumerable:!0,get:function(){return c.format}}),Object.defineProperty(f,"write",{enumerable:!0,get:function(){return c.write}}),Object.defineProperty(f,"writeToStream",{enumerable:!0,get:function(){return c.writeToStream}}),Object.defineProperty(f,"writeToBuffer",{enumerable:!0,get:function(){return c.writeToBuffer}}),Object.defineProperty(f,"writeToString",{enumerable:!0,get:function(){return c.writeToString}}),Object.defineProperty(f,"writeToPath",{enumerable:!0,get:function(){return c.writeToPath}}),Object.defineProperty(f,"CsvFormatterStream",{enumerable:!0,get:function(){return c.CsvFormatterStream}}),Object.defineProperty(f,"FormatterOptions",{enumerable:!0,get:function(){return c.FormatterOptions}});var n=t("@fast-csv/parse");Object.defineProperty(f,"parse",{enumerable:!0,get:function(){return n.parse}}),Object.defineProperty(f,"parseString",{enumerable:!0,get:function(){return n.parseString}}),Object.defineProperty(f,"parseStream",{enumerable:!0,get:function(){return n.parseStream}}),Object.defineProperty(f,"parseFile",{enumerable:!0,get:function(){return n.parseFile}}),Object.defineProperty(f,"ParserOptions",{enumerable:!0,get:function(){return n.ParserOptions}}),Object.defineProperty(f,"CsvParserStream",{enumerable:!0,get:function(){return n.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("readable-stream").Transform;function o(i){n.call(this),this._block=c.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(o,n),o.prototype._transform=function(i,r,s){var l=null;try{this.update(i,r)}catch(d){l=d}s(l)},o.prototype._flush=function(i){var r=null;try{this.push(this.digest())}catch(s){r=s}i(r)},o.prototype.update=function(i,r){if((function(b,g){if(!c.isBuffer(b)&&typeof b!="string")throw new TypeError(g+" must be a string or a buffer")})(i,"Data"),this._finalized)throw new Error("Digest already called");c.isBuffer(i)||(i=c.from(i,r));for(var s=this._block,l=0;this._blockOffset+i.length-l>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)s[d++]=i[l++];this._update(),this._blockOffset=0}for(;l<i.length;)s[this._blockOffset++]=i[l++];for(var u=0,x=8*i.length;x>0;++u)this._length[u]+=x,(x=this._length[u]/4294967296|0)>0&&(this._length[u]-=4294967296*x);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var r=this._digest();i!==void 0&&(r=r.toString(i)),this._block.fill(0),this._blockOffset=0;for(var s=0;s<4;++s)this._length[s]=0;return r},o.prototype._digest=function(){throw new Error("_digest is not implemented")},h.exports=o},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,h,f){var c=f;c.utils=t("./hash/utils"),c.common=t("./hash/common"),c.sha=t("./hash/sha"),c.ripemd=t("./hash/ripemd"),c.hmac=t("./hash/hmac"),c.sha1=c.sha.sha1,c.sha256=c.sha.sha256,c.sha224=c.sha.sha224,c.sha384=c.sha.sha384,c.sha512=c.sha.sha512,c.ripemd160=c.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,h,f){var c=t("./utils"),n=t("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}f.BlockHash=o,o.prototype.update=function(i,r){if(i=c.toArray(i,r),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var s=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-s,i.length),this.pending.length===0&&(this.pending=null),i=c.join32(i,0,i.length-s,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},o.prototype.digest=function(i){return this.update(this._pad()),n(this.pending===null),this._digest(i)},o.prototype._pad=function(){var i=this.pendingTotal,r=this._delta8,s=r-(i+this.padLength)%r,l=new Array(s+this.padLength);l[0]=128;for(var d=1;d<s;d++)l[d]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)l[d++]=0;l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=i>>>24&255,l[d++]=i>>>16&255,l[d++]=i>>>8&255,l[d++]=255&i}else for(l[d++]=255&i,l[d++]=i>>>8&255,l[d++]=i>>>16&255,l[d++]=i>>>24&255,l[d++]=0,l[d++]=0,l[d++]=0,l[d++]=0,u=8;u<this.padLength;u++)l[d++]=0;return l}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,h,f){var c=t("./utils"),n=t("minimalistic-assert");function o(i,r,s){if(!(this instanceof o))return new o(i,r,s);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(c.toArray(r,s))}h.exports=o,o.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),n(i.length<=this.blockSize);for(var r=i.length;r<this.blockSize;r++)i.push(0);for(r=0;r<i.length;r++)i[r]^=54;for(this.inner=new this.Hash().update(i),r=0;r<i.length;r++)i[r]^=106;this.outer=new this.Hash().update(i)},o.prototype.update=function(i,r){return this.inner.update(i,r),this},o.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,h,f){var c=t("./utils"),n=t("./common"),o=c.rotl32,i=c.sum32,r=c.sum32_3,s=c.sum32_4,l=n.BlockHash;function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(E,I,O,$){return E<=15?I^O^$:E<=31?I&O|~I&$:E<=47?(I|~O)^$:E<=63?I&$|O&~$:I^(O|~$)}function x(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function b(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}c.inherits(d,l),f.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(E,I){for(var O=this.h[0],$=this.h[1],z=this.h[2],U=this.h[3],V=this.h[4],G=O,B=$,T=z,D=U,A=V,k=0;k<80;k++){var S=i(o(s(O,u(k,$,z,U),E[g[k]+I],x(k)),y[k]),V);O=V,V=U,U=o(z,10),z=$,$=S,S=i(o(s(G,u(79-k,B,T,D),E[v[k]+I],b(k)),N[k]),A),G=A,A=D,D=o(T,10),T=B,B=S}S=r(this.h[1],z,D),this.h[1]=r(this.h[2],U,A),this.h[2]=r(this.h[3],V,G),this.h[3]=r(this.h[4],O,B),this.h[4]=r(this.h[0],$,T),this.h[0]=S},d.prototype._digest=function(E){return E==="hex"?c.toHex32(this.h,"little"):c.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,h,f){f.sha1=t("./sha/1"),f.sha224=t("./sha/224"),f.sha256=t("./sha/256"),f.sha384=t("./sha/384"),f.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,h,f){var c=t("../utils"),n=t("../common"),o=t("./common"),i=c.rotl32,r=c.sum32,s=c.sum32_5,l=o.ft_1,d=n.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function x(){if(!(this instanceof x))return new x;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}c.inherits(x,d),h.exports=x,x.blockSize=512,x.outSize=160,x.hmacStrength=80,x.padLength=64,x.prototype._update=function(b,g){for(var v=this.W,y=0;y<16;y++)v[y]=b[g+y];for(;y<v.length;y++)v[y]=i(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var N=this.h[0],E=this.h[1],I=this.h[2],O=this.h[3],$=this.h[4];for(y=0;y<v.length;y++){var z=~~(y/20),U=s(i(N,5),l(z,E,I,O),$,v[y],u[z]);$=O,O=I,I=i(E,30),E=N,N=U}this.h[0]=r(this.h[0],N),this.h[1]=r(this.h[1],E),this.h[2]=r(this.h[2],I),this.h[3]=r(this.h[3],O),this.h[4]=r(this.h[4],$)},x.prototype._digest=function(b){return b==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,h,f){var c=t("../utils"),n=t("./256");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}c.inherits(o,n),h.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,7),"big"):c.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,h,f){var c=t("../utils"),n=t("../common"),o=t("./common"),i=t("minimalistic-assert"),r=c.sum32,s=c.sum32_4,l=c.sum32_5,d=o.ch32,u=o.maj32,x=o.s0_256,b=o.s1_256,g=o.g0_256,v=o.g1_256,y=n.BlockHash,N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=N,this.W=new Array(64)}c.inherits(E,y),h.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(I,O){for(var $=this.W,z=0;z<16;z++)$[z]=I[O+z];for(;z<$.length;z++)$[z]=s(v($[z-2]),$[z-7],g($[z-15]),$[z-16]);var U=this.h[0],V=this.h[1],G=this.h[2],B=this.h[3],T=this.h[4],D=this.h[5],A=this.h[6],k=this.h[7];for(i(this.k.length===$.length),z=0;z<$.length;z++){var S=l(k,b(T),d(T,D,A),this.k[z],$[z]),j=r(x(U),u(U,V,G));k=A,A=D,D=T,T=r(B,S),B=G,G=V,V=U,U=r(S,j)}this.h[0]=r(this.h[0],U),this.h[1]=r(this.h[1],V),this.h[2]=r(this.h[2],G),this.h[3]=r(this.h[3],B),this.h[4]=r(this.h[4],T),this.h[5]=r(this.h[5],D),this.h[6]=r(this.h[6],A),this.h[7]=r(this.h[7],k)},E.prototype._digest=function(I){return I==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,h,f){var c=t("../utils"),n=t("./512");function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}c.inherits(o,n),h.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(i){return i==="hex"?c.toHex32(this.h.slice(0,12),"big"):c.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,h,f){var c=t("../utils"),n=t("../common"),o=t("minimalistic-assert"),i=c.rotr64_hi,r=c.rotr64_lo,s=c.shr64_hi,l=c.shr64_lo,d=c.sum64,u=c.sum64_hi,x=c.sum64_lo,b=c.sum64_4_hi,g=c.sum64_4_lo,v=c.sum64_5_hi,y=c.sum64_5_lo,N=n.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;N.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function O(j,C,P,R,L){var Y=j&P^~j&L;return Y<0&&(Y+=4294967296),Y}function $(j,C,P,R,L,Y){var Z=C&R^~C&Y;return Z<0&&(Z+=4294967296),Z}function z(j,C,P,R,L){var Y=j&P^j&L^P&L;return Y<0&&(Y+=4294967296),Y}function U(j,C,P,R,L,Y){var Z=C&R^C&Y^R&Y;return Z<0&&(Z+=4294967296),Z}function V(j,C){var P=i(j,C,28)^i(C,j,2)^i(C,j,7);return P<0&&(P+=4294967296),P}function G(j,C){var P=r(j,C,28)^r(C,j,2)^r(C,j,7);return P<0&&(P+=4294967296),P}function B(j,C){var P=i(j,C,14)^i(j,C,18)^i(C,j,9);return P<0&&(P+=4294967296),P}function T(j,C){var P=r(j,C,14)^r(j,C,18)^r(C,j,9);return P<0&&(P+=4294967296),P}function D(j,C){var P=i(j,C,1)^i(j,C,8)^s(j,C,7);return P<0&&(P+=4294967296),P}function A(j,C){var P=r(j,C,1)^r(j,C,8)^l(j,C,7);return P<0&&(P+=4294967296),P}function k(j,C){var P=i(j,C,19)^i(C,j,29)^s(j,C,6);return P<0&&(P+=4294967296),P}function S(j,C){var P=r(j,C,19)^r(C,j,29)^l(j,C,6);return P<0&&(P+=4294967296),P}c.inherits(I,N),h.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(j,C){for(var P=this.W,R=0;R<32;R++)P[R]=j[C+R];for(;R<P.length;R+=2){var L=k(P[R-4],P[R-3]),Y=S(P[R-4],P[R-3]),Z=P[R-14],ae=P[R-13],q=D(P[R-30],P[R-29]),X=A(P[R-30],P[R-29]),F=P[R-32],M=P[R-31];P[R]=b(L,Y,Z,ae,q,X,F,M),P[R+1]=g(L,Y,Z,ae,q,X,F,M)}},I.prototype._update=function(j,C){this._prepareBlock(j,C);var P=this.W,R=this.h[0],L=this.h[1],Y=this.h[2],Z=this.h[3],ae=this.h[4],q=this.h[5],X=this.h[6],F=this.h[7],M=this.h[8],K=this.h[9],se=this.h[10],oe=this.h[11],ne=this.h[12],le=this.h[13],Se=this.h[14],je=this.h[15];o(this.k.length===P.length);for(var ee=0;ee<P.length;ee+=2){var ce=Se,be=je,Te=B(M,K),Ce=T(M,K),Pe=O(M,K,se,oe,ne),Be=$(M,K,se,oe,ne,le),Ge=this.k[ee],st=this.k[ee+1],bt=P[ee],_e=P[ee+1],We=v(ce,be,Te,Ce,Pe,Be,Ge,st,bt,_e),vt=y(ce,be,Te,Ce,Pe,Be,Ge,st,bt,_e);ce=V(R,L),be=G(R,L),Te=z(R,L,Y,Z,ae),Ce=U(R,L,Y,Z,ae,q);var At=u(ce,be,Te,Ce),Nt=x(ce,be,Te,Ce);Se=ne,je=le,ne=se,le=oe,se=M,oe=K,M=u(X,F,We,vt),K=x(F,F,We,vt),X=ae,F=q,ae=Y,q=Z,Y=R,Z=L,R=u(We,vt,At,Nt),L=x(We,vt,At,Nt)}d(this.h,0,R,L),d(this.h,2,Y,Z),d(this.h,4,ae,q),d(this.h,6,X,F),d(this.h,8,M,K),d(this.h,10,se,oe),d(this.h,12,ne,le),d(this.h,14,Se,je)},I.prototype._digest=function(j){return j==="hex"?c.toHex32(this.h,"big"):c.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,h,f){var c=t("../utils").rotr32;function n(r,s,l){return r&s^~r&l}function o(r,s,l){return r&s^r&l^s&l}function i(r,s,l){return r^s^l}f.ft_1=function(r,s,l,d){return r===0?n(s,l,d):r===1||r===3?i(s,l,d):r===2?o(s,l,d):void 0},f.ch32=n,f.maj32=o,f.p32=i,f.s0_256=function(r){return c(r,2)^c(r,13)^c(r,22)},f.s1_256=function(r){return c(r,6)^c(r,11)^c(r,25)},f.g0_256=function(r){return c(r,7)^c(r,18)^r>>>3},f.g1_256=function(r){return c(r,17)^c(r,19)^r>>>10}},{"../utils":437}],437:[function(t,h,f){var c=t("minimalistic-assert"),n=t("inherits");function o(l,d){return(64512&l.charCodeAt(d))==55296&&!(d<0||d+1>=l.length)&&(64512&l.charCodeAt(d+1))==56320}function i(l){return(l>>>24|l>>>8&65280|l<<8&16711680|(255&l)<<24)>>>0}function r(l){return l.length===1?"0"+l:l}function s(l){return l.length===7?"0"+l:l.length===6?"00"+l:l.length===5?"000"+l:l.length===4?"0000"+l:l.length===3?"00000"+l:l.length===2?"000000"+l:l.length===1?"0000000"+l:l}f.inherits=n,f.toArray=function(l,d){if(Array.isArray(l))return l.slice();if(!l)return[];var u=[];if(typeof l=="string")if(d){if(d==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),b=0;b<l.length;b+=2)u.push(parseInt(l[b]+l[b+1],16))}else for(var x=0,b=0;b<l.length;b++){var g=l.charCodeAt(b);g<128?u[x++]=g:g<2048?(u[x++]=g>>6|192,u[x++]=63&g|128):o(l,b)?(g=65536+((1023&g)<<10)+(1023&l.charCodeAt(++b)),u[x++]=g>>18|240,u[x++]=g>>12&63|128,u[x++]=g>>6&63|128,u[x++]=63&g|128):(u[x++]=g>>12|224,u[x++]=g>>6&63|128,u[x++]=63&g|128)}else for(b=0;b<l.length;b++)u[b]=0|l[b];return u},f.toHex=function(l){for(var d="",u=0;u<l.length;u++)d+=r(l[u].toString(16));return d},f.htonl=i,f.toHex32=function(l,d){for(var u="",x=0;x<l.length;x++){var b=l[x];d==="little"&&(b=i(b)),u+=s(b.toString(16))}return u},f.zero2=r,f.zero8=s,f.join32=function(l,d,u,x){var b=u-d;c(b%4==0);for(var g=new Array(b/4),v=0,y=d;v<g.length;v++,y+=4){var N;N=x==="big"?l[y]<<24|l[y+1]<<16|l[y+2]<<8|l[y+3]:l[y+3]<<24|l[y+2]<<16|l[y+1]<<8|l[y],g[v]=N>>>0}return g},f.split32=function(l,d){for(var u=new Array(4*l.length),x=0,b=0;x<l.length;x++,b+=4){var g=l[x];d==="big"?(u[b]=g>>>24,u[b+1]=g>>>16&255,u[b+2]=g>>>8&255,u[b+3]=255&g):(u[b+3]=g>>>24,u[b+2]=g>>>16&255,u[b+1]=g>>>8&255,u[b]=255&g)}return u},f.rotr32=function(l,d){return l>>>d|l<<32-d},f.rotl32=function(l,d){return l<<d|l>>>32-d},f.sum32=function(l,d){return l+d>>>0},f.sum32_3=function(l,d,u){return l+d+u>>>0},f.sum32_4=function(l,d,u,x){return l+d+u+x>>>0},f.sum32_5=function(l,d,u,x,b){return l+d+u+x+b>>>0},f.sum64=function(l,d,u,x){var b=l[d],g=x+l[d+1]>>>0,v=(g<x?1:0)+u+b;l[d]=v>>>0,l[d+1]=g},f.sum64_hi=function(l,d,u,x){return(d+x>>>0<d?1:0)+l+u>>>0},f.sum64_lo=function(l,d,u,x){return d+x>>>0},f.sum64_4_hi=function(l,d,u,x,b,g,v,y){var N=0,E=d;return N+=(E=E+x>>>0)<d?1:0,N+=(E=E+g>>>0)<g?1:0,l+u+b+v+(N+=(E=E+y>>>0)<y?1:0)>>>0},f.sum64_4_lo=function(l,d,u,x,b,g,v,y){return d+x+g+y>>>0},f.sum64_5_hi=function(l,d,u,x,b,g,v,y,N,E){var I=0,O=d;return I+=(O=O+x>>>0)<d?1:0,I+=(O=O+g>>>0)<g?1:0,I+=(O=O+y>>>0)<y?1:0,l+u+b+v+N+(I+=(O=O+E>>>0)<E?1:0)>>>0},f.sum64_5_lo=function(l,d,u,x,b,g,v,y,N,E){return d+x+g+y+E>>>0},f.rotr64_hi=function(l,d,u){return(d<<32-u|l>>>u)>>>0},f.rotr64_lo=function(l,d,u){return(l<<32-u|d>>>u)>>>0},f.shr64_hi=function(l,d,u){return l>>>u},f.shr64_lo=function(l,d,u){return(l<<32-u|d>>>u)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,h,f){var c=t("hash.js"),n=t("minimalistic-crypto-utils"),o=t("minimalistic-assert");function i(r){if(!(this instanceof i))return new i(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=n.toArray(r.entropy,r.entropyEnc||"hex"),l=n.toArray(r.nonce,r.nonceEnc||"hex"),d=n.toArray(r.pers,r.persEnc||"hex");o(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,l,d)}h.exports=i,i.prototype._init=function(r,s,l){var d=r.concat(s).concat(l);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var u=0;u<this.V.length;u++)this.K[u]=0,this.V[u]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new c.hmac(this.hash,this.K)},i.prototype._update=function(r){var s=this._hmac().update(this.V).update([0]);r&&(s=s.update(r)),this.K=s.digest(),this.V=this._hmac().update(this.V).digest(),r&&(this.K=this._hmac().update(this.V).update([1]).update(r).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(r,s,l,d){typeof s!="string"&&(d=l,l=s,s=null),r=n.toArray(r,s),l=n.toArray(l,d),o(r.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(r.concat(l||[])),this._reseed=1},i.prototype.generate=function(r,s,l,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof s!="string"&&(d=l,l=s,s=null),l&&(l=n.toArray(l,d||"hex"),this._update(l));for(var u=[];u.length<r;)this.V=this._hmac().update(this.V).digest(),u=u.concat(this.V);var x=u.slice(0,r);return this._update(l),this._reseed++,n.encode(x,s)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,h,f){f.read=function(c,n,o,i,r){var s,l,d=8*r-i-1,u=(1<<d)-1,x=u>>1,b=-7,g=o?r-1:0,v=o?-1:1,y=c[n+g];for(g+=v,s=y&(1<<-b)-1,y>>=-b,b+=d;b>0;s=256*s+c[n+g],g+=v,b-=8);for(l=s&(1<<-b)-1,s>>=-b,b+=i;b>0;l=256*l+c[n+g],g+=v,b-=8);if(s===0)s=1-x;else{if(s===u)return l?NaN:1/0*(y?-1:1);l+=Math.pow(2,i),s-=x}return(y?-1:1)*l*Math.pow(2,s-i)},f.write=function(c,n,o,i,r,s){var l,d,u,x=8*s-r-1,b=(1<<x)-1,g=b>>1,v=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:s-1,N=i?1:-1,E=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(d=isNaN(n)?1:0,l=b):(l=Math.floor(Math.log(n)/Math.LN2),n*(u=Math.pow(2,-l))<1&&(l--,u*=2),(n+=l+g>=1?v/u:v*Math.pow(2,1-g))*u>=2&&(l++,u/=2),l+g>=b?(d=0,l=b):l+g>=1?(d=(n*u-1)*Math.pow(2,r),l+=g):(d=n*Math.pow(2,g-1)*Math.pow(2,r),l=0));r>=8;c[o+y]=255&d,y+=N,d/=256,r-=8);for(l=l<<r|d,x+=r;x>0;c[o+y]=255&l,y+=N,l/=256,x-=8);c[o+y-N]|=128*E}},{}],440:[function(t,h,f){typeof Object.create=="function"?h.exports=function(c,n){n&&(c.super_=n,c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(c,n){if(n){c.super_=n;var o=function(){};o.prototype=n.prototype,c.prototype=new o,c.prototype.constructor=c}}},{}],441:[function(t,h,f){(function(c,n,o,i,r,s,l,d){(function(){(function(u){typeof f=="object"&&h!==void 0?h.exports=u():(typeof window<"u"?window:n!==void 0?n:typeof self<"u"?self:this).JSZip=u()})((function(){return(function u(x,b,g){function v(E,I){if(!b[E]){if(!x[E]){var O=typeof t=="function"&&t;if(!I&&O)return O(E,!0);if(y)return y(E,!0);var $=new Error("Cannot find module '"+E+"'");throw $.code="MODULE_NOT_FOUND",$}var z=b[E]={exports:{}};x[E][0].call(z.exports,(function(U){return v(x[E][1][U]||U)}),z,z.exports,u,x,b,g)}return b[E].exports}for(var y=typeof t=="function"&&t,N=0;N<g.length;N++)v(g[N]);return v})({1:[function(u,x,b){var g=u("./utils"),v=u("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(N){for(var E,I,O,$,z,U,V,G=[],B=0,T=N.length,D=T,A=g.getTypeOf(N)!=="string";B<N.length;)D=T-B,O=A?(E=N[B++],I=B<T?N[B++]:0,B<T?N[B++]:0):(E=N.charCodeAt(B++),I=B<T?N.charCodeAt(B++):0,B<T?N.charCodeAt(B++):0),$=E>>2,z=(3&E)<<4|I>>4,U=1<D?(15&I)<<2|O>>6:64,V=2<D?63&O:64,G.push(y.charAt($)+y.charAt(z)+y.charAt(U)+y.charAt(V));return G.join("")},b.decode=function(N){var E,I,O,$,z,U,V=0,G=0,B="data:";if(N.substr(0,B.length)===B)throw new Error("Invalid base64 input, it looks like a data url.");var T,D=3*(N=N.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(N.charAt(N.length-1)===y.charAt(64)&&D--,N.charAt(N.length-2)===y.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=v.uint8array?new Uint8Array(0|D):new Array(0|D);V<N.length;)E=y.indexOf(N.charAt(V++))<<2|($=y.indexOf(N.charAt(V++)))>>4,I=(15&$)<<4|(z=y.indexOf(N.charAt(V++)))>>2,O=(3&z)<<6|(U=y.indexOf(N.charAt(V++))),T[G++]=E,z!==64&&(T[G++]=I),U!==64&&(T[G++]=O);return T}},{"./support":30,"./utils":32}],2:[function(u,x,b){var g=u("./external"),v=u("./stream/DataWorker"),y=u("./stream/Crc32Probe"),N=u("./stream/DataLengthProbe");function E(I,O,$,z,U){this.compressedSize=I,this.uncompressedSize=O,this.crc32=$,this.compression=z,this.compressedContent=U}E.prototype={getContentWorker:function(){var I=new v(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new N("data_length")),O=this;return I.on("end",(function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),I},getCompressedWorker:function(){return new v(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(I,O,$){return I.pipe(new y).pipe(new N("uncompressedSize")).pipe(O.compressWorker($)).pipe(new N("compressedSize")).withStreamInfo("compression",O)},x.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,x,b){var g=u("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},b.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,x,b){var g=u("./utils"),v=(function(){for(var y,N=[],E=0;E<256;E++){y=E;for(var I=0;I<8;I++)y=1&y?3988292384^y>>>1:y>>>1;N[E]=y}return N})();x.exports=function(y,N){return y!==void 0&&y.length?g.getTypeOf(y)!=="string"?(function(E,I,O,$){var z=v,U=0+O;E^=-1;for(var V=0;V<U;V++)E=E>>>8^z[255&(E^I[V])];return-1^E})(0|N,y,y.length):(function(E,I,O,$){var z=v,U=0+O;E^=-1;for(var V=0;V<U;V++)E=E>>>8^z[255&(E^I.charCodeAt(V))];return-1^E})(0|N,y,y.length):0}},{"./utils":32}],5:[function(u,x,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(u,x,b){var g;g=typeof Promise<"u"?Promise:u("lie"),x.exports={Promise:g}},{lie:37}],7:[function(u,x,b){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=u("pako"),y=u("./utils"),N=u("./stream/GenericWorker"),E=g?"uint8array":"array";function I(O,$){N.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=$,this.meta={}}b.magic="\b\0",y.inherits(I,N),I.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(E,O.data),!1)},I.prototype.flush=function(){N.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){N.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function($){O.push({data:$,meta:O.meta})}},b.compressWorker=function(O){return new I("Deflate",O)},b.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,x,b){function g(z,U){var V,G="";for(V=0;V<U;V++)G+=String.fromCharCode(255&z),z>>>=8;return G}function v(z,U,V,G,B,T){var D,A,k=z.file,S=z.compression,j=T!==E.utf8encode,C=y.transformTo("string",T(k.name)),P=y.transformTo("string",E.utf8encode(k.name)),R=k.comment,L=y.transformTo("string",T(R)),Y=y.transformTo("string",E.utf8encode(R)),Z=P.length!==k.name.length,ae=Y.length!==R.length,q="",X="",F="",M=k.dir,K=k.date,se={crc32:0,compressedSize:0,uncompressedSize:0};U&&!V||(se.crc32=z.crc32,se.compressedSize=z.compressedSize,se.uncompressedSize=z.uncompressedSize);var oe=0;U&&(oe|=8),j||!Z&&!ae||(oe|=2048);var ne=0,le=0;M&&(ne|=16),B==="UNIX"?(le=798,ne|=(function(je,ee){var ce=je;return je||(ce=ee?16893:33204),(65535&ce)<<16})(k.unixPermissions,M)):(le=20,ne|=(function(je){return 63&(je||0)})(k.dosPermissions)),D=K.getUTCHours(),D<<=6,D|=K.getUTCMinutes(),D<<=5,D|=K.getUTCSeconds()/2,A=K.getUTCFullYear()-1980,A<<=4,A|=K.getUTCMonth()+1,A<<=5,A|=K.getUTCDate(),Z&&(X=g(1,1)+g(I(C),4)+P,q+="up"+g(X.length,2)+X),ae&&(F=g(1,1)+g(I(L),4)+Y,q+="uc"+g(F.length,2)+F);var Se="";return Se+=`
\0`,Se+=g(oe,2),Se+=S.magic,Se+=g(D,2),Se+=g(A,2),Se+=g(se.crc32,4),Se+=g(se.compressedSize,4),Se+=g(se.uncompressedSize,4),Se+=g(C.length,2),Se+=g(q.length,2),{fileRecord:O.LOCAL_FILE_HEADER+Se+C+q,dirRecord:O.CENTRAL_FILE_HEADER+g(le,2)+Se+g(L.length,2)+"\0\0\0\0"+g(ne,4)+g(G,4)+C+q+L}}var y=u("../utils"),N=u("../stream/GenericWorker"),E=u("../utf8"),I=u("../crc32"),O=u("../signature");function $(z,U,V,G){N.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=V,this.encodeFileName=G,this.streamFiles=z,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits($,N),$.prototype.push=function(z){var U=z.meta.percent||0,V=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(z):(this.bytesWritten+=z.data.length,N.prototype.push.call(this,{data:z.data,meta:{currentFile:this.currentFile,percent:V?(U+100*(V-G-1))/V:100}}))},$.prototype.openedSource=function(z){this.currentSourceOffset=this.bytesWritten,this.currentFile=z.file.name;var U=this.streamFiles&&!z.file.dir;if(U){var V=v(z,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(z){this.accumulate=!1;var U=this.streamFiles&&!z.file.dir,V=v(z,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),U)this.push({data:(function(G){return O.DATA_DESCRIPTOR+g(G.crc32,4)+g(G.compressedSize,4)+g(G.uncompressedSize,4)})(z),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var z=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var V=this.bytesWritten-z,G=(function(B,T,D,A,k){var S=y.transformTo("string",k(A));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(B,2)+g(B,2)+g(T,4)+g(D,4)+g(S.length,2)+S})(this.dirRecords.length,V,z,this.zipComment,this.encodeFileName);this.push({data:G,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(z){this._sources.push(z);var U=this;return z.on("data",(function(V){U.processChunk(V)})),z.on("end",(function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()})),z.on("error",(function(V){U.error(V)})),this},$.prototype.resume=function(){return!!N.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(z){var U=this._sources;if(!N.prototype.error.call(this,z))return!1;for(var V=0;V<U.length;V++)try{U[V].error(z)}catch{}return!0},$.prototype.lock=function(){N.prototype.lock.call(this);for(var z=this._sources,U=0;U<z.length;U++)z[U].lock()},x.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,x,b){var g=u("../compressions"),v=u("./ZipFileWorker");b.generateWorker=function(y,N,E){var I=new v(N.streamFiles,E,N.platform,N.encodeFileName),O=0;try{y.forEach((function($,z){O++;var U=(function(T,D){var A=T||D,k=g[A];if(!k)throw new Error(A+" is not a valid compression method !");return k})(z.options.compression,N.compression),V=z.options.compressionOptions||N.compressionOptions||{},G=z.dir,B=z.date;z._compressWorker(U,V).withStreamInfo("file",{name:$,dir:G,date:B,comment:z.comment||"",unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions}).pipe(I)})),I.entriesCount=O}catch($){I.error($)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,x,b){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new g;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(g.prototype=u("./object")).loadAsync=u("./load"),g.support=u("./support"),g.defaults=u("./defaults"),g.version="3.10.1",g.loadAsync=function(v,y){return new g().loadAsync(v,y)},g.external=u("./external"),x.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,x,b){var g=u("./utils"),v=u("./external"),y=u("./utf8"),N=u("./zipEntries"),E=u("./stream/Crc32Probe"),I=u("./nodejsUtils");function O($){return new v.Promise((function(z,U){var V=$.decompressed.getContentWorker().pipe(new E);V.on("error",(function(G){U(G)})).on("end",(function(){V.streamInfo.crc32!==$.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):z()})).resume()}))}x.exports=function($,z){var U=this;return z=g.extend(z||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),I.isNode&&I.isStream($)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",$,!0,z.optimizedBinaryString,z.base64).then((function(V){var G=new N(z);return G.load(V),G})).then((function(V){var G=[v.Promise.resolve(V)],B=V.files;if(z.checkCRC32)for(var T=0;T<B.length;T++)G.push(O(B[T]));return v.Promise.all(G)})).then((function(V){for(var G=V.shift(),B=G.files,T=0;T<B.length;T++){var D=B[T],A=D.fileNameStr,k=g.resolve(D.fileNameStr);U.file(k,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:z.createFolders}),D.dir||(U.file(k).unsafeOriginalName=A)}return G.zipComment.length&&(U.comment=G.zipComment),U}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,x,b){var g=u("../utils"),v=u("../stream/GenericWorker");function y(N,E){v.call(this,"Nodejs stream input adapter for "+N),this._upstreamEnded=!1,this._bindStream(E)}g.inherits(y,v),y.prototype._bindStream=function(N){var E=this;(this._stream=N).pause(),N.on("data",(function(I){E.push({data:I,meta:{percent:0}})})).on("error",(function(I){E.isPaused?this.generatedError=I:E.error(I)})).on("end",(function(){E.isPaused?E._upstreamEnded=!0:E.end()}))},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},x.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,x,b){var g=u("readable-stream").Readable;function v(y,N,E){g.call(this,N),this._helper=y;var I=this;y.on("data",(function(O,$){I.push(O)||I._helper.pause(),E&&E($)})).on("error",(function(O){I.emit("error",O)})).on("end",(function(){I.push(null)}))}u("../utils").inherits(v,g),v.prototype._read=function(){this._helper.resume()},x.exports=v},{"../utils":32,"readable-stream":16}],14:[function(u,x,b){x.exports={isNode:o!==void 0,newBufferFrom:function(g,v){if(o.from&&o.from!==Uint8Array.from)return o.from(g,v);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new o(g,v)},allocBuffer:function(g){if(o.alloc)return o.alloc(g);var v=new o(g);return v.fill(0),v},isBuffer:function(g){return o.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(u,x,b){function g(k,S,j){var C,P=y.getTypeOf(S),R=y.extend(j||{},I);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(k=B(k)),R.createFolders&&(C=G(k))&&T.call(this,C,!0);var L=P==="string"&&R.binary===!1&&R.base64===!1;j&&j.binary!==void 0||(R.binary=!L),(S instanceof O&&S.uncompressedSize===0||R.dir||!S||S.length===0)&&(R.base64=!1,R.binary=!0,S="",R.compression="STORE",P="string");var Y;Y=S instanceof O||S instanceof N?S:U.isNode&&U.isStream(S)?new V(k,S):y.prepareContent(k,S,R.binary,R.optimizedBinaryString,R.base64);var Z=new $(k,Y,R);this.files[k]=Z}var v=u("./utf8"),y=u("./utils"),N=u("./stream/GenericWorker"),E=u("./stream/StreamHelper"),I=u("./defaults"),O=u("./compressedObject"),$=u("./zipObject"),z=u("./generate"),U=u("./nodejsUtils"),V=u("./nodejs/NodejsStreamInputAdapter"),G=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var S=k.lastIndexOf("/");return 0<S?k.substring(0,S):""},B=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},T=function(k,S){return S=S!==void 0?S:I.createFolders,k=B(k),this.files[k]||g.call(this,k,null,{dir:!0,createFolders:S}),this.files[k]};function D(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var S,j,C;for(S in this.files)C=this.files[S],(j=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&k(j,C)},filter:function(k){var S=[];return this.forEach((function(j,C){k(j,C)&&S.push(C)})),S},file:function(k,S,j){if(arguments.length!==1)return k=this.root+k,g.call(this,k,S,j),this;if(D(k)){var C=k;return this.filter((function(R,L){return!L.dir&&C.test(R)}))}var P=this.files[this.root+k];return P&&!P.dir?P:null},folder:function(k){if(!k)return this;if(D(k))return this.filter((function(P,R){return R.dir&&k.test(P)}));var S=this.root+k,j=T.call(this,S),C=this.clone();return C.root=j.name,C},remove:function(k){k=this.root+k;var S=this.files[k];if(S||(k.slice(-1)!=="/"&&(k+="/"),S=this.files[k]),S&&!S.dir)delete this.files[k];else for(var j=this.filter((function(P,R){return R.name.slice(0,k.length)===k})),C=0;C<j.length;C++)delete this.files[j[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var S,j={};try{if((j=y.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");y.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var C=j.comment||this.comment||"";S=z.generateWorker(this,j,C)}catch(P){(S=new N("error")).error(P)}return new E(S,j.type||"string",j.mimeType)},generateAsync:function(k,S){return this.generateInternalStream(k).accumulate(S)},generateNodeStream:function(k,S){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(S)}};x.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,x,b){x.exports=u("stream")},{stream:void 0}],17:[function(u,x,b){var g=u("./DataReader");function v(y){g.call(this,y);for(var N=0;N<this.data.length;N++)y[N]=255&y[N]}u("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var N=y.charCodeAt(0),E=y.charCodeAt(1),I=y.charCodeAt(2),O=y.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===N&&this.data[$+1]===E&&this.data[$+2]===I&&this.data[$+3]===O)return $-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var N=y.charCodeAt(0),E=y.charCodeAt(1),I=y.charCodeAt(2),O=y.charCodeAt(3),$=this.readData(4);return N===$[0]&&E===$[1]&&I===$[2]&&O===$[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var N=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,N},x.exports=v},{"../utils":32,"./DataReader":18}],18:[function(u,x,b){var g=u("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var N,E=0;for(this.checkOffset(y),N=this.index+y-1;N>=this.index;N--)E=(E<<8)+this.byteAt(N);return this.index+=y,E},readString:function(y){return g.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},x.exports=v},{"../utils":32}],19:[function(u,x,b){var g=u("./Uint8ArrayReader");function v(y){g.call(this,y)}u("../utils").inherits(v,g),v.prototype.readData=function(y){this.checkOffset(y);var N=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,N},x.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,x,b){var g=u("./DataReader");function v(y){g.call(this,y)}u("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var N=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,N},x.exports=v},{"../utils":32,"./DataReader":18}],21:[function(u,x,b){var g=u("./ArrayReader");function v(y){g.call(this,y)}u("../utils").inherits(v,g),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var N=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,N},x.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(u,x,b){var g=u("../utils"),v=u("../support"),y=u("./ArrayReader"),N=u("./StringReader"),E=u("./NodeBufferReader"),I=u("./Uint8ArrayReader");x.exports=function(O){var $=g.getTypeOf(O);return g.checkSupport($),$!=="string"||v.uint8array?$==="nodebuffer"?new E(O):v.uint8array?new I(g.transformTo("uint8array",O)):new y(g.transformTo("array",O)):new N(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,x,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,x,b){var g=u("./GenericWorker"),v=u("../utils");function y(N){g.call(this,"ConvertWorker to "+N),this.destType=N}v.inherits(y,g),y.prototype.processChunk=function(N){this.push({data:v.transformTo(this.destType,N.data),meta:N.meta})},x.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(u,x,b){var g=u("./GenericWorker"),v=u("../crc32");function y(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(y,g),y.prototype.processChunk=function(N){this.streamInfo.crc32=v(N.data,this.streamInfo.crc32||0),this.push(N)},x.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,x,b){var g=u("../utils"),v=u("./GenericWorker");function y(N){v.call(this,"DataLengthProbe for "+N),this.propName=N,this.withStreamInfo(N,0)}g.inherits(y,v),y.prototype.processChunk=function(N){if(N){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+N.data.length}v.prototype.processChunk.call(this,N)},x.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(u,x,b){var g=u("../utils"),v=u("./GenericWorker");function y(N){v.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,N.then((function(I){E.dataIsReady=!0,E.data=I,E.max=I&&I.length||0,E.type=g.getTypeOf(I),E.isPaused||E._tickAndRepeat()}),(function(I){E.error(I)}))}g.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var N=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":N=this.data.substring(this.index,E);break;case"uint8array":N=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":N=this.data.slice(this.index,E)}return this.index=E,this.push({data:N,meta:{percent:this.max?this.index/this.max*100:0}})},x.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(u,x,b){function g(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var N=0;N<this._listeners[v].length;N++)this._listeners[v][N].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",(function(N){y.processChunk(N)})),v.on("end",(function(){y.end()})),v.on("error",(function(N){y.error(N)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},x.exports=g},{}],29:[function(u,x,b){var g=u("../utils"),v=u("./ConvertWorker"),y=u("./GenericWorker"),N=u("../base64"),E=u("../support"),I=u("../external"),O=null;if(E.nodestream)try{O=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(z,U,V){var G=U;switch(U){case"blob":case"arraybuffer":G="uint8array";break;case"base64":G="string"}try{this._internalType=G,this._outputType=U,this._mimeType=V,g.checkSupport(G),this._worker=z.pipe(new v(G)),z.lock()}catch(B){this._worker=new y("error"),this._worker.error(B)}}$.prototype={accumulate:function(z){return(function(U,V){return new I.Promise((function(G,B){var T=[],D=U._internalType,A=U._outputType,k=U._mimeType;U.on("data",(function(S,j){T.push(S),V&&V(j)})).on("error",(function(S){T=[],B(S)})).on("end",(function(){try{var S=(function(j,C,P){switch(j){case"blob":return g.newBlob(g.transformTo("arraybuffer",C),P);case"base64":return N.encode(C);default:return g.transformTo(j,C)}})(A,(function(j,C){var P,R=0,L=null,Y=0;for(P=0;P<C.length;P++)Y+=C[P].length;switch(j){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(L=new Uint8Array(Y),P=0;P<C.length;P++)L.set(C[P],R),R+=C[P].length;return L;case"nodebuffer":return o.concat(C);default:throw new Error("concat : unsupported type '"+j+"'")}})(D,T),k);G(S)}catch(j){B(j)}T=[]})).resume()}))})(this,z)},on:function(z,U){var V=this;return z==="data"?this._worker.on(z,(function(G){U.call(V,G.data,G.meta)})):this._worker.on(z,(function(){g.delay(U,arguments,V)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(z){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},z)}},x.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,x,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=o!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var g=new ArrayBuffer(0);try{b.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(g),b.blob=v.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!u("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(u,x,b){for(var g=u("./utils"),v=u("./support"),y=u("./nodejsUtils"),N=u("./stream/GenericWorker"),E=new Array(256),I=0;I<256;I++)E[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function O(){N.call(this,"utf-8 decode"),this.leftOver=null}function $(){N.call(this,"utf-8 encode")}E[254]=E[254]=1,b.utf8encode=function(z){return v.nodebuffer?y.newBufferFrom(z,"utf-8"):(function(U){var V,G,B,T,D,A=U.length,k=0;for(T=0;T<A;T++)(64512&(G=U.charCodeAt(T)))==55296&&T+1<A&&(64512&(B=U.charCodeAt(T+1)))==56320&&(G=65536+(G-55296<<10)+(B-56320),T++),k+=G<128?1:G<2048?2:G<65536?3:4;for(V=v.uint8array?new Uint8Array(k):new Array(k),T=D=0;D<k;T++)(64512&(G=U.charCodeAt(T)))==55296&&T+1<A&&(64512&(B=U.charCodeAt(T+1)))==56320&&(G=65536+(G-55296<<10)+(B-56320),T++),G<128?V[D++]=G:(G<2048?V[D++]=192|G>>>6:(G<65536?V[D++]=224|G>>>12:(V[D++]=240|G>>>18,V[D++]=128|G>>>12&63),V[D++]=128|G>>>6&63),V[D++]=128|63&G);return V})(z)},b.utf8decode=function(z){return v.nodebuffer?g.transformTo("nodebuffer",z).toString("utf-8"):(function(U){var V,G,B,T,D=U.length,A=new Array(2*D);for(V=G=0;V<D;)if((B=U[V++])<128)A[G++]=B;else if(4<(T=E[B]))A[G++]=65533,V+=T-1;else{for(B&=T===2?31:T===3?15:7;1<T&&V<D;)B=B<<6|63&U[V++],T--;1<T?A[G++]=65533:B<65536?A[G++]=B:(B-=65536,A[G++]=55296|B>>10&1023,A[G++]=56320|1023&B)}return A.length!==G&&(A.subarray?A=A.subarray(0,G):A.length=G),g.applyFromCharCode(A)})(z=g.transformTo(v.uint8array?"uint8array":"array",z))},g.inherits(O,N),O.prototype.processChunk=function(z){var U=g.transformTo(v.uint8array?"uint8array":"array",z.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var V=U;(U=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),U.set(V,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var G=(function(T,D){var A;for((D=D||T.length)>T.length&&(D=T.length),A=D-1;0<=A&&(192&T[A])==128;)A--;return A<0||A===0?D:A+E[T[A]]>D?A:D})(U),B=U;G!==U.length&&(v.uint8array?(B=U.subarray(0,G),this.leftOver=U.subarray(G,U.length)):(B=U.slice(0,G),this.leftOver=U.slice(G,U.length))),this.push({data:b.utf8decode(B),meta:z.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=O,g.inherits($,N),$.prototype.processChunk=function(z){this.push({data:b.utf8encode(z.data),meta:z.meta})},b.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,x,b){var g=u("./support"),v=u("./base64"),y=u("./nodejsUtils"),N=u("./external");function E(V){return V}function I(V,G){for(var B=0;B<V.length;++B)G[B]=255&V.charCodeAt(B);return G}u("setimmediate"),b.newBlob=function(V,G){b.checkSupport("blob");try{return new Blob([V],{type:G})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(V),B.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(V,G,B){var T=[],D=0,A=V.length;if(A<=B)return String.fromCharCode.apply(null,V);for(;D<A;)G==="array"||G==="nodebuffer"?T.push(String.fromCharCode.apply(null,V.slice(D,Math.min(D+B,A)))):T.push(String.fromCharCode.apply(null,V.subarray(D,Math.min(D+B,A)))),D+=B;return T.join("")},stringifyByChar:function(V){for(var G="",B=0;B<V.length;B++)G+=String.fromCharCode(V[B]);return G},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}})()}};function $(V){var G=65536,B=b.getTypeOf(V),T=!0;if(B==="uint8array"?T=O.applyCanBeUsed.uint8array:B==="nodebuffer"&&(T=O.applyCanBeUsed.nodebuffer),T)for(;1<G;)try{return O.stringifyByChunk(V,B,G)}catch{G=Math.floor(G/2)}return O.stringifyByChar(V)}function z(V,G){for(var B=0;B<V.length;B++)G[B]=V[B];return G}b.applyFromCharCode=$;var U={};U.string={string:E,array:function(V){return I(V,new Array(V.length))},arraybuffer:function(V){return U.string.uint8array(V).buffer},uint8array:function(V){return I(V,new Uint8Array(V.length))},nodebuffer:function(V){return I(V,y.allocBuffer(V.length))}},U.array={string:$,array:E,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return y.newBufferFrom(V)}},U.arraybuffer={string:function(V){return $(new Uint8Array(V))},array:function(V){return z(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:E,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return y.newBufferFrom(new Uint8Array(V))}},U.uint8array={string:$,array:function(V){return z(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:E,nodebuffer:function(V){return y.newBufferFrom(V)}},U.nodebuffer={string:$,array:function(V){return z(V,new Array(V.length))},arraybuffer:function(V){return U.nodebuffer.uint8array(V).buffer},uint8array:function(V){return z(V,new Uint8Array(V.length))},nodebuffer:E},b.transformTo=function(V,G){if(G=G||"",!V)return G;b.checkSupport(V);var B=b.getTypeOf(G);return U[B][V](G)},b.resolve=function(V){for(var G=V.split("/"),B=[],T=0;T<G.length;T++){var D=G[T];D==="."||D===""&&T!==0&&T!==G.length-1||(D===".."?B.pop():B.push(D))}return B.join("/")},b.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":g.nodebuffer&&y.isBuffer(V)?"nodebuffer":g.uint8array&&V instanceof Uint8Array?"uint8array":g.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(V){if(!g[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(V){var G,B,T="";for(B=0;B<(V||"").length;B++)T+="\\x"+((G=V.charCodeAt(B))<16?"0":"")+G.toString(16).toUpperCase();return T},b.delay=function(V,G,B){d((function(){V.apply(B||null,G||[])}))},b.inherits=function(V,G){function B(){}B.prototype=G.prototype,V.prototype=new B},b.extend=function(){var V,G,B={};for(V=0;V<arguments.length;V++)for(G in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],G)&&B[G]===void 0&&(B[G]=arguments[V][G]);return B},b.prepareContent=function(V,G,B,T,D){return N.Promise.resolve(G).then((function(A){return g.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new N.Promise((function(k,S){var j=new FileReader;j.onload=function(C){k(C.target.result)},j.onerror=function(C){S(C.target.error)},j.readAsArrayBuffer(A)})):A})).then((function(A){var k=b.getTypeOf(A);return k?(k==="arraybuffer"?A=b.transformTo("uint8array",A):k==="string"&&(D?A=v.decode(A):B&&T!==!0&&(A=(function(S){return I(S,g.uint8array?new Uint8Array(S.length):new Array(S.length))})(A))),A):N.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,x,b){var g=u("./reader/readerFor"),v=u("./utils"),y=u("./signature"),N=u("./zipEntry"),E=u("./support");function I(O){this.files=[],this.loadOptions=O}I.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty($)+", expected "+v.pretty(O)+")")}},isSignature:function(O,$){var z=this.reader.index;this.reader.setIndex(O);var U=this.reader.readString(4)===$;return this.reader.setIndex(z),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),$=E.uint8array?"uint8array":"array",z=v.transformTo($,O);this.zipComment=this.loadOptions.decodeFileName(z)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,$,z,U=this.zip64EndOfCentralSize-44;0<U;)O=this.reader.readInt(2),$=this.reader.readInt(4),z=this.reader.readData($),this.zip64ExtensibleData[O]={id:O,length:$,value:z}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,$;for(O=0;O<this.files.length;O++)$=this.files[O],this.reader.setIndex($.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(O=new N({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var $=O;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var z=this.centralDirOffset+this.centralDirSize;this.zip64&&(z+=20,z+=12+this.zip64EndOfCentralSize);var U=$-z;if(0<U)this.isSignature($,y.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(O){this.reader=g(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},x.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,x,b){var g=u("./reader/readerFor"),v=u("./utils"),y=u("./compressedObject"),N=u("./crc32"),E=u("./utf8"),I=u("./compressions"),O=u("./support");function $(z,U){this.options=z,this.loadOptions=U}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(z){var U,V;if(z.skip(22),this.fileNameLength=z.readInt(2),V=z.readInt(2),this.fileName=z.readData(this.fileNameLength),z.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=(function(G){for(var B in I)if(Object.prototype.hasOwnProperty.call(I,B)&&I[B].magic===G)return I[B];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,U,z.readData(this.compressedSize))},readCentralPart:function(z){this.versionMadeBy=z.readInt(2),z.skip(2),this.bitFlag=z.readInt(2),this.compressionMethod=z.readString(2),this.date=z.readDate(),this.crc32=z.readInt(4),this.compressedSize=z.readInt(4),this.uncompressedSize=z.readInt(4);var U=z.readInt(2);if(this.extraFieldsLength=z.readInt(2),this.fileCommentLength=z.readInt(2),this.diskNumberStart=z.readInt(2),this.internalFileAttributes=z.readInt(2),this.externalFileAttributes=z.readInt(4),this.localHeaderOffset=z.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");z.skip(U),this.readExtraFields(z),this.parseZIP64ExtraField(z),this.fileComment=z.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var z=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),z==0&&(this.dosPermissions=63&this.externalFileAttributes),z==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var z=g(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=z.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=z.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=z.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=z.readInt(4))}},readExtraFields:function(z){var U,V,G,B=z.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});z.index+4<B;)U=z.readInt(2),V=z.readInt(2),G=z.readData(V),this.extraFields[U]={id:U,length:V,value:G};z.setIndex(B)},handleUTF8:function(){var z=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var V=v.transformTo(z,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var G=this.findExtraFieldUnicodeComment();if(G!==null)this.fileCommentStr=G;else{var B=v.transformTo(z,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var z=this.extraFields[28789];if(z){var U=g(z.value);return U.readInt(1)!==1||N(this.fileName)!==U.readInt(4)?null:E.utf8decode(U.readData(z.length-5))}return null},findExtraFieldUnicodeComment:function(){var z=this.extraFields[25461];if(z){var U=g(z.value);return U.readInt(1)!==1||N(this.fileComment)!==U.readInt(4)?null:E.utf8decode(U.readData(z.length-5))}return null}},x.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,x,b){function g(U,V,G){this.name=U,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=V,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var v=u("./stream/StreamHelper"),y=u("./stream/DataWorker"),N=u("./utf8"),E=u("./compressedObject"),I=u("./stream/GenericWorker");g.prototype={internalStream:function(U){var V=null,G="string";try{if(!U)throw new Error("No output type specified.");var B=(G=U.toLowerCase())==="string"||G==="text";G!=="binarystring"&&G!=="text"||(G="string"),V=this._decompressWorker();var T=!this._dataBinary;T&&!B&&(V=V.pipe(new N.Utf8EncodeWorker)),!T&&B&&(V=V.pipe(new N.Utf8DecodeWorker))}catch(D){(V=new I("error")).error(D)}return new v(V,G,"")},async:function(U,V){return this.internalStream(U).accumulate(V)},nodeStream:function(U,V){return this.internalStream(U||"nodebuffer").toNodejsStream(V)},_compressWorker:function(U,V){if(this._data instanceof E&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new N.Utf8EncodeWorker)),E.createWorkerFrom(G,U,V)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof I?this._data:new y(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},z=0;z<O.length;z++)g.prototype[O[z]]=$;x.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,x,b){(function(g){var v,y,N=g.MutationObserver||g.WebKitMutationObserver;if(N){var E=0,I=new N(U),O=g.document.createTextNode("");I.observe(O,{characterData:!0}),v=function(){O.data=E=++E%2}}else if(g.setImmediate||g.MessageChannel===void 0)v="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var V=g.document.createElement("script");V.onreadystatechange=function(){U(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},g.document.documentElement.appendChild(V)}:function(){setTimeout(U,0)};else{var $=new g.MessageChannel;$.port1.onmessage=U,v=function(){$.port2.postMessage(0)}}var z=[];function U(){var V,G;y=!0;for(var B=z.length;B;){for(G=z,z=[],V=-1;++V<B;)G[V]();B=z.length}y=!1}x.exports=function(V){z.push(V)!==1||y||v()}}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,x,b){var g=u("immediate");function v(){}var y={},N=["REJECTED"],E=["FULFILLED"],I=["PENDING"];function O(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,B!==v&&V(this,B)}function $(B,T,D){this.promise=B,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function z(B,T,D){g((function(){var A;try{A=T(D)}catch(k){return y.reject(B,k)}A===B?y.reject(B,new TypeError("Cannot resolve promise with itself")):y.resolve(B,A)}))}function U(B){var T=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof T=="function")return function(){T.apply(B,arguments)}}function V(B,T){var D=!1;function A(j){D||(D=!0,y.reject(B,j))}function k(j){D||(D=!0,y.resolve(B,j))}var S=G((function(){T(k,A)}));S.status==="error"&&A(S.value)}function G(B,T){var D={};try{D.value=B(T),D.status="success"}catch(A){D.status="error",D.value=A}return D}(x.exports=O).prototype.finally=function(B){if(typeof B!="function")return this;var T=this.constructor;return this.then((function(D){return T.resolve(B()).then((function(){return D}))}),(function(D){return T.resolve(B()).then((function(){throw D}))}))},O.prototype.catch=function(B){return this.then(null,B)},O.prototype.then=function(B,T){if(typeof B!="function"&&this.state===E||typeof T!="function"&&this.state===N)return this;var D=new this.constructor(v);return this.state!==I?z(D,this.state===E?B:T,this.outcome):this.queue.push(new $(D,B,T)),D},$.prototype.callFulfilled=function(B){y.resolve(this.promise,B)},$.prototype.otherCallFulfilled=function(B){z(this.promise,this.onFulfilled,B)},$.prototype.callRejected=function(B){y.reject(this.promise,B)},$.prototype.otherCallRejected=function(B){z(this.promise,this.onRejected,B)},y.resolve=function(B,T){var D=G(U,T);if(D.status==="error")return y.reject(B,D.value);var A=D.value;if(A)V(B,A);else{B.state=E,B.outcome=T;for(var k=-1,S=B.queue.length;++k<S;)B.queue[k].callFulfilled(T)}return B},y.reject=function(B,T){B.state=N,B.outcome=T;for(var D=-1,A=B.queue.length;++D<A;)B.queue[D].callRejected(T);return B},O.resolve=function(B){return B instanceof this?B:y.resolve(new this(v),B)},O.reject=function(B){var T=new this(v);return y.reject(T,B)},O.all=function(B){var T=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=B.length,A=!1;if(!D)return this.resolve([]);for(var k=new Array(D),S=0,j=-1,C=new this(v);++j<D;)P(B[j],j);return C;function P(R,L){T.resolve(R).then((function(Y){k[L]=Y,++S!==D||A||(A=!0,y.resolve(C,k))}),(function(Y){A||(A=!0,y.reject(C,Y))}))}},O.race=function(B){if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=B.length,D=!1;if(!T)return this.resolve([]);for(var A,k=-1,S=new this(v);++k<T;)A=B[k],this.resolve(A).then((function(j){D||(D=!0,y.resolve(S,j))}),(function(j){D||(D=!0,y.reject(S,j))}));return S}},{immediate:36}],38:[function(u,x,b){var g={};(0,u("./lib/utils/common").assign)(g,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),x.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,x,b){var g=u("./zlib/deflate"),v=u("./utils/common"),y=u("./utils/strings"),N=u("./zlib/messages"),E=u("./zlib/zstream"),I=Object.prototype.toString;function O(z){if(!(this instanceof O))return new O(z);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},z||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var V=g.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(V!==0)throw new Error(N[V]);if(U.header&&g.deflateSetHeader(this.strm,U.header),U.dictionary){var G;if(G=typeof U.dictionary=="string"?y.string2buf(U.dictionary):I.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(V=g.deflateSetDictionary(this.strm,G))!==0)throw new Error(N[V]);this._dict_set=!0}}function $(z,U){var V=new O(U);if(V.push(z,!0),V.err)throw V.msg||N[V.err];return V.result}O.prototype.push=function(z,U){var V,G,B=this.strm,T=this.options.chunkSize;if(this.ended)return!1;G=U===~~U?U:U===!0?4:0,typeof z=="string"?B.input=y.string2buf(z):I.call(z)==="[object ArrayBuffer]"?B.input=new Uint8Array(z):B.input=z,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new v.Buf8(T),B.next_out=0,B.avail_out=T),(V=g.deflate(B,G))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(B.output,B.next_out))):this.onData(v.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&V!==1);return G===4?(V=g.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):G!==2||(this.onEnd(0),!(B.avail_out=0))},O.prototype.onData=function(z){this.chunks.push(z)},O.prototype.onEnd=function(z){z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},b.Deflate=O,b.deflate=$,b.deflateRaw=function(z,U){return(U=U||{}).raw=!0,$(z,U)},b.gzip=function(z,U){return(U=U||{}).gzip=!0,$(z,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,x,b){var g=u("./zlib/inflate"),v=u("./utils/common"),y=u("./utils/strings"),N=u("./zlib/constants"),E=u("./zlib/messages"),I=u("./zlib/zstream"),O=u("./zlib/gzheader"),$=Object.prototype.toString;function z(V){if(!(this instanceof z))return new z(V);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},V||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,G.windowBits===0&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||V&&V.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&(15&G.windowBits)==0&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var B=g.inflateInit2(this.strm,G.windowBits);if(B!==N.Z_OK)throw new Error(E[B]);this.header=new O,g.inflateGetHeader(this.strm,this.header)}function U(V,G){var B=new z(G);if(B.push(V,!0),B.err)throw B.msg||E[B.err];return B.result}z.prototype.push=function(V,G){var B,T,D,A,k,S,j=this.strm,C=this.options.chunkSize,P=this.options.dictionary,R=!1;if(this.ended)return!1;T=G===~~G?G:G===!0?N.Z_FINISH:N.Z_NO_FLUSH,typeof V=="string"?j.input=y.binstring2buf(V):$.call(V)==="[object ArrayBuffer]"?j.input=new Uint8Array(V):j.input=V,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new v.Buf8(C),j.next_out=0,j.avail_out=C),(B=g.inflate(j,N.Z_NO_FLUSH))===N.Z_NEED_DICT&&P&&(S=typeof P=="string"?y.string2buf(P):$.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,B=g.inflateSetDictionary(this.strm,S)),B===N.Z_BUF_ERROR&&R===!0&&(B=N.Z_OK,R=!1),B!==N.Z_STREAM_END&&B!==N.Z_OK)return this.onEnd(B),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&B!==N.Z_STREAM_END&&(j.avail_in!==0||T!==N.Z_FINISH&&T!==N.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=y.utf8border(j.output,j.next_out),A=j.next_out-D,k=y.buf2string(j.output,D),j.next_out=A,j.avail_out=C-A,A&&v.arraySet(j.output,j.output,D,A,0),this.onData(k)):this.onData(v.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(R=!0)}while((0<j.avail_in||j.avail_out===0)&&B!==N.Z_STREAM_END);return B===N.Z_STREAM_END&&(T=N.Z_FINISH),T===N.Z_FINISH?(B=g.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===N.Z_OK):T!==N.Z_SYNC_FLUSH||(this.onEnd(N.Z_OK),!(j.avail_out=0))},z.prototype.onData=function(V){this.chunks.push(V)},z.prototype.onEnd=function(V){V===N.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},b.Inflate=z,b.inflate=U,b.inflateRaw=function(V,G){return(G=G||{}).raw=!0,U(V,G)},b.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,x,b){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(N){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var I=E.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var O in I)I.hasOwnProperty(O)&&(N[O]=I[O])}}return N},b.shrinkBuf=function(N,E){return N.length===E?N:N.subarray?N.subarray(0,E):(N.length=E,N)};var v={arraySet:function(N,E,I,O,$){if(E.subarray&&N.subarray)N.set(E.subarray(I,I+O),$);else for(var z=0;z<O;z++)N[$+z]=E[I+z]},flattenChunks:function(N){var E,I,O,$,z,U;for(E=O=0,I=N.length;E<I;E++)O+=N[E].length;for(U=new Uint8Array(O),E=$=0,I=N.length;E<I;E++)z=N[E],U.set(z,$),$+=z.length;return U}},y={arraySet:function(N,E,I,O,$){for(var z=0;z<O;z++)N[$+z]=E[I+z]},flattenChunks:function(N){return[].concat.apply([],N)}};b.setTyped=function(N){N?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,v)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,y))},b.setTyped(g)},{}],42:[function(u,x,b){var g=u("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var N=new g.Buf8(256),E=0;E<256;E++)N[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function I(O,$){if($<65537&&(O.subarray&&y||!O.subarray&&v))return String.fromCharCode.apply(null,g.shrinkBuf(O,$));for(var z="",U=0;U<$;U++)z+=String.fromCharCode(O[U]);return z}N[254]=N[254]=1,b.string2buf=function(O){var $,z,U,V,G,B=O.length,T=0;for(V=0;V<B;V++)(64512&(z=O.charCodeAt(V)))==55296&&V+1<B&&(64512&(U=O.charCodeAt(V+1)))==56320&&(z=65536+(z-55296<<10)+(U-56320),V++),T+=z<128?1:z<2048?2:z<65536?3:4;for($=new g.Buf8(T),V=G=0;G<T;V++)(64512&(z=O.charCodeAt(V)))==55296&&V+1<B&&(64512&(U=O.charCodeAt(V+1)))==56320&&(z=65536+(z-55296<<10)+(U-56320),V++),z<128?$[G++]=z:(z<2048?$[G++]=192|z>>>6:(z<65536?$[G++]=224|z>>>12:($[G++]=240|z>>>18,$[G++]=128|z>>>12&63),$[G++]=128|z>>>6&63),$[G++]=128|63&z);return $},b.buf2binstring=function(O){return I(O,O.length)},b.binstring2buf=function(O){for(var $=new g.Buf8(O.length),z=0,U=$.length;z<U;z++)$[z]=O.charCodeAt(z);return $},b.buf2string=function(O,$){var z,U,V,G,B=$||O.length,T=new Array(2*B);for(z=U=0;z<B;)if((V=O[z++])<128)T[U++]=V;else if(4<(G=N[V]))T[U++]=65533,z+=G-1;else{for(V&=G===2?31:G===3?15:7;1<G&&z<B;)V=V<<6|63&O[z++],G--;1<G?T[U++]=65533:V<65536?T[U++]=V:(V-=65536,T[U++]=55296|V>>10&1023,T[U++]=56320|1023&V)}return I(T,U)},b.utf8border=function(O,$){var z;for(($=$||O.length)>O.length&&($=O.length),z=$-1;0<=z&&(192&O[z])==128;)z--;return z<0||z===0?$:z+N[O[z]]>$?z:$}},{"./common":41}],43:[function(u,x,b){x.exports=function(g,v,y,N){for(var E=65535&g|0,I=g>>>16&65535|0,O=0;y!==0;){for(y-=O=2e3<y?2e3:y;I=I+(E=E+v[N++]|0)|0,--O;);E%=65521,I%=65521}return E|I<<16|0}},{}],44:[function(u,x,b){x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,x,b){var g=(function(){for(var v,y=[],N=0;N<256;N++){v=N;for(var E=0;E<8;E++)v=1&v?3988292384^v>>>1:v>>>1;y[N]=v}return y})();x.exports=function(v,y,N,E){var I=g,O=E+N;v^=-1;for(var $=E;$<O;$++)v=v>>>8^I[255&(v^y[$])];return-1^v}},{}],46:[function(u,x,b){var g,v=u("../utils/common"),y=u("./trees"),N=u("./adler32"),E=u("./crc32"),I=u("./messages"),O=-2,$=258,z=262,U=113;function V(q,X){return q.msg=I[X],X}function G(q){return(q<<1)-(4<q?9:0)}function B(q){for(var X=q.length;0<=--X;)q[X]=0}function T(q){var X=q.state,F=X.pending;F>q.avail_out&&(F=q.avail_out),F!==0&&(v.arraySet(q.output,X.pending_buf,X.pending_out,F,q.next_out),q.next_out+=F,X.pending_out+=F,q.total_out+=F,q.avail_out-=F,X.pending-=F,X.pending===0&&(X.pending_out=0))}function D(q,X){y._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,X),q.block_start=q.strstart,T(q.strm)}function A(q,X){q.pending_buf[q.pending++]=X}function k(q,X){q.pending_buf[q.pending++]=X>>>8&255,q.pending_buf[q.pending++]=255&X}function S(q,X){var F,M,K=q.max_chain_length,se=q.strstart,oe=q.prev_length,ne=q.nice_match,le=q.strstart>q.w_size-z?q.strstart-(q.w_size-z):0,Se=q.window,je=q.w_mask,ee=q.prev,ce=q.strstart+$,be=Se[se+oe-1],Te=Se[se+oe];q.prev_length>=q.good_match&&(K>>=2),ne>q.lookahead&&(ne=q.lookahead);do if(Se[(F=X)+oe]===Te&&Se[F+oe-1]===be&&Se[F]===Se[se]&&Se[++F]===Se[se+1]){se+=2,F++;do;while(Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&Se[++se]===Se[++F]&&se<ce);if(M=$-(ce-se),se=ce-$,oe<M){if(q.match_start=X,ne<=(oe=M))break;be=Se[se+oe-1],Te=Se[se+oe]}}while((X=ee[X&je])>le&&--K!=0);return oe<=q.lookahead?oe:q.lookahead}function j(q){var X,F,M,K,se,oe,ne,le,Se,je,ee=q.w_size;do{if(K=q.window_size-q.lookahead-q.strstart,q.strstart>=ee+(ee-z)){for(v.arraySet(q.window,q.window,ee,ee,0),q.match_start-=ee,q.strstart-=ee,q.block_start-=ee,X=F=q.hash_size;M=q.head[--X],q.head[X]=ee<=M?M-ee:0,--F;);for(X=F=ee;M=q.prev[--X],q.prev[X]=ee<=M?M-ee:0,--F;);K+=ee}if(q.strm.avail_in===0)break;if(oe=q.strm,ne=q.window,le=q.strstart+q.lookahead,je=void 0,(Se=K)<(je=oe.avail_in)&&(je=Se),F=je===0?0:(oe.avail_in-=je,v.arraySet(ne,oe.input,oe.next_in,je,le),oe.state.wrap===1?oe.adler=N(oe.adler,ne,je,le):oe.state.wrap===2&&(oe.adler=E(oe.adler,ne,je,le)),oe.next_in+=je,oe.total_in+=je,je),q.lookahead+=F,q.lookahead+q.insert>=3)for(se=q.strstart-q.insert,q.ins_h=q.window[se],q.ins_h=(q.ins_h<<q.hash_shift^q.window[se+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[se+3-1])&q.hash_mask,q.prev[se&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=se,se++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<z&&q.strm.avail_in!==0)}function C(q,X){for(var F,M;;){if(q.lookahead<z){if(j(q),q.lookahead<z&&X===0)return 1;if(q.lookahead===0)break}if(F=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,F=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),F!==0&&q.strstart-F<=q.w_size-z&&(q.match_length=S(q,F)),q.match_length>=3)if(M=y._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,F=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else M=y._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(M&&(D(q,!1),q.strm.avail_out===0))return 1}return q.insert=q.strstart<2?q.strstart:2,X===4?(D(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?1:2}function P(q,X){for(var F,M,K;;){if(q.lookahead<z){if(j(q),q.lookahead<z&&X===0)return 1;if(q.lookahead===0)break}if(F=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,F=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,F!==0&&q.prev_length<q.max_lazy_match&&q.strstart-F<=q.w_size-z&&(q.match_length=S(q,F),q.match_length<=5&&(q.strategy===1||q.match_length===3&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(K=q.strstart+q.lookahead-3,M=y._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=K&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,F=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=2,q.strstart++,M&&(D(q,!1),q.strm.avail_out===0))return 1}else if(q.match_available){if((M=y._tr_tally(q,0,q.window[q.strstart-1]))&&D(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(M=y._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,X===4?(D(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?1:2}function R(q,X,F,M,K){this.good_length=q,this.max_lazy=X,this.nice_length=F,this.max_chain=M,this.func=K}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(q){var X;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,(X=q.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?42:U,q.adler=X.wrap===2?0:1,X.last_flush=0,y._tr_init(X),0):V(q,O)}function Z(q){var X=Y(q);return X===0&&(function(F){F.window_size=2*F.w_size,B(F.head),F.max_lazy_match=g[F.level].max_lazy,F.good_match=g[F.level].good_length,F.nice_match=g[F.level].nice_length,F.max_chain_length=g[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=2,F.match_available=0,F.ins_h=0})(q.state),X}function ae(q,X,F,M,K,se){if(!q)return O;var oe=1;if(X===-1&&(X=6),M<0?(oe=0,M=-M):15<M&&(oe=2,M-=16),K<1||9<K||F!==8||M<8||15<M||X<0||9<X||se<0||4<se)return V(q,O);M===8&&(M=9);var ne=new L;return(q.state=ne).strm=q,ne.wrap=oe,ne.gzhead=null,ne.w_bits=M,ne.w_size=1<<ne.w_bits,ne.w_mask=ne.w_size-1,ne.hash_bits=K+7,ne.hash_size=1<<ne.hash_bits,ne.hash_mask=ne.hash_size-1,ne.hash_shift=~~((ne.hash_bits+3-1)/3),ne.window=new v.Buf8(2*ne.w_size),ne.head=new v.Buf16(ne.hash_size),ne.prev=new v.Buf16(ne.w_size),ne.lit_bufsize=1<<K+6,ne.pending_buf_size=4*ne.lit_bufsize,ne.pending_buf=new v.Buf8(ne.pending_buf_size),ne.d_buf=1*ne.lit_bufsize,ne.l_buf=3*ne.lit_bufsize,ne.level=X,ne.strategy=se,ne.method=F,Z(q)}g=[new R(0,0,0,0,(function(q,X){var F=65535;for(F>q.pending_buf_size-5&&(F=q.pending_buf_size-5);;){if(q.lookahead<=1){if(j(q),q.lookahead===0&&X===0)return 1;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var M=q.block_start+F;if((q.strstart===0||q.strstart>=M)&&(q.lookahead=q.strstart-M,q.strstart=M,D(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-z&&(D(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,X===4?(D(q,!0),q.strm.avail_out===0?3:4):(q.strstart>q.block_start&&(D(q,!1),q.strm.avail_out),1)})),new R(4,4,8,4,C),new R(4,5,16,8,C),new R(4,6,32,32,C),new R(4,4,16,16,P),new R(8,16,32,32,P),new R(8,16,128,128,P),new R(8,32,128,256,P),new R(32,128,258,1024,P),new R(32,258,258,4096,P)],b.deflateInit=function(q,X){return ae(q,X,8,15,8,0)},b.deflateInit2=ae,b.deflateReset=Z,b.deflateResetKeep=Y,b.deflateSetHeader=function(q,X){return q&&q.state?q.state.wrap!==2?O:(q.state.gzhead=X,0):O},b.deflate=function(q,X){var F,M,K,se;if(!q||!q.state||5<X||X<0)return q?V(q,O):O;if(M=q.state,!q.output||!q.input&&q.avail_in!==0||M.status===666&&X!==4)return V(q,q.avail_out===0?-5:O);if(M.strm=q,F=M.last_flush,M.last_flush=X,M.status===42)if(M.wrap===2)q.adler=0,A(M,31),A(M,139),A(M,8),M.gzhead?(A(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),A(M,255&M.gzhead.time),A(M,M.gzhead.time>>8&255),A(M,M.gzhead.time>>16&255),A(M,M.gzhead.time>>24&255),A(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),A(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(A(M,255&M.gzhead.extra.length),A(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(q.adler=E(q.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(A(M,0),A(M,0),A(M,0),A(M,0),A(M,0),A(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),A(M,3),M.status=U);else{var oe=8+(M.w_bits-8<<4)<<8;oe|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(oe|=32),oe+=31-oe%31,M.status=U,k(M,oe),M.strstart!==0&&(k(M,q.adler>>>16),k(M,65535&q.adler)),q.adler=1}if(M.status===69)if(M.gzhead.extra){for(K=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),T(q),K=M.pending,M.pending!==M.pending_buf_size));)A(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){K=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),T(q),K=M.pending,M.pending===M.pending_buf_size)){se=1;break}se=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,A(M,se)}while(se!==0);M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),se===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){K=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),T(q),K=M.pending,M.pending===M.pending_buf_size)){se=1;break}se=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,A(M,se)}while(se!==0);M.gzhead.hcrc&&M.pending>K&&(q.adler=E(q.adler,M.pending_buf,M.pending-K,K)),se===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&T(q),M.pending+2<=M.pending_buf_size&&(A(M,255&q.adler),A(M,q.adler>>8&255),q.adler=0,M.status=U)):M.status=U),M.pending!==0){if(T(q),q.avail_out===0)return M.last_flush=-1,0}else if(q.avail_in===0&&G(X)<=G(F)&&X!==4)return V(q,-5);if(M.status===666&&q.avail_in!==0)return V(q,-5);if(q.avail_in!==0||M.lookahead!==0||X!==0&&M.status!==666){var ne=M.strategy===2?(function(le,Se){for(var je;;){if(le.lookahead===0&&(j(le),le.lookahead===0)){if(Se===0)return 1;break}if(le.match_length=0,je=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,je&&(D(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,Se===4?(D(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(D(le,!1),le.strm.avail_out===0)?1:2})(M,X):M.strategy===3?(function(le,Se){for(var je,ee,ce,be,Te=le.window;;){if(le.lookahead<=$){if(j(le),le.lookahead<=$&&Se===0)return 1;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=3&&0<le.strstart&&(ee=Te[ce=le.strstart-1])===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]){be=le.strstart+$;do;while(ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ee===Te[++ce]&&ce<be);le.match_length=$-(be-ce),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=3?(je=y._tr_tally(le,1,le.match_length-3),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(je=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),je&&(D(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,Se===4?(D(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(D(le,!1),le.strm.avail_out===0)?1:2})(M,X):g[M.level].func(M,X);if(ne!==3&&ne!==4||(M.status=666),ne===1||ne===3)return q.avail_out===0&&(M.last_flush=-1),0;if(ne===2&&(X===1?y._tr_align(M):X!==5&&(y._tr_stored_block(M,0,0,!1),X===3&&(B(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),T(q),q.avail_out===0))return M.last_flush=-1,0}return X!==4?0:M.wrap<=0?1:(M.wrap===2?(A(M,255&q.adler),A(M,q.adler>>8&255),A(M,q.adler>>16&255),A(M,q.adler>>24&255),A(M,255&q.total_in),A(M,q.total_in>>8&255),A(M,q.total_in>>16&255),A(M,q.total_in>>24&255)):(k(M,q.adler>>>16),k(M,65535&q.adler)),T(q),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?0:1)},b.deflateEnd=function(q){var X;return q&&q.state?(X=q.state.status)!==42&&X!==69&&X!==73&&X!==91&&X!==103&&X!==U&&X!==666?V(q,O):(q.state=null,X===U?V(q,-3):0):O},b.deflateSetDictionary=function(q,X){var F,M,K,se,oe,ne,le,Se,je=X.length;if(!q||!q.state||(se=(F=q.state).wrap)===2||se===1&&F.status!==42||F.lookahead)return O;for(se===1&&(q.adler=N(q.adler,X,je,0)),F.wrap=0,je>=F.w_size&&(se===0&&(B(F.head),F.strstart=0,F.block_start=0,F.insert=0),Se=new v.Buf8(F.w_size),v.arraySet(Se,X,je-F.w_size,F.w_size,0),X=Se,je=F.w_size),oe=q.avail_in,ne=q.next_in,le=q.input,q.avail_in=je,q.next_in=0,q.input=X,j(F);F.lookahead>=3;){for(M=F.strstart,K=F.lookahead-2;F.ins_h=(F.ins_h<<F.hash_shift^F.window[M+3-1])&F.hash_mask,F.prev[M&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=M,M++,--K;);F.strstart=M,F.lookahead=2,j(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=2,F.match_available=0,q.next_in=ne,q.input=le,q.avail_in=oe,F.wrap=se,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,x,b){x.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,x,b){x.exports=function(g,v){var y,N,E,I,O,$,z,U,V,G,B,T,D,A,k,S,j,C,P,R,L,Y,Z,ae,q;y=g.state,N=g.next_in,ae=g.input,E=N+(g.avail_in-5),I=g.next_out,q=g.output,O=I-(v-g.avail_out),$=I+(g.avail_out-257),z=y.dmax,U=y.wsize,V=y.whave,G=y.wnext,B=y.window,T=y.hold,D=y.bits,A=y.lencode,k=y.distcode,S=(1<<y.lenbits)-1,j=(1<<y.distbits)-1;e:do{D<15&&(T+=ae[N++]<<D,D+=8,T+=ae[N++]<<D,D+=8),C=A[T&S];t:for(;;){if(T>>>=P=C>>>24,D-=P,(P=C>>>16&255)==0)q[I++]=65535&C;else{if(!(16&P)){if((64&P)==0){C=A[(65535&C)+(T&(1<<P)-1)];continue t}if(32&P){y.mode=12;break e}g.msg="invalid literal/length code",y.mode=30;break e}R=65535&C,(P&=15)&&(D<P&&(T+=ae[N++]<<D,D+=8),R+=T&(1<<P)-1,T>>>=P,D-=P),D<15&&(T+=ae[N++]<<D,D+=8,T+=ae[N++]<<D,D+=8),C=k[T&j];r:for(;;){if(T>>>=P=C>>>24,D-=P,!(16&(P=C>>>16&255))){if((64&P)==0){C=k[(65535&C)+(T&(1<<P)-1)];continue r}g.msg="invalid distance code",y.mode=30;break e}if(L=65535&C,D<(P&=15)&&(T+=ae[N++]<<D,(D+=8)<P&&(T+=ae[N++]<<D,D+=8)),z<(L+=T&(1<<P)-1)){g.msg="invalid distance too far back",y.mode=30;break e}if(T>>>=P,D-=P,(P=I-O)<L){if(V<(P=L-P)&&y.sane){g.msg="invalid distance too far back",y.mode=30;break e}if(Z=B,(Y=0)===G){if(Y+=U-P,P<R){for(R-=P;q[I++]=B[Y++],--P;);Y=I-L,Z=q}}else if(G<P){if(Y+=U+G-P,(P-=G)<R){for(R-=P;q[I++]=B[Y++],--P;);if(Y=0,G<R){for(R-=P=G;q[I++]=B[Y++],--P;);Y=I-L,Z=q}}}else if(Y+=G-P,P<R){for(R-=P;q[I++]=B[Y++],--P;);Y=I-L,Z=q}for(;2<R;)q[I++]=Z[Y++],q[I++]=Z[Y++],q[I++]=Z[Y++],R-=3;R&&(q[I++]=Z[Y++],1<R&&(q[I++]=Z[Y++]))}else{for(Y=I-L;q[I++]=q[Y++],q[I++]=q[Y++],q[I++]=q[Y++],2<(R-=3););R&&(q[I++]=q[Y++],1<R&&(q[I++]=q[Y++]))}break}}break}}while(N<E&&I<$);N-=R=D>>3,T&=(1<<(D-=R<<3))-1,g.next_in=N,g.next_out=I,g.avail_in=N<E?E-N+5:5-(N-E),g.avail_out=I<$?$-I+257:257-(I-$),y.hold=T,y.bits=D}},{}],49:[function(u,x,b){var g=u("../utils/common"),v=u("./adler32"),y=u("./crc32"),N=u("./inffast"),E=u("./inftrees"),I=-2;function O(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(S){var j;return S&&S.state?(j=S.state,S.total_in=S.total_out=j.total=0,S.msg="",j.wrap&&(S.adler=1&j.wrap),j.mode=1,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new g.Buf32(852),j.distcode=j.distdyn=new g.Buf32(592),j.sane=1,j.back=-1,0):I}function U(S){var j;return S&&S.state?((j=S.state).wsize=0,j.whave=0,j.wnext=0,z(S)):I}function V(S,j){var C,P;return S&&S.state?(P=S.state,j<0?(C=0,j=-j):(C=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?I:(P.window!==null&&P.wbits!==j&&(P.window=null),P.wrap=C,P.wbits=j,U(S))):I}function G(S,j){var C,P;return S?(P=new $,(S.state=P).window=null,(C=V(S,j))!==0&&(S.state=null),C):I}var B,T,D=!0;function A(S){if(D){var j;for(B=new g.Buf32(512),T=new g.Buf32(32),j=0;j<144;)S.lens[j++]=8;for(;j<256;)S.lens[j++]=9;for(;j<280;)S.lens[j++]=7;for(;j<288;)S.lens[j++]=8;for(E(1,S.lens,0,288,B,0,S.work,{bits:9}),j=0;j<32;)S.lens[j++]=5;E(2,S.lens,0,32,T,0,S.work,{bits:5}),D=!1}S.lencode=B,S.lenbits=9,S.distcode=T,S.distbits=5}function k(S,j,C,P){var R,L=S.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new g.Buf8(L.wsize)),P>=L.wsize?(g.arraySet(L.window,j,C-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(P<(R=L.wsize-L.wnext)&&(R=P),g.arraySet(L.window,j,C-P,R,L.wnext),(P-=R)?(g.arraySet(L.window,j,C-P,P,0),L.wnext=P,L.whave=L.wsize):(L.wnext+=R,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=R))),0}b.inflateReset=U,b.inflateReset2=V,b.inflateResetKeep=z,b.inflateInit=function(S){return G(S,15)},b.inflateInit2=G,b.inflate=function(S,j){var C,P,R,L,Y,Z,ae,q,X,F,M,K,se,oe,ne,le,Se,je,ee,ce,be,Te,Ce,Pe,Be=0,Ge=new g.Buf8(4),st=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return I;(C=S.state).mode===12&&(C.mode=13),Y=S.next_out,R=S.output,ae=S.avail_out,L=S.next_in,P=S.input,Z=S.avail_in,q=C.hold,X=C.bits,F=Z,M=ae,Te=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;X<16;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(2&C.wrap&&q===35615){Ge[C.check=0]=255&q,Ge[1]=q>>>8&255,C.check=y(C.check,Ge,2,0),X=q=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&q)<<8)+(q>>8))%31){S.msg="incorrect header check",C.mode=30;break}if((15&q)!=8){S.msg="unknown compression method",C.mode=30;break}if(X-=4,be=8+(15&(q>>>=4)),C.wbits===0)C.wbits=be;else if(be>C.wbits){S.msg="invalid window size",C.mode=30;break}C.dmax=1<<be,S.adler=C.check=1,C.mode=512&q?10:12,X=q=0;break;case 2:for(;X<16;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(C.flags=q,(255&C.flags)!=8){S.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){S.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=q>>8&1),512&C.flags&&(Ge[0]=255&q,Ge[1]=q>>>8&255,C.check=y(C.check,Ge,2,0)),X=q=0,C.mode=3;case 3:for(;X<32;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.head&&(C.head.time=q),512&C.flags&&(Ge[0]=255&q,Ge[1]=q>>>8&255,Ge[2]=q>>>16&255,Ge[3]=q>>>24&255,C.check=y(C.check,Ge,4,0)),X=q=0,C.mode=4;case 4:for(;X<16;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.head&&(C.head.xflags=255&q,C.head.os=q>>8),512&C.flags&&(Ge[0]=255&q,Ge[1]=q>>>8&255,C.check=y(C.check,Ge,2,0)),X=q=0,C.mode=5;case 5:if(1024&C.flags){for(;X<16;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.length=q,C.head&&(C.head.extra_len=q),512&C.flags&&(Ge[0]=255&q,Ge[1]=q>>>8&255,C.check=y(C.check,Ge,2,0)),X=q=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(Z<(K=C.length)&&(K=Z),K&&(C.head&&(be=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),g.arraySet(C.head.extra,P,L,K,be)),512&C.flags&&(C.check=y(C.check,P,K,L)),Z-=K,L+=K,C.length-=K),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(Z===0)break e;for(K=0;be=P[L+K++],C.head&&be&&C.length<65536&&(C.head.name+=String.fromCharCode(be)),be&&K<Z;);if(512&C.flags&&(C.check=y(C.check,P,K,L)),Z-=K,L+=K,be)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(Z===0)break e;for(K=0;be=P[L+K++],C.head&&be&&C.length<65536&&(C.head.comment+=String.fromCharCode(be)),be&&K<Z;);if(512&C.flags&&(C.check=y(C.check,P,K,L)),Z-=K,L+=K,be)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;X<16;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(q!==(65535&C.check)){S.msg="header crc mismatch",C.mode=30;break}X=q=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),S.adler=C.check=0,C.mode=12;break;case 10:for(;X<32;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}S.adler=C.check=O(q),X=q=0,C.mode=11;case 11:if(C.havedict===0)return S.next_out=Y,S.avail_out=ae,S.next_in=L,S.avail_in=Z,C.hold=q,C.bits=X,2;S.adler=C.check=1,C.mode=12;case 12:if(j===5||j===6)break e;case 13:if(C.last){q>>>=7&X,X-=7&X,C.mode=27;break}for(;X<3;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}switch(C.last=1&q,X-=1,3&(q>>>=1)){case 0:C.mode=14;break;case 1:if(A(C),C.mode=20,j!==6)break;q>>>=2,X-=2;break e;case 2:C.mode=17;break;case 3:S.msg="invalid block type",C.mode=30}q>>>=2,X-=2;break;case 14:for(q>>>=7&X,X-=7&X;X<32;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if((65535&q)!=(q>>>16^65535)){S.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&q,X=q=0,C.mode=15,j===6)break e;case 15:C.mode=16;case 16:if(K=C.length){if(Z<K&&(K=Z),ae<K&&(K=ae),K===0)break e;g.arraySet(R,P,L,K,Y),Z-=K,L+=K,ae-=K,Y+=K,C.length-=K;break}C.mode=12;break;case 17:for(;X<14;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(C.nlen=257+(31&q),q>>>=5,X-=5,C.ndist=1+(31&q),q>>>=5,X-=5,C.ncode=4+(15&q),q>>>=4,X-=4,286<C.nlen||30<C.ndist){S.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;X<3;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.lens[st[C.have++]]=7&q,q>>>=3,X-=3}for(;C.have<19;)C.lens[st[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,Ce={bits:C.lenbits},Te=E(0,C.lens,0,19,C.lencode,0,C.work,Ce),C.lenbits=Ce.bits,Te){S.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;le=(Be=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,Se=65535&Be,!((ne=Be>>>24)<=X);){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(Se<16)q>>>=ne,X-=ne,C.lens[C.have++]=Se;else{if(Se===16){for(Pe=ne+2;X<Pe;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(q>>>=ne,X-=ne,C.have===0){S.msg="invalid bit length repeat",C.mode=30;break}be=C.lens[C.have-1],K=3+(3&q),q>>>=2,X-=2}else if(Se===17){for(Pe=ne+3;X<Pe;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}X-=ne,be=0,K=3+(7&(q>>>=ne)),q>>>=3,X-=3}else{for(Pe=ne+7;X<Pe;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}X-=ne,be=0,K=11+(127&(q>>>=ne)),q>>>=7,X-=7}if(C.have+K>C.nlen+C.ndist){S.msg="invalid bit length repeat",C.mode=30;break}for(;K--;)C.lens[C.have++]=be}}if(C.mode===30)break;if(C.lens[256]===0){S.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,Ce={bits:C.lenbits},Te=E(1,C.lens,0,C.nlen,C.lencode,0,C.work,Ce),C.lenbits=Ce.bits,Te){S.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,Ce={bits:C.distbits},Te=E(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,Ce),C.distbits=Ce.bits,Te){S.msg="invalid distances set",C.mode=30;break}if(C.mode=20,j===6)break e;case 20:C.mode=21;case 21:if(6<=Z&&258<=ae){S.next_out=Y,S.avail_out=ae,S.next_in=L,S.avail_in=Z,C.hold=q,C.bits=X,N(S,M),Y=S.next_out,R=S.output,ae=S.avail_out,L=S.next_in,P=S.input,Z=S.avail_in,q=C.hold,X=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;le=(Be=C.lencode[q&(1<<C.lenbits)-1])>>>16&255,Se=65535&Be,!((ne=Be>>>24)<=X);){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(le&&(240&le)==0){for(je=ne,ee=le,ce=Se;le=(Be=C.lencode[ce+((q&(1<<je+ee)-1)>>je)])>>>16&255,Se=65535&Be,!(je+(ne=Be>>>24)<=X);){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}q>>>=je,X-=je,C.back+=je}if(q>>>=ne,X-=ne,C.back+=ne,C.length=Se,le===0){C.mode=26;break}if(32&le){C.back=-1,C.mode=12;break}if(64&le){S.msg="invalid literal/length code",C.mode=30;break}C.extra=15&le,C.mode=22;case 22:if(C.extra){for(Pe=C.extra;X<Pe;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.length+=q&(1<<C.extra)-1,q>>>=C.extra,X-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;le=(Be=C.distcode[q&(1<<C.distbits)-1])>>>16&255,Se=65535&Be,!((ne=Be>>>24)<=X);){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if((240&le)==0){for(je=ne,ee=le,ce=Se;le=(Be=C.distcode[ce+((q&(1<<je+ee)-1)>>je)])>>>16&255,Se=65535&Be,!(je+(ne=Be>>>24)<=X);){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}q>>>=je,X-=je,C.back+=je}if(q>>>=ne,X-=ne,C.back+=ne,64&le){S.msg="invalid distance code",C.mode=30;break}C.offset=Se,C.extra=15&le,C.mode=24;case 24:if(C.extra){for(Pe=C.extra;X<Pe;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}C.offset+=q&(1<<C.extra)-1,q>>>=C.extra,X-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){S.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ae===0)break e;if(K=M-ae,C.offset>K){if((K=C.offset-K)>C.whave&&C.sane){S.msg="invalid distance too far back",C.mode=30;break}se=K>C.wnext?(K-=C.wnext,C.wsize-K):C.wnext-K,K>C.length&&(K=C.length),oe=C.window}else oe=R,se=Y-C.offset,K=C.length;for(ae<K&&(K=ae),ae-=K,C.length-=K;R[Y++]=oe[se++],--K;);C.length===0&&(C.mode=21);break;case 26:if(ae===0)break e;R[Y++]=C.length,ae--,C.mode=21;break;case 27:if(C.wrap){for(;X<32;){if(Z===0)break e;Z--,q|=P[L++]<<X,X+=8}if(M-=ae,S.total_out+=M,C.total+=M,M&&(S.adler=C.check=C.flags?y(C.check,R,M,Y-M):v(C.check,R,M,Y-M)),M=ae,(C.flags?q:O(q))!==C.check){S.msg="incorrect data check",C.mode=30;break}X=q=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;X<32;){if(Z===0)break e;Z--,q+=P[L++]<<X,X+=8}if(q!==(4294967295&C.total)){S.msg="incorrect length check",C.mode=30;break}X=q=0}C.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return I}return S.next_out=Y,S.avail_out=ae,S.next_in=L,S.avail_in=Z,C.hold=q,C.bits=X,(C.wsize||M!==S.avail_out&&C.mode<30&&(C.mode<27||j!==4))&&k(S,S.output,S.next_out,M-S.avail_out)?(C.mode=31,-4):(F-=S.avail_in,M-=S.avail_out,S.total_in+=F,S.total_out+=M,C.total+=M,C.wrap&&M&&(S.adler=C.check=C.flags?y(C.check,R,M,S.next_out-M):v(C.check,R,M,S.next_out-M)),S.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(F==0&&M===0||j===4)&&Te===0&&(Te=-5),Te)},b.inflateEnd=function(S){if(!S||!S.state)return I;var j=S.state;return j.window&&(j.window=null),S.state=null,0},b.inflateGetHeader=function(S,j){var C;return S&&S.state?(2&(C=S.state).wrap)==0?I:((C.head=j).done=!1,0):I},b.inflateSetDictionary=function(S,j){var C,P=j.length;return S&&S.state?(C=S.state).wrap!==0&&C.mode!==11?I:C.mode===11&&v(1,j,P,0)!==C.check?-3:k(S,j,P,P)?(C.mode=31,-4):(C.havedict=1,0):I},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,x,b){var g=u("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(I,O,$,z,U,V,G,B){var T,D,A,k,S,j,C,P,R,L=B.bits,Y=0,Z=0,ae=0,q=0,X=0,F=0,M=0,K=0,se=0,oe=0,ne=null,le=0,Se=new g.Buf16(16),je=new g.Buf16(16),ee=null,ce=0;for(Y=0;Y<=15;Y++)Se[Y]=0;for(Z=0;Z<z;Z++)Se[O[$+Z]]++;for(X=L,q=15;1<=q&&Se[q]===0;q--);if(q<X&&(X=q),q===0)return U[V++]=20971520,U[V++]=20971520,B.bits=1,0;for(ae=1;ae<q&&Se[ae]===0;ae++);for(X<ae&&(X=ae),Y=K=1;Y<=15;Y++)if(K<<=1,(K-=Se[Y])<0)return-1;if(0<K&&(I===0||q!==1))return-1;for(je[1]=0,Y=1;Y<15;Y++)je[Y+1]=je[Y]+Se[Y];for(Z=0;Z<z;Z++)O[$+Z]!==0&&(G[je[O[$+Z]]++]=Z);if(j=I===0?(ne=ee=G,19):I===1?(ne=v,le-=257,ee=y,ce-=257,256):(ne=N,ee=E,-1),Y=ae,S=V,M=Z=oe=0,A=-1,k=(se=1<<(F=X))-1,I===1&&852<se||I===2&&592<se)return 1;for(;;){for(C=Y-M,R=G[Z]<j?(P=0,G[Z]):G[Z]>j?(P=ee[ce+G[Z]],ne[le+G[Z]]):(P=96,0),T=1<<Y-M,ae=D=1<<F;U[S+(oe>>M)+(D-=T)]=C<<24|P<<16|R|0,D!==0;);for(T=1<<Y-1;oe&T;)T>>=1;if(T!==0?(oe&=T-1,oe+=T):oe=0,Z++,--Se[Y]==0){if(Y===q)break;Y=O[$+G[Z]]}if(X<Y&&(oe&k)!==A){for(M===0&&(M=X),S+=ae,K=1<<(F=Y-M);F+M<q&&!((K-=Se[F+M])<=0);)F++,K<<=1;if(se+=1<<F,I===1&&852<se||I===2&&592<se)return 1;U[A=oe&k]=X<<24|F<<16|S-V|0}}return oe!==0&&(U[S+oe]=Y-M<<24|64<<16|0),B.bits=X,0}},{"../utils/common":41}],51:[function(u,x,b){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,x,b){var g=u("../utils/common");function v(ee){for(var ce=ee.length;0<=--ce;)ee[ce]=0}var y=256,N=286,E=30,I=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);v(V);var G=new Array(60);v(G);var B=new Array(512);v(B);var T=new Array(256);v(T);var D=new Array(29);v(D);var A,k,S,j=new Array(E);function C(ee,ce,be,Te,Ce){this.static_tree=ee,this.extra_bits=ce,this.extra_base=be,this.elems=Te,this.max_length=Ce,this.has_stree=ee&&ee.length}function P(ee,ce){this.dyn_tree=ee,this.max_code=0,this.stat_desc=ce}function R(ee){return ee<256?B[ee]:B[256+(ee>>>7)]}function L(ee,ce){ee.pending_buf[ee.pending++]=255&ce,ee.pending_buf[ee.pending++]=ce>>>8&255}function Y(ee,ce,be){ee.bi_valid>16-be?(ee.bi_buf|=ce<<ee.bi_valid&65535,L(ee,ee.bi_buf),ee.bi_buf=ce>>16-ee.bi_valid,ee.bi_valid+=be-16):(ee.bi_buf|=ce<<ee.bi_valid&65535,ee.bi_valid+=be)}function Z(ee,ce,be){Y(ee,be[2*ce],be[2*ce+1])}function ae(ee,ce){for(var be=0;be|=1&ee,ee>>>=1,be<<=1,0<--ce;);return be>>>1}function q(ee,ce,be){var Te,Ce,Pe=new Array(16),Be=0;for(Te=1;Te<=I;Te++)Pe[Te]=Be=Be+be[Te-1]<<1;for(Ce=0;Ce<=ce;Ce++){var Ge=ee[2*Ce+1];Ge!==0&&(ee[2*Ce]=ae(Pe[Ge]++,Ge))}}function X(ee){var ce;for(ce=0;ce<N;ce++)ee.dyn_ltree[2*ce]=0;for(ce=0;ce<E;ce++)ee.dyn_dtree[2*ce]=0;for(ce=0;ce<19;ce++)ee.bl_tree[2*ce]=0;ee.dyn_ltree[512]=1,ee.opt_len=ee.static_len=0,ee.last_lit=ee.matches=0}function F(ee){8<ee.bi_valid?L(ee,ee.bi_buf):0<ee.bi_valid&&(ee.pending_buf[ee.pending++]=ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0}function M(ee,ce,be,Te){var Ce=2*ce,Pe=2*be;return ee[Ce]<ee[Pe]||ee[Ce]===ee[Pe]&&Te[ce]<=Te[be]}function K(ee,ce,be){for(var Te=ee.heap[be],Ce=be<<1;Ce<=ee.heap_len&&(Ce<ee.heap_len&&M(ce,ee.heap[Ce+1],ee.heap[Ce],ee.depth)&&Ce++,!M(ce,Te,ee.heap[Ce],ee.depth));)ee.heap[be]=ee.heap[Ce],be=Ce,Ce<<=1;ee.heap[be]=Te}function se(ee,ce,be){var Te,Ce,Pe,Be,Ge=0;if(ee.last_lit!==0)for(;Te=ee.pending_buf[ee.d_buf+2*Ge]<<8|ee.pending_buf[ee.d_buf+2*Ge+1],Ce=ee.pending_buf[ee.l_buf+Ge],Ge++,Te===0?Z(ee,Ce,ce):(Z(ee,(Pe=T[Ce])+y+1,ce),(Be=O[Pe])!==0&&Y(ee,Ce-=D[Pe],Be),Z(ee,Pe=R(--Te),be),(Be=$[Pe])!==0&&Y(ee,Te-=j[Pe],Be)),Ge<ee.last_lit;);Z(ee,256,ce)}function oe(ee,ce){var be,Te,Ce,Pe=ce.dyn_tree,Be=ce.stat_desc.static_tree,Ge=ce.stat_desc.has_stree,st=ce.stat_desc.elems,bt=-1;for(ee.heap_len=0,ee.heap_max=573,be=0;be<st;be++)Pe[2*be]!==0?(ee.heap[++ee.heap_len]=bt=be,ee.depth[be]=0):Pe[2*be+1]=0;for(;ee.heap_len<2;)Pe[2*(Ce=ee.heap[++ee.heap_len]=bt<2?++bt:0)]=1,ee.depth[Ce]=0,ee.opt_len--,Ge&&(ee.static_len-=Be[2*Ce+1]);for(ce.max_code=bt,be=ee.heap_len>>1;1<=be;be--)K(ee,Pe,be);for(Ce=st;be=ee.heap[1],ee.heap[1]=ee.heap[ee.heap_len--],K(ee,Pe,1),Te=ee.heap[1],ee.heap[--ee.heap_max]=be,ee.heap[--ee.heap_max]=Te,Pe[2*Ce]=Pe[2*be]+Pe[2*Te],ee.depth[Ce]=(ee.depth[be]>=ee.depth[Te]?ee.depth[be]:ee.depth[Te])+1,Pe[2*be+1]=Pe[2*Te+1]=Ce,ee.heap[1]=Ce++,K(ee,Pe,1),2<=ee.heap_len;);ee.heap[--ee.heap_max]=ee.heap[1],(function(_e,We){var vt,At,Nt,De,ge,Oe,Ke=We.dyn_tree,pe=We.max_code,me=We.stat_desc.static_tree,xe=We.stat_desc.has_stree,te=We.stat_desc.extra_bits,we=We.stat_desc.extra_base,Ue=We.stat_desc.max_length,et=0;for(De=0;De<=I;De++)_e.bl_count[De]=0;for(Ke[2*_e.heap[_e.heap_max]+1]=0,vt=_e.heap_max+1;vt<573;vt++)Ue<(De=Ke[2*Ke[2*(At=_e.heap[vt])+1]+1]+1)&&(De=Ue,et++),Ke[2*At+1]=De,pe<At||(_e.bl_count[De]++,ge=0,we<=At&&(ge=te[At-we]),Oe=Ke[2*At],_e.opt_len+=Oe*(De+ge),xe&&(_e.static_len+=Oe*(me[2*At+1]+ge)));if(et!==0){do{for(De=Ue-1;_e.bl_count[De]===0;)De--;_e.bl_count[De]--,_e.bl_count[De+1]+=2,_e.bl_count[Ue]--,et-=2}while(0<et);for(De=Ue;De!==0;De--)for(At=_e.bl_count[De];At!==0;)pe<(Nt=_e.heap[--vt])||(Ke[2*Nt+1]!==De&&(_e.opt_len+=(De-Ke[2*Nt+1])*Ke[2*Nt],Ke[2*Nt+1]=De),At--)}})(ee,ce),q(Pe,bt,ee.bl_count)}function ne(ee,ce,be){var Te,Ce,Pe=-1,Be=ce[1],Ge=0,st=7,bt=4;for(Be===0&&(st=138,bt=3),ce[2*(be+1)+1]=65535,Te=0;Te<=be;Te++)Ce=Be,Be=ce[2*(Te+1)+1],++Ge<st&&Ce===Be||(Ge<bt?ee.bl_tree[2*Ce]+=Ge:Ce!==0?(Ce!==Pe&&ee.bl_tree[2*Ce]++,ee.bl_tree[32]++):Ge<=10?ee.bl_tree[34]++:ee.bl_tree[36]++,Pe=Ce,bt=(Ge=0)===Be?(st=138,3):Ce===Be?(st=6,3):(st=7,4))}function le(ee,ce,be){var Te,Ce,Pe=-1,Be=ce[1],Ge=0,st=7,bt=4;for(Be===0&&(st=138,bt=3),Te=0;Te<=be;Te++)if(Ce=Be,Be=ce[2*(Te+1)+1],!(++Ge<st&&Ce===Be)){if(Ge<bt)for(;Z(ee,Ce,ee.bl_tree),--Ge!=0;);else Ce!==0?(Ce!==Pe&&(Z(ee,Ce,ee.bl_tree),Ge--),Z(ee,16,ee.bl_tree),Y(ee,Ge-3,2)):Ge<=10?(Z(ee,17,ee.bl_tree),Y(ee,Ge-3,3)):(Z(ee,18,ee.bl_tree),Y(ee,Ge-11,7));Pe=Ce,bt=(Ge=0)===Be?(st=138,3):Ce===Be?(st=6,3):(st=7,4)}}v(j);var Se=!1;function je(ee,ce,be,Te){Y(ee,0+(Te?1:0),3),(function(Ce,Pe,Be,Ge){F(Ce),L(Ce,Be),L(Ce,~Be),g.arraySet(Ce.pending_buf,Ce.window,Pe,Be,Ce.pending),Ce.pending+=Be})(ee,ce,be)}b._tr_init=function(ee){Se||((function(){var ce,be,Te,Ce,Pe,Be=new Array(16);for(Ce=Te=0;Ce<28;Ce++)for(D[Ce]=Te,ce=0;ce<1<<O[Ce];ce++)T[Te++]=Ce;for(T[Te-1]=Ce,Ce=Pe=0;Ce<16;Ce++)for(j[Ce]=Pe,ce=0;ce<1<<$[Ce];ce++)B[Pe++]=Ce;for(Pe>>=7;Ce<E;Ce++)for(j[Ce]=Pe<<7,ce=0;ce<1<<$[Ce]-7;ce++)B[256+Pe++]=Ce;for(be=0;be<=I;be++)Be[be]=0;for(ce=0;ce<=143;)V[2*ce+1]=8,ce++,Be[8]++;for(;ce<=255;)V[2*ce+1]=9,ce++,Be[9]++;for(;ce<=279;)V[2*ce+1]=7,ce++,Be[7]++;for(;ce<=287;)V[2*ce+1]=8,ce++,Be[8]++;for(q(V,287,Be),ce=0;ce<E;ce++)G[2*ce+1]=5,G[2*ce]=ae(ce,5);A=new C(V,O,257,N,I),k=new C(G,$,0,E,I),S=new C(new Array(0),z,0,19,7)})(),Se=!0),ee.l_desc=new P(ee.dyn_ltree,A),ee.d_desc=new P(ee.dyn_dtree,k),ee.bl_desc=new P(ee.bl_tree,S),ee.bi_buf=0,ee.bi_valid=0,X(ee)},b._tr_stored_block=je,b._tr_flush_block=function(ee,ce,be,Te){var Ce,Pe,Be=0;0<ee.level?(ee.strm.data_type===2&&(ee.strm.data_type=(function(Ge){var st,bt=4093624447;for(st=0;st<=31;st++,bt>>>=1)if(1&bt&&Ge.dyn_ltree[2*st]!==0)return 0;if(Ge.dyn_ltree[18]!==0||Ge.dyn_ltree[20]!==0||Ge.dyn_ltree[26]!==0)return 1;for(st=32;st<y;st++)if(Ge.dyn_ltree[2*st]!==0)return 1;return 0})(ee)),oe(ee,ee.l_desc),oe(ee,ee.d_desc),Be=(function(Ge){var st;for(ne(Ge,Ge.dyn_ltree,Ge.l_desc.max_code),ne(Ge,Ge.dyn_dtree,Ge.d_desc.max_code),oe(Ge,Ge.bl_desc),st=18;3<=st&&Ge.bl_tree[2*U[st]+1]===0;st--);return Ge.opt_len+=3*(st+1)+5+5+4,st})(ee),Ce=ee.opt_len+3+7>>>3,(Pe=ee.static_len+3+7>>>3)<=Ce&&(Ce=Pe)):Ce=Pe=be+5,be+4<=Ce&&ce!==-1?je(ee,ce,be,Te):ee.strategy===4||Pe===Ce?(Y(ee,2+(Te?1:0),3),se(ee,V,G)):(Y(ee,4+(Te?1:0),3),(function(Ge,st,bt,_e){var We;for(Y(Ge,st-257,5),Y(Ge,bt-1,5),Y(Ge,_e-4,4),We=0;We<_e;We++)Y(Ge,Ge.bl_tree[2*U[We]+1],3);le(Ge,Ge.dyn_ltree,st-1),le(Ge,Ge.dyn_dtree,bt-1)})(ee,ee.l_desc.max_code+1,ee.d_desc.max_code+1,Be+1),se(ee,ee.dyn_ltree,ee.dyn_dtree)),X(ee),Te&&F(ee)},b._tr_tally=function(ee,ce,be){return ee.pending_buf[ee.d_buf+2*ee.last_lit]=ce>>>8&255,ee.pending_buf[ee.d_buf+2*ee.last_lit+1]=255&ce,ee.pending_buf[ee.l_buf+ee.last_lit]=255&be,ee.last_lit++,ce===0?ee.dyn_ltree[2*be]++:(ee.matches++,ce--,ee.dyn_ltree[2*(T[be]+y+1)]++,ee.dyn_dtree[2*R(ce)]++),ee.last_lit===ee.lit_bufsize-1},b._tr_align=function(ee){Y(ee,2,3),Z(ee,256,V),(function(ce){ce.bi_valid===16?(L(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)})(ee)}},{"../utils/common":41}],53:[function(u,x,b){x.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,x,b){(function(g){(function(v,y){if(!v.setImmediate){var N,E,I,O,$=1,z={},U=!1,V=v.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(v);G=G&&G.setTimeout?G:v,N={}.toString.call(v.process)==="[object process]"?function(A){c.nextTick((function(){T(A)}))}:(function(){if(v.postMessage&&!v.importScripts){var A=!0,k=v.onmessage;return v.onmessage=function(){A=!1},v.postMessage("","*"),v.onmessage=k,A}})()?(O="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",D,!1):v.attachEvent("onmessage",D),function(A){v.postMessage(O+A,"*")}):v.MessageChannel?((I=new MessageChannel).port1.onmessage=function(A){T(A.data)},function(A){I.port2.postMessage(A)}):V&&"onreadystatechange"in V.createElement("script")?(E=V.documentElement,function(A){var k=V.createElement("script");k.onreadystatechange=function(){T(A),k.onreadystatechange=null,E.removeChild(k),k=null},E.appendChild(k)}):function(A){setTimeout(T,0,A)},G.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var k=new Array(arguments.length-1),S=0;S<k.length;S++)k[S]=arguments[S+1];var j={callback:A,args:k};return z[$]=j,N($),$++},G.clearImmediate=B}function B(A){delete z[A]}function T(A){if(U)setTimeout(T,0,A);else{var k=z[A];if(k){U=!0;try{(function(S){var j=S.callback,C=S.args;switch(C.length){case 0:j();break;case 1:j(C[0]);break;case 2:j(C[0],C[1]);break;case 3:j(C[0],C[1],C[2]);break;default:j.apply(void 0,C)}})(k)}finally{B(A),U=!1}}}}function D(A){A.source===v&&typeof A.data=="string"&&A.data.indexOf(O)===0&&T(+A.data.slice(O.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,n!==void 0?n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,h,f){(function(c){(function(){var n=/[\\^$.*+?()[\]{}|]/g,o=RegExp(n.source),i=typeof c=="object"&&c&&c.Object===Object&&c,r=typeof self=="object"&&self&&self.Object===Object&&self,s=i||r||Function("return this")(),l=Object.prototype.toString,d=s.Symbol,u=d?d.prototype:void 0,x=u?u.toString:void 0;function b(g){if(typeof g=="string")return g;if((function(y){return typeof y=="symbol"||(function(N){return!!N&&typeof N=="object"})(y)&&l.call(y)=="[object Symbol]"})(g))return x?x.call(g):"";var v=g+"";return v=="0"&&1/g==-1/0?"-0":v}h.exports=function(g){var v;return(g=(v=g)==null?"":b(v))&&o.test(g)?g.replace(n,"\\$&"):g}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,h,f){(function(c){(function(){var n="[object Arguments]",o="[object Map]",i="[object Object]",r="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,d=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[n]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[o]=v["[object Number]"]=v[i]=v["[object RegExp]"]=v[r]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof c=="object"&&c&&c.Object===Object&&c,N=typeof self=="object"&&self&&self.Object===Object&&self,E=y||N||Function("return this")(),I=typeof f=="object"&&f&&!f.nodeType&&f,O=I&&typeof h=="object"&&h&&!h.nodeType&&h,$=O&&O.exports===I&&y.process,z=(function(){try{return $&&$.binding("util")}catch{}})(),U=z&&z.isTypedArray;function V(Ne,Ve,lt,kt){for(var Ot=-1,Pt=Ne?Ne.length:0;++Ot<Pt;){var $t=Ne[Ot];Ve(kt,$t,lt($t),Ne)}return kt}function G(Ne,Ve){for(var lt=-1,kt=Ne?Ne.length:0;++lt<kt;)if(Ve(Ne[lt],lt,Ne))return!0;return!1}function B(Ne){var Ve=!1;if(Ne!=null&&typeof Ne.toString!="function")try{Ve=!!(Ne+"")}catch{}return Ve}function T(Ne){var Ve=-1,lt=Array(Ne.size);return Ne.forEach((function(kt,Ot){lt[++Ve]=[Ot,kt]})),lt}function D(Ne){var Ve=-1,lt=Array(Ne.size);return Ne.forEach((function(kt){lt[++Ve]=kt})),lt}var A,k,S,j=Array.prototype,C=Function.prototype,P=Object.prototype,R=E["__core-js_shared__"],L=(A=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",Y=C.toString,Z=P.hasOwnProperty,ae=P.toString,q=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=E.Symbol,F=E.Uint8Array,M=P.propertyIsEnumerable,K=j.splice,se=(k=Object.keys,S=Object,function(Ne){return k(S(Ne))}),oe=ve(E,"DataView"),ne=ve(E,"Map"),le=ve(E,"Promise"),Se=ve(E,"Set"),je=ve(E,"WeakMap"),ee=ve(Object,"create"),ce=Me(oe),be=Me(ne),Te=Me(le),Ce=Me(Se),Pe=Me(je),Be=X?X.prototype:void 0,Ge=Be?Be.valueOf:void 0,st=Be?Be.toString:void 0;function bt(Ne){var Ve=-1,lt=Ne?Ne.length:0;for(this.clear();++Ve<lt;){var kt=Ne[Ve];this.set(kt[0],kt[1])}}function _e(Ne){var Ve=-1,lt=Ne?Ne.length:0;for(this.clear();++Ve<lt;){var kt=Ne[Ve];this.set(kt[0],kt[1])}}function We(Ne){var Ve=-1,lt=Ne?Ne.length:0;for(this.clear();++Ve<lt;){var kt=Ne[Ve];this.set(kt[0],kt[1])}}function vt(Ne){var Ve=-1,lt=Ne?Ne.length:0;for(this.__data__=new We;++Ve<lt;)this.add(Ne[Ve])}function At(Ne){this.__data__=new _e(Ne)}function Nt(Ne,Ve){var lt=zt(Ne)||Kt(Ne)?(function($t,sr){for(var Yt=-1,Lt=Array($t);++Yt<$t;)Lt[Yt]=sr(Yt);return Lt})(Ne.length,String):[],kt=lt.length,Ot=!!kt;for(var Pt in Ne)!Z.call(Ne,Pt)||Ot&&(Pt=="length"||Ye(Pt,kt))||lt.push(Pt);return lt}function De(Ne,Ve){for(var lt=Ne.length;lt--;)if(ft(Ne[lt][0],Ve))return lt;return-1}function ge(Ne,Ve,lt,kt){return Ke(Ne,(function(Ot,Pt,$t){Ve(kt,Ot,lt(Ot),$t)})),kt}bt.prototype.clear=function(){this.__data__=ee?ee(null):{}},bt.prototype.delete=function(Ne){return this.has(Ne)&&delete this.__data__[Ne]},bt.prototype.get=function(Ne){var Ve=this.__data__;if(ee){var lt=Ve[Ne];return lt==="__lodash_hash_undefined__"?void 0:lt}return Z.call(Ve,Ne)?Ve[Ne]:void 0},bt.prototype.has=function(Ne){var Ve=this.__data__;return ee?Ve[Ne]!==void 0:Z.call(Ve,Ne)},bt.prototype.set=function(Ne,Ve){return this.__data__[Ne]=ee&&Ve===void 0?"__lodash_hash_undefined__":Ve,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(Ne){var Ve=this.__data__,lt=De(Ve,Ne);return!(lt<0)&&(lt==Ve.length-1?Ve.pop():K.call(Ve,lt,1),!0)},_e.prototype.get=function(Ne){var Ve=this.__data__,lt=De(Ve,Ne);return lt<0?void 0:Ve[lt][1]},_e.prototype.has=function(Ne){return De(this.__data__,Ne)>-1},_e.prototype.set=function(Ne,Ve){var lt=this.__data__,kt=De(lt,Ne);return kt<0?lt.push([Ne,Ve]):lt[kt][1]=Ve,this},We.prototype.clear=function(){this.__data__={hash:new bt,map:new(ne||_e),string:new bt}},We.prototype.delete=function(Ne){return Ut(this,Ne).delete(Ne)},We.prototype.get=function(Ne){return Ut(this,Ne).get(Ne)},We.prototype.has=function(Ne){return Ut(this,Ne).has(Ne)},We.prototype.set=function(Ne,Ve){return Ut(this,Ne).set(Ne,Ve),this},vt.prototype.add=vt.prototype.push=function(Ne){return this.__data__.set(Ne,"__lodash_hash_undefined__"),this},vt.prototype.has=function(Ne){return this.__data__.has(Ne)},At.prototype.clear=function(){this.__data__=new _e},At.prototype.delete=function(Ne){return this.__data__.delete(Ne)},At.prototype.get=function(Ne){return this.__data__.get(Ne)},At.prototype.has=function(Ne){return this.__data__.has(Ne)},At.prototype.set=function(Ne,Ve){var lt=this.__data__;if(lt instanceof _e){var kt=lt.__data__;if(!ne||kt.length<199)return kt.push([Ne,Ve]),this;lt=this.__data__=new We(kt)}return lt.set(Ne,Ve),this};var Oe,Ke=(Oe=function(Ne,Ve){return Ne&&pe(Ne,Ve,ht)},function(Ne,Ve){if(Ne==null)return Ne;if(!Re(Ne))return Oe(Ne,Ve);for(var lt=Ne.length,kt=-1,Ot=Object(Ne);++kt<lt&&Ve(Ot[kt],kt,Ot)!==!1;);return Ne}),pe=(function(Ne){return function(Ve,lt,kt){for(var Ot=-1,Pt=Object(Ve),$t=kt(Ve),sr=$t.length;sr--;){var Yt=$t[++Ot];if(lt(Pt[Yt],Yt,Pt)===!1)break}return Ve}})();function me(Ne,Ve){for(var lt=0,kt=(Ve=ut(Ve,Ne)?[Ve]:dt(Ve)).length;Ne!=null&&lt<kt;)Ne=Ne[ke(Ve[lt++])];return lt&&lt==kt?Ne:void 0}function xe(Ne,Ve){return Ne!=null&&Ve in Object(Ne)}function te(Ne,Ve,lt,kt,Ot){return Ne===Ve||(Ne==null||Ve==null||!Dt(Ne)&&!_t(Ve)?Ne!=Ne&&Ve!=Ve:(function(Pt,$t,sr,Yt,Lt,Jt){var dr=zt(Pt),hr=zt($t),Fr="[object Array]",pr="[object Array]";dr||(Fr=(Fr=de(Pt))==n?i:Fr),hr||(pr=(pr=de($t))==n?i:pr);var jr=Fr==i&&!B(Pt),as=pr==i&&!B($t),os=Fr==pr;if(os&&!jr)return Jt||(Jt=new At),dr||Ie(Pt)?St(Pt,$t,sr,Yt,Lt,Jt):(function(Rr,Cr,$s,Vn,Li,yr,cs){switch($s){case"[object DataView]":if(Rr.byteLength!=Cr.byteLength||Rr.byteOffset!=Cr.byteOffset)return!1;Rr=Rr.buffer,Cr=Cr.buffer;case"[object ArrayBuffer]":return!(Rr.byteLength!=Cr.byteLength||!Vn(new F(Rr),new F(Cr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ft(+Rr,+Cr);case"[object Error]":return Rr.name==Cr.name&&Rr.message==Cr.message;case"[object RegExp]":case"[object String]":return Rr==Cr+"";case o:var Ir=T;case r:var qn=2&yr;if(Ir||(Ir=D),Rr.size!=Cr.size&&!qn)return!1;var Oi=cs.get(Rr);if(Oi)return Oi==Cr;yr|=1,cs.set(Rr,Cr);var Dn=St(Ir(Rr),Ir(Cr),Vn,Li,yr,cs);return cs.delete(Rr),Dn;case"[object Symbol]":if(Ge)return Ge.call(Rr)==Ge.call(Cr)}return!1})(Pt,$t,Fr,sr,Yt,Lt,Jt);if(!(2&Lt)){var qs=jr&&Z.call(Pt,"__wrapped__"),Un=as&&Z.call($t,"__wrapped__");if(qs||Un){var gs=qs?Pt.value():Pt,As=Un?$t.value():$t;return Jt||(Jt=new At),sr(gs,As,Yt,Lt,Jt)}}return os?(Jt||(Jt=new At),(function(Rr,Cr,$s,Vn,Li,yr){var cs=2&Li,Ir=ht(Rr),qn=Ir.length,Oi=ht(Cr).length;if(qn!=Oi&&!cs)return!1;for(var Dn=qn;Dn--;){var xs=Ir[Dn];if(!(cs?xs in Cr:Z.call(Cr,xs)))return!1}var bi=yr.get(Rr);if(bi&&yr.get(Cr))return bi==Cr;var er=!0;yr.set(Rr,Cr),yr.set(Cr,Rr);for(var Hs=cs;++Dn<qn;){xs=Ir[Dn];var Es=Rr[xs],_r=Cr[xs];if(Vn)var vi=cs?Vn(_r,Es,xs,Cr,Rr,yr):Vn(Es,_r,xs,Rr,Cr,yr);if(!(vi===void 0?Es===_r||$s(Es,_r,Vn,Li,yr):vi)){er=!1;break}Hs||(Hs=xs=="constructor")}if(er&&!Hs){var $n=Rr.constructor,Xs=Cr.constructor;$n==Xs||!("constructor"in Rr)||!("constructor"in Cr)||typeof $n=="function"&&$n instanceof $n&&typeof Xs=="function"&&Xs instanceof Xs||(er=!1)}return yr.delete(Rr),yr.delete(Cr),er})(Pt,$t,sr,Yt,Lt,Jt)):!1})(Ne,Ve,te,lt,kt,Ot))}function we(Ne){return!(!Dt(Ne)||(function(Ve){return!!L&&L in Ve})(Ne))&&(rt(Ne)||B(Ne)?q:b).test(Me(Ne))}function Ue(Ne){return typeof Ne=="function"?Ne:Ne==null?Vt:typeof Ne=="object"?zt(Ne)?(function(kt,Ot){return ut(kt)&&pt(Ot)?Le(ke(kt),Ot):function(Pt){var $t=(function(sr,Yt,Lt){var Jt=sr==null?void 0:me(sr,Yt);return Jt===void 0?Lt:Jt})(Pt,kt);return $t===void 0&&$t===Ot?(function(sr,Yt){return sr!=null&&(function(Lt,Jt,dr){Jt=ut(Jt,Lt)?[Jt]:dt(Jt);for(var hr,Fr=-1,pr=Jt.length;++Fr<pr;){var jr=ke(Jt[Fr]);if(!(hr=Lt!=null&&dr(Lt,jr)))break;Lt=Lt[jr]}return hr||!!(pr=Lt?Lt.length:0)&&mt(pr)&&Ye(jr,pr)&&(zt(Lt)||Kt(Lt))})(sr,Yt,xe)})(Pt,kt):te(Ot,$t,void 0,3)}})(Ne[0],Ne[1]):(function(kt){var Ot=(function(Pt){for(var $t=ht(Pt),sr=$t.length;sr--;){var Yt=$t[sr],Lt=Pt[Yt];$t[sr]=[Yt,Lt,pt(Lt)]}return $t})(kt);return Ot.length==1&&Ot[0][2]?Le(Ot[0][0],Ot[0][1]):function(Pt){return Pt===kt||(function($t,sr,Yt,Lt){var Jt=Yt.length,dr=Jt;if($t==null)return!dr;for($t=Object($t);Jt--;){var hr=Yt[Jt];if(hr[2]?hr[1]!==$t[hr[0]]:!(hr[0]in $t))return!1}for(;++Jt<dr;){var Fr=(hr=Yt[Jt])[0],pr=$t[Fr],jr=hr[1];if(hr[2]){if(pr===void 0&&!(Fr in $t))return!1}else{var as=new At,os;if(!(os===void 0?te(jr,pr,Lt,3,as):os))return!1}}return!0})(Pt,kt,Ot)}})(Ne):ut(Ve=Ne)?(lt=ke(Ve),function(kt){return kt?.[lt]}):(function(kt){return function(Ot){return me(Ot,kt)}})(Ve);var Ve,lt}function et(Ne){if(lt=(Ve=Ne)&&Ve.constructor,kt=typeof lt=="function"&&lt.prototype||P,Ve!==kt)return se(Ne);var Ve,lt,kt,Ot=[];for(var Pt in Object(Ne))Z.call(Ne,Pt)&&Pt!="constructor"&&Ot.push(Pt);return Ot}function dt(Ne){return zt(Ne)?Ne:Je(Ne)}function St(Ne,Ve,lt,kt,Ot,Pt){var $t=2&Ot,sr=Ne.length,Yt=Ve.length;if(sr!=Yt&&!($t&&Yt>sr))return!1;var Lt=Pt.get(Ne);if(Lt&&Pt.get(Ve))return Lt==Ve;var Jt=-1,dr=!0,hr=1&Ot?new vt:void 0;for(Pt.set(Ne,Ve),Pt.set(Ve,Ne);++Jt<sr;){var Fr=Ne[Jt],pr=Ve[Jt];if(kt)var jr=$t?kt(pr,Fr,Jt,Ve,Ne,Pt):kt(Fr,pr,Jt,Ne,Ve,Pt);if(jr!==void 0){if(jr)continue;dr=!1;break}if(hr){if(!G(Ve,(function(as,os){if(!hr.has(os)&&(Fr===as||lt(Fr,as,kt,Ot,Pt)))return hr.add(os)}))){dr=!1;break}}else if(Fr!==pr&&!lt(Fr,pr,kt,Ot,Pt)){dr=!1;break}}return Pt.delete(Ne),Pt.delete(Ve),dr}function Ut(Ne,Ve){var lt,kt,Ot=Ne.__data__;return((kt=typeof(lt=Ve))=="string"||kt=="number"||kt=="symbol"||kt=="boolean"?lt!=="__proto__":lt===null)?Ot[typeof Ve=="string"?"string":"hash"]:Ot.map}function ve(Ne,Ve){var lt=(function(kt,Ot){return kt?.[Ot]})(Ne,Ve);return we(lt)?lt:void 0}var de=function(Ne){return ae.call(Ne)};function Ye(Ne,Ve){return!!(Ve=Ve??9007199254740991)&&(typeof Ne=="number"||g.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<Ve}function ut(Ne,Ve){if(zt(Ne))return!1;var lt=typeof Ne;return!(lt!="number"&&lt!="symbol"&&lt!="boolean"&&Ne!=null&&!jt(Ne))||l.test(Ne)||!s.test(Ne)||Ve!=null&&Ne in Object(Ve)}function pt(Ne){return Ne==Ne&&!Dt(Ne)}function Le(Ne,Ve){return function(lt){return lt!=null&&lt[Ne]===Ve&&(Ve!==void 0||Ne in Object(lt))}}(oe&&de(new oe(new ArrayBuffer(1)))!="[object DataView]"||ne&&de(new ne)!=o||le&&de(le.resolve())!="[object Promise]"||Se&&de(new Se)!=r||je&&de(new je)!="[object WeakMap]")&&(de=function(Ne){var Ve=ae.call(Ne),lt=Ve==i?Ne.constructor:void 0,kt=lt?Me(lt):void 0;if(kt)switch(kt){case ce:return"[object DataView]";case be:return o;case Te:return"[object Promise]";case Ce:return r;case Pe:return"[object WeakMap]"}return Ve});var Je=at((function(Ne){var Ve;Ne=(Ve=Ne)==null?"":(function(kt){if(typeof kt=="string")return kt;if(jt(kt))return st?st.call(kt):"";var Ot=kt+"";return Ot=="0"&&1/kt==-1/0?"-0":Ot})(Ve);var lt=[];return d.test(Ne)&&lt.push(""),Ne.replace(u,(function(kt,Ot,Pt,$t){lt.push(Pt?$t.replace(x,"$1"):Ot||kt)})),lt}));function ke(Ne){if(typeof Ne=="string"||jt(Ne))return Ne;var Ve=Ne+"";return Ve=="0"&&1/Ne==-1/0?"-0":Ve}function Me(Ne){if(Ne!=null){try{return Y.call(Ne)}catch{}try{return Ne+""}catch{}}return""}var He,ot=(He=function(Ne,Ve,lt){Z.call(Ne,lt)?Ne[lt].push(Ve):Ne[lt]=[Ve]},function(Ne,Ve){var lt=zt(Ne)?V:ge,kt={};return lt(Ne,He,Ue(Ve),kt)});function at(Ne,Ve){if(typeof Ne!="function"||Ve&&typeof Ve!="function")throw new TypeError("Expected a function");var lt=function(){var kt=arguments,Ot=Ve?Ve.apply(this,kt):kt[0],Pt=lt.cache;if(Pt.has(Ot))return Pt.get(Ot);var $t=Ne.apply(this,kt);return lt.cache=Pt.set(Ot,$t),$t};return lt.cache=new(at.Cache||We),lt}function ft(Ne,Ve){return Ne===Ve||Ne!=Ne&&Ve!=Ve}function Kt(Ne){return(function(Ve){return _t(Ve)&&Re(Ve)})(Ne)&&Z.call(Ne,"callee")&&(!M.call(Ne,"callee")||ae.call(Ne)==n)}at.Cache=We;var zt=Array.isArray;function Re(Ne){return Ne!=null&&mt(Ne.length)&&!rt(Ne)}function rt(Ne){var Ve=Dt(Ne)?ae.call(Ne):"";return Ve=="[object Function]"||Ve=="[object GeneratorFunction]"}function mt(Ne){return typeof Ne=="number"&&Ne>-1&&Ne%1==0&&Ne<=9007199254740991}function Dt(Ne){var Ve=typeof Ne;return!!Ne&&(Ve=="object"||Ve=="function")}function _t(Ne){return!!Ne&&typeof Ne=="object"}function jt(Ne){return typeof Ne=="symbol"||_t(Ne)&&ae.call(Ne)=="[object Symbol]"}var Ie=U?(function(Ne){return function(Ve){return Ne(Ve)}})(U):function(Ne){return _t(Ne)&&mt(Ne.length)&&!!v[ae.call(Ne)]};function ht(Ne){return Re(Ne)?Nt(Ne):et(Ne)}function Vt(Ne){return Ne}h.exports=ot}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,h,f){var c=Object.prototype.toString;h.exports=function(n){return n===!0||n===!1||(function(o){return!!o&&typeof o=="object"})(n)&&c.call(n)=="[object Boolean]"}},{}],445:[function(t,h,f){(function(c){(function(){var n="[object Arguments]",o="[object Map]",i="[object Object]",r="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[n]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[o]=d["[object Number]"]=d[i]=d["[object RegExp]"]=d[r]=d["[object String]"]=d["[object WeakMap]"]=!1;var u=typeof c=="object"&&c&&c.Object===Object&&c,x=typeof self=="object"&&self&&self.Object===Object&&self,b=u||x||Function("return this")(),g=typeof f=="object"&&f&&!f.nodeType&&f,v=g&&typeof h=="object"&&h&&!h.nodeType&&h,y=v&&v.exports===g,N=y&&u.process,E=(function(){try{return N&&N.binding&&N.binding("util")}catch{}})(),I=E&&E.isTypedArray;function O(ke,Me){for(var He=-1,ot=ke==null?0:ke.length;++He<ot;)if(Me(ke[He],He,ke))return!0;return!1}function $(ke){var Me=-1,He=Array(ke.size);return ke.forEach((function(ot,at){He[++Me]=[at,ot]})),He}function z(ke){var Me=-1,He=Array(ke.size);return ke.forEach((function(ot){He[++Me]=ot})),He}var U,V,G,B=Array.prototype,T=Function.prototype,D=Object.prototype,A=b["__core-js_shared__"],k=T.toString,S=D.hasOwnProperty,j=(U=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",C=D.toString,P=RegExp("^"+k.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=y?b.Buffer:void 0,L=b.Symbol,Y=b.Uint8Array,Z=D.propertyIsEnumerable,ae=B.splice,q=L?L.toStringTag:void 0,X=Object.getOwnPropertySymbols,F=R?R.isBuffer:void 0,M=(V=Object.keys,G=Object,function(ke){return V(G(ke))}),K=xe(b,"DataView"),se=xe(b,"Map"),oe=xe(b,"Promise"),ne=xe(b,"Set"),le=xe(b,"WeakMap"),Se=xe(Object,"create"),je=et(K),ee=et(se),ce=et(oe),be=et(ne),Te=et(le),Ce=L?L.prototype:void 0,Pe=Ce?Ce.valueOf:void 0;function Be(ke){var Me=-1,He=ke==null?0:ke.length;for(this.clear();++Me<He;){var ot=ke[Me];this.set(ot[0],ot[1])}}function Ge(ke){var Me=-1,He=ke==null?0:ke.length;for(this.clear();++Me<He;){var ot=ke[Me];this.set(ot[0],ot[1])}}function st(ke){var Me=-1,He=ke==null?0:ke.length;for(this.clear();++Me<He;){var ot=ke[Me];this.set(ot[0],ot[1])}}function bt(ke){var Me=-1,He=ke==null?0:ke.length;for(this.__data__=new st;++Me<He;)this.add(ke[Me])}function _e(ke){var Me=this.__data__=new Ge(ke);this.size=Me.size}function We(ke,Me){var He=Ut(ke),ot=!He&&St(ke),at=!He&&!ot&&ve(ke),ft=!He&&!ot&&!at&&Le(ke),Kt=He||ot||at||ft,zt=Kt?(function(mt,Dt){for(var _t=-1,jt=Array(mt);++_t<mt;)jt[_t]=Dt(_t);return jt})(ke.length,String):[],Re=zt.length;for(var rt in ke)!S.call(ke,rt)||Kt&&(rt=="length"||at&&(rt=="offset"||rt=="parent")||ft&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||Ue(rt,Re))||zt.push(rt);return zt}function vt(ke,Me){for(var He=ke.length;He--;)if(dt(ke[He][0],Me))return He;return-1}function At(ke){return ke==null?ke===void 0?"[object Undefined]":"[object Null]":q&&q in Object(ke)?(function(Me){var He=S.call(Me,q),ot=Me[q];try{Me[q]=void 0;var at=!0}catch{}var ft=C.call(Me);return at&&(He?Me[q]=ot:delete Me[q]),ft})(ke):(function(Me){return C.call(Me)})(ke)}function Nt(ke){return pt(ke)&&At(ke)==n}function De(ke,Me,He,ot,at){return ke===Me||(ke==null||Me==null||!pt(ke)&&!pt(Me)?ke!=ke&&Me!=Me:(function(ft,Kt,zt,Re,rt,mt){var Dt=Ut(ft),_t=Ut(Kt),jt=Dt?"[object Array]":we(ft),Ie=_t?"[object Array]":we(Kt),ht=(jt=jt==n?i:jt)==i,Vt=(Ie=Ie==n?i:Ie)==i,Ne=jt==Ie;if(Ne&&ve(ft)){if(!ve(Kt))return!1;Dt=!0,ht=!1}if(Ne&&!ht)return mt||(mt=new _e),Dt||Le(ft)?Ke(ft,Kt,zt,Re,rt,mt):(function(Pt,$t,sr,Yt,Lt,Jt,dr){switch(sr){case"[object DataView]":if(Pt.byteLength!=$t.byteLength||Pt.byteOffset!=$t.byteOffset)return!1;Pt=Pt.buffer,$t=$t.buffer;case"[object ArrayBuffer]":return!(Pt.byteLength!=$t.byteLength||!Jt(new Y(Pt),new Y($t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return dt(+Pt,+$t);case"[object Error]":return Pt.name==$t.name&&Pt.message==$t.message;case"[object RegExp]":case"[object String]":return Pt==$t+"";case o:var hr=$;case r:var Fr=1&Yt;if(hr||(hr=z),Pt.size!=$t.size&&!Fr)return!1;var pr=dr.get(Pt);if(pr)return pr==$t;Yt|=2,dr.set(Pt,$t);var jr=Ke(hr(Pt),hr($t),Yt,Lt,Jt,dr);return dr.delete(Pt),jr;case"[object Symbol]":if(Pe)return Pe.call(Pt)==Pe.call($t)}return!1})(ft,Kt,jt,zt,Re,rt,mt);if(!(1&zt)){var Ve=ht&&S.call(ft,"__wrapped__"),lt=Vt&&S.call(Kt,"__wrapped__");if(Ve||lt){var kt=Ve?ft.value():ft,Ot=lt?Kt.value():Kt;return mt||(mt=new _e),rt(kt,Ot,zt,Re,mt)}}return Ne?(mt||(mt=new _e),(function(Pt,$t,sr,Yt,Lt,Jt){var dr=1&sr,hr=pe(Pt),Fr=hr.length,pr=pe($t).length;if(Fr!=pr&&!dr)return!1;for(var jr=Fr;jr--;){var as=hr[jr];if(!(dr?as in $t:S.call($t,as)))return!1}var os=Jt.get(Pt);if(os&&Jt.get($t))return os==$t;var qs=!0;Jt.set(Pt,$t),Jt.set($t,Pt);for(var Un=dr;++jr<Fr;){as=hr[jr];var gs=Pt[as],As=$t[as];if(Yt)var Rr=dr?Yt(As,gs,as,$t,Pt,Jt):Yt(gs,As,as,Pt,$t,Jt);if(!(Rr===void 0?gs===As||Lt(gs,As,sr,Yt,Jt):Rr)){qs=!1;break}Un||(Un=as=="constructor")}if(qs&&!Un){var Cr=Pt.constructor,$s=$t.constructor;Cr==$s||!("constructor"in Pt)||!("constructor"in $t)||typeof Cr=="function"&&Cr instanceof Cr&&typeof $s=="function"&&$s instanceof $s||(qs=!1)}return Jt.delete(Pt),Jt.delete($t),qs})(ft,Kt,zt,Re,rt,mt)):!1})(ke,Me,He,ot,De,at))}function ge(ke){return!(!ut(ke)||(function(Me){return!!j&&j in Me})(ke))&&(de(ke)?P:s).test(et(ke))}function Oe(ke){if(He=(Me=ke)&&Me.constructor,ot=typeof He=="function"&&He.prototype||D,Me!==ot)return M(ke);var Me,He,ot,at=[];for(var ft in Object(ke))S.call(ke,ft)&&ft!="constructor"&&at.push(ft);return at}function Ke(ke,Me,He,ot,at,ft){var Kt=1&He,zt=ke.length,Re=Me.length;if(zt!=Re&&!(Kt&&Re>zt))return!1;var rt=ft.get(ke);if(rt&&ft.get(Me))return rt==Me;var mt=-1,Dt=!0,_t=2&He?new bt:void 0;for(ft.set(ke,Me),ft.set(Me,ke);++mt<zt;){var jt=ke[mt],Ie=Me[mt];if(ot)var ht=Kt?ot(Ie,jt,mt,Me,ke,ft):ot(jt,Ie,mt,ke,Me,ft);if(ht!==void 0){if(ht)continue;Dt=!1;break}if(_t){if(!O(Me,(function(Vt,Ne){if(Ve=Ne,!_t.has(Ve)&&(jt===Vt||at(jt,Vt,He,ot,ft)))return _t.push(Ne);var Ve}))){Dt=!1;break}}else if(jt!==Ie&&!at(jt,Ie,He,ot,ft)){Dt=!1;break}}return ft.delete(ke),ft.delete(Me),Dt}function pe(ke){return(function(Me,He,ot){var at=He(Me);return Ut(Me)?at:(function(ft,Kt){for(var zt=-1,Re=Kt.length,rt=ft.length;++zt<Re;)ft[rt+zt]=Kt[zt];return ft})(at,ot(Me))})(ke,Je,te)}function me(ke,Me){var He,ot,at=ke.__data__;return((ot=typeof(He=Me))=="string"||ot=="number"||ot=="symbol"||ot=="boolean"?He!=="__proto__":He===null)?at[typeof Me=="string"?"string":"hash"]:at.map}function xe(ke,Me){var He=(function(ot,at){return ot?.[at]})(ke,Me);return ge(He)?He:void 0}Be.prototype.clear=function(){this.__data__=Se?Se(null):{},this.size=0},Be.prototype.delete=function(ke){var Me=this.has(ke)&&delete this.__data__[ke];return this.size-=Me?1:0,Me},Be.prototype.get=function(ke){var Me=this.__data__;if(Se){var He=Me[ke];return He==="__lodash_hash_undefined__"?void 0:He}return S.call(Me,ke)?Me[ke]:void 0},Be.prototype.has=function(ke){var Me=this.__data__;return Se?Me[ke]!==void 0:S.call(Me,ke)},Be.prototype.set=function(ke,Me){var He=this.__data__;return this.size+=this.has(ke)?0:1,He[ke]=Se&&Me===void 0?"__lodash_hash_undefined__":Me,this},Ge.prototype.clear=function(){this.__data__=[],this.size=0},Ge.prototype.delete=function(ke){var Me=this.__data__,He=vt(Me,ke);return!(He<0)&&(He==Me.length-1?Me.pop():ae.call(Me,He,1),--this.size,!0)},Ge.prototype.get=function(ke){var Me=this.__data__,He=vt(Me,ke);return He<0?void 0:Me[He][1]},Ge.prototype.has=function(ke){return vt(this.__data__,ke)>-1},Ge.prototype.set=function(ke,Me){var He=this.__data__,ot=vt(He,ke);return ot<0?(++this.size,He.push([ke,Me])):He[ot][1]=Me,this},st.prototype.clear=function(){this.size=0,this.__data__={hash:new Be,map:new(se||Ge),string:new Be}},st.prototype.delete=function(ke){var Me=me(this,ke).delete(ke);return this.size-=Me?1:0,Me},st.prototype.get=function(ke){return me(this,ke).get(ke)},st.prototype.has=function(ke){return me(this,ke).has(ke)},st.prototype.set=function(ke,Me){var He=me(this,ke),ot=He.size;return He.set(ke,Me),this.size+=He.size==ot?0:1,this},bt.prototype.add=bt.prototype.push=function(ke){return this.__data__.set(ke,"__lodash_hash_undefined__"),this},bt.prototype.has=function(ke){return this.__data__.has(ke)},_e.prototype.clear=function(){this.__data__=new Ge,this.size=0},_e.prototype.delete=function(ke){var Me=this.__data__,He=Me.delete(ke);return this.size=Me.size,He},_e.prototype.get=function(ke){return this.__data__.get(ke)},_e.prototype.has=function(ke){return this.__data__.has(ke)},_e.prototype.set=function(ke,Me){var He=this.__data__;if(He instanceof Ge){var ot=He.__data__;if(!se||ot.length<199)return ot.push([ke,Me]),this.size=++He.size,this;He=this.__data__=new st(ot)}return He.set(ke,Me),this.size=He.size,this};var te=X?function(ke){return ke==null?[]:(ke=Object(ke),(function(Me,He){for(var ot=-1,at=Me==null?0:Me.length,ft=0,Kt=[];++ot<at;){var zt=Me[ot];He(zt,ot,Me)&&(Kt[ft++]=zt)}return Kt})(X(ke),(function(Me){return Z.call(ke,Me)})))}:function(){return[]},we=At;function Ue(ke,Me){return!!(Me=Me??9007199254740991)&&(typeof ke=="number"||l.test(ke))&&ke>-1&&ke%1==0&&ke<Me}function et(ke){if(ke!=null){try{return k.call(ke)}catch{}try{return ke+""}catch{}}return""}function dt(ke,Me){return ke===Me||ke!=ke&&Me!=Me}(K&&we(new K(new ArrayBuffer(1)))!="[object DataView]"||se&&we(new se)!=o||oe&&we(oe.resolve())!="[object Promise]"||ne&&we(new ne)!=r||le&&we(new le)!="[object WeakMap]")&&(we=function(ke){var Me=At(ke),He=Me==i?ke.constructor:void 0,ot=He?et(He):"";if(ot)switch(ot){case je:return"[object DataView]";case ee:return o;case ce:return"[object Promise]";case be:return r;case Te:return"[object WeakMap]"}return Me});var St=Nt((function(){return arguments})())?Nt:function(ke){return pt(ke)&&S.call(ke,"callee")&&!Z.call(ke,"callee")},Ut=Array.isArray,ve=F||function(){return!1};function de(ke){if(!ut(ke))return!1;var Me=At(ke);return Me=="[object Function]"||Me=="[object GeneratorFunction]"||Me=="[object AsyncFunction]"||Me=="[object Proxy]"}function Ye(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991}function ut(ke){var Me=typeof ke;return ke!=null&&(Me=="object"||Me=="function")}function pt(ke){return ke!=null&&typeof ke=="object"}var Le=I?(function(ke){return function(Me){return ke(Me)}})(I):function(ke){return pt(ke)&&Ye(ke.length)&&!!d[At(ke)]};function Je(ke){return(Me=ke)!=null&&Ye(Me.length)&&!de(Me)?We(ke):Oe(ke);var Me}h.exports=function(ke,Me){return De(ke,Me)}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,h,f){(function(c){(function(){var n=typeof c=="object"&&c&&c.Object===Object&&c,o=typeof self=="object"&&self&&self.Object===Object&&self,i=n||o||Function("return this")(),r=Object.prototype,s=r.hasOwnProperty,l=r.toString,d=i.Symbol,u=d?d.toStringTag:void 0;function x(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":u&&u in Object(b)?(function(g){var v=s.call(g,u),y=g[u];try{g[u]=void 0;var N=!0}catch{}var E=l.call(g);return N&&(v?g[u]=y:delete g[u]),E})(b):(function(g){return l.call(g)})(b)}h.exports=function(b){if(!(function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")})(b))return!1;var g=x(b);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,h,f){h.exports=function(c){return c==null}},{}],448:[function(t,h,f){h.exports=function(c){return c===void 0}},{}],449:[function(t,h,f){(function(c){(function(){var n=/^\[object .+?Constructor\]$/,o=typeof c=="object"&&c&&c.Object===Object&&c,i=typeof self=="object"&&self&&self.Object===Object&&self,r=o||i||Function("return this")();function s(L,Y){return!!(L&&L.length)&&(function(Z,ae,q){if(ae!=ae)return(function(M,K,se,oe){for(var ne=M.length,le=se+-1;++le<ne;)if(K(M[le],le,M))return le;return-1})(Z,l,q);for(var X=q-1,F=Z.length;++X<F;)if(Z[X]===ae)return X;return-1})(L,Y,0)>-1}function l(L){return L!=L}function d(L,Y){return L.has(Y)}function u(L){var Y=-1,Z=Array(L.size);return L.forEach((function(ae){Z[++Y]=ae})),Z}var x,b=Array.prototype,g=Function.prototype,v=Object.prototype,y=r["__core-js_shared__"],N=(x=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",E=g.toString,I=v.hasOwnProperty,O=v.toString,$=RegExp("^"+E.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=b.splice,U=P(r,"Map"),V=P(r,"Set"),G=P(Object,"create");function B(L){var Y=-1,Z=L?L.length:0;for(this.clear();++Y<Z;){var ae=L[Y];this.set(ae[0],ae[1])}}function T(L){var Y=-1,Z=L?L.length:0;for(this.clear();++Y<Z;){var ae=L[Y];this.set(ae[0],ae[1])}}function D(L){var Y=-1,Z=L?L.length:0;for(this.clear();++Y<Z;){var ae=L[Y];this.set(ae[0],ae[1])}}function A(L){var Y=-1,Z=L?L.length:0;for(this.__data__=new D;++Y<Z;)this.add(L[Y])}function k(L,Y){for(var Z,ae,q=L.length;q--;)if((Z=L[q][0])===(ae=Y)||Z!=Z&&ae!=ae)return q;return-1}function S(L){return!(!R(L)||(Y=L,N&&N in Y))&&((function(Z){var ae=R(Z)?O.call(Z):"";return ae=="[object Function]"||ae=="[object GeneratorFunction]"})(L)||(function(Z){var ae=!1;if(Z!=null&&typeof Z.toString!="function")try{ae=!!(Z+"")}catch{}return ae})(L)?$:n).test((function(Z){if(Z!=null){try{return E.call(Z)}catch{}try{return Z+""}catch{}}return""})(L));var Y}B.prototype.clear=function(){this.__data__=G?G(null):{}},B.prototype.delete=function(L){return this.has(L)&&delete this.__data__[L]},B.prototype.get=function(L){var Y=this.__data__;if(G){var Z=Y[L];return Z==="__lodash_hash_undefined__"?void 0:Z}return I.call(Y,L)?Y[L]:void 0},B.prototype.has=function(L){var Y=this.__data__;return G?Y[L]!==void 0:I.call(Y,L)},B.prototype.set=function(L,Y){return this.__data__[L]=G&&Y===void 0?"__lodash_hash_undefined__":Y,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(L){var Y=this.__data__,Z=k(Y,L);return!(Z<0)&&(Z==Y.length-1?Y.pop():z.call(Y,Z,1),!0)},T.prototype.get=function(L){var Y=this.__data__,Z=k(Y,L);return Z<0?void 0:Y[Z][1]},T.prototype.has=function(L){return k(this.__data__,L)>-1},T.prototype.set=function(L,Y){var Z=this.__data__,ae=k(Z,L);return ae<0?Z.push([L,Y]):Z[ae][1]=Y,this},D.prototype.clear=function(){this.__data__={hash:new B,map:new(U||T),string:new B}},D.prototype.delete=function(L){return C(this,L).delete(L)},D.prototype.get=function(L){return C(this,L).get(L)},D.prototype.has=function(L){return C(this,L).has(L)},D.prototype.set=function(L,Y){return C(this,L).set(L,Y),this},A.prototype.add=A.prototype.push=function(L){return this.__data__.set(L,"__lodash_hash_undefined__"),this},A.prototype.has=function(L){return this.__data__.has(L)};var j=V&&1/u(new V([,-0]))[1]==1/0?function(L){return new V(L)}:function(){};function C(L,Y){var Z,ae,q=L.__data__;return((ae=typeof(Z=Y))=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?Z!=="__proto__":Z===null)?q[typeof Y=="string"?"string":"hash"]:q.map}function P(L,Y){var Z=(function(ae,q){return ae?.[q]})(L,Y);return S(Z)?Z:void 0}function R(L){var Y=typeof L;return!!L&&(Y=="object"||Y=="function")}h.exports=function(L){return L&&L.length?(function(Y,Z,ae){var q=-1,X=s,F=Y.length,M=!0,K=[],se=K;if(F>=200){var oe=j(Y);if(oe)return u(oe);M=!1,X=d,se=new A}else se=K;e:for(;++q<F;){var ne=Y[q],le=ne;if(ne=ne!==0?ne:0,M&&le==le){for(var Se=se.length;Se--;)if(se[Se]===le)continue e;K.push(ne)}else X(se,le,ae)||(se!==K&&se.push(le),K.push(ne))}return K})(L):[]}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,h,f){var c=t("inherits"),n=t("hash-base"),o=t("safe-buffer").Buffer,i=new Array(16);function r(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(b,g){return b<<g|b>>>32-g}function l(b,g,v,y,N,E,I){return s(b+(g&v|~g&y)+N+E|0,I)+g|0}function d(b,g,v,y,N,E,I){return s(b+(g&y|v&~y)+N+E|0,I)+g|0}function u(b,g,v,y,N,E,I){return s(b+(g^v^y)+N+E|0,I)+g|0}function x(b,g,v,y,N,E,I){return s(b+(v^(g|~y))+N+E|0,I)+g|0}c(r,n),r.prototype._update=function(){for(var b=i,g=0;g<16;++g)b[g]=this._block.readInt32LE(4*g);var v=this._a,y=this._b,N=this._c,E=this._d;v=l(v,y,N,E,b[0],3614090360,7),E=l(E,v,y,N,b[1],3905402710,12),N=l(N,E,v,y,b[2],606105819,17),y=l(y,N,E,v,b[3],3250441966,22),v=l(v,y,N,E,b[4],4118548399,7),E=l(E,v,y,N,b[5],1200080426,12),N=l(N,E,v,y,b[6],2821735955,17),y=l(y,N,E,v,b[7],4249261313,22),v=l(v,y,N,E,b[8],1770035416,7),E=l(E,v,y,N,b[9],2336552879,12),N=l(N,E,v,y,b[10],4294925233,17),y=l(y,N,E,v,b[11],2304563134,22),v=l(v,y,N,E,b[12],1804603682,7),E=l(E,v,y,N,b[13],4254626195,12),N=l(N,E,v,y,b[14],2792965006,17),v=d(v,y=l(y,N,E,v,b[15],1236535329,22),N,E,b[1],4129170786,5),E=d(E,v,y,N,b[6],3225465664,9),N=d(N,E,v,y,b[11],643717713,14),y=d(y,N,E,v,b[0],3921069994,20),v=d(v,y,N,E,b[5],3593408605,5),E=d(E,v,y,N,b[10],38016083,9),N=d(N,E,v,y,b[15],3634488961,14),y=d(y,N,E,v,b[4],3889429448,20),v=d(v,y,N,E,b[9],568446438,5),E=d(E,v,y,N,b[14],3275163606,9),N=d(N,E,v,y,b[3],4107603335,14),y=d(y,N,E,v,b[8],1163531501,20),v=d(v,y,N,E,b[13],2850285829,5),E=d(E,v,y,N,b[2],4243563512,9),N=d(N,E,v,y,b[7],1735328473,14),v=u(v,y=d(y,N,E,v,b[12],2368359562,20),N,E,b[5],4294588738,4),E=u(E,v,y,N,b[8],2272392833,11),N=u(N,E,v,y,b[11],1839030562,16),y=u(y,N,E,v,b[14],4259657740,23),v=u(v,y,N,E,b[1],2763975236,4),E=u(E,v,y,N,b[4],1272893353,11),N=u(N,E,v,y,b[7],4139469664,16),y=u(y,N,E,v,b[10],3200236656,23),v=u(v,y,N,E,b[13],681279174,4),E=u(E,v,y,N,b[0],3936430074,11),N=u(N,E,v,y,b[3],3572445317,16),y=u(y,N,E,v,b[6],76029189,23),v=u(v,y,N,E,b[9],3654602809,4),E=u(E,v,y,N,b[12],3873151461,11),N=u(N,E,v,y,b[15],530742520,16),v=x(v,y=u(y,N,E,v,b[2],3299628645,23),N,E,b[0],4096336452,6),E=x(E,v,y,N,b[7],1126891415,10),N=x(N,E,v,y,b[14],2878612391,15),y=x(y,N,E,v,b[5],4237533241,21),v=x(v,y,N,E,b[12],1700485571,6),E=x(E,v,y,N,b[3],2399980690,10),N=x(N,E,v,y,b[10],4293915773,15),y=x(y,N,E,v,b[1],2240044497,21),v=x(v,y,N,E,b[8],1873313359,6),E=x(E,v,y,N,b[15],4264355552,10),N=x(N,E,v,y,b[6],2734768916,15),y=x(y,N,E,v,b[13],1309151649,21),v=x(v,y,N,E,b[4],4149444226,6),E=x(E,v,y,N,b[11],3174756917,10),N=x(N,E,v,y,b[2],718787259,15),y=x(y,N,E,v,b[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+N|0,this._d=this._d+E|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=o.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},h.exports=r},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,h,f){var c=t("bn.js"),n=t("brorand");function o(i){this.rand=i||new n.Rand}h.exports=o,o.create=function(i){return new o(i)},o.prototype._randbelow=function(i){var r=i.bitLength(),s=Math.ceil(r/8);do var l=new c(this.rand.generate(s));while(l.cmp(i)>=0);return l},o.prototype._randrange=function(i,r){var s=r.sub(i);return i.add(this._randbelow(s))},o.prototype.test=function(i,r,s){var l=i.bitLength(),d=c.mont(i),u=new c(1).toRed(d);r||(r=Math.max(1,l/48|0));for(var x=i.subn(1),b=0;!x.testn(b);b++);for(var g=i.shrn(b),v=x.toRed(d);r>0;r--){var y=this._randrange(new c(2),x);s&&s(y);var N=y.toRed(d).redPow(g);if(N.cmp(u)!==0&&N.cmp(v)!==0){for(var E=1;E<b;E++){if((N=N.redSqr()).cmp(u)===0)return!1;if(N.cmp(v)===0)break}if(E===b)return!1}}return!0},o.prototype.getDivisor=function(i,r){var s=i.bitLength(),l=c.mont(i),d=new c(1).toRed(l);r||(r=Math.max(1,s/48|0));for(var u=i.subn(1),x=0;!u.testn(x);x++);for(var b=i.shrn(x),g=u.toRed(l);r>0;r--){var v=this._randrange(new c(2),u),y=i.gcd(v);if(y.cmpn(1)!==0)return y;var N=v.toRed(l).redPow(b);if(N.cmp(d)!==0&&N.cmp(g)!==0){for(var E=1;E<x;E++){if((N=N.redSqr()).cmp(d)===0)return N.fromRed().subn(1).gcd(i);if(N.cmp(g)===0)break}if(E===x)return(N=N.redSqr()).fromRed().subn(1).gcd(i)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,h,f){arguments[4][184][0].apply(f,arguments)},{buffer:188,dup:184}],453:[function(t,h,f){function c(n,o){if(!n)throw new Error(o||"Assertion failed")}h.exports=c,c.equal=function(n,o,i){if(n!=o)throw new Error(i||"Assertion failed: "+n+" != "+o)}},{}],454:[function(t,h,f){var c=f;function n(i){return i.length===1?"0"+i:i}function o(i){for(var r="",s=0;s<i.length;s++)r+=n(i[s].toString(16));return r}c.toArray=function(i,r){if(Array.isArray(i))return i.slice();if(!i)return[];var s=[];if(typeof i!="string"){for(var l=0;l<i.length;l++)s[l]=0|i[l];return s}if(r==="hex")for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),l=0;l<i.length;l+=2)s.push(parseInt(i[l]+i[l+1],16));else for(l=0;l<i.length;l++){var d=i.charCodeAt(l),u=d>>8,x=255&d;u?s.push(u,x):s.push(x)}return s},c.zero2=n,c.toHex=o,c.encode=function(i,r){return r==="hex"?o(i):i}},{}],455:[function(t,h,f){h.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,h,f){var c=t("asn1.js");f.certificate=t("./certificate");var n=c.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));f.RSAPrivateKey=n;var o=c.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));f.RSAPublicKey=o;var i=c.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())}));f.PublicKey=i;var r=c.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),s=c.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())}));f.PrivateKey=s;var l=c.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));f.EncryptedPrivateKey=l;var d=c.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));f.DSAPrivateKey=d,f.DSAparam=c.define("DSAparam",(function(){this.int()}));var u=c.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(x),this.key("publicKey").optional().explicit(1).bitstr())}));f.ECPrivateKey=u;var x=c.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));f.signature=c.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,h,f){var c=t("asn1.js"),n=c.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=c.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),i=c.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),r=c.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())})),s=c.define("RelativeDistinguishedName",(function(){this.setof(o)})),l=c.define("RDNSequence",(function(){this.seqof(s)})),d=c.define("Name",(function(){this.choice({rdnSequence:this.use(l)})})),u=c.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),x=c.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),b=c.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(i),this.key("issuer").use(d),this.key("validity").use(u),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(r),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(x).optional())})),g=c.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(i),this.key("signatureValue").bitstr())}));h.exports=g},{"asn1.js":170}],458:[function(t,h,f){var c=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,i=t("evp_bytestokey"),r=t("browserify-aes"),s=t("safe-buffer").Buffer;h.exports=function(l,d){var u,x=l.toString(),b=x.match(c);if(b){var g="aes"+b[1],v=s.from(b[2],"hex"),y=s.from(b[3].replace(/[\r\n]/g,""),"base64"),N=i(d,v.slice(0,8),parseInt(b[1],10)).key,E=[],I=r.createDecipheriv(g,N,v);E.push(I.update(y)),E.push(I.final()),u=s.concat(E)}else{var O=x.match(o);u=s.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:x.match(n)[1],data:u}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,h,f){var c=t("./asn1"),n=t("./aesid.json"),o=t("./fixProc"),i=t("browserify-aes"),r=t("pbkdf2"),s=t("safe-buffer").Buffer;function l(d){var u;typeof d!="object"||s.isBuffer(d)||(u=d.passphrase,d=d.key),typeof d=="string"&&(d=s.from(d));var x,b,g=o(d,u),v=g.tag,y=g.data;switch(v){case"CERTIFICATE":b=c.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=c.PublicKey.decode(y,"der")),x=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return c.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=c.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+x)}case"ENCRYPTED PRIVATE KEY":y=(function(N,E){var I=N.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(N.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=n[N.algorithm.decrypt.cipher.algo.join(".")],z=N.algorithm.decrypt.cipher.iv,U=N.subjectPrivateKey,V=parseInt($.split("-")[1],10)/8,G=r.pbkdf2Sync(E,I,O,V,"sha1"),B=i.createDecipheriv($,G,z),T=[];return T.push(B.update(U)),T.push(B.final()),s.concat(T)})(y=c.EncryptedPrivateKey.decode(y,"der"),u);case"PRIVATE KEY":switch(x=(b=c.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return c.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:c.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=c.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+x)}case"RSA PUBLIC KEY":return c.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return c.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:c.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=c.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}h.exports=l,l.signature=c.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,h,f){f.pbkdf2=t("./lib/async"),f.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,h,f){(function(c){(function(){var n,o,i=t("safe-buffer").Buffer,r=t("./precondition"),s=t("./default-encoding"),l=t("./sync"),d=t("./to-buffer"),u=c.crypto&&c.crypto.subtle,x={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function g(){return o||(o=c.process&&c.process.nextTick?c.process.nextTick:c.queueMicrotask?c.queueMicrotask:c.setImmediate?c.setImmediate:c.setTimeout)}function v(y,N,E,I,O){return u.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then((function($){return u.deriveBits({name:"PBKDF2",salt:N,iterations:E,hash:{name:O}},$,I<<3)})).then((function($){return i.from($)}))}h.exports=function(y,N,E,I,O,$){typeof O=="function"&&($=O,O=void 0);var z=x[(O=O||"sha1").toLowerCase()];if(z&&typeof c.Promise=="function"){if(r(E,I),y=d(y,s,"Password"),N=d(N,s,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(U,V){U.then((function(G){g()((function(){V(null,G)}))}),(function(G){g()((function(){V(G)}))}))})((function(U){if(c.process&&!c.process.browser||!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(b[U]!==void 0)return b[U];var V=v(n=n||i.alloc(8),n,10,128,U).then((function(){return!0})).catch((function(){return!1}));return b[U]=V,V})(z).then((function(U){return U?v(y,N,E,I,z):l(y,N,E,I,O)})),$)}else g()((function(){var U;try{U=l(y,N,E,I,O)}catch(V){return $(V)}$(null,U)}))}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,h,f){(function(c,n){(function(){var o;n.process&&n.process.browser?o="utf-8":n.process&&n.process.version?o=parseInt(c.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":o="utf-8",h.exports=o}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,h,f){var c=Math.pow(2,30)-1;h.exports=function(n,o){if(typeof n!="number")throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if(typeof o!="number")throw new TypeError("Key length not a number");if(o<0||o>c||o!=o)throw new TypeError("Bad key length")}},{}],464:[function(t,h,f){var c=t("create-hash/md5"),n=t("ripemd160"),o=t("sha.js"),i=t("safe-buffer").Buffer,r=t("./precondition"),s=t("./default-encoding"),l=t("./to-buffer"),d=i.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function x(b,g,v){var y=(function(z){function U(V){return o(z).update(V).digest()}return z==="rmd160"||z==="ripemd160"?function(V){return new n().update(V).digest()}:z==="md5"?c:U})(b),N=b==="sha512"||b==="sha384"?128:64;g.length>N?g=y(g):g.length<N&&(g=i.concat([g,d],N));for(var E=i.allocUnsafe(N+u[b]),I=i.allocUnsafe(N+u[b]),O=0;O<N;O++)E[O]=54^g[O],I[O]=92^g[O];var $=i.allocUnsafe(N+v+4);E.copy($,0,0,N),this.ipad1=$,this.ipad2=E,this.opad=I,this.alg=b,this.blocksize=N,this.hash=y,this.size=u[b]}x.prototype.run=function(b,g){return b.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},h.exports=function(b,g,v,y,N){r(v,y);var E=new x(N=N||"sha1",b=l(b,s,"Password"),(g=l(g,s,"Salt")).length),I=i.allocUnsafe(y),O=i.allocUnsafe(g.length+4);g.copy(O,0,0,g.length);for(var $=0,z=u[N],U=Math.ceil(y/z),V=1;V<=U;V++){O.writeUInt32BE(V,g.length);for(var G=E.run(O,E.ipad1),B=G,T=1;T<v;T++){B=E.run(B,E.ipad2);for(var D=0;D<z;D++)G[D]^=B[D]}G.copy(I,$),$+=z}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,h,f){var c=t("safe-buffer").Buffer;h.exports=function(n,o,i){if(c.isBuffer(n))return n;if(typeof n=="string")return c.from(n,o);if(ArrayBuffer.isView(n))return c.from(n.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,h,f){(function(c){(function(){c===void 0||!c.version||c.version.indexOf("v0.")===0||c.version.indexOf("v1.")===0&&c.version.indexOf("v1.8.")!==0?h.exports={nextTick:function(n,o,i,r){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var s,l,d=arguments.length;switch(d){case 0:case 1:return c.nextTick(n);case 2:return c.nextTick((function(){n.call(null,o)}));case 3:return c.nextTick((function(){n.call(null,o,i)}));case 4:return c.nextTick((function(){n.call(null,o,i,r)}));default:for(s=new Array(d-1),l=0;l<s.length;)s[l++]=arguments[l];return c.nextTick((function(){n.apply(null,s)}))}}}:h.exports=c}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,h,f){var c,n,o=h.exports={};function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function s(N){if(c===setTimeout)return setTimeout(N,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(N,0);try{return c(N,0)}catch{try{return c.call(null,N,0)}catch{return c.call(this,N,0)}}}(function(){try{c=typeof setTimeout=="function"?setTimeout:i}catch{c=i}try{n=typeof clearTimeout=="function"?clearTimeout:r}catch{n=r}})();var l,d=[],u=!1,x=-1;function b(){u&&l&&(u=!1,l.length?d=l.concat(d):x=-1,d.length&&g())}function g(){if(!u){var N=s(b);u=!0;for(var E=d.length;E;){for(l=d,d=[];++x<E;)l&&l[x].run();x=-1,E=d.length}l=null,u=!1,(function(I){if(n===clearTimeout)return clearTimeout(I);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(I);try{n(I)}catch{try{return n.call(null,I)}catch{return n.call(this,I)}}})(N)}}function v(N,E){this.fun=N,this.array=E}function y(){}o.nextTick=function(N){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];d.push(new v(N,E)),d.length!==1||u||s(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(N){return[]},o.binding=function(N){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(N){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],468:[function(t,h,f){f.publicEncrypt=t("./publicEncrypt"),f.privateDecrypt=t("./privateDecrypt"),f.privateEncrypt=function(c,n){return f.publicEncrypt(c,n,!0)},f.publicDecrypt=function(c,n){return f.privateDecrypt(c,n,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,h,f){var c=t("create-hash"),n=t("safe-buffer").Buffer;function o(i){var r=n.allocUnsafe(4);return r.writeUInt32BE(i,0),r}h.exports=function(i,r){for(var s,l=n.alloc(0),d=0;l.length<r;)s=o(d++),l=n.concat([l,c("sha1").update(i).update(s).digest()]);return l.slice(0,r)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,h,f){arguments[4][184][0].apply(f,arguments)},{buffer:188,dup:184}],471:[function(t,h,f){var c=t("parse-asn1"),n=t("./mgf"),o=t("./xor"),i=t("bn.js"),r=t("browserify-rsa"),s=t("create-hash"),l=t("./withPublic"),d=t("safe-buffer").Buffer;h.exports=function(u,x,b){var g;g=u.padding?u.padding:b?1:4;var v,y=c(u),N=y.modulus.byteLength();if(x.length>N||new i(x).cmp(y.modulus)>=0)throw new Error("decryption error");v=b?l(new i(x),y):r(x,y);var E=d.alloc(N-v.length);if(v=d.concat([E,v],N),g===4)return(function(I,O){var $=I.modulus.byteLength(),z=s("sha1").update(d.alloc(0)).digest(),U=z.length;if(O[0]!==0)throw new Error("decryption error");var V=O.slice(1,U+1),G=O.slice(U+1),B=o(V,n(G,U)),T=o(G,n(B,$-U-1));if((function(A,k){A=d.from(A),k=d.from(k);var S=0,j=A.length;A.length!==k.length&&(S++,j=Math.min(A.length,k.length));for(var C=-1;++C<j;)S+=A[C]^k[C];return S})(z,T.slice(0,U)))throw new Error("decryption error");for(var D=U;T[D]===0;)D++;if(T[D++]!==1)throw new Error("decryption error");return T.slice(D)})(y,v);if(g===1)return(function(I,O,$){for(var z=O.slice(0,2),U=2,V=0;O[U++]!==0;)if(U>=O.length){V++;break}var G=O.slice(2,U-1);if((z.toString("hex")!=="0002"&&!$||z.toString("hex")!=="0001"&&$)&&V++,G.length<8&&V++,V)throw new Error("decryption error");return O.slice(U)})(0,v,b);if(g===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,h,f){var c=t("parse-asn1"),n=t("randombytes"),o=t("create-hash"),i=t("./mgf"),r=t("./xor"),s=t("bn.js"),l=t("./withPublic"),d=t("browserify-rsa"),u=t("safe-buffer").Buffer;h.exports=function(x,b,g){var v;v=x.padding?x.padding:g?1:4;var y,N=c(x);if(v===4)y=(function(E,I){var O=E.modulus.byteLength(),$=I.length,z=o("sha1").update(u.alloc(0)).digest(),U=z.length,V=2*U;if($>O-V-2)throw new Error("message too long");var G=u.alloc(O-$-V-2),B=O-U-1,T=n(U),D=r(u.concat([z,G,u.alloc(1,1),I],B),i(T,B)),A=r(T,i(D,U));return new s(u.concat([u.alloc(1),A,D],O))})(N,b);else if(v===1)y=(function(E,I,O){var $,z=I.length,U=E.modulus.byteLength();if(z>U-11)throw new Error("message too long");return $=O?u.alloc(U-z-3,255):(function(V){for(var G,B=u.allocUnsafe(V),T=0,D=n(2*V),A=0;T<V;)A===D.length&&(D=n(2*V),A=0),(G=D[A++])&&(B[T++]=G);return B})(U-z-3),new s(u.concat([u.from([0,O?1:2]),$,u.alloc(1),I],U))})(N,b,g);else{if(v!==3)throw new Error("unknown padding");if((y=new s(b)).cmp(N.modulus)>=0)throw new Error("data too long for modulus")}return g?d(y,N):l(y,N)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,h,f){var c=t("bn.js"),n=t("safe-buffer").Buffer;h.exports=function(o,i){return n.from(o.toRed(c.mont(i.modulus)).redPow(new c(i.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,h,f){h.exports=function(c,n){for(var o=c.length,i=-1;++i<o;)c[i]^=n[i];return c}},{}],475:[function(t,h,f){(function(c,n){(function(){var o=t("safe-buffer").Buffer,i=n.crypto||n.msCrypto;i&&i.getRandomValues?h.exports=function(r,s){if(r>4294967295)throw new RangeError("requested too many random bytes");var l=o.allocUnsafe(r);if(r>0)if(r>65536)for(var d=0;d<r;d+=65536)i.getRandomValues(l.slice(d,d+65536));else i.getRandomValues(l);return typeof s=="function"?c.nextTick((function(){s(null,l)})):l}:h.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,h,f){(function(c,n){(function(){function o(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var i=t("safe-buffer"),r=t("randombytes"),s=i.Buffer,l=i.kMaxLength,d=n.crypto||n.msCrypto,u=Math.pow(2,32)-1;function x(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>u||v<0)throw new TypeError("offset must be a uint32");if(v>l||v>y)throw new RangeError("offset out of range")}function b(v,y,N){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>u||v<0)throw new TypeError("size must be a uint32");if(v+y>N||v>l)throw new RangeError("buffer too small")}function g(v,y,N,E){if(c.browser){var I=v.buffer,O=new Uint8Array(I,y,N);return d.getRandomValues(O),E?void c.nextTick((function(){E(null,v)})):v}if(!E)return r(N).copy(v,y),v;r(N,(function($,z){if($)return E($);z.copy(v,y),E(null,v)}))}d&&d.getRandomValues||!c.browser?(f.randomFill=function(v,y,N,E){if(!(s.isBuffer(v)||v instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")E=y,y=0,N=v.length;else if(typeof N=="function")E=N,N=v.length-y;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return x(y,v.length),b(N,y,v.length),g(v,y,N,E)},f.randomFillSync=function(v,y,N){if(y===void 0&&(y=0),!(s.isBuffer(v)||v instanceof n.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return x(y,v.length),N===void 0&&(N=v.length-y),b(N,y,v.length),g(v,y,N)}):(f.randomFill=o,f.randomFillSync=o)}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,h,f){var c={};function n(i,r,s){s||(s=Error);var l=(function(d){var u,x;function b(g,v,y){return d.call(this,(function(N,E,I){return typeof r=="string"?r:r(N,E,I)})(g,v,y))||this}return x=d,(u=b).prototype=Object.create(x.prototype),u.prototype.constructor=u,u.__proto__=x,b})(s);l.prototype.name=s.name,l.prototype.code=i,c[i]=l}function o(i,r){if(Array.isArray(i)){var s=i.length;return i=i.map((function(l){return String(l)})),s>2?"one of ".concat(r," ").concat(i.slice(0,s-1).join(", "),", or ")+i[s-1]:s===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}n("ERR_INVALID_OPT_VALUE",(function(i,r){return'The value "'+r+'" is invalid for option "'+i+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(i,r,s){var l,d,u;if(typeof r=="string"&&(d="not ",r.substr(0,d.length)===d)?(l="must not be",r=r.replace(/^not /,"")):l="must be",(function(b,g,v){return(v===void 0||v>b.length)&&(v=b.length),b.substring(v-g.length,v)===g})(i," argument"))u="The ".concat(i," ").concat(l," ").concat(o(r,"type"));else{var x=(function(b,g,v){return typeof v!="number"&&(v=0),!(v+g.length>b.length)&&b.indexOf(g,v)!==-1})(i,".")?"property":"argument";u='The "'.concat(i,'" ').concat(x," ").concat(l," ").concat(o(r,"type"))}return u+=". Received type ".concat(typeof s)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(i){return"The "+i+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(i){return"Cannot call "+i+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(i){return"Unknown encoding: "+i}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),h.exports.codes=c},{}],478:[function(t,h,f){(function(c){(function(){var n=Object.keys||function(b){var g=[];for(var v in b)g.push(v);return g};h.exports=d;var o=t("./_stream_readable"),i=t("./_stream_writable");t("inherits")(d,o);for(var r=n(i.prototype),s=0;s<r.length;s++){var l=r[s];d.prototype[l]||(d.prototype[l]=i.prototype[l])}function d(b){if(!(this instanceof d))return new d(b);o.call(this,b),i.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||c.nextTick(x,this)}function x(b){b.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,h,f){h.exports=n;var c=t("./_stream_transform");function n(o){if(!(this instanceof n))return new n(o);c.call(this,o)}t("inherits")(n,c),n.prototype._transform=function(o,i,r){r(null,o)}},{"./_stream_transform":481,inherits:440}],480:[function(t,h,f){(function(c,n){(function(){var o;h.exports=B,B.ReadableState=G,t("events").EventEmitter;var i=function(F,M){return F.listeners(M).length},r=t("./internal/streams/stream"),s=t("buffer").Buffer,l=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,u=t("util");d=u&&u.debuglog?u.debuglog("stream"):function(){};var x,b,g,v=t("./internal/streams/buffer_list"),y=t("./internal/streams/destroy"),N=t("./internal/streams/state").getHighWaterMark,E=t("../errors").codes,I=E.ERR_INVALID_ARG_TYPE,O=E.ERR_STREAM_PUSH_AFTER_EOF,$=E.ERR_METHOD_NOT_IMPLEMENTED,z=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(B,r);var U=y.errorOrDestroy,V=["error","close","destroy","pause","resume"];function G(F,M,K){o=o||t("./_stream_duplex"),F=F||{},typeof K!="boolean"&&(K=M instanceof o),this.objectMode=!!F.objectMode,K&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=N(this,F,"readableHighWaterMark",K),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(x||(x=t("string_decoder/").StringDecoder),this.decoder=new x(F.encoding),this.encoding=F.encoding)}function B(F){if(o=o||t("./_stream_duplex"),!(this instanceof B))return new B(F);var M=this instanceof o;this._readableState=new G(F,this,M),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),r.call(this)}function T(F,M,K,se,oe){d("readableAddChunk",M);var ne,le=F._readableState;if(M===null)le.reading=!1,(function(Se,je){if(d("onEofChunk"),!je.ended){if(je.decoder){var ee=je.decoder.end();ee&&ee.length&&(je.buffer.push(ee),je.length+=je.objectMode?1:ee.length)}je.ended=!0,je.sync?k(Se):(je.needReadable=!1,je.emittedReadable||(je.emittedReadable=!0,S(Se)))}})(F,le);else if(oe||(ne=(function(Se,je){var ee;ce=je,s.isBuffer(ce)||ce instanceof l||typeof je=="string"||je===void 0||Se.objectMode||(ee=new I("chunk",["string","Buffer","Uint8Array"],je));var ce;return ee})(le,M)),ne)U(F,ne);else if(le.objectMode||M&&M.length>0)if(typeof M=="string"||le.objectMode||Object.getPrototypeOf(M)===s.prototype||(M=(function(Se){return s.from(Se)})(M)),se)le.endEmitted?U(F,new z):D(F,le,M,!0);else if(le.ended)U(F,new O);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!K?(M=le.decoder.write(M),le.objectMode||M.length!==0?D(F,le,M,!1):j(F,le)):D(F,le,M,!1)}else se||(le.reading=!1,j(F,le));return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function D(F,M,K,se){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,F.emit("data",K)):(M.length+=M.objectMode?1:K.length,se?M.buffer.unshift(K):M.buffer.push(K),M.needReadable&&k(F)),j(F,M)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(F){this._readableState&&(this._readableState.destroyed=F)}}),B.prototype.destroy=y.destroy,B.prototype._undestroy=y.undestroy,B.prototype._destroy=function(F,M){M(F)},B.prototype.push=function(F,M){var K,se=this._readableState;return se.objectMode?K=!0:typeof F=="string"&&((M=M||se.defaultEncoding)!==se.encoding&&(F=s.from(F,M),M=""),K=!0),T(this,F,M,!1,K)},B.prototype.unshift=function(F){return T(this,F,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(F){x||(x=t("string_decoder/").StringDecoder);var M=new x(F);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,se="";K!==null;)se+=M.write(K.data),K=K.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};function A(F,M){return F<=0||M.length===0&&M.ended?0:M.objectMode?1:F!=F?M.flowing&&M.length?M.buffer.head.data.length:M.length:(F>M.highWaterMark&&(M.highWaterMark=(function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(F)),F<=M.length?F:M.ended?M.length:(M.needReadable=!0,0))}function k(F){var M=F._readableState;d("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(d("emitReadable",M.flowing),M.emittedReadable=!0,c.nextTick(S,F))}function S(F){var M=F._readableState;d("emitReadable_",M.destroyed,M.length,M.ended),M.destroyed||!M.length&&!M.ended||(F.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,Y(F)}function j(F,M){M.readingMore||(M.readingMore=!0,c.nextTick(C,F,M))}function C(F,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var K=M.length;if(d("maybeReadMore read 0"),F.read(0),K===M.length)break}M.readingMore=!1}function P(F){var M=F._readableState;M.readableListening=F.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:F.listenerCount("data")>0&&F.resume()}function R(F){d("readable nexttick read 0"),F.read(0)}function L(F,M){d("resume",M.reading),M.reading||F.read(0),M.resumeScheduled=!1,F.emit("resume"),Y(F),M.flowing&&!M.reading&&F.read(0)}function Y(F){var M=F._readableState;for(d("flow",M.flowing);M.flowing&&F.read()!==null;);}function Z(F,M){return M.length===0?null:(M.objectMode?K=M.buffer.shift():!F||F>=M.length?(K=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.first():M.buffer.concat(M.length),M.buffer.clear()):K=M.buffer.consume(F,M.decoder),K);var K}function ae(F){var M=F._readableState;d("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,c.nextTick(q,M,F))}function q(F,M){if(d("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,M.readable=!1,M.emit("end"),F.autoDestroy)){var K=M._writableState;(!K||K.autoDestroy&&K.finished)&&M.destroy()}}function X(F,M){for(var K=0,se=F.length;K<se;K++)if(F[K]===M)return K;return-1}B.prototype.read=function(F){d("read",F),F=parseInt(F,10);var M=this._readableState,K=F;if(F!==0&&(M.emittedReadable=!1),F===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return d("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?ae(this):k(this),null;if((F=A(F,M))===0&&M.ended)return M.length===0&&ae(this),null;var se,oe=M.needReadable;return d("need readable",oe),(M.length===0||M.length-F<M.highWaterMark)&&d("length less than watermark",oe=!0),M.ended||M.reading?d("reading or ended",oe=!1):oe&&(d("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(F=A(K,M))),(se=F>0?Z(F,M):null)===null?(M.needReadable=M.length<=M.highWaterMark,F=0):(M.length-=F,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),K!==F&&M.ended&&ae(this)),se!==null&&this.emit("data",se),se},B.prototype._read=function(F){U(this,new $("_read()"))},B.prototype.pipe=function(F,M){var K=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=F;break;case 1:se.pipes=[se.pipes,F];break;default:se.pipes.push(F)}se.pipesCount+=1,d("pipe count=%d opts=%j",se.pipesCount,M);var oe=(!M||M.end!==!1)&&F!==c.stdout&&F!==c.stderr?le:Ce;function ne(Pe,Be){d("onunpipe"),Pe===K&&Be&&Be.hasUnpiped===!1&&(Be.hasUnpiped=!0,d("cleanup"),F.removeListener("close",be),F.removeListener("finish",Te),F.removeListener("drain",Se),F.removeListener("error",ce),F.removeListener("unpipe",ne),K.removeListener("end",le),K.removeListener("end",Ce),K.removeListener("data",ee),je=!0,!se.awaitDrain||F._writableState&&!F._writableState.needDrain||Se())}function le(){d("onend"),F.end()}se.endEmitted?c.nextTick(oe):K.once("end",oe),F.on("unpipe",ne);var Se=(function(Pe){return function(){var Be=Pe._readableState;d("pipeOnDrain",Be.awaitDrain),Be.awaitDrain&&Be.awaitDrain--,Be.awaitDrain===0&&i(Pe,"data")&&(Be.flowing=!0,Y(Pe))}})(K);F.on("drain",Se);var je=!1;function ee(Pe){d("ondata");var Be=F.write(Pe);d("dest.write",Be),Be===!1&&((se.pipesCount===1&&se.pipes===F||se.pipesCount>1&&X(se.pipes,F)!==-1)&&!je&&(d("false write response, pause",se.awaitDrain),se.awaitDrain++),K.pause())}function ce(Pe){d("onerror",Pe),Ce(),F.removeListener("error",ce),i(F,"error")===0&&U(F,Pe)}function be(){F.removeListener("finish",Te),Ce()}function Te(){d("onfinish"),F.removeListener("close",be),Ce()}function Ce(){d("unpipe"),K.unpipe(F)}return K.on("data",ee),(function(Pe,Be,Ge){if(typeof Pe.prependListener=="function")return Pe.prependListener(Be,Ge);Pe._events&&Pe._events[Be]?Array.isArray(Pe._events[Be])?Pe._events[Be].unshift(Ge):Pe._events[Be]=[Ge,Pe._events[Be]]:Pe.on(Be,Ge)})(F,"error",ce),F.once("close",be),F.once("finish",Te),F.emit("pipe",K),se.flowing||(d("pipe resume"),K.resume()),F},B.prototype.unpipe=function(F){var M=this._readableState,K={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return F&&F!==M.pipes||(F||(F=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,F&&F.emit("unpipe",this,K)),this;if(!F){var se=M.pipes,oe=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var ne=0;ne<oe;ne++)se[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var le=X(M.pipes,F);return le===-1||(M.pipes.splice(le,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),F.emit("unpipe",this,K)),this},B.prototype.on=function(F,M){var K=r.prototype.on.call(this,F,M),se=this._readableState;return F==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):F==="readable"&&(se.endEmitted||se.readableListening||(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,d("on readable",se.length,se.reading),se.length?k(this):se.reading||c.nextTick(R,this))),K},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(F,M){var K=r.prototype.removeListener.call(this,F,M);return F==="readable"&&c.nextTick(P,this),K},B.prototype.removeAllListeners=function(F){var M=r.prototype.removeAllListeners.apply(this,arguments);return F!=="readable"&&F!==void 0||c.nextTick(P,this),M},B.prototype.resume=function(){var F=this._readableState;return F.flowing||(d("resume"),F.flowing=!F.readableListening,(function(M,K){K.resumeScheduled||(K.resumeScheduled=!0,c.nextTick(L,M,K))})(this,F)),F.paused=!1,this},B.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(F){var M=this,K=this._readableState,se=!1;for(var oe in F.on("end",(function(){if(d("wrapped end"),K.decoder&&!K.ended){var le=K.decoder.end();le&&le.length&&M.push(le)}M.push(null)})),F.on("data",(function(le){d("wrapped data"),K.decoder&&(le=K.decoder.write(le)),K.objectMode&&le==null||(K.objectMode||le&&le.length)&&(M.push(le)||(se=!0,F.pause()))})),F)this[oe]===void 0&&typeof F[oe]=="function"&&(this[oe]=(function(le){return function(){return F[le].apply(F,arguments)}})(oe));for(var ne=0;ne<V.length;ne++)F.on(V[ne],this.emit.bind(this,V[ne]));return this._read=function(le){d("wrapped _read",le),se&&(se=!1,F.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=t("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(F){this._readableState&&(this._readableState.flowing=F)}}),B._fromList=Z,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(B.from=function(F,M){return g===void 0&&(g=t("./internal/streams/from")),g(B,F,M)})}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,h,f){h.exports=d;var c=t("../errors").codes,n=c.ERR_METHOD_NOT_IMPLEMENTED,o=c.ERR_MULTIPLE_CALLBACK,i=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=c.ERR_TRANSFORM_WITH_LENGTH_0,s=t("./_stream_duplex");function l(b,g){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new o);v.writechunk=null,v.writecb=null,g!=null&&this.push(g),y(b);var N=this._readableState;N.reading=!1,(N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}function d(b){if(!(this instanceof d))return new d(b);s.call(this,b),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",u)}function u(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?x(this,null,null):this._flush((function(g,v){x(b,g,v)}))}function x(b,g,v){if(g)return b.emit("error",g);if(v!=null&&b.push(v),b._writableState.length)throw new r;if(b._transformState.transforming)throw new i;return b.push(null)}t("inherits")(d,s),d.prototype.push=function(b,g){return this._transformState.needTransform=!1,s.prototype.push.call(this,b,g)},d.prototype._transform=function(b,g,v){v(new n("_transform()"))},d.prototype._write=function(b,g,v){var y=this._transformState;if(y.writecb=v,y.writechunk=b,y.writeencoding=g,!y.transforming){var N=this._readableState;(y.needTransform||N.needReadable||N.length<N.highWaterMark)&&this._read(N.highWaterMark)}},d.prototype._read=function(b){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},d.prototype._destroy=function(b,g){s.prototype._destroy.call(this,b,(function(v){g(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,h,f){(function(c,n){(function(){function o(C){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(R,L,Y){var Z=R.entry;for(R.entry=null;Z;){var ae=Z.callback;L.pendingcb--,ae(Y),Z=Z.next}L.corkedRequestsFree.next=R})(P,C)}}var i;h.exports=B,B.WritableState=G;var r={deprecate:t("util-deprecate")},s=t("./internal/streams/stream"),l=t("buffer").Buffer,d=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,x=t("./internal/streams/destroy"),b=t("./internal/streams/state").getHighWaterMark,g=t("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,N=g.ERR_MULTIPLE_CALLBACK,E=g.ERR_STREAM_CANNOT_PIPE,I=g.ERR_STREAM_DESTROYED,O=g.ERR_STREAM_NULL_VALUES,$=g.ERR_STREAM_WRITE_AFTER_END,z=g.ERR_UNKNOWN_ENCODING,U=x.errorOrDestroy;function V(){}function G(C,P,R){i=i||t("./_stream_duplex"),C=C||{},typeof R!="boolean"&&(R=P instanceof i),this.objectMode=!!C.objectMode,R&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=b(this,C,"writableHighWaterMark",R),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=C.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){(function(Z,ae){var q=Z._writableState,X=q.sync,F=q.writecb;if(typeof F!="function")throw new N;if((function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0})(q),ae)(function(K,se,oe,ne,le){--se.pendingcb,oe?(c.nextTick(le,ne),c.nextTick(j,K,se),K._writableState.errorEmitted=!0,U(K,ne)):(le(ne),K._writableState.errorEmitted=!0,U(K,ne),j(K,se))})(Z,q,X,ae,F);else{var M=k(q)||Z.destroyed;M||q.corked||q.bufferProcessing||!q.bufferedRequest||A(Z,q),X?c.nextTick(D,Z,q,M,F):D(Z,q,M,F)}})(P,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(C){var P=this instanceof(i=i||t("./_stream_duplex"));if(!P&&!u.call(B,this))return new B(C);this._writableState=new G(C,this,P),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),s.call(this)}function T(C,P,R,L,Y,Z,ae){P.writelen=L,P.writecb=ae,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new I("write")):R?C._writev(Y,P.onwrite):C._write(Y,Z,P.onwrite),P.sync=!1}function D(C,P,R,L){R||(function(Y,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,Y.emit("drain"))})(C,P),P.pendingcb--,L(),j(C,P)}function A(C,P){P.bufferProcessing=!0;var R=P.bufferedRequest;if(C._writev&&R&&R.next){var L=P.bufferedRequestCount,Y=new Array(L),Z=P.corkedRequestsFree;Z.entry=R;for(var ae=0,q=!0;R;)Y[ae]=R,R.isBuf||(q=!1),R=R.next,ae+=1;Y.allBuffers=q,T(C,P,!0,P.length,Y,"",Z.finish),P.pendingcb++,P.lastBufferedRequest=null,Z.next?(P.corkedRequestsFree=Z.next,Z.next=null):P.corkedRequestsFree=new o(P),P.bufferedRequestCount=0}else{for(;R;){var X=R.chunk,F=R.encoding,M=R.callback;if(T(C,P,!1,P.objectMode?1:X.length,X,F,M),R=R.next,P.bufferedRequestCount--,P.writing)break}R===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=R,P.bufferProcessing=!1}function k(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function S(C,P){C._final((function(R){P.pendingcb--,R&&U(C,R),P.prefinished=!0,C.emit("prefinish"),j(C,P)}))}function j(C,P){var R=k(P);if(R&&((function(Y,Z){Z.prefinished||Z.finalCalled||(typeof Y._final!="function"||Z.destroyed?(Z.prefinished=!0,Y.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,c.nextTick(S,Y,Z)))})(C,P),P.pendingcb===0&&(P.finished=!0,C.emit("finish"),P.autoDestroy))){var L=C._readableState;(!L||L.autoDestroy&&L.endEmitted)&&C.destroy()}return R}t("inherits")(B,s),G.prototype.getBuffer=function(){for(var C=this.bufferedRequest,P=[];C;)P.push(C),C=C.next;return P},(function(){try{Object.defineProperty(G.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(C){return!!u.call(this,C)||this===B&&C&&C._writableState instanceof G}})):u=function(C){return C instanceof this},B.prototype.pipe=function(){U(this,new E)},B.prototype.write=function(C,P,R){var L,Y=this._writableState,Z=!1,ae=!Y.objectMode&&(L=C,l.isBuffer(L)||L instanceof d);return ae&&!l.isBuffer(C)&&(C=(function(q){return l.from(q)})(C)),typeof P=="function"&&(R=P,P=null),ae?P="buffer":P||(P=Y.defaultEncoding),typeof R!="function"&&(R=V),Y.ending?(function(q,X){var F=new $;U(q,F),c.nextTick(X,F)})(this,R):(ae||(function(q,X,F,M){var K;return F===null?K=new O:typeof F=="string"||X.objectMode||(K=new v("chunk",["string","Buffer"],F)),!K||(U(q,K),c.nextTick(M,K),!1)})(this,Y,C,R))&&(Y.pendingcb++,Z=(function(q,X,F,M,K,se){if(!F){var oe=(function(je,ee,ce){return je.objectMode||je.decodeStrings===!1||typeof ee!="string"||(ee=l.from(ee,ce)),ee})(X,M,K);M!==oe&&(F=!0,K="buffer",M=oe)}var ne=X.objectMode?1:M.length;X.length+=ne;var le=X.length<X.highWaterMark;if(le||(X.needDrain=!0),X.writing||X.corked){var Se=X.lastBufferedRequest;X.lastBufferedRequest={chunk:M,encoding:K,isBuf:F,callback:se,next:null},Se?Se.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else T(q,X,!1,ne,M,K,se);return le})(this,Y,ae,C,P,R)),Z},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||A(this,C))},B.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new z(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(C,P,R){R(new y("_write()"))},B.prototype._writev=null,B.prototype.end=function(C,P,R){var L=this._writableState;return typeof C=="function"?(R=C,C=null,P=null):typeof P=="function"&&(R=P,P=null),C!=null&&this.write(C,P),L.corked&&(L.corked=1,this.uncork()),L.ending||(function(Y,Z,ae){Z.ending=!0,j(Y,Z),ae&&(Z.finished?c.nextTick(ae):Y.once("finish",ae)),Z.ended=!0,Y.writable=!1})(this,L,R),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),B.prototype.destroy=x.destroy,B.prototype._undestroy=x.undestroy,B.prototype._destroy=function(C,P){P(C)}}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,h,f){(function(c){(function(){var n;function o(I,O,$){return(O=(function(z){var U=(function(V,G){if(typeof V!="object"||V===null)return V;var B=V[Symbol.toPrimitive];if(B!==void 0){var T=B.call(V,G);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(V)})(z,"string");return typeof U=="symbol"?U:String(U)})(O))in I?Object.defineProperty(I,O,{value:$,enumerable:!0,configurable:!0,writable:!0}):I[O]=$,I}var i=t("./end-of-stream"),r=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),d=Symbol("ended"),u=Symbol("lastPromise"),x=Symbol("handlePromise"),b=Symbol("stream");function g(I,O){return{value:I,done:O}}function v(I){var O=I[r];if(O!==null){var $=I[b].read();$!==null&&(I[u]=null,I[r]=null,I[s]=null,O(g($,!1)))}}function y(I){c.nextTick(v,I)}var N=Object.getPrototypeOf((function(){})),E=Object.setPrototypeOf((o(n={get stream(){return this[b]},next:function(){var I=this,O=this[l];if(O!==null)return Promise.reject(O);if(this[d])return Promise.resolve(g(void 0,!0));if(this[b].destroyed)return new Promise((function(V,G){c.nextTick((function(){I[l]?G(I[l]):V(g(void 0,!0))}))}));var $,z=this[u];if(z)$=new Promise((function(V,G){return function(B,T){V.then((function(){G[d]?B(g(void 0,!0)):G[x](B,T)}),T)}})(z,this));else{var U=this[b].read();if(U!==null)return Promise.resolve(g(U,!1));$=new Promise(this[x])}return this[u]=$,$}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var I=this;return new Promise((function(O,$){I[b].destroy(null,(function(z){z?$(z):O(g(void 0,!0))}))}))})),n),N);h.exports=function(I){var O,$=Object.create(E,(o(O={},b,{value:I,writable:!0}),o(O,r,{value:null,writable:!0}),o(O,s,{value:null,writable:!0}),o(O,l,{value:null,writable:!0}),o(O,d,{value:I._readableState.endEmitted,writable:!0}),o(O,x,{value:function(z,U){var V=$[b].read();V?($[u]=null,$[r]=null,$[s]=null,z(g(V,!1))):($[r]=z,$[s]=U)},writable:!0}),O));return $[u]=null,i(I,(function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=$[s];return U!==null&&($[u]=null,$[r]=null,$[s]=null,U(z)),void($[l]=z)}var V=$[r];V!==null&&($[u]=null,$[r]=null,$[s]=null,V(g(void 0,!0))),$[d]=!0})),I.on("readable",y.bind(null,$)),$}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,h,f){function c(u,x){var b=Object.keys(u);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(u);x&&(g=g.filter((function(v){return Object.getOwnPropertyDescriptor(u,v).enumerable}))),b.push.apply(b,g)}return b}function n(u){for(var x=1;x<arguments.length;x++){var b=arguments[x]!=null?arguments[x]:{};x%2?c(Object(b),!0).forEach((function(g){o(u,g,b[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(b)):c(Object(b)).forEach((function(g){Object.defineProperty(u,g,Object.getOwnPropertyDescriptor(b,g))}))}return u}function o(u,x,b){return(x=r(x))in u?Object.defineProperty(u,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):u[x]=b,u}function i(u,x){for(var b=0;b<x.length;b++){var g=x[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,r(g.key),g)}}function r(u){var x=(function(b,g){if(typeof b!="object"||b===null)return b;var v=b[Symbol.toPrimitive];if(v!==void 0){var y=v.call(b,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(b)})(u,"string");return typeof x=="symbol"?x:String(x)}var s=t("buffer").Buffer,l=t("util").inspect,d=l&&l.custom||"inspect";h.exports=(function(){function u(){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var x,b;return x=u,(b=[{key:"push",value:function(g){var v={data:g,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(g){var v={data:g,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=g+v.data;return y}},{key:"concat",value:function(g){if(this.length===0)return s.alloc(0);for(var v,y,N,E=s.allocUnsafe(g>>>0),I=this.head,O=0;I;)v=I.data,y=E,N=O,s.prototype.copy.call(v,y,N),O+=I.data.length,I=I.next;return E}},{key:"consume",value:function(g,v){var y;return g<this.head.data.length?(y=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):y=g===this.head.data.length?this.shift():v?this._getString(g):this._getBuffer(g),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var v=this.head,y=1,N=v.data;for(g-=N.length;v=v.next;){var E=v.data,I=g>E.length?E.length:g;if(I===E.length?N+=E:N+=E.slice(0,g),(g-=I)==0){I===E.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=E.slice(I));break}++y}return this.length-=y,N}},{key:"_getBuffer",value:function(g){var v=s.allocUnsafe(g),y=this.head,N=1;for(y.data.copy(v),g-=y.data.length;y=y.next;){var E=y.data,I=g>E.length?E.length:g;if(E.copy(v,v.length-g,0,I),(g-=I)==0){I===E.length?(++N,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(I));break}++N}return this.length-=N,v}},{key:d,value:function(g,v){return l(this,n(n({},v),{},{depth:0,customInspect:!1}))}}])&&i(x.prototype,b),Object.defineProperty(x,"prototype",{writable:!1}),u})()},{buffer:220,util:188}],485:[function(t,h,f){(function(c){(function(){function n(r,s){i(r,s),o(r)}function o(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function i(r,s){r.emit("error",s)}h.exports={destroy:function(r,s){var l=this,d=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return d||u?(s?s(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(i,this,r)):c.nextTick(i,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(x){!s&&x?l._writableState?l._writableState.errorEmitted?c.nextTick(o,l):(l._writableState.errorEmitted=!0,c.nextTick(n,l,x)):c.nextTick(n,l,x):s?(c.nextTick(o,l),s(x)):c.nextTick(o,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,s){var l=r._readableState,d=r._writableState;l&&l.autoDestroy||d&&d.autoDestroy?r.destroy(s):r.emit("error",s)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,h,f){var c=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function n(){}h.exports=function o(i,r,s){if(typeof r=="function")return o(i,null,r);r||(r={}),s=(function(I){var O=!1;return function(){if(!O){O=!0;for(var $=arguments.length,z=new Array($),U=0;U<$;U++)z[U]=arguments[U];I.apply(this,z)}}})(s||n);var l=r.readable||r.readable!==!1&&i.readable,d=r.writable||r.writable!==!1&&i.writable,u=function(){i.writable||b()},x=i._writableState&&i._writableState.finished,b=function(){d=!1,x=!0,l||s.call(i)},g=i._readableState&&i._readableState.endEmitted,v=function(){l=!1,g=!0,d||s.call(i)},y=function(I){s.call(i,I)},N=function(){var I;return l&&!g?(i._readableState&&i._readableState.ended||(I=new c),s.call(i,I)):d&&!x?(i._writableState&&i._writableState.ended||(I=new c),s.call(i,I)):void 0},E=function(){i.req.on("finish",b)};return(function(I){return I.setHeader&&typeof I.abort=="function"})(i)?(i.on("complete",b),i.on("abort",N),i.req?E():i.on("request",E)):d&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",v),i.on("finish",b),r.error!==!1&&i.on("error",y),i.on("close",N),function(){i.removeListener("complete",b),i.removeListener("abort",N),i.removeListener("request",E),i.req&&i.req.removeListener("finish",b),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",b),i.removeListener("end",v),i.removeListener("error",y),i.removeListener("close",N)}}},{"../../../errors":477}],487:[function(t,h,f){h.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,h,f){var c,n=t("../../../errors").codes,o=n.ERR_MISSING_ARGS,i=n.ERR_STREAM_DESTROYED;function r(x){if(x)throw x}function s(x,b,g,v){v=(function(E){var I=!1;return function(){I||(I=!0,E.apply(void 0,arguments))}})(v);var y=!1;x.on("close",(function(){y=!0})),c===void 0&&(c=t("./end-of-stream")),c(x,{readable:b,writable:g},(function(E){if(E)return v(E);y=!0,v()}));var N=!1;return function(E){if(!y&&!N)return N=!0,(function(I){return I.setHeader&&typeof I.abort=="function"})(x)?x.abort():typeof x.destroy=="function"?x.destroy():void v(E||new i("pipe"))}}function l(x){x()}function d(x,b){return x.pipe(b)}function u(x){return x.length?typeof x[x.length-1]!="function"?r:x.pop():r}h.exports=function(){for(var x=arguments.length,b=new Array(x),g=0;g<x;g++)b[g]=arguments[g];var v,y=u(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new o("streams");var N=b.map((function(E,I){var O=I<b.length-1;return s(E,O,I>0,(function($){v||(v=$),$&&N.forEach(l),O||(N.forEach(l),y(v))}))}));return b.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,h,f){var c=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;h.exports={getHighWaterMark:function(n,o,i,r){var s=(function(l,d,u){return l.highWaterMark!=null?l.highWaterMark:d?l[u]:null})(o,r,i);if(s!=null){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new c(r?i:"highWaterMark",s);return Math.floor(s)}return n.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,h,f){h.exports=t("events").EventEmitter},{events:422}],491:[function(t,h,f){(f=h.exports=t("./lib/_stream_readable.js")).Stream=f,f.Readable=f,f.Writable=t("./lib/_stream_writable.js"),f.Duplex=t("./lib/_stream_duplex.js"),f.Transform=t("./lib/_stream_transform.js"),f.PassThrough=t("./lib/_stream_passthrough.js"),f.finished=t("./lib/internal/streams/end-of-stream.js"),f.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,h,f){var c=(function(n){var o=Object.prototype,i=o.hasOwnProperty,r=Object.defineProperty||function(j,C,P){j[C]=P.value},s=typeof Symbol=="function"?Symbol:{},l=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function x(j,C,P){return Object.defineProperty(j,C,{value:P,enumerable:!0,configurable:!0,writable:!0}),j[C]}try{x({},"")}catch{x=function(C,P,R){return C[P]=R}}function b(j,C,P,R){var L=C&&C.prototype instanceof y?C:y,Y=Object.create(L.prototype),Z=new A(R||[]);return r(Y,"_invoke",{value:G(j,P,Z)}),Y}function g(j,C,P){try{return{type:"normal",arg:j.call(C,P)}}catch(R){return{type:"throw",arg:R}}}n.wrap=b;var v={};function y(){}function N(){}function E(){}var I={};x(I,l,(function(){return this}));var O=Object.getPrototypeOf,$=O&&O(O(k([])));$&&$!==o&&i.call($,l)&&(I=$);var z=E.prototype=y.prototype=Object.create(I);function U(j){["next","throw","return"].forEach((function(C){x(j,C,(function(P){return this._invoke(C,P)}))}))}function V(j,C){var P;r(this,"_invoke",{value:function(R,L){function Y(){return new C((function(Z,ae){(function q(X,F,M,K){var se=g(j[X],j,F);if(se.type!=="throw"){var oe=se.arg,ne=oe.value;return ne&&typeof ne=="object"&&i.call(ne,"__await")?C.resolve(ne.__await).then((function(le){q("next",le,M,K)}),(function(le){q("throw",le,M,K)})):C.resolve(ne).then((function(le){oe.value=le,M(oe)}),(function(le){return q("throw",le,M,K)}))}K(se.arg)})(R,L,Z,ae)}))}return P=P?P.then(Y,Y):Y()}})}function G(j,C,P){var R="suspendedStart";return function(L,Y){if(R==="executing")throw new Error("Generator is already running");if(R==="completed"){if(L==="throw")throw Y;return S()}for(P.method=L,P.arg=Y;;){var Z=P.delegate;if(Z){var ae=B(Z,P);if(ae){if(ae===v)continue;return ae}}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(R==="suspendedStart")throw R="completed",P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);R="executing";var q=g(j,C,P);if(q.type==="normal"){if(R=P.done?"completed":"suspendedYield",q.arg===v)continue;return{value:q.arg,done:P.done}}q.type==="throw"&&(R="completed",P.method="throw",P.arg=q.arg)}}}function B(j,C){var P=C.method,R=j.iterator[P];if(R===void 0)return C.delegate=null,P==="throw"&&j.iterator.return&&(C.method="return",C.arg=void 0,B(j,C),C.method==="throw")||P!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+P+"' method")),v;var L=g(R,j.iterator,C.arg);if(L.type==="throw")return C.method="throw",C.arg=L.arg,C.delegate=null,v;var Y=L.arg;return Y?Y.done?(C[j.resultName]=Y.value,C.next=j.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,v):Y:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,v)}function T(j){var C={tryLoc:j[0]};1 in j&&(C.catchLoc=j[1]),2 in j&&(C.finallyLoc=j[2],C.afterLoc=j[3]),this.tryEntries.push(C)}function D(j){var C=j.completion||{};C.type="normal",delete C.arg,j.completion=C}function A(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(T,this),this.reset(!0)}function k(j){if(j){var C=j[l];if(C)return C.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var P=-1,R=function L(){for(;++P<j.length;)if(i.call(j,P))return L.value=j[P],L.done=!1,L;return L.value=void 0,L.done=!0,L};return R.next=R}}return{next:S}}function S(){return{value:void 0,done:!0}}return N.prototype=E,r(z,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:N,configurable:!0}),N.displayName=x(E,u,"GeneratorFunction"),n.isGeneratorFunction=function(j){var C=typeof j=="function"&&j.constructor;return!!C&&(C===N||(C.displayName||C.name)==="GeneratorFunction")},n.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,E):(j.__proto__=E,x(j,u,"GeneratorFunction")),j.prototype=Object.create(z),j},n.awrap=function(j){return{__await:j}},U(V.prototype),x(V.prototype,d,(function(){return this})),n.AsyncIterator=V,n.async=function(j,C,P,R,L){L===void 0&&(L=Promise);var Y=new V(b(j,C,P,R),L);return n.isGeneratorFunction(C)?Y:Y.next().then((function(Z){return Z.done?Z.value:Y.next()}))},U(z),x(z,u,"Generator"),x(z,l,(function(){return this})),x(z,"toString",(function(){return"[object Generator]"})),n.keys=function(j){var C=Object(j),P=[];for(var R in C)P.push(R);return P.reverse(),function L(){for(;P.length;){var Y=P.pop();if(Y in C)return L.value=Y,L.done=!1,L}return L.done=!0,L}},n.values=k,A.prototype={constructor:A,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!j)for(var C in this)C.charAt(0)==="t"&&i.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var C=this;function P(q,X){return Y.type="throw",Y.arg=j,C.next=q,X&&(C.method="next",C.arg=void 0),!!X}for(var R=this.tryEntries.length-1;R>=0;--R){var L=this.tryEntries[R],Y=L.completion;if(L.tryLoc==="root")return P("end");if(L.tryLoc<=this.prev){var Z=i.call(L,"catchLoc"),ae=i.call(L,"finallyLoc");if(Z&&ae){if(this.prev<L.catchLoc)return P(L.catchLoc,!0);if(this.prev<L.finallyLoc)return P(L.finallyLoc)}else if(Z){if(this.prev<L.catchLoc)return P(L.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return P(L.finallyLoc)}}}},abrupt:function(j,C){for(var P=this.tryEntries.length-1;P>=0;--P){var R=this.tryEntries[P];if(R.tryLoc<=this.prev&&i.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var L=R;break}}L&&(j==="break"||j==="continue")&&L.tryLoc<=C&&C<=L.finallyLoc&&(L=null);var Y=L?L.completion:{};return Y.type=j,Y.arg=C,L?(this.method="next",this.next=L.finallyLoc,v):this.complete(Y)},complete:function(j,C){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&C&&(this.next=C),v},finish:function(j){for(var C=this.tryEntries.length-1;C>=0;--C){var P=this.tryEntries[C];if(P.finallyLoc===j)return this.complete(P.completion,P.afterLoc),D(P),v}},catch:function(j){for(var C=this.tryEntries.length-1;C>=0;--C){var P=this.tryEntries[C];if(P.tryLoc===j){var R=P.completion;if(R.type==="throw"){var L=R.arg;D(P)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(j,C,P){return this.delegate={iterator:k(j),resultName:C,nextLoc:P},this.method==="next"&&(this.arg=void 0),v}},n})(typeof h=="object"?h.exports:{});try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}},{}],493:[function(t,h,f){var c=t("buffer").Buffer,n=t("inherits"),o=t("hash-base"),i=new Array(16),r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],x=[1352829926,1548603684,1836072691,2053994217,0];function b(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(O,$){return O<<$|O>>>32-$}function v(O,$,z,U,V,G,B,T){return g(O+($^z^U)+G+B|0,T)+V|0}function y(O,$,z,U,V,G,B,T){return g(O+($&z|~$&U)+G+B|0,T)+V|0}function N(O,$,z,U,V,G,B,T){return g(O+(($|~z)^U)+G+B|0,T)+V|0}function E(O,$,z,U,V,G,B,T){return g(O+($&U|z&~U)+G+B|0,T)+V|0}function I(O,$,z,U,V,G,B,T){return g(O+($^(z|~U))+G+B|0,T)+V|0}n(b,o),b.prototype._update=function(){for(var O=i,$=0;$<16;++$)O[$]=this._block.readInt32LE(4*$);for(var z=0|this._a,U=0|this._b,V=0|this._c,G=0|this._d,B=0|this._e,T=0|this._a,D=0|this._b,A=0|this._c,k=0|this._d,S=0|this._e,j=0;j<80;j+=1){var C,P;j<16?(C=v(z,U,V,G,B,O[r[j]],u[0],l[j]),P=I(T,D,A,k,S,O[s[j]],x[0],d[j])):j<32?(C=y(z,U,V,G,B,O[r[j]],u[1],l[j]),P=E(T,D,A,k,S,O[s[j]],x[1],d[j])):j<48?(C=N(z,U,V,G,B,O[r[j]],u[2],l[j]),P=N(T,D,A,k,S,O[s[j]],x[2],d[j])):j<64?(C=E(z,U,V,G,B,O[r[j]],u[3],l[j]),P=y(T,D,A,k,S,O[s[j]],x[3],d[j])):(C=I(z,U,V,G,B,O[r[j]],u[4],l[j]),P=v(T,D,A,k,S,O[s[j]],x[4],d[j])),z=B,B=G,G=g(V,10),V=U,U=C,T=S,S=k,k=g(A,10),A=D,D=P}var R=this._b+V+k|0;this._b=this._c+G+S|0,this._c=this._d+B+T|0,this._d=this._e+z+D|0,this._e=this._a+U+A|0,this._a=R},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=c.alloc?c.alloc(20):new c(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},h.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,h,f){var c=t("buffer"),n=c.Buffer;function o(r,s){for(var l in r)s[l]=r[l]}function i(r,s,l){return n(r,s,l)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?h.exports=c:(o(c,f),f.Buffer=i),i.prototype=Object.create(n.prototype),o(n,i),i.from=function(r,s,l){if(typeof r=="number")throw new TypeError("Argument must not be a number");return n(r,s,l)},i.alloc=function(r,s,l){if(typeof r!="number")throw new TypeError("Argument must be a number");var d=n(r);return s!==void 0?typeof l=="string"?d.fill(s,l):d.fill(s):d.fill(0),d},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return n(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(r)}},{buffer:220}],495:[function(t,h,f){(function(c){(function(){var n,o=t("buffer"),i=o.Buffer,r={};for(n in o)o.hasOwnProperty(n)&&n!=="SlowBuffer"&&n!=="Buffer"&&(r[n]=o[n]);var s=r.Buffer={};for(n in i)i.hasOwnProperty(n)&&n!=="allocUnsafe"&&n!=="allocUnsafeSlow"&&(s[n]=i[n]);if(r.Buffer.prototype=i.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(l,d,u){if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof l);if(l&&l.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);return i(l,d,u)}),s.alloc||(s.alloc=function(l,d,u){if(typeof l!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof l);if(l<0||l>=2*(1<<30))throw new RangeError('The value "'+l+'" is invalid for option "size"');var x=i(l);return d&&d.length!==0?typeof u=="string"?x.fill(d,u):x.fill(d):x.fill(0),x}),!r.kStringMaxLength)try{r.kStringMaxLength=c.binding("buffer").kStringMaxLength}catch{}r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),h.exports=r}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0});const c=t("xmlchars/xml/1.0/ed5"),n=t("xmlchars/xml/1.1/ed2"),o=t("xmlchars/xmlns/1.0/ed3");var i=c.isS,r=c.isChar,s=c.isNameStartChar,l=c.isNameChar,d=c.S_LIST,u=c.NAME_RE,x=n.isChar,b=o.isNCNameStartChar,g=o.isNCNameChar,v=o.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:y,xmlns:N},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=k=>k===34||k===39,$=[34,39],z=[...$,91,62],U=[...$,60,93],V=[61,63,...d],G=[...d,62,38,60];function B(k,S,j){switch(S){case"xml":j!==y&&k.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":j!==N&&k.fail(`xmlns prefix must be bound to ${N}.`)}switch(j){case N:k.fail(S===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${N}.`);break;case y:switch(S){case"xml":break;case"":k.fail(`the default namespace may not be set to ${j}.`);break;default:k.fail("may not assign the xml namespace to another prefix.")}}}const T=k=>v.test(k),D=k=>u.test(k);f.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};f.SaxesParser=class{constructor(k){this.opt=k??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=b,this.nameCheck=g,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const j=this.opt.additionalNamespaces;j!=null&&((function(C,P){for(const R of Object.keys(P))B(C,R,P[R])})(this,j),Object.assign(this.ns,j))}else this.nameStartCheck=s,this.nameCheck=l,this.isName=D,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var k;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:j}=this.opt;if(j===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");j="1.0"}this.setXMLVersion(j),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(k=this.readyHandler)===null||k===void 0||k.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(k,S){this[A[k]]=S}off(k){this[A[k]]=void 0}makeError(k){var S;let j=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(j.length>0&&(j+=":"),j+=`${this.line}:${this.column}`),j.length>0&&(j+=": "),new Error(j+k)}fail(k){const S=this.makeError(k),j=this.errorHandler;if(j===void 0)throw S;return j(S),this}write(k){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;k===null?(S=!0,k=""):typeof k=="object"&&(k=k.toString()),this.carriedFromPrevious!==void 0&&(k=`${this.carriedFromPrevious}${k}`,this.carriedFromPrevious=void 0);let j=k.length;const C=k.charCodeAt(j-1);!S&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=k[j-1],j--,k=k.slice(0,j));const{stateTable:P}=this;for(this.chunk=k,this.i=0;this.i<j;)P[this.state].call(this);return this.chunkPosition+=j,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:k,i:S}=this;if(this.prevI=S,this.i=S+1,S>=k.length)return-1;const j=k.charCodeAt(S);if(this.column++,j<55296){if(j>=32||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return k.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const C=65536+1024*(j-55296)+(k.charCodeAt(S+1)-56320);return this.i=S+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:k,i:S}=this;if(this.prevI=S,this.i=S+1,S>=k.length)return-1;const j=k.charCodeAt(S);if(this.column++,j<55296){if(j>31&&j<127||j>159&&j!==8232||j===9)return j;switch(j){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const P=k.charCodeAt(S+1);P!==10&&P!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),j}}if(j>56319)return j>=57344&&j<=65533||this.fail("disallowed character."),j;const C=65536+1024*(j-55296)+(k.charCodeAt(S+1)-56320);return this.i=S+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const k=this.getCode();return k===-2?10:k}unget(){this.i=this.prevI,this.column--}captureTo(k){let{i:S}=this;const{chunk:j}=this;for(;;){const C=this.getCode(),P=C===-2,R=P?10:C;if(R===-1||k.includes(R))return this.text+=j.slice(S,this.prevI),R;P&&(this.text+=j.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(k){let{i:S}=this;const{chunk:j}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=j.slice(S,this.prevI)+`
`,S=this.i,C=10;break;case-1:return this.text+=j.slice(S),!1}if(C===k)return this.text+=j.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:k,i:S}=this;for(;;){const j=this.getCode();if(j===-1)return this.name+=k.slice(S),-1;if(!l(j))return this.name+=k.slice(S,this.prevI),j===-2?10:j}}skipSpaces(){for(;;){const k=this.getCodeNorm();if(k===-1||!i(k))return k}}setXMLVersion(k){this.currentXMLVersion=k,k==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=x,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const k=this.i,S=this.skipSpaces();switch(this.prevI!==k&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var k;const S=this.captureTo(z);switch(S){case 62:(k=this.doctypeHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:O(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.q=null,this.state=2)}sDTD(){const k=this.captureTo(U);k!==-1&&(this.text+=String.fromCodePoint(k),k===93?this.state=2:k===60?this.state=6:O(k)&&(this.state=5,this.q=k))}sDTDQuoted(){const k=this.q;this.captureToChar(k)&&(this.text+=String.fromCodePoint(k),this.state=4,this.q=null)}sDTDOpenWaka(){const k=this.getCodeNorm();switch(this.text+=String.fromCodePoint(k),k){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const k=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=k;this.text+=k,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),this.state=k===45?10:8}sDTDCommentEnded(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const k=this.getCodeNorm();this.text+=String.fromCodePoint(k),k===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:k}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(k,this.prevI)+`
`,k=this.i;break;case 59:{const{entityReturnState:j}=this,C=this.entity+S.slice(k,this.prevI);let P;this.state=j,C===""?(this.fail("empty entity name."),P="&;"):(P=this.parseEntity(C),this.entity=""),j===13&&this.textHandler===void 0||(this.text+=P);break e}case-1:this.entity+=S.slice(k);break e}}sOpenWaka(){const k=this.getCode();if(s(k))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(k){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var k;const S=this.getCodeNorm();S===45?(this.state=19,(k=this.commentHandler)===null||k===void 0||k.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const k=this.getCodeNorm();k!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(k),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const k=this.getCodeNorm();k===93?this.state=22:(this.text+="]"+String.fromCodePoint(k),this.state=20)}sCDataEnding2(){var k;const S=this.getCodeNorm();switch(S){case 62:(k=this.cdataHandler)===null||k===void 0||k.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const k=this.getCodeNorm();this.nameStartCheck(k)?(this.piTarget+=String.fromCodePoint(k),this.state=24):k===63||i(k)?(this.fail("processing instruction without a target."),this.state=k===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(k),this.state=24)}sPIRest(){const{chunk:k,i:S}=this;for(;;){const j=this.getCodeNorm();if(j===-1)return void(this.piTarget+=k.slice(S));if(!this.nameCheck(j)){this.piTarget+=k.slice(S,this.prevI);const C=j===63;C||i(j)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(j));break}}}sPIBody(){if(this.text.length===0){const k=this.getCodeNorm();k===63?this.state=26:i(k)||(this.text=String.fromCodePoint(k))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var k;const S=this.getCodeNorm();if(S===62){const{piTarget:j}=this;j.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(k=this.piHandler)===null||k===void 0||k.call(this,{target:j,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const k=this.skipSpaces();k!==63?k!==-1&&(this.state=28,this.name=String.fromCodePoint(k)):this.state=33}sXMLDeclName(){const k=this.captureTo(V);if(k===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(k)||k===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=k===61?30:29}}sXMLDeclEq(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(k)||(k!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const k=this.getCodeNorm();if(k===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(k)||(O(k)?this.q=k:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const k=this.captureTo([this.q,63]);if(k===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(k===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const j=S;this.xmlDecl.version=j,/^1\.[0-9]+$/.test(j)?this.opt.forceXMLVersion||this.setXMLVersion(j):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const k=this.getCodeNorm();k!==63?(i(k)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var k;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(k=this.xmldeclHandler)===null||k===void 0||k.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var k;const S=this.captureNameChars();if(S===-1)return;const j=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=j.ns=Object.create(null)),(k=this.openTagStartHandler)===null||k===void 0||k.call(this,j),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:i(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const k=this.skipSpaces();k!==-1&&(s(k)?(this.unget(),this.state=37):k===62?this.openTag():k===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const k=this.captureNameChars();k===61?this.state=39:i(k)?this.state=38:k===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):k!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const k=this.skipSpaces();switch(k){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",k===62?this.openTag():s(k)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const k=this.getCodeNorm();O(k)?(this.q=k,this.state=40):i(k)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:k,chunk:S}=this;let{i:j}=this;for(;;)switch(this.getCode()){case k:return this.pushAttrib(this.name,this.text+S.slice(j,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(j,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(j,this.prevI)+" ",j=this.i;break;case 60:return this.text+=S.slice(j,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(j))}}sAttribValueClosed(){const k=this.getCodeNorm();i(k)?this.state=36:k===62?this.openTag():k===47?this.state=35:s(k)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const k=this.captureTo(G);switch(k){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",k===62?this.openTag():this.state=36}}sCloseTag(){const k=this.captureNameChars();k===62?this.closeTag():i(k)?this.state=44:k!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:k,forbiddenState:S}=this;const{chunk:j,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:P}=this,R=j.slice(k,this.prevI);P.length!==0?(C(P+R),this.text=""):R.length!==0&&C(R)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=j.slice(k,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:C!==void 0&&(this.text+=j.slice(k,this.prevI)+`
`),k=this.i,S=0;break;case-1:C!==void 0&&(this.text+=j.slice(k));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:k}=this;const{chunk:S,textHandler:j}=this;let C=!1;e:for(;;){const P=this.getCode();switch(P){case 60:if(this.state=15,j!==void 0){const{text:R}=this,L=S.slice(k,this.prevI);R.length!==0?(j(R+L),this.text=""):L.length!==0&&j(L)}break e;case 38:this.state=14,this.entityReturnState=13,j!==void 0&&(this.text+=S.slice(k,this.prevI)),C=!0;break e;case-2:j!==void 0&&(this.text+=S.slice(k,this.prevI)+`
`),k=this.i;break;case-1:j!==void 0&&(this.text+=S.slice(k));break e;default:i(P)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(k,S){var j;const{prefix:C,local:P}=this.qname(k),R={name:k,prefix:C,local:P,value:S};if(this.attribList.push(R),(j=this.attributeHandler)===null||j===void 0||j.call(this,R),C==="xmlns"){const L=S.trim();this.currentXMLVersion==="1.0"&&L===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[P]=L,B(this,P,L)}else if(k==="xmlns"){const L=S.trim();this.topNS[""]=L,B(this,"",L)}}pushAttribPlain(k,S){var j;const C={name:k,value:S};this.attribList.push(C),(j=this.attributeHandler)===null||j===void 0||j.call(this,C)}end(){var k,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:j}=this;for(;j.length>0;){const P=j.pop();this.fail("unclosed tag: "+P.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((k=this.textHandler)===null||k===void 0||k.call(this,C),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(k){var S,j;let C=this.topNS[k];if(C!==void 0)return C;const{tags:P}=this;for(let R=P.length-1;R>=0;R--)if(C=P[R].ns[k],C!==void 0)return C;return C=this.ns[k],C!==void 0?C:(j=(S=this.opt).resolvePrefix)===null||j===void 0?void 0:j.call(S,k)}qname(k){const S=k.indexOf(":");if(S===-1)return{prefix:"",local:k};const j=k.slice(S+1),C=k.slice(0,S);return(C===""||j===""||j.includes(":"))&&this.fail(`malformed name: ${k}.`),{prefix:C,local:j}}processAttribsNS(){var k;const{attribList:S}=this,j=this.tag;{const{prefix:R,local:L}=this.qname(j.name);j.prefix=R,j.local=L;const Y=j.uri=(k=this.resolve(R))!==null&&k!==void 0?k:"";R!==""&&(R==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Y===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(R)}.`),j.uri=R))}if(S.length===0)return;const{attributes:C}=j,P=new Set;for(const R of S){const{name:L,prefix:Y,local:Z}=R;let ae,q;Y===""?(ae=L==="xmlns"?N:"",q=L):(ae=this.resolve(Y),ae===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Y)}.`),ae=Y),q=`{${ae}}${Z}`),P.has(q)&&this.fail(`duplicate attribute: ${q}.`),P.add(q),R.uri=ae,C[L]=R}this.attribList=[]}processAttribsPlain(){const{attribList:k}=this,S=this.tag.attributes;for(const{name:j,value:C}of k)S[j]!==void 0&&this.fail(`duplicate attribute: ${j}.`),S[j]=C;this.attribList=[]}openTag(){var k;this.processAttribs();const{tags:S}=this,j=this.tag;j.isSelfClosing=!1,(k=this.openTagHandler)===null||k===void 0||k.call(this,j),S.push(j),this.state=13,this.name=""}openSelfClosingTag(){var k,S,j;this.processAttribs();const{tags:C}=this,P=this.tag;P.isSelfClosing=!0,(k=this.openTagHandler)===null||k===void 0||k.call(this,P),(S=this.closeTagHandler)===null||S===void 0||S.call(this,P),(this.tag=(j=C[C.length-1])!==null&&j!==void 0?j:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:k,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const j=this.closeTagHandler;let C=k.length;for(;C-- >0;){const P=this.tag=k.pop();if(this.topNS=P.ns,j?.(P),P.name===S)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(k){if(k[0]!=="#"){const j=this.ENTITIES[k];return j!==void 0?j:(this.fail(this.isName(k)?"undefined entity.":"disallowed character in entity name."),`&${k};`)}let S=NaN;return k[1]==="x"&&/^#x[0-9a-f]+$/i.test(k)?S=parseInt(k.slice(2),16):/^#[0-9]+$/.test(k)&&(S=parseInt(k.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${k};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,h,f){var c=t("safe-buffer").Buffer;function n(o,i){this._block=c.alloc(o),this._finalSize=i,this._blockSize=o,this._len=0}n.prototype.update=function(o,i){typeof o=="string"&&(i=i||"utf8",o=c.from(o,i));for(var r=this._block,s=this._blockSize,l=o.length,d=this._len,u=0;u<l;){for(var x=d%s,b=Math.min(l-u,s-x),g=0;g<b;g++)r[x+g]=o[u+g];u+=b,(d+=b)%s==0&&this._update(r)}return this._len+=l,this},n.prototype.digest=function(o){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var s=(4294967295&r)>>>0,l=(r-s)/4294967296;this._block.writeUInt32BE(l,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var d=this._hash();return o?d.toString(o):d},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},h.exports=n},{"safe-buffer":494}],498:[function(t,h,f){var c=h.exports=function(n){n=n.toLowerCase();var o=c[n];if(!o)throw new Error(n+" is not supported (we accept pull requests)");return new o};c.sha=t("./sha"),c.sha1=t("./sha1"),c.sha224=t("./sha224"),c.sha256=t("./sha256"),c.sha384=t("./sha384"),c.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,h,f){var c=t("inherits"),n=t("./hash"),o=t("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function s(){this.init(),this._w=r,n.call(this,64,56)}function l(u){return u<<30|u>>>2}function d(u,x,b,g){return u===0?x&b|~x&g:u===2?x&b|x&g|b&g:x^b^g}c(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(u){for(var x,b=this._w,g=0|this._a,v=0|this._b,y=0|this._c,N=0|this._d,E=0|this._e,I=0;I<16;++I)b[I]=u.readInt32BE(4*I);for(;I<80;++I)b[I]=b[I-3]^b[I-8]^b[I-14]^b[I-16];for(var O=0;O<80;++O){var $=~~(O/20),z=0|((x=g)<<5|x>>>27)+d($,v,y,N)+E+b[O]+i[$];E=N,N=y,y=l(v),v=g,g=z}this._a=g+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=N+this._d|0,this._e=E+this._e|0},s.prototype._hash=function(){var u=o.allocUnsafe(20);return u.writeInt32BE(0|this._a,0),u.writeInt32BE(0|this._b,4),u.writeInt32BE(0|this._c,8),u.writeInt32BE(0|this._d,12),u.writeInt32BE(0|this._e,16),u},h.exports=s},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,h,f){var c=t("inherits"),n=t("./hash"),o=t("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],r=new Array(80);function s(){this.init(),this._w=r,n.call(this,64,56)}function l(x){return x<<5|x>>>27}function d(x){return x<<30|x>>>2}function u(x,b,g,v){return x===0?b&g|~b&v:x===2?b&g|b&v|g&v:b^g^v}c(s,n),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(x){for(var b,g=this._w,v=0|this._a,y=0|this._b,N=0|this._c,E=0|this._d,I=0|this._e,O=0;O<16;++O)g[O]=x.readInt32BE(4*O);for(;O<80;++O)g[O]=(b=g[O-3]^g[O-8]^g[O-14]^g[O-16])<<1|b>>>31;for(var $=0;$<80;++$){var z=~~($/20),U=l(v)+u(z,y,N,E)+I+g[$]+i[z]|0;I=E,E=N,N=d(y),y=v,v=U}this._a=v+this._a|0,this._b=y+this._b|0,this._c=N+this._c|0,this._d=E+this._d|0,this._e=I+this._e|0},s.prototype._hash=function(){var x=o.allocUnsafe(20);return x.writeInt32BE(0|this._a,0),x.writeInt32BE(0|this._b,4),x.writeInt32BE(0|this._c,8),x.writeInt32BE(0|this._d,12),x.writeInt32BE(0|this._e,16),x},h.exports=s},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,h,f){var c=t("inherits"),n=t("./sha256"),o=t("./hash"),i=t("safe-buffer").Buffer,r=new Array(64);function s(){this.init(),this._w=r,o.call(this,64,56)}c(s,n),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var l=i.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},h.exports=s},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,h,f){var c=t("inherits"),n=t("./hash"),o=t("safe-buffer").Buffer,i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],r=new Array(64);function s(){this.init(),this._w=r,n.call(this,64,56)}function l(g,v,y){return y^g&(v^y)}function d(g,v,y){return g&v|y&(g|v)}function u(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function x(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function b(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}c(s,n),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(g){for(var v,y=this._w,N=0|this._a,E=0|this._b,I=0|this._c,O=0|this._d,$=0|this._e,z=0|this._f,U=0|this._g,V=0|this._h,G=0;G<16;++G)y[G]=g.readInt32BE(4*G);for(;G<64;++G)y[G]=0|(((v=y[G-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[G-7]+b(y[G-15])+y[G-16];for(var B=0;B<64;++B){var T=V+x($)+l($,z,U)+i[B]+y[B]|0,D=u(N)+d(N,E,I)|0;V=U,U=z,z=$,$=O+T|0,O=I,I=E,E=N,N=T+D|0}this._a=N+this._a|0,this._b=E+this._b|0,this._c=I+this._c|0,this._d=O+this._d|0,this._e=$+this._e|0,this._f=z+this._f|0,this._g=U+this._g|0,this._h=V+this._h|0},s.prototype._hash=function(){var g=o.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},h.exports=s},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,h,f){var c=t("inherits"),n=t("./sha512"),o=t("./hash"),i=t("safe-buffer").Buffer,r=new Array(160);function s(){this.init(),this._w=r,o.call(this,128,112)}c(s,n),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var l=i.allocUnsafe(48);function d(u,x,b){l.writeInt32BE(u,b),l.writeInt32BE(x,b+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),l},h.exports=s},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,h,f){var c=t("inherits"),n=t("./hash"),o=t("safe-buffer").Buffer,i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],r=new Array(160);function s(){this.init(),this._w=r,n.call(this,128,112)}function l(E,I,O){return O^E&(I^O)}function d(E,I,O){return E&I|O&(E|I)}function u(E,I){return(E>>>28|I<<4)^(I>>>2|E<<30)^(I>>>7|E<<25)}function x(E,I){return(E>>>14|I<<18)^(E>>>18|I<<14)^(I>>>9|E<<23)}function b(E,I){return(E>>>1|I<<31)^(E>>>8|I<<24)^E>>>7}function g(E,I){return(E>>>1|I<<31)^(E>>>8|I<<24)^(E>>>7|I<<25)}function v(E,I){return(E>>>19|I<<13)^(I>>>29|E<<3)^E>>>6}function y(E,I){return(E>>>19|I<<13)^(I>>>29|E<<3)^(E>>>6|I<<26)}function N(E,I){return E>>>0<I>>>0?1:0}c(s,n),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(E){for(var I=this._w,O=0|this._ah,$=0|this._bh,z=0|this._ch,U=0|this._dh,V=0|this._eh,G=0|this._fh,B=0|this._gh,T=0|this._hh,D=0|this._al,A=0|this._bl,k=0|this._cl,S=0|this._dl,j=0|this._el,C=0|this._fl,P=0|this._gl,R=0|this._hl,L=0;L<32;L+=2)I[L]=E.readInt32BE(4*L),I[L+1]=E.readInt32BE(4*L+4);for(;L<160;L+=2){var Y=I[L-30],Z=I[L-30+1],ae=b(Y,Z),q=g(Z,Y),X=v(Y=I[L-4],Z=I[L-4+1]),F=y(Z,Y),M=I[L-14],K=I[L-14+1],se=I[L-32],oe=I[L-32+1],ne=q+K|0,le=ae+M+N(ne,q)|0;le=(le=le+X+N(ne=ne+F|0,F)|0)+se+N(ne=ne+oe|0,oe)|0,I[L]=le,I[L+1]=ne}for(var Se=0;Se<160;Se+=2){le=I[Se],ne=I[Se+1];var je=d(O,$,z),ee=d(D,A,k),ce=u(O,D),be=u(D,O),Te=x(V,j),Ce=x(j,V),Pe=i[Se],Be=i[Se+1],Ge=l(V,G,B),st=l(j,C,P),bt=R+Ce|0,_e=T+Te+N(bt,R)|0;_e=(_e=(_e=_e+Ge+N(bt=bt+st|0,st)|0)+Pe+N(bt=bt+Be|0,Be)|0)+le+N(bt=bt+ne|0,ne)|0;var We=be+ee|0,vt=ce+je+N(We,be)|0;T=B,R=P,B=G,P=C,G=V,C=j,V=U+_e+N(j=S+bt|0,S)|0,U=z,S=k,z=$,k=A,$=O,A=D,O=_e+vt+N(D=bt+We|0,bt)|0}this._al=this._al+D|0,this._bl=this._bl+A|0,this._cl=this._cl+k|0,this._dl=this._dl+S|0,this._el=this._el+j|0,this._fl=this._fl+C|0,this._gl=this._gl+P|0,this._hl=this._hl+R|0,this._ah=this._ah+O+N(this._al,D)|0,this._bh=this._bh+$+N(this._bl,A)|0,this._ch=this._ch+z+N(this._cl,k)|0,this._dh=this._dh+U+N(this._dl,S)|0,this._eh=this._eh+V+N(this._el,j)|0,this._fh=this._fh+G+N(this._fl,C)|0,this._gh=this._gh+B+N(this._gl,P)|0,this._hh=this._hh+T+N(this._hl,R)|0},s.prototype._hash=function(){var E=o.allocUnsafe(64);function I(O,$,z){E.writeInt32BE(O,z),E.writeInt32BE($,z+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),E},h.exports=s},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,h,f){h.exports=n;var c=t("events").EventEmitter;function n(){c.call(this)}t("inherits")(n,c),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(o,i){var r=this;function s(v){o.writable&&o.write(v)===!1&&r.pause&&r.pause()}function l(){r.readable&&r.resume&&r.resume()}r.on("data",s),o.on("drain",l),o._isStdio||i&&i.end===!1||(r.on("end",u),r.on("close",x));var d=!1;function u(){d||(d=!0,o.end())}function x(){d||(d=!0,typeof o.destroy=="function"&&o.destroy())}function b(v){if(g(),c.listenerCount(this,"error")===0)throw v}function g(){r.removeListener("data",s),o.removeListener("drain",l),r.removeListener("end",u),r.removeListener("close",x),r.removeListener("error",b),o.removeListener("error",b),r.removeListener("end",g),r.removeListener("close",g),o.removeListener("close",g)}return r.on("error",b),o.on("error",b),r.on("end",g),r.on("close",g),o.on("close",g),o.emit("pipe",r),o}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,h,f){var c={}.toString;h.exports=Array.isArray||function(n){return c.call(n)=="[object Array]"}},{}],507:[function(t,h,f){h.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,h,f){var c=t("process-nextick-args"),n=Object.keys||function(g){var v=[];for(var y in g)v.push(y);return v};h.exports=u;var o=Object.create(t("core-util-is"));o.inherits=t("inherits");var i=t("./_stream_readable"),r=t("./_stream_writable");o.inherits(u,i);for(var s=n(r.prototype),l=0;l<s.length;l++){var d=s[l];u.prototype[d]||(u.prototype[d]=r.prototype[d])}function u(g){if(!(this instanceof u))return new u(g);i.call(this,g),r.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",x)}function x(){this.allowHalfOpen||this._writableState.ended||c.nextTick(b,this)}function b(g){g.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),u.prototype._destroy=function(g,v){this.push(null),this.end(),c.nextTick(v,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,h,f){h.exports=o;var c=t("./_stream_transform"),n=Object.create(t("core-util-is"));function o(i){if(!(this instanceof o))return new o(i);c.call(this,i)}n.inherits=t("inherits"),n.inherits(o,c),o.prototype._transform=function(i,r,s){s(null,i)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,h,f){(function(c,n){(function(){var o=t("process-nextick-args");h.exports=O;var i,r=t("isarray");O.ReadableState=I,t("events").EventEmitter;var s=function(R,L){return R.listeners(L).length},l=t("./internal/streams/stream"),d=t("safe-buffer").Buffer,u=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},x=Object.create(t("core-util-is"));x.inherits=t("inherits");var b=t("util"),g=void 0;g=b&&b.debuglog?b.debuglog("stream"):function(){};var v,y=t("./internal/streams/BufferList"),N=t("./internal/streams/destroy");x.inherits(O,l);var E=["error","close","destroy","pause","resume"];function I(R,L){R=R||{};var Y=L instanceof(i=i||t("./_stream_duplex"));this.objectMode=!!R.objectMode,Y&&(this.objectMode=this.objectMode||!!R.readableObjectMode);var Z=R.highWaterMark,ae=R.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:Y&&(ae||ae===0)?ae:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=R.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,R.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(R.encoding),this.encoding=R.encoding)}function O(R){if(i=i||t("./_stream_duplex"),!(this instanceof O))return new O(R);this._readableState=new I(R,this),this.readable=!0,R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy)),l.call(this)}function $(R,L,Y,Z,ae){var q,X=R._readableState;return L===null?(X.reading=!1,(function(F,M){if(!M.ended){if(M.decoder){var K=M.decoder.end();K&&K.length&&(M.buffer.push(K),M.length+=M.objectMode?1:K.length)}M.ended=!0,V(F)}})(R,X)):(ae||(q=(function(F,M){var K;se=M,d.isBuffer(se)||se instanceof u||typeof M=="string"||M===void 0||F.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var se;return K})(X,L)),q?R.emit("error",q):X.objectMode||L&&L.length>0?(typeof L=="string"||X.objectMode||Object.getPrototypeOf(L)===d.prototype||(L=(function(F){return d.from(F)})(L)),Z?X.endEmitted?R.emit("error",new Error("stream.unshift() after end event")):z(R,X,L,!0):X.ended?R.emit("error",new Error("stream.push() after EOF")):(X.reading=!1,X.decoder&&!Y?(L=X.decoder.write(L),X.objectMode||L.length!==0?z(R,X,L,!1):B(R,X)):z(R,X,L,!1))):Z||(X.reading=!1)),(function(F){return!F.ended&&(F.needReadable||F.length<F.highWaterMark||F.length===0)})(X)}function z(R,L,Y,Z){L.flowing&&L.length===0&&!L.sync?(R.emit("data",Y),R.read(0)):(L.length+=L.objectMode?1:Y.length,Z?L.buffer.unshift(Y):L.buffer.push(Y),L.needReadable&&V(R)),B(R,L)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(R){this._readableState&&(this._readableState.destroyed=R)}}),O.prototype.destroy=N.destroy,O.prototype._undestroy=N.undestroy,O.prototype._destroy=function(R,L){this.push(null),L(R)},O.prototype.push=function(R,L){var Y,Z=this._readableState;return Z.objectMode?Y=!0:typeof R=="string"&&((L=L||Z.defaultEncoding)!==Z.encoding&&(R=d.from(R,L),L=""),Y=!0),$(this,R,L,!1,Y)},O.prototype.unshift=function(R){return $(this,R,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(R){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(R),this._readableState.encoding=R,this};function U(R,L){return R<=0||L.length===0&&L.ended?0:L.objectMode?1:R!=R?L.flowing&&L.length?L.buffer.head.data.length:L.length:(R>L.highWaterMark&&(L.highWaterMark=(function(Y){return Y>=8388608?Y=8388608:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y})(R)),R<=L.length?R:L.ended?L.length:(L.needReadable=!0,0))}function V(R){var L=R._readableState;L.needReadable=!1,L.emittedReadable||(g("emitReadable",L.flowing),L.emittedReadable=!0,L.sync?o.nextTick(G,R):G(R))}function G(R){g("emit readable"),R.emit("readable"),k(R)}function B(R,L){L.readingMore||(L.readingMore=!0,o.nextTick(T,R,L))}function T(R,L){for(var Y=L.length;!L.reading&&!L.flowing&&!L.ended&&L.length<L.highWaterMark&&(g("maybeReadMore read 0"),R.read(0),Y!==L.length);)Y=L.length;L.readingMore=!1}function D(R){g("readable nexttick read 0"),R.read(0)}function A(R,L){L.reading||(g("resume read 0"),R.read(0)),L.resumeScheduled=!1,L.awaitDrain=0,R.emit("resume"),k(R),L.flowing&&!L.reading&&R.read(0)}function k(R){var L=R._readableState;for(g("flow",L.flowing);L.flowing&&R.read()!==null;);}function S(R,L){return L.length===0?null:(L.objectMode?Y=L.buffer.shift():!R||R>=L.length?(Y=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.head.data:L.buffer.concat(L.length),L.buffer.clear()):Y=(function(Z,ae,q){var X;return Z<ae.head.data.length?(X=ae.head.data.slice(0,Z),ae.head.data=ae.head.data.slice(Z)):X=Z===ae.head.data.length?ae.shift():q?(function(F,M){var K=M.head,se=1,oe=K.data;for(F-=oe.length;K=K.next;){var ne=K.data,le=F>ne.length?ne.length:F;if(le===ne.length?oe+=ne:oe+=ne.slice(0,F),(F-=le)===0){le===ne.length?(++se,K.next?M.head=K.next:M.head=M.tail=null):(M.head=K,K.data=ne.slice(le));break}++se}return M.length-=se,oe})(Z,ae):(function(F,M){var K=d.allocUnsafe(F),se=M.head,oe=1;for(se.data.copy(K),F-=se.data.length;se=se.next;){var ne=se.data,le=F>ne.length?ne.length:F;if(ne.copy(K,K.length-F,0,le),(F-=le)===0){le===ne.length?(++oe,se.next?M.head=se.next:M.head=M.tail=null):(M.head=se,se.data=ne.slice(le));break}++oe}return M.length-=oe,K})(Z,ae),X})(R,L.buffer,L.decoder),Y);var Y}function j(R){var L=R._readableState;if(L.length>0)throw new Error('"endReadable()" called on non-empty stream');L.endEmitted||(L.ended=!0,o.nextTick(C,L,R))}function C(R,L){R.endEmitted||R.length!==0||(R.endEmitted=!0,L.readable=!1,L.emit("end"))}function P(R,L){for(var Y=0,Z=R.length;Y<Z;Y++)if(R[Y]===L)return Y;return-1}O.prototype.read=function(R){g("read",R),R=parseInt(R,10);var L=this._readableState,Y=R;if(R!==0&&(L.emittedReadable=!1),R===0&&L.needReadable&&(L.length>=L.highWaterMark||L.ended))return g("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?j(this):V(this),null;if((R=U(R,L))===0&&L.ended)return L.length===0&&j(this),null;var Z,ae=L.needReadable;return g("need readable",ae),(L.length===0||L.length-R<L.highWaterMark)&&g("length less than watermark",ae=!0),L.ended||L.reading?g("reading or ended",ae=!1):ae&&(g("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(R=U(Y,L))),(Z=R>0?S(R,L):null)===null?(L.needReadable=!0,R=0):L.length-=R,L.length===0&&(L.ended||(L.needReadable=!0),Y!==R&&L.ended&&j(this)),Z!==null&&this.emit("data",Z),Z},O.prototype._read=function(R){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(R,L){var Y=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=R;break;case 1:Z.pipes=[Z.pipes,R];break;default:Z.pipes.push(R)}Z.pipesCount+=1,g("pipe count=%d opts=%j",Z.pipesCount,L);var ae=(!L||L.end!==!1)&&R!==c.stdout&&R!==c.stderr?X:Se;function q(je,ee){g("onunpipe"),je===Y&&ee&&ee.hasUnpiped===!1&&(ee.hasUnpiped=!0,g("cleanup"),R.removeListener("close",ne),R.removeListener("finish",le),R.removeListener("drain",F),R.removeListener("error",oe),R.removeListener("unpipe",q),Y.removeListener("end",X),Y.removeListener("end",Se),Y.removeListener("data",se),M=!0,!Z.awaitDrain||R._writableState&&!R._writableState.needDrain||F())}function X(){g("onend"),R.end()}Z.endEmitted?o.nextTick(ae):Y.once("end",ae),R.on("unpipe",q);var F=(function(je){return function(){var ee=je._readableState;g("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&s(je,"data")&&(ee.flowing=!0,k(je))}})(Y);R.on("drain",F);var M=!1,K=!1;function se(je){g("ondata"),K=!1,R.write(je)!==!1||K||((Z.pipesCount===1&&Z.pipes===R||Z.pipesCount>1&&P(Z.pipes,R)!==-1)&&!M&&(g("false write response, pause",Z.awaitDrain),Z.awaitDrain++,K=!0),Y.pause())}function oe(je){g("onerror",je),Se(),R.removeListener("error",oe),s(R,"error")===0&&R.emit("error",je)}function ne(){R.removeListener("finish",le),Se()}function le(){g("onfinish"),R.removeListener("close",ne),Se()}function Se(){g("unpipe"),Y.unpipe(R)}return Y.on("data",se),(function(je,ee,ce){if(typeof je.prependListener=="function")return je.prependListener(ee,ce);je._events&&je._events[ee]?r(je._events[ee])?je._events[ee].unshift(ce):je._events[ee]=[ce,je._events[ee]]:je.on(ee,ce)})(R,"error",oe),R.once("close",ne),R.once("finish",le),R.emit("pipe",Y),Z.flowing||(g("pipe resume"),Y.resume()),R},O.prototype.unpipe=function(R){var L=this._readableState,Y={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return R&&R!==L.pipes||(R||(R=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,R&&R.emit("unpipe",this,Y)),this;if(!R){var Z=L.pipes,ae=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var q=0;q<ae;q++)Z[q].emit("unpipe",this,{hasUnpiped:!1});return this}var X=P(L.pipes,R);return X===-1||(L.pipes.splice(X,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),R.emit("unpipe",this,Y)),this},O.prototype.on=function(R,L){var Y=l.prototype.on.call(this,R,L);if(R==="data")this._readableState.flowing!==!1&&this.resume();else if(R==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&V(this):o.nextTick(D,this))}return Y},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var R=this._readableState;return R.flowing||(g("resume"),R.flowing=!0,(function(L,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,o.nextTick(A,L,Y))})(this,R)),this},O.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(R){var L=this,Y=this._readableState,Z=!1;for(var ae in R.on("end",(function(){if(g("wrapped end"),Y.decoder&&!Y.ended){var X=Y.decoder.end();X&&X.length&&L.push(X)}L.push(null)})),R.on("data",(function(X){g("wrapped data"),Y.decoder&&(X=Y.decoder.write(X)),Y.objectMode&&X==null||(Y.objectMode||X&&X.length)&&(L.push(X)||(Z=!0,R.pause()))})),R)this[ae]===void 0&&typeof R[ae]=="function"&&(this[ae]=(function(X){return function(){return R[X].apply(R,arguments)}})(ae));for(var q=0;q<E.length;q++)R.on(E[q],this.emit.bind(this,E[q]));return this._read=function(X){g("wrapped _read",X),Z&&(Z=!1,R.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=S}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,h,f){h.exports=i;var c=t("./_stream_duplex"),n=Object.create(t("core-util-is"));function o(l,d){var u=this._transformState;u.transforming=!1;var x=u.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,d!=null&&this.push(d),x(l);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function i(l){if(!(this instanceof i))return new i(l);c.call(this,l),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",r)}function r(){var l=this;typeof this._flush=="function"?this._flush((function(d,u){s(l,d,u)})):s(this,null,null)}function s(l,d,u){if(d)return l.emit("error",d);if(u!=null&&l.push(u),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}n.inherits=t("inherits"),n.inherits(i,c),i.prototype.push=function(l,d){return this._transformState.needTransform=!1,c.prototype.push.call(this,l,d)},i.prototype._transform=function(l,d,u){throw new Error("_transform() is not implemented")},i.prototype._write=function(l,d,u){var x=this._transformState;if(x.writecb=u,x.writechunk=l,x.writeencoding=d,!x.transforming){var b=this._readableState;(x.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},i.prototype._read=function(l){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},i.prototype._destroy=function(l,d){var u=this;c.prototype._destroy.call(this,l,(function(x){d(x),u.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,h,f){(function(c,n,o){(function(){var i=t("process-nextick-args");function r(B){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(D,A,k){var S=D.entry;for(D.entry=null;S;){var j=S.callback;A.pendingcb--,j(k),S=S.next}A.corkedRequestsFree.next=D})(T,B)}}h.exports=I;var s,l=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?o:i.nextTick;I.WritableState=E;var d=Object.create(t("core-util-is"));d.inherits=t("inherits");var u={deprecate:t("util-deprecate")},x=t("./internal/streams/stream"),b=t("safe-buffer").Buffer,g=(n!==void 0?n:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=t("./internal/streams/destroy");function N(){}function E(B,T){s=s||t("./_stream_duplex"),B=B||{};var D=T instanceof s;this.objectMode=!!B.objectMode,D&&(this.objectMode=this.objectMode||!!B.writableObjectMode);var A=B.highWaterMark,k=B.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:D&&(k||k===0)?k:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=B.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(P,R){var L=P._writableState,Y=L.sync,Z=L.writecb;if((function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0})(L),R)(function(q,X,F,M,K){--X.pendingcb,F?(i.nextTick(K,M),i.nextTick(G,q,X),q._writableState.errorEmitted=!0,q.emit("error",M)):(K(M),q._writableState.errorEmitted=!0,q.emit("error",M),G(q,X))})(P,L,Y,R,Z);else{var ae=U(L);ae||L.corked||L.bufferProcessing||!L.bufferedRequest||z(P,L),Y?l($,P,L,ae,Z):$(P,L,ae,Z)}})(T,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function I(B){if(s=s||t("./_stream_duplex"),!(v.call(I,this)||this instanceof s))return new I(B);this._writableState=new E(B,this),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),x.call(this)}function O(B,T,D,A,k,S,j){T.writelen=A,T.writecb=j,T.writing=!0,T.sync=!0,D?B._writev(k,T.onwrite):B._write(k,S,T.onwrite),T.sync=!1}function $(B,T,D,A){D||(function(k,S){S.length===0&&S.needDrain&&(S.needDrain=!1,k.emit("drain"))})(B,T),T.pendingcb--,A(),G(B,T)}function z(B,T){T.bufferProcessing=!0;var D=T.bufferedRequest;if(B._writev&&D&&D.next){var A=T.bufferedRequestCount,k=new Array(A),S=T.corkedRequestsFree;S.entry=D;for(var j=0,C=!0;D;)k[j]=D,D.isBuf||(C=!1),D=D.next,j+=1;k.allBuffers=C,O(B,T,!0,T.length,k,"",S.finish),T.pendingcb++,T.lastBufferedRequest=null,S.next?(T.corkedRequestsFree=S.next,S.next=null):T.corkedRequestsFree=new r(T),T.bufferedRequestCount=0}else{for(;D;){var P=D.chunk,R=D.encoding,L=D.callback;if(O(B,T,!1,T.objectMode?1:P.length,P,R,L),D=D.next,T.bufferedRequestCount--,T.writing)break}D===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=D,T.bufferProcessing=!1}function U(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function V(B,T){B._final((function(D){T.pendingcb--,D&&B.emit("error",D),T.prefinished=!0,B.emit("prefinish"),G(B,T)}))}function G(B,T){var D=U(T);return D&&((function(A,k){k.prefinished||k.finalCalled||(typeof A._final=="function"?(k.pendingcb++,k.finalCalled=!0,i.nextTick(V,A,k)):(k.prefinished=!0,A.emit("prefinish")))})(B,T),T.pendingcb===0&&(T.finished=!0,B.emit("finish"))),D}d.inherits(I,x),E.prototype.getBuffer=function(){for(var B=this.bufferedRequest,T=[];B;)T.push(B),B=B.next;return T},(function(){try{Object.defineProperty(E.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(B){return!!v.call(this,B)||this===I&&B&&B._writableState instanceof E}})):v=function(B){return B instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(B,T,D){var A,k=this._writableState,S=!1,j=!k.objectMode&&(A=B,b.isBuffer(A)||A instanceof g);return j&&!b.isBuffer(B)&&(B=(function(C){return b.from(C)})(B)),typeof T=="function"&&(D=T,T=null),j?T="buffer":T||(T=k.defaultEncoding),typeof D!="function"&&(D=N),k.ended?(function(C,P){var R=new Error("write after end");C.emit("error",R),i.nextTick(P,R)})(this,D):(j||(function(C,P,R,L){var Y=!0,Z=!1;return R===null?Z=new TypeError("May not write null values to stream"):typeof R=="string"||R===void 0||P.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(C.emit("error",Z),i.nextTick(L,Z),Y=!1),Y})(this,k,B,D))&&(k.pendingcb++,S=(function(C,P,R,L,Y,Z){if(!R){var ae=(function(M,K,se){return M.objectMode||M.decodeStrings===!1||typeof K!="string"||(K=b.from(K,se)),K})(P,L,Y);L!==ae&&(R=!0,Y="buffer",L=ae)}var q=P.objectMode?1:L.length;P.length+=q;var X=P.length<P.highWaterMark;if(X||(P.needDrain=!0),P.writing||P.corked){var F=P.lastBufferedRequest;P.lastBufferedRequest={chunk:L,encoding:Y,isBuf:R,callback:Z,next:null},F?F.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else O(C,P,!1,q,L,Y,Z);return X})(this,k,j,B,T,D)),S},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.bufferProcessing||!B.bufferedRequest||z(this,B))},I.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(B,T,D){D(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(B,T,D){var A=this._writableState;typeof B=="function"?(D=B,B=null,T=null):typeof T=="function"&&(D=T,T=null),B!=null&&this.write(B,T),A.corked&&(A.corked=1,this.uncork()),A.ending||(function(k,S,j){S.ending=!0,G(k,S),j&&(S.finished?i.nextTick(j):k.once("finish",j)),S.ended=!0,k.writable=!1})(this,A,D)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(B,T){this.end(),T(B)}}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,h,f){var c=t("safe-buffer").Buffer,n=t("util");h.exports=(function(){function o(){(function(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(i){var r={data:i,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},o.prototype.unshift=function(i){var r={data:i,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},o.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(i){if(this.length===0)return"";for(var r=this.head,s=""+r.data;r=r.next;)s+=i+r.data;return s},o.prototype.concat=function(i){if(this.length===0)return c.alloc(0);for(var r,s,l,d=c.allocUnsafe(i>>>0),u=this.head,x=0;u;)r=u.data,s=d,l=x,r.copy(s,l),x+=u.data.length,u=u.next;return d},o})(),n&&n.inspect&&n.inspect.custom&&(h.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":520,util:188}],514:[function(t,h,f){var c=t("process-nextick-args");function n(o,i){o.emit("error",i)}h.exports={destroy:function(o,i){var r=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(i?i(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(n,this,o)):c.nextTick(n,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(d){!i&&d?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,c.nextTick(n,r,d)):c.nextTick(n,r,d):i&&i(d)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,h,f){arguments[4][490][0].apply(f,arguments)},{dup:490,events:422}],516:[function(t,h,f){h.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,h,f){(f=h.exports=t("./lib/_stream_readable.js")).Stream=f,f.Readable=f,f.Writable=t("./lib/_stream_writable.js"),f.Duplex=t("./lib/_stream_duplex.js"),f.Transform=t("./lib/_stream_transform.js"),f.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,h,f){h.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,h,f){h.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,h,f){arguments[4][217][0].apply(f,arguments)},{buffer:220,dup:217}],521:[function(t,h,f){arguments[4][218][0].apply(f,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,h,f){arguments[4][218][0].apply(f,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,h,f){(function(c,n){(function(){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,r=Array.prototype.slice,s={},l=0;function d(u,x){this._id=u,this._clearFn=x}f.setTimeout=function(){return new d(i.call(setTimeout,window,arguments),clearTimeout)},f.setInterval=function(){return new d(i.call(setInterval,window,arguments),clearInterval)},f.clearTimeout=f.clearInterval=function(u){u.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},f.enroll=function(u,x){clearTimeout(u._idleTimeoutId),u._idleTimeout=x},f.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},f._unrefActive=f.active=function(u){clearTimeout(u._idleTimeoutId);var x=u._idleTimeout;x>=0&&(u._idleTimeoutId=setTimeout((function(){u._onTimeout&&u._onTimeout()}),x))},f.setImmediate=typeof c=="function"?c:function(u){var x=l++,b=!(arguments.length<2)&&r.call(arguments,1);return s[x]=!0,o((function(){s[x]&&(b?u.apply(null,b):u.call(null),f.clearImmediate(x))})),x},f.clearImmediate=typeof n=="function"?n:function(u){delete s[u]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,h,f){(function(c){(function(){function n(o){try{if(!c.localStorage)return!1}catch{return!1}var i=c.localStorage[o];return i!=null&&String(i).toLowerCase()==="true"}h.exports=function(o,i){if(n("noDeprecation"))return o;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(i);n("traceDeprecation")?console.trace(i):console.warn(i),r=!0}return o.apply(this,arguments)}}}).call(this)}).call(this,typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,h,f){typeof Object.create=="function"?h.exports=function(c,n){c.super_=n,c.prototype=Object.create(n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:h.exports=function(c,n){c.super_=n;var o=function(){};o.prototype=n.prototype,c.prototype=new o,c.prototype.constructor=c}},{}],526:[function(t,h,f){h.exports=function(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},{}],527:[function(t,h,f){(function(c,n){(function(){var o=/%[sdj%]/g;f.format=function(k){if(!E(k)){for(var S=[],j=0;j<arguments.length;j++)S.push(s(arguments[j]));return S.join(" ")}j=1;for(var C=arguments,P=C.length,R=String(k).replace(o,(function(Y){if(Y==="%%")return"%";if(j>=P)return Y;switch(Y){case"%s":return String(C[j++]);case"%d":return Number(C[j++]);case"%j":try{return JSON.stringify(C[j++])}catch{return"[Circular]"}default:return Y}})),L=C[j];j<P;L=C[++j])y(L)||!$(L)?R+=" "+L:R+=" "+s(L);return R},f.deprecate=function(k,S){if(I(n.process))return function(){return f.deprecate(k,S).apply(this,arguments)};if(c.noDeprecation===!0)return k;var j=!1;return function(){if(!j){if(c.throwDeprecation)throw new Error(S);c.traceDeprecation?console.trace(S):console.error(S),j=!0}return k.apply(this,arguments)}};var i,r={};function s(k,S){var j={seen:[],stylize:d};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),v(S)?j.showHidden=S:S&&f._extend(j,S),I(j.showHidden)&&(j.showHidden=!1),I(j.depth)&&(j.depth=2),I(j.colors)&&(j.colors=!1),I(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=l),u(j,k,j.depth)}function l(k,S){var j=s.styles[S];return j?"\x1B["+s.colors[j][0]+"m"+k+"\x1B["+s.colors[j][1]+"m":k}function d(k,S){return k}function u(k,S,j){if(k.customInspect&&S&&V(S.inspect)&&S.inspect!==f.inspect&&(!S.constructor||S.constructor.prototype!==S)){var C=S.inspect(j,k);return E(C)||(C=u(k,C,j)),C}var P=(function(F,M){if(I(M))return F.stylize("undefined","undefined");if(E(M)){var K="'"+JSON.stringify(M).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(K,"string")}if(N(M))return F.stylize(""+M,"number");if(v(M))return F.stylize(""+M,"boolean");if(y(M))return F.stylize("null","null")})(k,S);if(P)return P;var R=Object.keys(S),L=(function(F){var M={};return F.forEach((function(K,se){M[K]=!0})),M})(R);if(k.showHidden&&(R=Object.getOwnPropertyNames(S)),U(S)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return x(S);if(R.length===0){if(V(S)){var Y=S.name?": "+S.name:"";return k.stylize("[Function"+Y+"]","special")}if(O(S))return k.stylize(RegExp.prototype.toString.call(S),"regexp");if(z(S))return k.stylize(Date.prototype.toString.call(S),"date");if(U(S))return x(S)}var Z,ae="",q=!1,X=["{","}"];return g(S)&&(q=!0,X=["[","]"]),V(S)&&(ae=" [Function"+(S.name?": "+S.name:"")+"]"),O(S)&&(ae=" "+RegExp.prototype.toString.call(S)),z(S)&&(ae=" "+Date.prototype.toUTCString.call(S)),U(S)&&(ae=" "+x(S)),R.length!==0||q&&S.length!=0?j<0?O(S)?k.stylize(RegExp.prototype.toString.call(S),"regexp"):k.stylize("[Object]","special"):(k.seen.push(S),Z=q?(function(F,M,K,se,oe){for(var ne=[],le=0,Se=M.length;le<Se;++le)A(M,String(le))?ne.push(b(F,M,K,se,String(le),!0)):ne.push("");return oe.forEach((function(je){je.match(/^\d+$/)||ne.push(b(F,M,K,se,je,!0))})),ne})(k,S,j,L,R):R.map((function(F){return b(k,S,j,L,F,q)})),k.seen.pop(),(function(F,M,K){return F.reduce((function(se,oe){return oe.indexOf(`
`)>=0,se+oe.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?K[0]+(M===""?"":M+`
 `)+" "+F.join(`,
  `)+" "+K[1]:K[0]+M+" "+F.join(", ")+" "+K[1]})(Z,ae,X)):X[0]+ae+X[1]}function x(k){return"["+Error.prototype.toString.call(k)+"]"}function b(k,S,j,C,P,R){var L,Y,Z;if((Z=Object.getOwnPropertyDescriptor(S,P)||{value:S[P]}).get?Y=Z.set?k.stylize("[Getter/Setter]","special"):k.stylize("[Getter]","special"):Z.set&&(Y=k.stylize("[Setter]","special")),A(C,P)||(L="["+P+"]"),Y||(k.seen.indexOf(Z.value)<0?(Y=y(j)?u(k,Z.value,null):u(k,Z.value,j-1)).indexOf(`
`)>-1&&(Y=R?Y.split(`
`).map((function(ae){return"  "+ae})).join(`
`).substr(2):`
`+Y.split(`
`).map((function(ae){return"   "+ae})).join(`
`)):Y=k.stylize("[Circular]","special")),I(L)){if(R&&P.match(/^\d+$/))return Y;(L=JSON.stringify(""+P)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(L=L.substr(1,L.length-2),L=k.stylize(L,"name")):(L=L.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),L=k.stylize(L,"string"))}return L+": "+Y}function g(k){return Array.isArray(k)}function v(k){return typeof k=="boolean"}function y(k){return k===null}function N(k){return typeof k=="number"}function E(k){return typeof k=="string"}function I(k){return k===void 0}function O(k){return $(k)&&G(k)==="[object RegExp]"}function $(k){return typeof k=="object"&&k!==null}function z(k){return $(k)&&G(k)==="[object Date]"}function U(k){return $(k)&&(G(k)==="[object Error]"||k instanceof Error)}function V(k){return typeof k=="function"}function G(k){return Object.prototype.toString.call(k)}function B(k){return k<10?"0"+k.toString(10):k.toString(10)}f.debuglog=function(k){if(I(i)&&(i=c.env.NODE_DEBUG||""),k=k.toUpperCase(),!r[k])if(new RegExp("\\b"+k+"\\b","i").test(i)){var S=c.pid;r[k]=function(){var j=f.format.apply(f,arguments);console.error("%s %d: %s",k,S,j)}}else r[k]=function(){};return r[k]},f.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},f.isArray=g,f.isBoolean=v,f.isNull=y,f.isNullOrUndefined=function(k){return k==null},f.isNumber=N,f.isString=E,f.isSymbol=function(k){return typeof k=="symbol"},f.isUndefined=I,f.isRegExp=O,f.isObject=$,f.isDate=z,f.isError=U,f.isFunction=V,f.isPrimitive=function(k){return k===null||typeof k=="boolean"||typeof k=="number"||typeof k=="string"||typeof k=="symbol"||k===void 0},f.isBuffer=t("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var k=new Date,S=[B(k.getHours()),B(k.getMinutes()),B(k.getSeconds())].join(":");return[k.getDate(),T[k.getMonth()],S].join(" ")}function A(k,S){return Object.prototype.hasOwnProperty.call(k,S)}f.log=function(){console.log("%s - %s",D(),f.format.apply(f,arguments))},f.inherits=t("inherits"),f._extend=function(k,S){if(!S||!$(S))return k;for(var j=Object.keys(S),C=j.length;C--;)k[j[C]]=S[j[C]];return k}}).call(this)}).call(this,t("_process"),typeof zr<"u"?zr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),Object.defineProperty(f,"v1",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(f,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(f,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(f,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(f,"NIL",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(f,"version",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(f,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(f,"parse",{enumerable:!0,get:function(){return u.default}});var c=x(t("./v1.js")),n=x(t("./v3.js")),o=x(t("./v4.js")),i=x(t("./v5.js")),r=x(t("./nil.js")),s=x(t("./version.js")),l=x(t("./validate.js")),d=x(t("./stringify.js")),u=x(t("./parse.js"));function x(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,h,f){function c(u){return 14+(u+64>>>9<<4)+1}function n(u,x){const b=(65535&u)+(65535&x);return(u>>16)+(x>>16)+(b>>16)<<16|65535&b}function o(u,x,b,g,v,y){return n((N=n(n(x,u),n(g,y)))<<(E=v)|N>>>32-E,b);var N,E}function i(u,x,b,g,v,y,N){return o(x&b|~x&g,u,x,v,y,N)}function r(u,x,b,g,v,y,N){return o(x&g|b&~g,u,x,v,y,N)}function s(u,x,b,g,v,y,N){return o(x^b^g,u,x,v,y,N)}function l(u,x,b,g,v,y,N){return o(b^(x|~g),u,x,v,y,N)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var d=function(u){if(typeof u=="string"){const x=unescape(encodeURIComponent(u));u=new Uint8Array(x.length);for(let b=0;b<x.length;++b)u[b]=x.charCodeAt(b)}return(function(x){const b=[],g=32*x.length;for(let v=0;v<g;v+=8){const y=x[v>>5]>>>v%32&255,N=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);b.push(N)}return b})((function(x,b){x[b>>5]|=128<<b%32,x[c(b)-1]=b;let g=1732584193,v=-271733879,y=-1732584194,N=271733878;for(let E=0;E<x.length;E+=16){const I=g,O=v,$=y,z=N;g=i(g,v,y,N,x[E],7,-680876936),N=i(N,g,v,y,x[E+1],12,-389564586),y=i(y,N,g,v,x[E+2],17,606105819),v=i(v,y,N,g,x[E+3],22,-1044525330),g=i(g,v,y,N,x[E+4],7,-176418897),N=i(N,g,v,y,x[E+5],12,1200080426),y=i(y,N,g,v,x[E+6],17,-1473231341),v=i(v,y,N,g,x[E+7],22,-45705983),g=i(g,v,y,N,x[E+8],7,1770035416),N=i(N,g,v,y,x[E+9],12,-1958414417),y=i(y,N,g,v,x[E+10],17,-42063),v=i(v,y,N,g,x[E+11],22,-1990404162),g=i(g,v,y,N,x[E+12],7,1804603682),N=i(N,g,v,y,x[E+13],12,-40341101),y=i(y,N,g,v,x[E+14],17,-1502002290),v=i(v,y,N,g,x[E+15],22,1236535329),g=r(g,v,y,N,x[E+1],5,-165796510),N=r(N,g,v,y,x[E+6],9,-1069501632),y=r(y,N,g,v,x[E+11],14,643717713),v=r(v,y,N,g,x[E],20,-373897302),g=r(g,v,y,N,x[E+5],5,-701558691),N=r(N,g,v,y,x[E+10],9,38016083),y=r(y,N,g,v,x[E+15],14,-660478335),v=r(v,y,N,g,x[E+4],20,-405537848),g=r(g,v,y,N,x[E+9],5,568446438),N=r(N,g,v,y,x[E+14],9,-1019803690),y=r(y,N,g,v,x[E+3],14,-187363961),v=r(v,y,N,g,x[E+8],20,1163531501),g=r(g,v,y,N,x[E+13],5,-1444681467),N=r(N,g,v,y,x[E+2],9,-51403784),y=r(y,N,g,v,x[E+7],14,1735328473),v=r(v,y,N,g,x[E+12],20,-1926607734),g=s(g,v,y,N,x[E+5],4,-378558),N=s(N,g,v,y,x[E+8],11,-2022574463),y=s(y,N,g,v,x[E+11],16,1839030562),v=s(v,y,N,g,x[E+14],23,-35309556),g=s(g,v,y,N,x[E+1],4,-1530992060),N=s(N,g,v,y,x[E+4],11,1272893353),y=s(y,N,g,v,x[E+7],16,-155497632),v=s(v,y,N,g,x[E+10],23,-1094730640),g=s(g,v,y,N,x[E+13],4,681279174),N=s(N,g,v,y,x[E],11,-358537222),y=s(y,N,g,v,x[E+3],16,-722521979),v=s(v,y,N,g,x[E+6],23,76029189),g=s(g,v,y,N,x[E+9],4,-640364487),N=s(N,g,v,y,x[E+12],11,-421815835),y=s(y,N,g,v,x[E+15],16,530742520),v=s(v,y,N,g,x[E+2],23,-995338651),g=l(g,v,y,N,x[E],6,-198630844),N=l(N,g,v,y,x[E+7],10,1126891415),y=l(y,N,g,v,x[E+14],15,-1416354905),v=l(v,y,N,g,x[E+5],21,-57434055),g=l(g,v,y,N,x[E+12],6,1700485571),N=l(N,g,v,y,x[E+3],10,-1894986606),y=l(y,N,g,v,x[E+10],15,-1051523),v=l(v,y,N,g,x[E+1],21,-2054922799),g=l(g,v,y,N,x[E+8],6,1873313359),N=l(N,g,v,y,x[E+15],10,-30611744),y=l(y,N,g,v,x[E+6],15,-1560198380),v=l(v,y,N,g,x[E+13],21,1309151649),g=l(g,v,y,N,x[E+4],6,-145523070),N=l(N,g,v,y,x[E+11],10,-1120210379),y=l(y,N,g,v,x[E+2],15,718787259),v=l(v,y,N,g,x[E+9],21,-343485551),g=n(g,I),v=n(v,O),y=n(y,$),N=n(N,z)}return[g,v,y,N]})((function(x){if(x.length===0)return[];const b=8*x.length,g=new Uint32Array(c(b));for(let v=0;v<b;v+=8)g[v>>5]|=(255&x[v/8])<<v%32;return g})(u),8*u.length))};f.default=d},{}],530:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c,n=(c=t("./validate.js"))&&c.__esModule?c:{default:c},o=function(i){if(!(0,n.default)(i))throw TypeError("Invalid UUID");let r;const s=new Uint8Array(16);return s[0]=(r=parseInt(i.slice(0,8),16))>>>24,s[1]=r>>>16&255,s[2]=r>>>8&255,s[3]=255&r,s[4]=(r=parseInt(i.slice(9,13),16))>>>8,s[5]=255&r,s[6]=(r=parseInt(i.slice(14,18),16))>>>8,s[7]=255&r,s[8]=(r=parseInt(i.slice(19,23),16))>>>8,s[9]=255&r,s[10]=(r=parseInt(i.slice(24,36),16))/1099511627776&255,s[11]=r/4294967296&255,s[12]=r>>>24&255,s[13]=r>>>16&255,s[14]=r>>>8&255,s[15]=255&r,s};f.default=o},{"./validate.js":541}],532:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,h,f){let c;Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(){if(!c&&(c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(n)};const n=new Uint8Array(16)},{}],534:[function(t,h,f){function c(i,r,s,l){switch(i){case 0:return r&s^~r&l;case 1:return r^s^l;case 2:return r&s^r&l^s&l;case 3:return r^s^l}}function n(i,r){return i<<r|i>>>32-r}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=function(i){const r=[1518500249,1859775393,2400959708,3395469782],s=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const x=unescape(encodeURIComponent(i));i=[];for(let b=0;b<x.length;++b)i.push(x.charCodeAt(b))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const l=i.length/4+2,d=Math.ceil(l/16),u=new Array(d);for(let x=0;x<d;++x){const b=new Uint32Array(16);for(let g=0;g<16;++g)b[g]=i[64*x+4*g]<<24|i[64*x+4*g+1]<<16|i[64*x+4*g+2]<<8|i[64*x+4*g+3];u[x]=b}u[d-1][14]=8*(i.length-1)/Math.pow(2,32),u[d-1][14]=Math.floor(u[d-1][14]),u[d-1][15]=8*(i.length-1)&4294967295;for(let x=0;x<d;++x){const b=new Uint32Array(80);for(let I=0;I<16;++I)b[I]=u[x][I];for(let I=16;I<80;++I)b[I]=n(b[I-3]^b[I-8]^b[I-14]^b[I-16],1);let g=s[0],v=s[1],y=s[2],N=s[3],E=s[4];for(let I=0;I<80;++I){const O=Math.floor(I/20),$=n(g,5)+c(O,v,y,N)+E+r[O]+b[I]>>>0;E=N,N=y,y=n(v,30)>>>0,v=g,g=$}s[0]=s[0]+g>>>0,s[1]=s[1]+v>>>0,s[2]=s[2]+y>>>0,s[3]=s[3]+N>>>0,s[4]=s[4]+E>>>0}return[s[0]>>24&255,s[0]>>16&255,s[0]>>8&255,255&s[0],s[1]>>24&255,s[1]>>16&255,s[1]>>8&255,255&s[1],s[2]>>24&255,s[2]>>16&255,s[2]>>8&255,255&s[2],s[3]>>24&255,s[3]>>16&255,s[3]>>8&255,255&s[3],s[4]>>24&255,s[4]>>16&255,s[4]>>8&255,255&s[4]]};f.default=o},{}],535:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c,n=(c=t("./validate.js"))&&c.__esModule?c:{default:c};const o=[];for(let r=0;r<256;++r)o.push((r+256).toString(16).substr(1));var i=function(r){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const l=(o[r[s+0]]+o[r[s+1]]+o[r[s+2]]+o[r[s+3]]+"-"+o[r[s+4]]+o[r[s+5]]+"-"+o[r[s+6]]+o[r[s+7]]+"-"+o[r[s+8]]+o[r[s+9]]+"-"+o[r[s+10]]+o[r[s+11]]+o[r[s+12]]+o[r[s+13]]+o[r[s+14]]+o[r[s+15]]).toLowerCase();if(!(0,n.default)(l))throw TypeError("Stringified UUID is invalid");return l};f.default=i},{"./validate.js":541}],536:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c=o(t("./rng.js")),n=o(t("./stringify.js"));function o(u){return u&&u.__esModule?u:{default:u}}let i,r,s=0,l=0;var d=function(u,x,b){let g=x&&b||0;const v=x||new Array(16);let y=(u=u||{}).node||i,N=u.clockseq!==void 0?u.clockseq:r;if(y==null||N==null){const U=u.random||(u.rng||c.default)();y==null&&(y=i=[1|U[0],U[1],U[2],U[3],U[4],U[5]]),N==null&&(N=r=16383&(U[6]<<8|U[7]))}let E=u.msecs!==void 0?u.msecs:Date.now(),I=u.nsecs!==void 0?u.nsecs:l+1;const O=E-s+(I-l)/1e4;if(O<0&&u.clockseq===void 0&&(N=N+1&16383),(O<0||E>s)&&u.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=E,l=I,r=N,E+=122192928e5;const $=(1e4*(268435455&E)+I)%4294967296;v[g++]=$>>>24&255,v[g++]=$>>>16&255,v[g++]=$>>>8&255,v[g++]=255&$;const z=E/4294967296*1e4&268435455;v[g++]=z>>>8&255,v[g++]=255&z,v[g++]=z>>>24&15|16,v[g++]=z>>>16&255,v[g++]=N>>>8|128,v[g++]=255&N;for(let U=0;U<6;++U)v[g+U]=y[U];return x||(0,n.default)(v)};f.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c=o(t("./v35.js")),n=o(t("./md5.js"));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,c.default)("v3",48,n.default);f.default=i},{"./md5.js":529,"./v35.js":538}],538:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(s,l,d){function u(x,b,g,v){if(typeof x=="string"&&(x=(function(N){N=unescape(encodeURIComponent(N));const E=[];for(let I=0;I<N.length;++I)E.push(N.charCodeAt(I));return E})(x)),typeof b=="string"&&(b=(0,n.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+x.length);if(y.set(b),y.set(x,b.length),y=d(y),y[6]=15&y[6]|l,y[8]=63&y[8]|128,g){v=v||0;for(let N=0;N<16;++N)g[v+N]=y[N];return g}return(0,c.default)(y)}try{u.name=s}catch{}return u.DNS=i,u.URL=r,u},f.URL=f.DNS=void 0;var c=o(t("./stringify.js")),n=o(t("./parse.js"));function o(s){return s&&s.__esModule?s:{default:s}}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";f.DNS=i;const r="6ba7b811-9dad-11d1-80b4-00c04fd430c8";f.URL=r},{"./parse.js":531,"./stringify.js":535}],539:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c=o(t("./rng.js")),n=o(t("./stringify.js"));function o(r){return r&&r.__esModule?r:{default:r}}var i=function(r,s,l){const d=(r=r||{}).random||(r.rng||c.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,s){l=l||0;for(let u=0;u<16;++u)s[l+u]=d[u];return s}return(0,n.default)(d)};f.default=i},{"./rng.js":533,"./stringify.js":535}],540:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c=o(t("./v35.js")),n=o(t("./sha1.js"));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,c.default)("v5",80,n.default);f.default=i},{"./sha1.js":534,"./v35.js":538}],541:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c,n=(c=t("./regex.js"))&&c.__esModule?c:{default:c},o=function(i){return typeof i=="string"&&n.default.test(i)};f.default=o},{"./regex.js":532}],542:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var c,n=(c=t("./validate.js"))&&c.__esModule?c:{default:c},o=function(i){if(!(0,n.default)(i))throw TypeError("Invalid UUID");return parseInt(i.substr(14,1),16)};f.default=o},{"./validate.js":541}],543:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.CHAR=`	
\r ---`,f.S=` 	\r
`,f.NAME_START_CHAR=":A-Z_a-z-----------",f.NAME_CHAR="-"+f.NAME_START_CHAR+".0-9--",f.CHAR_RE=new RegExp("^["+f.CHAR+"]$","u"),f.S_RE=new RegExp("^["+f.S+"]+$","u"),f.NAME_START_CHAR_RE=new RegExp("^["+f.NAME_START_CHAR+"]$","u"),f.NAME_CHAR_RE=new RegExp("^["+f.NAME_CHAR+"]$","u"),f.NAME_RE=new RegExp("^["+f.NAME_START_CHAR+"]["+f.NAME_CHAR+"]*$","u"),f.NMTOKEN_RE=new RegExp("^["+f.NAME_CHAR+"]+$","u");function c(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}f.S_LIST=[32,10,13,9],f.isChar=function(n){return n>=32&&n<=55295||n===10||n===13||n===9||n>=57344&&n<=65533||n>=65536&&n<=1114111},f.isS=function(n){return n===32||n===10||n===13||n===9},f.isNameStartChar=c,f.isNameChar=function(n){return c(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],544:[function(t,h,f){Object.defineProperty(f,"__esModule",{value:!0}),f.CHAR="---",f.RESTRICTED_CHAR="-\b\v\f---",f.S=` 	\r
`,f.NAME_START_CHAR=":A-Z_a-z-----------",f.NAME_CHAR="-"+f.NAME_START_CHAR+".0-9--",f.CHAR_RE=new RegExp("^["+f.CHAR+"]$","u"),f.RESTRICTED_CHAR_RE=new RegExp("^["+f.RESTRICTED_CHAR+"]$","u"),f.S_RE=new RegExp("^["+f.S+"]+$","u"),f.NAME_START_CHAR_RE=new RegExp("^["+f.NAME_START_CHAR+"]$","u"),f.NAME_CHAR_RE=new RegExp("^["+f.NAME_CHAR+"]$","u"),f.NAME_RE=new RegExp("^["+f.NAME_START_CHAR+"]["+f.NAME_CHAR+"]*$","u"),f.NMTOKEN_RE=new RegExp("^["+f.NAME_CHAR+"]+$","u");function c(n){return n>=65&&n<=90||n>=97&&n<=122||n===58||n===95||n===8204||n===8205||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}f.S_LIST=[32,10,13,9],f.isChar=function(n){return n>=1&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},f.isRestrictedChar=function(n){return n>=1&&n<=8||n===11||n===12||n>=14&&n<=31||n>=127&&n<=132||n>=134&&n<=159},f.isCharAndNotRestricted=function(n){return n===9||n===10||n===13||n>31&&n<127||n===133||n>159&&n<=55295||n>=57344&&n<=65533||n>=65536&&n<=1114111},f.isS=function(n){return n===32||n===10||n===13||n===9},f.isNameStartChar=c,f.isNameChar=function(n){return c(n)||n>=48&&n<=57||n===45||n===46||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}],545:[function(t,h,f){function c(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}Object.defineProperty(f,"__esModule",{value:!0}),f.NC_NAME_START_CHAR="A-Z_a-z------------",f.NC_NAME_CHAR="-"+f.NC_NAME_START_CHAR+".0-9--",f.NC_NAME_START_CHAR_RE=new RegExp("^["+f.NC_NAME_START_CHAR+"]$","u"),f.NC_NAME_CHAR_RE=new RegExp("^["+f.NC_NAME_CHAR+"]$","u"),f.NC_NAME_RE=new RegExp("^["+f.NC_NAME_START_CHAR+"]["+f.NC_NAME_CHAR+"]*$","u"),f.isNCNameStartChar=c,f.isNCNameChar=function(n){return c(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}},{}]},{},[15])(15)}))})(qf)),qf.exports}var My=__();const fu={name:"",address:"",taxNumber:"",taxOffice:"",phone:"",email:"",website:"",logoDataUrl:"",iban:"",bankAccountId:void 0,currency:"TRY"},pl=a=>{if(typeof a=="number"&&Number.isFinite(a))return String(a);if(typeof a=="string"){const m=a.trim();return m||void 0}},Kr=(a,m)=>pl(a?.id)||pl(m)||pl(hn()),pu=()=>pl(hn())||"",ho=a=>a?`companyProfile_${a}`:"companyProfile",$f=a=>{const m=ho(a||"");try{const t=Tt.getItem(m)||Tt.getItem(`${m}_plain`)||Tt.getItem("company");return t?JSON.parse(t):null}catch{return null}},Hf=[],P_=(a,m)=>{const t=typeof a.id=="string"&&a.id.trim()?a.id.trim():null;if(t)return t;const h=a.relatedId?String(a.relatedId):null,f=`${Date.now()}-${m}-${Math.random().toString(36).slice(2,9)}`;return h?`${h}-${f}`:`notif-${f}`},D_=(a,m)=>{if(typeof a=="number"&&Number.isFinite(a))return a;if(typeof a=="string"){const t=Number(a);if(Number.isFinite(t))return t}return m},Ry=a=>{const m=((typeof navigator<"u"?navigator.language:"tr")||"tr").slice(0,2);return(Array.isArray(a)?a:[]).map((h,f)=>{const c=P_(h,f),n=c.match(/\b\d{13}\b/),o=n?Number(n[0]):Date.now(),i=D_(h.firstSeenAt,o),r=typeof h.time=="string"&&h.time.trim()?h.time:new Date(i).toLocaleString(m);return{...h,id:c,firstSeenAt:i,time:r}})},zy=a=>Array.isArray(a)?a.filter(m=>m!=null).map((m,t)=>{if(typeof m=="object"&&m!==null){const h=m,f=h.id,c=typeof f=="string"||typeof f=="number"?f:`item-${t}`;return{...h,id:c}}return{id:`item-${t}`,description:typeof m=="string"?m:String(m)}}):[],Ly=a=>{const m=Number(a);if(!(!Number.isFinite(m)||m<=0))return Math.round(m*100)/100},Ec=a=>{const m=Number(a.stock),t=Number.isFinite(m)?Math.max(0,m):0,h=Number(a.minStock)||0;return{...a,sku:a.code,unitPrice:Number(a.price)||0,costPrice:Number(a.cost)||0,stockQuantity:t,reorderLevel:h,taxRate:Ly(a.taxRate),categoryTaxRateOverride:Ly(a.categoryTaxRateOverride),status:t===0?"out-of-stock":t<=h?"low":"active"}},I_=["Genel"],M_=[],sm="app:lastPage",R_=["dashboard","invoices","expenses","customers","products","suppliers","banks","sales","quotes","reports","general-ledger","chart-of-accounts","archive","settings","fiscal-periods","organization-members"],Oy=new Set(R_),z_={success:"border-emerald-200 bg-emerald-50 text-emerald-900",info:"border-indigo-200 bg-indigo-50 text-indigo-900",error:"border-red-200 bg-red-50 text-red-900"},Tc=a=>`${a>=0?"+":""}${a.toFixed(1)}%`,fr=(a,m)=>{he.debug(a,m)},Fy=()=>{try{return Gr.getItem(sm)||Tt.getItem(sm)}catch(a){return fr("app.navigation.lastPage.readFailed",a),null}},L_=a=>{if(a)try{Gr.setItem(sm,a),Tt.setItem(sm,a)}catch(m){fr("app.navigation.lastPage.persistFailed",{page:a,error:m})}},O_=()=>{const{isAuthenticated:a,user:m,logout:t,tenant:h}=Zs(),{formatCurrency:f,setCurrency:c}=es(),{t:n,i18n:o}=Zt(),{prefs:i}=ev(),r=Gt.useCallback((J,ue,ie)=>{try{const ye=n(J,ie);return ye===J?ue:String(ye)}catch{return ue}},[n]),s=Gt.useCallback((J,ue,ie)=>{for(const ye of J)try{const Ae=n(ye,ie);if(Ae!==ye)return String(Ae)}catch(Ae){fr("app.i18n.tOrFirst",{key:ye,error:Ae})}return ue},[n]),[l,d]=W.useState(()=>Fy()||"dashboard"),[u,x]=W.useState(void 0);W.useEffect(()=>{he.debug("app.navigation.pageChanged",{page:l})},[l]),W.useEffect(()=>{L_(l)},[l]),W.useEffect(()=>{if(typeof window>"u"||!(Oy.has(l)||l.startsWith("customer-history:")))return;const ue=l==="dashboard"?"":l;if(window.location.hash.replace("#","")!==ue)try{window.location.hash=ue}catch(ye){fr("app.hashSync.writeFailed",{targetHash:ue,error:ye})}},[l]),W.useEffect(()=>{try{l.startsWith("legal-")&&(window.scrollTo({top:0,behavior:"auto"}),window.scrollY>0&&window.scrollTo(0,0))}catch(J){fr("app.navigation.scrollTopFailed",J)}},[l]),W.useEffect(()=>{const J=Uu(),ue=m?.isEmailVerified===!0;if(J&&a&&!ue){const ie=new Set(["verify-email","verify-notice","landing","about","api"]),ye=l.startsWith("legal-");if(!ie.has(l)&&!ye){try{window.location.hash="verify-notice"}catch(Ae){fr("app.navigation.hashUpdateFailed",Ae)}d("verify-notice")}}},[a,m,l]),W.useEffect(()=>{cp.setConfig({googleAnalytics:{measurementId:"G-XXXXXXXXXX",enabled:!0},matomo:{siteId:"1",url:"https://your-matomo-domain.com",enabled:!1},hotjar:{hjid:"0000000",hjsv:"6",enabled:!1}})},[]);const[b,g]=W.useState({name:m?.firstName||"User",email:m?.email||""}),[v,y]=W.useState([]),[N,E]=W.useState(()=>fu),I=h?.id,O=m?.tenantId,$=m?.id,z=Gt.useMemo(()=>{try{return Kr({id:I},O)}catch{return}},[I,O]);W.useEffect(()=>{let J=!1;(async()=>{try{const ie=pu(),ye=ho(ie),Ae=await Pa.getJSON(ye),Fe=Ae??$f(ie);if(!J&&Fe&&(E({...fu,...Fe}),Fe.currency&&c(Fe.currency),!Ae))try{await Pa.setJSON(ye,Fe)}catch(Ee){fr("app.companyCache.secureWriteFailed",Ee)}}catch{}})();const ue=()=>{(async()=>{try{const ie=pu(),ye=ho(ie),Ae=await Pa.getJSON(ye);if(Ae){E({...fu,...Ae}),Ae.currency&&c(Ae.currency);return}const Fe=$f(ie);Fe&&(E({...fu,...Fe}),Fe.currency&&c(Fe.currency))}catch(ie){fr("app.companyCache.refreshFailed",ie)}})()};return window.addEventListener("company-profile-updated",ue),()=>{J=!0,window.removeEventListener("company-profile-updated",ue)}},[c]),W.useEffect(()=>{let J=!1;return(async()=>{try{if(!An()||!a)return;const{tenantsApi:ie}=await Dr(async()=>{const{tenantsApi:Ee}=await Promise.resolve().then(()=>g8);return{tenantsApi:Ee}},void 0),ye=await ie.getMyTenant();if(!ye)return;const Ae=(ye.settings||{})?.brand||{};try{const Ee=z||"",qe=ho(Ee),tt=await Pa.getJSON(qe).catch(()=>null),Xe=$f(Ee),Ze=tt||Xe,wt=!!(Ae?.logoDataUrl||Ae?.bankAccountId||Ae?.country),gt=!!(ye?.taxNumber||ye?.taxOffice||ye?.address||ye?.phone||ye?.email||ye?.website||ye?.siretNumber||ye?.sirenNumber||ye?.tvaNumber||ye?.apeCode||ye?.rcsNumber||ye?.steuernummer||ye?.umsatzsteuerID||ye?.handelsregisternummer||ye?.geschaeftsfuehrer||ye?.einNumber||ye?.taxId||ye?.businessLicenseNumber||ye?.stateOfIncorporation);if(!!(Ze&&(Ze.logoDataUrl||Ze.taxNumber||Ze.taxOffice||Ze.address||Ze.phone||Ze.email||Ze.website||Ze.siretNumber||Ze.sirenNumber||Ze.tvaNumber||Ze.apeCode||Ze.rcsNumber||Ze.steuernummer||Ze.umsatzsteuerID||Ze.handelsregisternummer||Ze.geschaeftsfuehrer||Ze.einNumber||Ze.taxId||Ze.businessLicenseNumber||Ze.stateOfIncorporation))&&!wt&&!gt)try{await ie.updateMyTenant({companyName:ye?.companyName||Ze.name||void 0,address:Ze.address||void 0,taxNumber:Ze.taxNumber||void 0,taxOffice:Ze.taxOffice||void 0,phone:Ze.phone||void 0,email:Ze.email||void 0,website:Ze.website||void 0,siretNumber:Ze.siretNumber||void 0,sirenNumber:Ze.sirenNumber||void 0,apeCode:Ze.apeCode||void 0,tvaNumber:Ze.tvaNumber||void 0,rcsNumber:Ze.rcsNumber||void 0,steuernummer:Ze.steuernummer||void 0,umsatzsteuerID:Ze.umsatzsteuerID||void 0,handelsregisternummer:Ze.handelsregisternummer||void 0,geschaeftsfuehrer:Ze.geschaeftsfuehrer||void 0,einNumber:Ze.einNumber||void 0,taxId:Ze.taxId||void 0,businessLicenseNumber:Ze.businessLicenseNumber||void 0,stateOfIncorporation:Ze.stateOfIncorporation||void 0,settings:{brand:{logoDataUrl:Ze.logoDataUrl||"",bankAccountId:Ze.bankAccountId||void 0,country:Ze.country||""}}});const It=await ie.getMyTenant();It&&(ye.settings=It.settings,ye.address=It.address,ye.taxNumber=It.taxNumber,ye.taxOffice=It.taxOffice,ye.phone=It.phone,ye.email=It.email,ye.website=It.website,Object.assign(ye,{siretNumber:It.siretNumber,sirenNumber:It.sirenNumber,apeCode:It.apeCode,tvaNumber:It.tvaNumber,rcsNumber:It.rcsNumber,steuernummer:It.steuernummer,umsatzsteuerID:It.umsatzsteuerID,handelsregisternummer:It.handelsregisternummer,geschaeftsfuehrer:It.geschaeftsfuehrer,einNumber:It.einNumber,taxId:It.taxId,businessLicenseNumber:It.businessLicenseNumber,stateOfIncorporation:It.stateOfIncorporation}))}catch{}}catch{}const Fe={name:ye.companyName||ye.name||"",address:ye.address||"",taxNumber:ye.taxNumber||"",taxOffice:ye.taxOffice||"",phone:ye.phone||"",email:ye.email||"",website:ye.website||"",logoDataUrl:Ae.logoDataUrl||"",bankAccountId:Ae.bankAccountId||Ae.defaultBankAccountId||void 0,currency:ye.currency||Ae.currency||"TRY",country:Ae.country||void 0,mersisNumber:ye.mersisNumber||"",kepAddress:ye.kepAddress||"",siretNumber:ye.siretNumber||"",sirenNumber:ye.sirenNumber||"",apeCode:ye.apeCode||"",tvaNumber:ye.tvaNumber||"",rcsNumber:ye.rcsNumber||"",steuernummer:ye.steuernummer||"",umsatzsteuerID:ye.umsatzsteuerID||"",handelsregisternummer:ye.handelsregisternummer||"",geschaeftsfuehrer:ye.geschaeftsfuehrer||"",einNumber:ye.einNumber||"",taxId:ye.taxId||"",businessLicenseNumber:ye.businessLicenseNumber||"",stateOfIncorporation:ye.stateOfIncorporation||""};if(!J){E(Fe),Fe.currency&&c(Fe.currency);try{const qe=ho(z||"");await Pa.setJSON(qe,Fe),window.dispatchEvent(new Event("company-profile-updated"))}catch(Ee){fr("app.companyCache.backendSyncFailed",Ee)}}}catch{}})(),()=>{J=!0}},[a,z,c]);const[U,V]=W.useState(Hf),[G,B]=W.useState(!1),[T,D]=W.useState(!1),A=Gt.useCallback(J=>{d(J),D(!1),B(!1),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})},[]),k=Gt.useCallback(J=>{x(J),A("settings")},[A]),S=Gt.useCallback(()=>{const J=z;if(!!(J||I||O)&&J){const ye=ps("notifications",{tenantId:J,fallbackToBase:!1});if(Array.isArray(ye)&&ye.length>0){V(Ry(ye));return}V(Hf);return}const ie=ps("notifications",{tenantId:void 0,fallbackToBase:!0});if(Array.isArray(ie)&&ie.length>0){V(Ry(ie));return}V(Hf)},[z,I,O]);Gt.useEffect(()=>{S()},[S]);const[j,C]=W.useState(!1),[P,R]=W.useState(!1),[L,Y]=W.useState(!1),[Z,ae]=W.useState(!1),[q,X]=W.useState(!1),[F,M]=W.useState(!1),[K,se]=W.useState(!1),[oe,ne]=W.useState(!1),[le,Se]=W.useState(!1),[je,ee]=W.useState(!1),[ce,be]=W.useState(!1),[Te,Ce]=W.useState(!1),[Pe,Be]=W.useState(!1),[Ge,st]=W.useState(!1),[bt,_e]=W.useState(!1),[We,vt]=W.useState(!1),[At,Nt]=W.useState(!1),[De,ge]=W.useState(!1),[Oe,Ke]=W.useState(!1),[pe,me]=W.useState(!1),[xe,te]=W.useState(!1),[we,Ue]=W.useState(!1),[et,dt]=W.useState(!1),[St,Ut]=W.useState(null),[ve,de]=W.useState(!1),[Ye,ut]=W.useState(null),[pt,Le]=W.useState(null),[Je,ke]=W.useState(null),[Me,He]=W.useState(null),[ot,at]=W.useState(null),[ft,Kt]=W.useState(null),[zt,Re]=W.useState(null),[rt,mt]=W.useState(null),[Dt,_t]=W.useState(null),[jt,Ie]=W.useState(null),[ht,Vt]=W.useState(null),[Ne,Ve]=W.useState(null),[lt,kt]=W.useState(null),[Ot,Pt]=W.useState([]),[$t,sr]=W.useState([]),[Yt,Lt]=W.useState([]),[Jt,dr]=W.useState([]),[hr,Fr]=W.useState([]),[pr,jr]=W.useState([]),[as,os]=W.useState(()=>I_),[qs,Un]=W.useState(()=>M_),[gs,As]=W.useState([]),Rr=Gt.useRef([]),Cr=Gt.useRef(!1),[$s,Vn]=W.useState([]),[Li,yr]=W.useState(!0),[cs,Ir]=W.useState(null),[qn,Oi]=W.useState(null),Dn=Gt.useCallback(async()=>{try{const J=await dp(),ue=Array.isArray(J)?J.map(Ec):[];jr(ue);try{Lr("products_cache",ue,{tenantId:z,mirrorToBase:!0})}catch(ie){fr("app.products.refresh.cacheFailed",ie)}}catch(J){fr("app.products.refresh.failed",J)}},[z]),xs=Gt.useMemo(()=>({id:m?.id??null,tenantId:m?.tenantId??null,firstName:m?.firstName??"",lastName:m?.lastName??"",email:m?.email??""}),[m?.id,m?.tenantId,m?.firstName,m?.lastName,m?.email]);W.useEffect(()=>{Lr("customers_cache",Ot,{tenantId:z,mirrorToBase:!0})},[Ot,z]),W.useEffect(()=>{Rr.current=gs},[gs]),W.useEffect(()=>{Cr.current=Array.isArray(hr)&&hr.length>0},[hr]);const bi=Gt.useCallback(J=>{Vn(ue=>ue.filter(ie=>ie.id!==J))},[]),er=Gt.useCallback((J,ue="info",ie)=>{const ye=ie?.id||crypto.randomUUID?.()||Math.random().toString(36).slice(2),Ae=typeof ie?.duration=="number"?ie.duration:4e3,Fe=ie?.tone??ue,Ee={id:ye,message:J||n("toasts.common.genericMessage"),tone:Fe,duration:Ae};return Vn(qe=>[...qe,Ee]),Ae>0&&window.setTimeout(()=>bi(ye),Ae),ye},[n,bi]);W.useEffect(()=>{const J=ue=>{const{message:ie,tone:ye="info",id:Ae,duration:Fe}=ue.detail||{};ie&&er(ie,ye,{id:Ae,duration:Fe})};return window.addEventListener("showToast",J),()=>{window.removeEventListener("showToast",J)}},[er]);const Hs=Gt.useRef(!1),Es=Gt.useCallback(J=>{Hs.current=!0;try{J()}finally{setTimeout(()=>{Hs.current=!1},0)}},[]),_r=Gt.useCallback(J=>{Fr(ue=>{const ie=Array.isArray(ue)?ue:[],ye=typeof J=="function"?J(ie):Array.isArray(J)?J:ie;if(!Hs.current)try{const Ae=z;Lr("sales_cache",ye,{tenantId:Ae,mirrorToBase:!0}),Lr("sales",ye,{tenantId:Ae,mirrorToBase:!0}),window.dispatchEvent(new Event("sales-cache-updated"))}catch(Ae){he.warn("app.sales.cacheWriteFailed",Ae)}return ye})},[z]);W.useEffect(()=>{try{const ie=(window.location.pathname||"").match(/\/public\/quote\/(.+)$/);ie&&ie[1]&&Oi(decodeURIComponent(ie[1]))}catch(ue){fr("app.publicQuote.decodeFailed",ue)}(async()=>{const ue=An();if(!ue||!a){he.warn("app.bootstrap.tokenMissing",{isAuthenticated:a,hasToken:!!ue}),Pt([]),sr([]),jr([]),Lt([]),dr([]),yr(!1);return}try{yr(!0),he.info("app.bootstrap.fetch.start"),he.debug("app.bootstrap.fetch.step",{resource:"customers"});const ie=await yA();he.debug("app.bootstrap.fetch.step",{resource:"suppliers"});const ye=await zA();he.debug("app.bootstrap.fetch.step",{resource:"products"});const Ae=await dp();he.debug("app.bootstrap.fetch.step",{resource:"invoices"});const Fe=await kA();he.debug("app.bootstrap.fetch.step",{resource:"expenses"});const Ee=await TA();he.debug("app.bootstrap.fetch.step",{resource:"sales"});let qe=[];try{qe=await CA()}catch(Mt){he.warn("app.bootstrap.salesLoadFailed",Mt)}he.debug("app.bootstrap.fetch.step",{resource:"productCategories"});const tt=await Dr(async()=>{const{productCategoriesApi:Mt}=await Promise.resolve().then(()=>Ic);return{productCategoriesApi:Mt}},void 0).then(({productCategoriesApi:Mt})=>Mt.getAll());he.debug("app.bootstrap.fetch.success",{customers:ie,suppliers:ye,products:Ae,invoices:Fe,expenses:Ee,categories:tt,sales:qe});const Xe=Array.isArray(ie)?ie:[],Ze=Array.isArray(ye)?ye:[],wt=Array.isArray(Ae)?Ae:[],gt=Array.isArray(Fe)?Fe:[],Et=Array.isArray(Ee)?Ee:[],It=Array.isArray(tt)?tt:[];he.info("app.bootstrap.safeSizes",{customers:Xe.length,suppliers:Ze.length,products:wt.length,invoices:gt.length,expenses:Et.length,categories:It.length}),Pt(Xe),sr(Ze),Un(It);const rr=It.map(Mt=>Mt.name);os(Mt=>{const Ar=new Set([...Mt,...rr]);return Array.from(Ar)});const Ft=wt.map(Ec);jr(Ft);const br=Et.map(Mt=>{let Ar=null;Mt&&typeof Mt.supplier=="object"&&Mt.supplier!==null?Ar=Mt.supplier:typeof Mt?.supplier=="string"&&Mt.supplier.trim()?Ar={name:String(Mt.supplier).trim()}:typeof Mt?.supplierName=="string"&&Mt.supplierName.trim()&&(Ar={name:String(Mt.supplierName).trim()});const lr=String(Ar?.name||"").trim().toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(lr)&&(Ar=null),{...Mt,supplier:Ar,expenseDate:typeof Mt.expenseDate=="string"?Mt.expenseDate:new Date(Mt.expenseDate).toISOString().split("T")[0],dueDate:Mt.dueDate||Mt.expenseDate}});if(Lt(gt),dr(br),Array.isArray(qe)){const Mt=`${xs.firstName} ${xs.lastName}`.trim()||xs.email||void 0,Ar=qe.map(lr=>{const ts=Hr=>Hr&&(`${Hr.firstName||""} ${Hr.lastName||""}`.trim()||Hr.name||Hr.email)||void 0,ks=lr?.customer?.name,Ns=lr?.customerName,ai=lr?.customerId?Xe.find(Hr=>String(Hr.id)===String(lr.customerId)):void 0,Mn=ks||Ns||ai?.name||"",ma=lr?.customerEmail||ai?.email||"",Ks=Array.isArray(lr?.items)&&lr.items.length>0?lr.items[0]:void 0,Kn=lr?.productId||Ks?.productId,Gn=lr?.productName||Ks?.productName||Ks?.description||"",oi=Number(lr?.quantity??Ks?.quantity??1);let Nr=Number(lr?.unitPrice??Ks?.unitPrice??0);const ha=Kn?Ft.find(Hr=>String(Hr.id)===String(Kn)):void 0,Ci=lr?.productUnit||ha?.unit||"";(!Number.isFinite(Nr)||Nr===0)&&Number.isFinite(Number(lr?.subtotal))&&oi>0&&(Nr=Number(lr.subtotal)/oi);const Ai=(()=>{const Hr=String(lr?.status||"").toLowerCase();return Hr==="created"||Hr==="invoiced"?"completed":Hr==="refunded"?"cancelled":Hr==="cancelled"||Hr==="completed"||Hr==="pending"?Hr:"completed"})(),zo=lr?.createdByName||ts(lr?.createdBy)||(lr?.createdById&&xs.id&&String(lr.createdById)===String(xs.id)?Mt:void 0),Wn=lr?.updatedByName||ts(lr?.updatedBy)||(lr?.updatedById&&xs.id&&String(lr.updatedById)===String(xs.id)?Mt:void 0);return{...lr,customerName:Mn,customerEmail:ma,productId:Kn,productName:Gn,productUnit:Ci,quantity:oi,unitPrice:Nr,date:lr.saleDate?String(lr.saleDate).slice(0,10):lr.date,amount:Number(lr.total??lr.amount??0),status:Ai,createdByName:zo,updatedByName:Wn,createdAt:lr?.createdAt||lr?.createdDate||lr?.createdOn||lr?.saleDate,updatedAt:lr?.updatedAt||lr?.updatedDate||lr?.updatedOn||lr?.saleDate}});_r(lr=>{const ts=new Map,ks=Ns=>`${Ns?.saleNumber||""}#${Ns?.id||""}`;for(const Ns of Array.isArray(lr)?lr:[])ts.set(ks(Ns),Ns);for(const Ns of Ar)ts.set(ks(Ns),Ns);return Array.from(ts.values())})}he.debug("app.bootstrap.expenseSample",{sample:br.slice(0,10).map(Mt=>({id:Mt.id,amount:Mt.amount,status:Mt.status,expenseDate:Mt.expenseDate}))});const ur={tenantId:Kr(h,xs.tenantId),mirrorToBase:!0};Lr("customers_cache",Xe,ur),Lr("suppliers_cache",Ze,ur),Lr("products_cache",Ft,ur),Lr("invoices_cache",gt,ur),Lr("expenses_cache",Et,ur),Array.isArray(qe)&&Lr("sales_cache",qe,ur),he.info("app.bootstrap.cachePersisted")}catch(ie){he.error("app.bootstrap.fetch.failed",ie),er(n("toasts.common.dataLoadError"),"error")}finally{yr(!1)}})()},[a,h,xs,_r,er,n]),W.useEffect(()=>{Lr("bankAccounts",gs,{tenantId:z,mirrorToBase:!0})},[gs,z]);const vi=Gt.useCallback((J=[])=>{he.info("app.sales.simpleList.updated",{count:J.length}),_r(J)},[_r]);W.useEffect(()=>{if(!Hs.current)try{const J=z,ue=Array.isArray(hr)?hr:[];Lr("sales",ue,{tenantId:J,mirrorToBase:!0});const ie=JSON.stringify(ue);ml("sales_backup",ie,{tenantId:J,mirrorToBase:!1}),ml("sales_last_seen_ts",Date.now(),{tenantId:J,mirrorToBase:!1})}catch(J){fr("app.sales.persistFailed",J)}},[hr,z]),W.useEffect(()=>{Lr("invoices_cache",Yt,{tenantId:z,mirrorToBase:!0})},[Yt,z]),W.useEffect(()=>{try{Lr("notifications",U,{tenantId:z,mirrorToBase:!0})}catch(J){fr("app.notifications.persistFailed",J)}},[U,z]),W.useEffect(()=>{if(m){let ue=`${m.firstName||""} ${m.lastName||""}`.trim();if(!ue){const ie=um();if(ie){const ye=`${ie.firstName||""} ${ie.lastName||""}`.trim()||ie.name||"";ye&&(ue=ye)}}g(ie=>({name:ue||ie.name||"User",email:m.email||ie.email||""})),he.debug("app.auth.userSync",{name:ue||"User",email:m.email||""}),m.tenantId!=null&&c2(m.tenantId)}},[m]),Gt.useEffect(()=>{const J=ue=>{const ie=z,ye=ia("sales",ie),Ae=ia("sales_cache",ie);if(ue.key===ye||ue.key===Ae)try{const Fe=ps("sales",{tenantId:ie,fallbackToBase:!1})??[],Ee=ps("sales_cache",{tenantId:ie,fallbackToBase:!1})??[],qe=[...Array.isArray(Fe)?Fe:[],...Array.isArray(Ee)?Ee:[]],tt=new Map;qe.forEach(Ze=>{const wt=`${Ze.saleNumber||""}#${Ze.id||""}`;tt.has(wt)||tt.set(wt,Ze)});const Xe=Array.from(tt.values());Es(()=>{_r(Xe)})}catch(Fe){fr("app.sales.storageSyncFailed",Fe)}};return window.addEventListener("storage",J),()=>window.removeEventListener("storage",J)},[z,_r,Es]),W.useEffect(()=>{if(!An()&&!a){he.info("app.cache.offlineSalesLoad.start");try{const gt=ps("sales",{tenantId:void 0,fallbackToBase:!0});Array.isArray(gt)&&gt.length>0&&(_r(gt),he.info("app.cache.offlineSalesLoad.success",{count:gt.length}))}catch(gt){he.error("app.cache.offlineSalesLoad.failed",gt)}yr(!1);return}const ue=pl(h?.id)||pl(m?.tenantId)||"";he.info("app.cache.authenticatedLoad.start");const ie=ps("bankAccounts",{tenantId:ue,fallbackToBase:!1})??[],ye=ps("bankAccounts",{tenantId:void 0,fallbackToBase:!0})??[];if(!ue){yr(!1);return}const Ae=ps("sales",{tenantId:ue,fallbackToBase:!1})??[],Fe=ps("sales_cache",{tenantId:ue,fallbackToBase:!0})??[],Ee=ps("customers_cache",{tenantId:ue,fallbackToBase:!0})??[],qe=ps("suppliers_cache",{tenantId:ue,fallbackToBase:!0})??[],tt=ps("products_cache",{tenantId:ue,fallbackToBase:!0})??[],Xe=ps("invoices_cache",{tenantId:ue,fallbackToBase:!0})??[],Ze=ps("expenses_cache",{tenantId:ue,fallbackToBase:!0})??[],wt=ie.length?ie:null;if(ie.length||ye.length)try{const gt=[...ie,...ye];if(gt.length>0){const Et=new Map;for(const rr of gt){const Ft=String(rr&&rr.id||"");Ft&&(Et.has(Ft)||Et.set(Ft,rr))}const It=Array.from(Et.values());he.info("app.cache.banksLoaded",{count:It.length}),As(It.map(rr=>({...rr,id:String(rr.id)})))}}catch(gt){he.error("app.cache.banksLoadFailed",gt)}if((async()=>{try{const{bankAccountsApi:gt}=await Dr(async()=>{const{bankAccountsApi:tr}=await import("./bank-accounts-BLj6Ekd5.js");return{bankAccountsApi:tr}},[]),It=(await gt.list()).map(tr=>({...tr,id:String(tr.id),accountName:tr.name})),rr=wt??Rr.current,Ft=_c("bankUi",{tenantId:ue,fallbackToBase:!1})||{},br=It.map(tr=>{const ur=(Array.isArray(rr)?rr:[]).find(Ar=>String(Ar.id)===String(tr.id)),Mt=Ft[String(tr.id)]||{};return{...ur,...tr,isActive:ur?.isActive!==void 0?ur.isActive:Mt?.isActive!==void 0?Mt.isActive:!0,accountType:ur?.accountType||Mt?.accountType||"checking",balance:Number(ur?.balance??Mt?.balance??0),branchCode:ur?.branchCode||Mt?.branchCode||"",routingNumber:ur?.routingNumber||Mt?.routingNumber||"",swiftBic:ur?.swiftBic||Mt?.swiftBic||""}});As(br);try{Lr("bankAccounts",br,{tenantId:ue,mirrorToBase:!0})}catch(tr){fr("app.cache.bankAccounts.persistFailed",tr)}}catch(gt){he.warn("app.cache.bankAccounts.refreshFailed",gt)}})(),Ae.length||Fe.length)try{const gt=[...Ae,...Fe];let Et=gt;const It=new Map;for(const Mt of Et){const Ar=`${Mt.saleNumber||""}#${Mt.id||""}`;It.has(Ar)||It.set(Ar,Mt)}Et=Array.from(It.values());const rr=()=>`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,Ft=new Set,br=Et.map(Mt=>{const Ar=String(Mt?.id??"");if(!Ar||Ft.has(Ar)){const lr=rr();return{...Mt,id:lr}}return Ft.add(Ar),{...Mt,id:Ar}}),tr=Array.isArray(Ee)?Ee:[],ur=br.map(Mt=>{const Ar=Mt?.customer?.name,lr=Mt?.customerName,ts=Mt?.customerId?tr.find(Nr=>String(Nr.id)===String(Mt.customerId))?.name:void 0,ks=Mt?.customerId?tr.find(Nr=>String(Nr.id)===String(Mt.customerId))?.email:void 0,Ns=Ar||lr||ts||"",ai=Mt?.customerEmail||ks||"",Mn=Array.isArray(Mt?.items)&&Mt.items.length>0?Mt.items[0]:void 0,ma=Mt?.productId||Mn?.productId,Ks=Mt?.productName||Mn?.productName||Mn?.description||"",Kn=Number(Mt?.quantity??Mn?.quantity??1);let Gn=Number(Mt?.unitPrice??Mn?.unitPrice??0);(!Number.isFinite(Gn)||Gn===0)&&Number.isFinite(Number(Mt?.subtotal))&&Kn>0&&(Gn=Number(Mt.subtotal)/Kn);const oi=(()=>{const Nr=String(Mt?.status||"").toLowerCase();return Nr==="created"||Nr==="invoiced"?"completed":Nr==="refunded"?"cancelled":Nr==="cancelled"||Nr==="completed"||Nr==="pending"?Nr:"completed"})();return{...Mt,customerName:Ns,customerEmail:ai,productId:ma,productName:Ks,quantity:Kn,unitPrice:Gn,status:oi}});he.info("app.cache.salesLoaded",{total:(gt||[]).length,filtered:(Et||[]).length,unique:br.length}),Es(()=>{_r(ur)})}catch(gt){he.error("app.cache.salesLoadFailed",gt)}if(Ee.length&&(he.info("app.cache.customersLoaded",{count:Ee.length}),Pt(Ee)),qe.length&&(he.info("app.cache.suppliersLoaded",{count:qe.length}),sr(qe)),tt.length)try{he.info("app.cache.productsLoaded",{count:tt.length});const gt=tt.map(Et=>({...Et,unitPrice:Number(Et.unitPrice)||0,costPrice:Number(Et.costPrice)||0,stockQuantity:Number(Et.stockQuantity)||0,reorderLevel:Number(Et.reorderLevel)||0}));jr(gt)}catch(gt){he.error("app.cache.productsLoadFailed",gt)}if(Xe.length&&(he.info("app.cache.invoicesLoaded",{count:Xe.length}),Lt(Xe)),Ze.length)try{he.info("app.cache.expensesLoaded",{count:Ze.length});const gt=Ze.map(Et=>{const It=typeof Et.expenseDate=="string"?Et.expenseDate:Et.expenseDate?new Date(Et.expenseDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],rr=Et.dueDate||Et.expenseDate;let Ft=null;Et&&typeof Et.supplier=="object"&&Et.supplier!==null?Ft=Et.supplier:typeof Et?.supplier=="string"&&Et.supplier.trim()?Ft={name:String(Et.supplier).trim()}:typeof Et?.supplierName=="string"&&Et.supplierName.trim()&&(Ft={name:String(Et.supplierName).trim()});const br=String(Ft?.name||"").trim().toLowerCase();return["nosupplier","no supplier","tedariki yok","kein lieferant","aucun fournisseur"].includes(br)&&(Ft=null),{...Et,expenseDate:It,dueDate:rr,supplier:Ft}});dr(gt)}catch(gt){he.error("app.cache.expensesLoadFailed",gt)}},[a,h?.id,m?.tenantId,_r,Es]),W.useEffect(()=>{const J=h?.id||m?.tenantId;!a||!J||(Pt([]),sr([]),jr([]),Lt([]),dr([]),_r([]),As([]))},[h?.id,m?.tenantId,a,_r]),W.useEffect(()=>{const J=()=>{const ie=Date.now(),ye=1440*60*1e3;V(Ae=>{const Fe=Ae.filter(tt=>tt.persistent||tt.repeatDaily||!tt.read||!tt.readAt?!0:ie-tt.readAt<ye),Ee=Fe.map(tt=>(tt.persistent||tt.repeatDaily)&&tt.read&&tt.readAt&&ie-tt.readAt>=ye?(he.debug("app.notifications.persistentReset",{notificationId:tt.id,title:tt.title}),{...tt,read:!1,readAt:void 0}):tt),qe=Ae.length-Fe.length;return qe>0&&he.info("app.notifications.cleanupRemoved",{count:qe}),Ee})};J();const ue=setInterval(J,3600*1e3);return()=>clearInterval(ue)},[]);const $n=W.useMemo(()=>U.filter(J=>!J.read).length,[U]),Xs=m?.twoFactorEnabled===!0,Wc=Gt.useMemo(()=>{try{return Kr(h,O)}catch{return}},[h,O]),Qr=Gt.useCallback((J,ue,ie="info",ye,Ae)=>{const Fe=new Set(["invoices","expenses","sales","products","suppliers","quotes"]),Ee=ye||"",qe=()=>{try{const gt=Wc,Et=$?String($):void 0;return yl({tenantIds:gt?[gt]:void 0,userIds:Et?[Et]:void 0})||{}}catch{return{}}};if(Ee&&!Fe.has(Ee))return;if(Ee==="products"){const gt=Ae?.relatedId||"";if(!/^low-stock-|^out-of-stock-/.test(gt)||qe()?.lowStockAlerts===!1)return}if(Ee==="sales"&&qe()?.salesNotifications===!1||Ee==="quotes"&&qe()?.quoteReminders===!1||Ee==="invoices"&&qe()?.invoiceReminders===!1||Ee==="expenses"&&qe()?.expenseAlerts===!1)return;const tt=Ae?.relatedId?`${Ae.relatedId}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Xe=Date.now(),Ze=new Date(Xe).toLocaleString((navigator.language||"tr").slice(0,2)),wt={id:tt,title:J,description:ue,time:Ze,firstSeenAt:Xe,type:ie,read:!1,link:ye,persistent:Ae?.persistent,repeatDaily:Ae?.repeatDaily,relatedId:Ae?.relatedId,i18nTitleKey:Ae?.i18nTitleKey,i18nDescKey:Ae?.i18nDescKey,i18nParams:Ae?.i18nParams};V(gt=>{if(Ae?.relatedId){const Et=gt.filter(It=>It.relatedId!==Ae.relatedId);return[wt,...Et]}return[wt,...gt]}),he.info("app.notifications.created",{id:wt.id,type:wt.type,category:Ee,persistent:!!wt.persistent})},[Wc,$]);W.useEffect(()=>{if(!a)return;if(Xs){V(ye=>ye.filter(Ae=>Ae.relatedId!=="twofa-reminder"));return}const ue=s(["security.twofa.reminderTitle","sales.security.twofa.reminderTitle"],"ki Aamal Dorulamay Etkinletirin"),ie=s(["security.twofa.reminderDesc","sales.security.twofa.reminderDesc"],"Hesabnz korumak iin 2FAy etkinletirmeniz nerilir.");Qr(ue,ie,"warning",void 0,{persistent:!0,repeatDaily:!0,relatedId:"twofa-reminder",i18nTitleKey:"security.twofa.reminderTitle",i18nDescKey:"security.twofa.reminderDesc"});try{const ye=Kr(h,O)||"default",Ae=String($||"anon"),Fe=_c("twofa_modal_never",{tenantId:ye,fallbackToBase:!1})||{};if(Fe[Ae])return;const Ee=`twofa_modal_shown_session:${ye}:${Ae}`;Gr.getItem(Ee)||Ir({title:s(["security.twofa.modalTitle","sales.security.twofa.modalTitle"],"Hesabnz Gvenceye Aln"),message:s(["security.twofa.modalMessage","sales.security.twofa.modalMessage"],"ki Aamal Dorulama (2FA) hesap gvenliinizi nemli lde artrr. imdi etkinletirmek ister misiniz?"),tone:"info",confirmLabel:s(["security.twofa.enableNow","sales.security.twofa.enableNow"],"imdi Etkinletir"),cancelLabel:r("common.remindMeLater","Daha Sonra"),extraLabel:s(["security.twofa.neverRemind","sales.security.twofa.neverRemind"],"Bir daha hatrlatma"),onConfirm:()=>{Gr.setItem(Ee,"1"),k("security"),Ir(null)},onCancel:()=>{Gr.setItem(Ee,"1"),Ir(null)},onExtra:()=>{Gr.setItem(Ee,"1");const tt={...Fe,[Ae]:"1"};vu("twofa_modal_never",tt,{tenantId:ye,mirrorToBase:!1}),Ir(null)}})}catch(ye){fr("app.security.twofaPromptFailed",ye)}},[a,Xs,$,O,h,I,o.language,Qr,k,r,s]),W.useEffect(()=>{if(!a)return;const J=()=>{const Fe=i.invoiceReminders!==!1,Ee=i.expenseAlerts!==!1,qe=i.lowStockAlerts!==!1,tt=new Date;tt.setHours(0,0,0,0);const Xe=tt.getTime(),Ze=new Date(tt);if(Ze.setDate(Ze.getDate()+3),Fe&&Yt.forEach(wt=>{if(wt.status==="paid"||wt.status==="cancelled")return;const gt=wt.dueDate?new Date(wt.dueDate):null;if(!gt)return;gt.setHours(0,0,0,0);const Et=gt.getTime(),It=wt.customer?.name||r("common.generic.customer","Mteri"),rr=wt.invoiceNumber||`#${wt.id}`;if(Et<Xe){const Ft=Math.floor((Xe-Et)/864e5);Qr(r("notifications.invoices.overdue.title","Gecikmi fatura demesi"),r("notifications.invoices.overdue.desc",`${rr} - ${It} (${Ft} gn gecikmi)`,{invoiceNumber:rr,customerName:It,daysOverdue:Ft}),"danger","invoices",{persistent:!0,repeatDaily:!0,relatedId:`invoice-${wt.id}`,i18nTitleKey:"notifications.invoices.overdue.title",i18nDescKey:"notifications.invoices.overdue.desc",i18nParams:{invoiceNumber:rr,customerName:It,daysOverdue:Ft}})}else if(Et<=Ze.getTime()){const Ft=Math.ceil((Et-Xe)/864e5);Qr(r("notifications.invoices.upcoming.title","Yaklaan fatura demesi"),r("notifications.invoices.upcoming.desc",`${rr} - ${It} (${Ft} gn kald)`,{invoiceNumber:rr,customerName:It,daysLeft:Ft}),"warning","invoices",{persistent:!0,repeatDaily:!0,relatedId:`invoice-${wt.id}`,i18nTitleKey:"notifications.invoices.upcoming.title",i18nDescKey:"notifications.invoices.upcoming.desc",i18nParams:{invoiceNumber:rr,customerName:It,daysLeft:Ft}})}}),Ee&&Jt.forEach(wt=>{if(wt.status==="paid"||wt.status==="cancelled")return;const gt=wt.dueDate||wt.expenseDate?new Date(wt.dueDate||wt.expenseDate):null;if(!gt)return;gt.setHours(0,0,0,0);const Et=gt.getTime(),It=wt.supplier?.name||wt.supplier||r("common.generic.supplier","Tedariki"),rr=wt.description||r("common.generic.expense","Gider");if(Et<Xe){const Ft=Math.floor((Xe-Et)/864e5);Qr(r("notifications.expenses.overdue.title","Gecikmi gider demesi"),r("notifications.expenses.overdue.desc",`${rr} - ${It} (${Ft} gn gecikmi)`,{description:rr,supplierName:It,daysOverdue:Ft}),"danger","expenses",{persistent:!0,repeatDaily:!0,relatedId:`expense-${wt.id}`,i18nTitleKey:"notifications.expenses.overdue.title",i18nDescKey:"notifications.expenses.overdue.desc",i18nParams:{description:rr,supplierName:It,daysOverdue:Ft}})}else if(Et<=Ze.getTime()){const Ft=Math.ceil((Et-Xe)/864e5);Qr(r("notifications.expenses.upcoming.title","Yaklaan gider demesi"),r("notifications.expenses.upcoming.desc",`${rr} - ${It} (${Ft} gn kald)`,{description:rr,supplierName:It,daysLeft:Ft}),"warning","expenses",{persistent:!0,repeatDaily:!0,relatedId:`expense-${wt.id}`,i18nTitleKey:"notifications.expenses.upcoming.title",i18nDescKey:"notifications.expenses.upcoming.desc",i18nParams:{description:rr,supplierName:It,daysLeft:Ft}})}}),qe)try{pr.filter(gt=>Number(gt.stockQuantity||0)<=Number(gt.reorderLevel||0)).forEach(gt=>{const Et=Number(gt.stockQuantity||0),It=Number(gt.reorderLevel||0);Et<=0?Qr(r("notifications.products.outOfStock.title","Stok tkendi"),r("notifications.products.outOfStock.desc",`${gt.name} - Stok tkendi!`,{name:gt.name}),"danger","products",{persistent:!0,repeatDaily:!0,relatedId:`out-of-stock-${gt.id}`,i18nTitleKey:"notifications.products.outOfStock.title",i18nDescKey:"notifications.products.outOfStock.desc",i18nParams:{name:gt.name}}):Qr(r("notifications.products.lowStock.title","Dk stok uyars"),r("notifications.products.lowStock.desc",`${gt.name} - Stok seviyesi minimum limitin altnda! (${Et}/${It})`,{name:gt.name,stock:Et,min:It}),"warning","products",{persistent:!0,repeatDaily:!0,relatedId:`low-stock-${gt.id}`,i18nTitleKey:"notifications.products.lowStock.title",i18nDescKey:"notifications.products.lowStock.desc",i18nParams:{name:gt.name,stock:Et,min:It}})})}catch(wt){fr("app.notifications.lowStockCheckFailed",wt)}};J();const ue=new Date,ie=new Date(ue);ie.setHours(9,0,0,0),ie<=ue&&ie.setDate(ie.getDate()+1);const ye=ie.getTime()-ue.getTime(),Ae=setTimeout(()=>{J(),setInterval(J,1440*60*1e3)},ye);return()=>clearTimeout(Ae)},[Yt,Jt,pr,a,i,Qr,r]),W.useEffect(()=>{const J=()=>{(async()=>{try{const{productCategoriesApi:ue}=await Dr(async()=>{const{productCategoriesApi:ye}=await Promise.resolve().then(()=>Ic);return{productCategoriesApi:ye}},void 0),ie=await ue.getAll();Un(ie),os(ye=>{const Ae=new Set([...ye,...ie.map(Fe=>Fe.name.trim()).filter(Boolean)]);return Array.from(Ae).sort((Fe,Ee)=>Fe.localeCompare(Ee,"tr-TR"))})}catch(ue){console.warn("Kategori gncelleme yeniden ykleme hatas:",ue)}})()};return window.addEventListener("product-categories-updated",J),()=>window.removeEventListener("product-categories-updated",J)},[]),W.useEffect(()=>{if(!a)return;const J=()=>{try{const ie=Kr(h,m?.tenantId),ye=ps("quotes_cache",{tenantId:ie,fallbackToBase:!0})??[];if(!Array.isArray(ye)||i.quoteReminders===!1)return;const Ae=new Date;Ae.setHours(0,0,0,0);const Fe=Ae.getTime();ye.forEach(Ee=>{if(!Ee?.validUntil)return;const qe=String(Ee.status||"").toLowerCase();if(["accepted","declined","expired"].includes(qe))return;const tt=new Date(Ee.validUntil);tt.setHours(0,0,0,0);const Xe=tt.getTime(),Ze=Math.ceil((Xe-Fe)/864e5);Xe<Fe?Qr(r("notifications.quotes.expired.title","Teklif sresi doldu"),r("notifications.quotes.expired.desc",`${Ee.quoteNumber||r("common.generic.quote","Teklif")} - sre doldu`,{quoteNumber:Ee.quoteNumber||r("common.generic.quote","Teklif")}),"danger","quotes",{persistent:!0,repeatDaily:!0,relatedId:`quote-expired-${Ee.id}`,i18nTitleKey:"notifications.quotes.expired.title",i18nDescKey:"notifications.quotes.expired.desc",i18nParams:{quoteNumber:Ee.quoteNumber||"Teklif"}}):Ze<=3&&Qr(r("notifications.quotes.dueSoon.title","Teklif sresi yaklayor"),r("notifications.quotes.dueSoon.desc",`${Ee.quoteNumber||r("common.generic.quote","Teklif")} - ${Ze} gn kald`,{quoteNumber:Ee.quoteNumber||r("common.generic.quote","Teklif"),diffDays:Ze}),"warning","quotes",{persistent:!0,repeatDaily:!0,relatedId:`quote-due-${Ee.id}`,i18nTitleKey:"notifications.quotes.dueSoon.title",i18nDescKey:"notifications.quotes.dueSoon.desc",i18nParams:{quoteNumber:Ee.quoteNumber||"Teklif",diffDays:Ze}})})}catch{}};J();const ue=setInterval(J,360*60*1e3);return()=>clearInterval(ue)},[a,i,h,h?.id,m?.tenantId,Qr,r]),W.useEffect(()=>{(()=>{V(ue=>ue.map(ie=>{try{if(ie.relatedId==="twofa-reminder")return{...ie,i18nTitleKey:"security.twofa.reminderTitle",i18nDescKey:"security.twofa.reminderDesc",title:s(["security.twofa.reminderTitle","sales.security.twofa.reminderTitle"],ie.title),description:s(["security.twofa.reminderDesc","sales.security.twofa.reminderDesc"],ie.description)};if(ie.relatedId?.startsWith("out-of-stock-")){const ye=ie.relatedId.split("out-of-stock-")[1],Fe=pr.find(Ee=>String(Ee.id)===String(ye))?.name||"";return{...ie,i18nTitleKey:"notifications.products.outOfStock.title",i18nDescKey:"notifications.products.outOfStock.desc",i18nParams:{name:Fe},title:r("notifications.products.outOfStock.title",ie.title),description:r("notifications.products.outOfStock.desc",ie.description,{name:Fe})}}if(ie.relatedId?.startsWith("low-stock-")){const ye=ie.relatedId.split("low-stock-")[1],Ae=pr.find(tt=>String(tt.id)===String(ye)),Fe=Ae?.name||"",Ee=Number(Ae?.stockQuantity||0),qe=Number(Ae?.reorderLevel||0);return{...ie,i18nTitleKey:"notifications.products.lowStock.title",i18nDescKey:"notifications.products.lowStock.desc",i18nParams:{name:Fe,stock:Ee,min:qe},title:r("notifications.products.lowStock.title",ie.title),description:r("notifications.products.lowStock.desc",ie.description,{name:Fe,stock:Ee,min:qe})}}if(ie.relatedId?.startsWith("invoice-")){const ye=ie.relatedId.split("invoice-")[1],Ae=Yt.find(tt=>String(tt.id)===String(ye)),Fe=Ae?.customer?.name||r("common.generic.customer","Mteri"),Ee=Ae?.invoiceNumber||`#${Ae?.id||""}`,qe=Ae?.dueDate?new Date(Ae.dueDate):null;if(qe){const tt=new Date;tt.setHours(0,0,0,0),qe.setHours(0,0,0,0);const Xe=tt.getTime(),Ze=qe.getTime();if(Ze<Xe){const wt=Math.floor((Xe-Ze)/864e5);return{...ie,i18nTitleKey:"notifications.invoices.overdue.title",i18nDescKey:"notifications.invoices.overdue.desc",i18nParams:{invoiceNumber:Ee,customerName:Fe,daysOverdue:wt},title:r("notifications.invoices.overdue.title",ie.title),description:r("notifications.invoices.overdue.desc",ie.description,{invoiceNumber:Ee,customerName:Fe,daysOverdue:wt})}}else{const wt=Math.ceil((Ze-Xe)/864e5);return{...ie,i18nTitleKey:"notifications.invoices.upcoming.title",i18nDescKey:"notifications.invoices.upcoming.desc",i18nParams:{invoiceNumber:Ee,customerName:Fe,daysLeft:wt},title:r("notifications.invoices.upcoming.title",ie.title),description:r("notifications.invoices.upcoming.desc",ie.description,{invoiceNumber:Ee,customerName:Fe,daysLeft:wt})}}}}if(ie.relatedId?.startsWith("expense-")){const ye=ie.relatedId.split("expense-")[1],Ae=Jt.find(tt=>String(tt.id)===String(ye)),Fe=Ae?.supplier?.name||Ae?.supplier||r("common.generic.supplier","Tedariki"),Ee=Ae?.description||r("common.generic.expense","Gider"),qe=Ae?.dueDate||Ae?.expenseDate?new Date(Ae?.dueDate||Ae?.expenseDate):null;if(qe){const tt=new Date;tt.setHours(0,0,0,0),qe.setHours(0,0,0,0);const Xe=tt.getTime(),Ze=qe.getTime();if(Ze<Xe){const wt=Math.floor((Xe-Ze)/864e5);return{...ie,i18nTitleKey:"notifications.expenses.overdue.title",i18nDescKey:"notifications.expenses.overdue.desc",i18nParams:{description:Ee,supplierName:Fe,daysOverdue:wt},title:r("notifications.expenses.overdue.title",ie.title),description:r("notifications.expenses.overdue.desc",ie.description,{description:Ee,supplierName:Fe,daysOverdue:wt})}}else{const wt=Math.ceil((Ze-Xe)/864e5);return{...ie,i18nTitleKey:"notifications.expenses.upcoming.title",i18nDescKey:"notifications.expenses.upcoming.desc",i18nParams:{description:Ee,supplierName:Fe,daysLeft:wt},title:r("notifications.expenses.upcoming.title",ie.title),description:r("notifications.expenses.upcoming.desc",ie.description,{description:Ee,supplierName:Fe,daysLeft:wt})}}}}if(ie.relatedId?.startsWith("quote-expired-")){const ye=ie.relatedId.split("quote-expired-")[1];return{...ie,i18nTitleKey:"notifications.quotes.expired.title",i18nDescKey:"notifications.quotes.expired.desc",i18nParams:{quoteNumber:ie.i18nParams?.quoteNumber||`#${ye}`},title:r("notifications.quotes.expired.title",ie.title),description:r("notifications.quotes.expired.desc",ie.description,{quoteNumber:ie.i18nParams?.quoteNumber||`#${ye}`})}}if(ie.relatedId?.startsWith("quote-due-")){const ye=ie.relatedId.split("quote-due-")[1],Ae=ie.i18nParams?.diffDays??0;return{...ie,i18nTitleKey:"notifications.quotes.dueSoon.title",i18nDescKey:"notifications.quotes.dueSoon.desc",i18nParams:{quoteNumber:ie.i18nParams?.quoteNumber||`#${ye}`,diffDays:Ae},title:r("notifications.quotes.dueSoon.title",ie.title),description:r("notifications.quotes.dueSoon.desc",ie.description,{quoteNumber:ie.i18nParams?.quoteNumber||`#${ye}`,diffDays:Ae})}}if(!ie.i18nTitleKey&&!ie.i18nDescKey){if(ie.link==="customers")return{...ie,i18nTitleKey:"notifications.customers.created.title",i18nDescKey:"notifications.customers.created.desc",title:ie.i18nParams?r("notifications.customers.created.title",ie.title):ie.title,description:ie.i18nParams?r("notifications.customers.created.desc",ie.description,ie.i18nParams):ie.description};if(ie.link==="suppliers")return{...ie,i18nTitleKey:"notifications.suppliers.created.title",i18nDescKey:"notifications.suppliers.created.desc",title:ie.i18nParams?r("notifications.suppliers.created.title",ie.title):ie.title,description:ie.i18nParams?r("notifications.suppliers.created.desc",ie.description,ie.i18nParams):ie.description};if(ie.link==="invoices"&&!ie.relatedId)return{...ie,i18nTitleKey:"notifications.invoices.created.title",i18nDescKey:"notifications.invoices.created.desc",title:ie.i18nParams?r("notifications.invoices.created.title",ie.title):ie.title,description:ie.i18nParams?r("notifications.invoices.created.desc",ie.description,ie.i18nParams):ie.description};if(ie.link==="expenses"&&!ie.relatedId)return{...ie,i18nTitleKey:"notifications.expenses.created.title",i18nDescKey:"notifications.expenses.created.desc",title:ie.i18nParams?r("notifications.expenses.created.title",ie.title):ie.title,description:ie.i18nParams?r("notifications.expenses.created.desc",ie.description,ie.i18nParams):ie.description};if(ie.link==="sales"&&!ie.relatedId)return{...ie,i18nTitleKey:"notifications.sales.created.title",i18nDescKey:"notifications.sales.created.desc",title:ie.i18nParams?r("notifications.sales.created.title",ie.title):ie.title,description:ie.i18nParams?r("notifications.sales.created.desc",ie.description,ie.i18nParams):ie.description}}}catch(ye){fr("app.notifications.relocalizeLegacy",{notificationId:ie?.id,error:ye})}return ie.i18nTitleKey||ie.i18nDescKey?ie.relatedId==="twofa-reminder"||String(ie.i18nTitleKey||"").startsWith("security.twofa")||String(ie.i18nDescKey||"").startsWith("security.twofa")?{...ie,title:s(["security.twofa.reminderTitle","sales.security.twofa.reminderTitle"],ie.title,ie.i18nParams),description:s(["security.twofa.reminderDesc","sales.security.twofa.reminderDesc"],ie.description,ie.i18nParams)}:{...ie,title:ie.i18nTitleKey?r(ie.i18nTitleKey,ie.title,ie.i18nParams):ie.title,description:ie.i18nDescKey?r(ie.i18nDescKey,ie.description,ie.i18nParams):ie.description}:{...ie}}))})()},[o.language,Yt,Jt,pr,r,s]);const aa=J=>String(J??Date.now());W.useEffect(()=>{const J=()=>{const ue=window.location.hash.replace("#","");he.debug("app.hashRouting.hashChange",{hash:ue});const ie=(ye,Ae)=>{he.debug("app.hashRouting.navigate",{hash:ue,targetPage:ye,...Ae}),d(ye)};if(Oy.has(ue)){ie(ue,{reason:"hash-direct-match"});return}if(ue==="admin")ie("admin");else if(ue==="register")ie("register");else if(ue==="login")ie("login");else if(ue==="forgot-password")ie("forgot-password");else if(ue.startsWith("reset-password"))ie("reset-password");else if(ue.startsWith("verify-email"))ie("verify-email");else if(ue==="verify-notice")ie("verify-notice");else if(ue==="help")ie("help");else if(ue.startsWith("legal/")){const ye=ue.replace("legal/","");ie(`legal-${ye}`,{legalPage:ye})}else if(ue==="settings/organization/members")ie("organization-members");else if(ue.startsWith("join?token=")){const ye=ue.replace("join?token=","");ie(`join-organization:${ye}`,{token:ye})}else if(ue==="")if(a||!!An()){const Ae=Fy();if(Ae){ie(Ae,{reason:"hash-empty-restored"});return}ie("dashboard",{reason:"hash-empty-authenticated"})}else ie("landing",{reason:"hash-empty-guest"});else ue==="about"?ie("about"):ue==="api"?ie("api"):ue.startsWith("customer-history:")&&ie(ue)};return he.debug("app.hashRouting.initialHash",{hash:window.location.hash}),J(),window.addEventListener("hashchange",J),()=>{window.removeEventListener("hashchange",J)}},[a]);const So=J=>typeof window>"u"?!1:window.confirm(J),Co=J=>{E(J),J.currency&&c(J.currency);try{const ue=pu(),ie=ho(ue);Pa.setJSON(ie,J)}catch(ue){fr("app.companyUpdate.securePersistFailed",ue)}try{const ie=pu(),ye=ho(ie),Ae=JSON.stringify(J);Tt.setItem(`${ye}_plain`,Ae)}catch(ue){fr("app.companyUpdate.plainPersistFailed",ue)}try{window.dispatchEvent(new Event("company-profile-updated"))}catch(ue){fr("app.companyUpdate.dispatchFailed",ue)}},Ua=Gt.useCallback(()=>{const J=String(h?.subscriptionPlan||"").toLowerCase();return J.includes("free")||J.includes("starter")?"free":J.includes("basic")?"basic":J.includes("pro")||J.includes("professional")?"pro":J||"free"},[h?.subscriptionPlan]),Cl=Gt.useMemo(()=>Ua()==="free",[Ua]),vm=Gt.useCallback(()=>{const J=new Date,ue=new Date(J.getFullYear(),J.getMonth(),1,0,0,0,0),ie=new Date(J.getFullYear(),J.getMonth()+1,0,23,59,59,999);return Yt.filter(ye=>{if(ye?.isVoided)return!1;const Ae=ye?.createdAt?new Date(ye.createdAt):ye?.issueDate?new Date(ye.issueDate):null;return!Ae||Number.isNaN(Ae.getTime())?!1:Ae>=ue&&Ae<=ie}).length},[Yt]),Va=Gt.useCallback(()=>{const J=new Date,ue=new Date(J.getFullYear(),J.getMonth(),1,0,0,0,0),ie=new Date(J.getFullYear(),J.getMonth()+1,0,23,59,59,999);return Jt.filter(ye=>{if(ye?.isVoided)return!1;const Ae=ye?.createdAt?new Date(ye.createdAt):ye?.expenseDate?new Date(ye.expenseDate):null;return!Ae||Number.isNaN(Ae.getTime())?!1:Ae>=ue&&Ae<=ie}).length},[Jt]),qa=()=>{B(J=>{const ue=!J;if(!J){const ie=Date.now();V(ye=>ye.map(Ae=>Ae.read?Ae:{...Ae,read:!0,readAt:ie}))}return ue})},wi=()=>B(!1),Ao=J=>{if(he.info("app.notifications.clicked",{id:J.id,type:J.type,link:J.link,persistent:!!J.persistent}),J.persistent||J.repeatDaily){const ue=Date.now();V(ie=>ie.map(ye=>ye.id===J.id?{...ye,read:!0,readAt:ue}:ye)),he.debug("app.notifications.persistentHandled",{id:J.id})}else{const ue=Date.now();V(ie=>ie.map(ye=>ye.id===J.id?{...ye,read:!0,readAt:ue}:ye))}wi();try{if(J.relatedId&&String(J.relatedId).startsWith("twofa")){k("security");return}}catch(ue){fr("app.notifications.twofaRedirectFailed",ue)}J.link&&A(J.link)},wm=async J=>{try{const ue={};typeof J.status<"u"&&(ue.status=J.status),typeof J.dueDate<"u"&&(ue.dueDate=J.dueDate),typeof J.issueDate<"u"&&(ue.issueDate=J.issueDate);const ie=await pf(String(J.id),ue);Lt(ye=>{const Ae=ye.map(Fe=>String(Fe.id)===String(ie.id)?ie:Fe);try{const Fe=Kr(h,m?.tenantId);Lr("invoices_cache",Ae,{tenantId:Fe,mirrorToBase:!0})}catch(Fe){fr("app.invoices.inlineUpdate.persistFailed",Fe)}return Ae}),er(n("toasts.invoices.updateSuccess"),"success")}catch(ue){console.error("Inline invoice update error:",ue),er(ue?.response?.data?.message||n("toasts.invoices.updateError"),"error")}},km=()=>{d("dashboard"),wi(),Es(()=>{_r([])}),Pt([]),sr([]),jr([]),Lt([]),dr([]),As([]),t()},Al=()=>D(J=>!J),Eo=()=>D(!1),El=async J=>{try{const ue={name:J.name||"",email:J.email?.trim()||void 0,phone:J.phone?.trim()||void 0,address:J.address?.trim()||void 0,taxNumber:J.taxNumber?.trim()||void 0,company:J.company?.trim()||void 0};if(J.id){const ie=await bA(String(J.id),ue);Pt(ye=>ye.map(Ae=>Ae.id===ie.id?ie:Ae)),er(n("toasts.customers.updateSuccess"),"success")}else{const ie=(ue.email||"").trim().toLowerCase();if(ie){const Ae=Ot.find(Fe=>String(Fe?.email||"").trim().toLowerCase()===ie);if(Ae){Ir({title:n("customers.duplicate.title")||"Mteri zaten kaytl",message:n("customers.duplicate.message",{email:ue.email,name:Ae.name})||`Bu e-posta (${ue.email}) ile bir mteri zaten kaytl (${Ae.name}). Ltfen listeden mevcut kayd sein.`,tone:"error",confirmLabel:n("customers.duplicate.openExisting")||"Mevcut mteriyi a",onConfirm:()=>{ke(Ae),ee(!0),A("customers"),Ir(null)}});return}}const ye=await Rx(ue);Pt(Ae=>[...Ae,ye]),er(n("toasts.customers.createSuccess"),"success"),Qr(r("notifications.customers.created.title","Yeni mteri eklendi"),r("notifications.customers.created.desc",`${ye.name} sisteme kaydedildi.`,{name:ye.name}),"success","customers",{i18nTitleKey:"notifications.customers.created.title",i18nDescKey:"notifications.customers.created.desc",i18nParams:{name:ye.name}})}}catch(ue){console.error("Customer upsert error:",ue),console.error("Error details:",ue.response?.data);const ie=ue?.response?.status,ye=ue?.response?.data?.message,Ae=Array.isArray(ye)?ye.join(", "):ye||ue.message||"Mteri kaydedilemedi",Fe=String(J?.email||"").trim().toLowerCase();if(ie===400&&typeof Ae=="string"&&(Ae.toLowerCase().includes("zaten bir mteri")||Ae.toLowerCase().includes("duplicate"))){const Ee=Ot.find(qe=>String(qe?.email||"").trim().toLowerCase()===Fe);if(Ee){Ir({title:n("customers.duplicate.title")||"Mteri zaten kaytl",message:n("customers.duplicate.message",{email:J.email,name:Ee.name})||Ae,tone:"error",confirmLabel:n("customers.duplicate.openExisting")||"Mevcut mteriyi a",onConfirm:()=>{ke(Ee),ee(!0),A("customers"),Ir(null)}});return}}er(Ae,"error")}},Yc=async J=>{if(!(typeof window<"u"&&!window.confirm(n("customers.deleteConfirm",{defaultValue:"Bu mteriyi silmek istediinizden emin misiniz?"}))))try{await vA(String(J)),Pt(ue=>ue.filter(ie=>String(ie.id)!==String(J))),er(n("toasts.customers.deleteSuccess"),"success")}catch(ue){console.error("Customer delete error:",ue),ue.response?.data?.relatedInvoices?(ut({title:"Mteri Silinemez",message:ue.response.data.message,relatedItems:zy(ue.response.data.relatedInvoices),itemType:"invoice"}),de(!0)):er(ue.response?.data?.message||n("toasts.customers.deleteError"),"error")}},ki=async J=>{try{he.info("app.import.customers.start",{fileName:J.name,fileType:J.type});const ue=await J.arrayBuffer(),ie=[];if(J.type==="text/csv"||J.name.toLowerCase().endsWith(".csv")){he.debug("app.import.customers.csvDetected");const qe=new TextDecoder("utf-8").decode(ue).split(`
`).filter(Xe=>Xe.trim());if(qe.length<2){he.warn("app.import.customers.csvInsufficientData",{lineCount:qe.length}),Ir({title:n("common.warning"),message:n("customers.import.noDataFound")});return}const tt=qe[0].split(",").map(Xe=>Xe.trim().replace(/"/g,""));he.debug("app.import.customers.csvHeaders",{headers:tt});for(let Xe=1;Xe<qe.length;Xe++){const Ze=qe[Xe].split(",").map(gt=>gt.trim().replace(/"/g,"")),wt={};tt.forEach((gt,Et)=>{wt[gt]=Ze[Et]||""}),ie.push(wt)}}else{he.debug("app.import.customers.excelDetected");const Ee=new My.Workbook;await Ee.xlsx.load(ue);const qe=Ee.worksheets[0];if(!qe){he.warn("app.import.customers.excelNoWorksheet"),Ir({title:n("common.warning"),message:n("customers.import.noDataFound")});return}he.debug("app.import.customers.excelWorksheet",{rowCount:qe.rowCount}),qe.eachRow((tt,Xe)=>{if(Xe===1)return;const Ze={};tt.eachCell((wt,gt)=>{const Et=qe.getRow(1).getCell(gt).value?.toString()||`col${gt}`;Ze[Et]=wt.value}),ie.push(Ze)})}const ye=Ee=>String(Ee??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Ae=Ee=>{if(!Ee)return;if(Ee instanceof Date)return Ee.toISOString().split("T")[0];if(typeof Ee=="number"){const Xe=new Date(1899,11,30);return new Date(Xe.getTime()+Ee*864e5).toISOString().split("T")[0]}const qe=String(Ee).trim();if(!qe)return;const tt=new Date(qe);if(!Number.isNaN(tt.getTime()))return tt.toISOString().split("T")[0]},Fe=ie.map(Ee=>{if(!Ee||typeof Ee!="object")return null;const qe=Object.entries(Ee).reduce((tr,[ur,Mt])=>(tr[ye(ur)]=Mt,tr),{}),tt=(...tr)=>{for(const ur of tr)if(qe[ur]!==void 0&&qe[ur]!=="")return qe[ur]},Xe=tt("name","musteriadi","musteriad","musteri","adsoyad","ad"),Ze=Xe?String(Xe).trim():"";if(!Ze)return null;const wt=tt("email","eposta","mail"),gt=tt("phone","telefon","tel","gsm"),Et=tt("address","adres"),It=tt("taxnumber","vergino","vkn","tc","tcno"),rr=tt("company","firma","sirket","unvan"),Ft=tt("createdat","kayittarihi","olusturmatarihi","tarih"),br=tt("id","musteriid");return{id:br?String(br):void 0,name:Ze,email:wt?String(wt).trim():"",phone:gt?String(gt).trim():"",address:Et?String(Et).trim():"",taxNumber:It?String(It).trim():"",company:rr?String(rr).trim():"",createdAt:Ae(Ft)}}).filter(Ee=>!!Ee);if(he.info("app.import.customers.parsed",{count:Fe.length}),Fe.length===0){he.warn("app.import.customers.noValidRecords"),Ir({title:n("common.warning"),message:n("customers.import.noCustomersFound")});return}try{he.info("app.import.customers.persist.start",{count:Fe.length});const Ee=await Promise.allSettled(Fe.map((Xe,Ze)=>(he.debug("app.import.customers.persist.request",{index:Ze,name:Xe.name||"unknown"}),Rx({name:Xe.name,email:Xe.email||void 0,phone:Xe.phone||void 0,address:Xe.address||void 0,taxNumber:Xe.taxNumber||void 0,company:Xe.company||void 0}).then(wt=>(he.debug("app.import.customers.persist.success",{index:Ze,customerId:wt?.id}),wt)).catch(wt=>{throw he.warn("app.import.customers.persist.failure",{index:Ze,name:Xe.name||"unknown",error:il(wt)}),wt})))),qe=[],tt=[];if(Ee.forEach((Xe,Ze)=>{Xe.status==="fulfilled"?qe.push(Xe.value):tt.push({index:Ze,reason:Xe.reason})}),Pt(Xe=>{const Ze=[...Xe];return qe.forEach(wt=>{const gt=Ze.findIndex(Et=>Et.id===wt.id);gt>=0?Ze[gt]={...Ze[gt],...wt}:Ze.push(wt)}),Ze}),he.info("app.import.customers.persist.result",{created:qe.length,failed:tt.length}),tt.length===0)Ir({title:n("common.success"),message:n("customers.import.success",{count:qe.length})});else{const Xe=`${n("customers.import.success",{count:qe.length})}
${tt.length} kayt baarsz.`;Ir({title:n("common.warning"),message:Xe}),he.warn("app.import.customers.persist.partialFailure",{failedCount:tt.length})}}catch(Ee){he.error("app.import.customers.persist.exception",Ee),Ir({title:n("common.error"),message:n("customers.import.error")+`

Detay: `+(Ee instanceof Error?Ee.message:String(Ee))})}}catch(ue){he.error("app.import.customers.failed",ue),Ir({title:n("common.error"),message:n("customers.import.error")+`

Detay: `+(ue instanceof Error?ue.message:String(ue))})}},Tl=async J=>{try{he.info("app.import.products.start",{fileName:J.name,fileType:J.type});const ue=await J.arrayBuffer(),ie=[];if(J.type==="text/csv"||J.name.toLowerCase().endsWith(".csv")){he.debug("app.import.products.csvDetected");const qe=new TextDecoder("utf-8").decode(ue).split(`
`).filter(Xe=>Xe.trim());if(qe.length<2){Ir({title:n("common.warning"),message:n("customers.import.noDataFound")});return}const tt=qe[0].split(",").map(Xe=>Xe.trim().replace(/"/g,""));for(let Xe=1;Xe<qe.length;Xe++){const Ze=qe[Xe].split(",").map(gt=>gt.trim().replace(/"/g,"")),wt={};tt.forEach((gt,Et)=>{wt[gt]=Ze[Et]??""}),ie.push(wt)}}else{he.debug("app.import.products.excelDetected");const Ee=new My.Workbook;await Ee.xlsx.load(ue);const qe=Ee.worksheets[0];if(!qe){Ir({title:n("common.warning"),message:n("customers.import.noDataFound")});return}qe.eachRow((tt,Xe)=>{if(Xe===1)return;const Ze={};tt.eachCell((wt,gt)=>{const Et=qe.getRow(1).getCell(gt).value?.toString()||`col${gt}`;Ze[Et]=wt.value}),ie.push(Ze)})}const ye=Ee=>String(Ee??"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Ae=Ee=>{if(Ee==null||Ee==="")return;if(typeof Ee=="number")return Ee;const qe=String(Ee).trim();if(/^\d+\.?\d*$/.test(qe)){const Ze=parseFloat(qe);return Number.isFinite(Ze)?Ze:void 0}if(qe.includes(",")){const Ze=qe.replace(/\./g,"").replace(/,/g,"."),wt=parseFloat(Ze);return Number.isFinite(wt)?wt:void 0}const tt=qe.replace(/\s/g,""),Xe=parseFloat(tt);return Number.isFinite(Xe)?Xe:void 0},Fe=ie.map(Ee=>{if(!Ee||typeof Ee!="object")return null;const qe=Object.entries(Ee).reduce((ur,[Mt,Ar])=>(ur[ye(Mt)]=Ar,ur),{}),tt=(...ur)=>{for(const Mt of ur)if(qe[Mt]!==void 0&&qe[Mt]!=="")return qe[Mt]},Xe=String(tt("name","urunadi","urun","productname")??"").trim();if(!Xe)return null;const Ze=String(tt("sku","code","kod","barkod")??"").trim()||void 0,wt=Ae(tt("unitprice","price","satisfiyati","fiyat")),gt=Ae(tt("costprice","cost","maliyet"));let Et=Ae(tt("taxrate","kdv","vergi"));Et!=null&&(Et=Math.max(0,Math.min(100,Et)));const It=Ae(tt("stockquantity","stock","stok","adet")),rr=Ae(tt("reorderlevel","minstock","kritikstok")),Ft=String(tt("unit","birim")??"").trim()||void 0,br=String(tt("category","kategori")??"").trim()||"Genel",tr=String(tt("description","aciklama")??"").trim()||void 0;return{name:Xe,sku:Ze,unitPrice:wt,costPrice:gt,taxRate:Et,stockQuantity:It,reorderLevel:rr,unit:Ft,category:br,description:tr}}).filter(Ee=>!!Ee);if(he.info("app.import.products.parsed",{count:Fe.length}),Fe.length===0){he.warn("app.import.products.noValidRecords"),Ir({title:n("common.warning"),message:n("customers.import.noDataFound")});return}try{he.info("app.import.products.persist.start",{count:Fe.length});const Ee=await Promise.allSettled(Fe.map((Xe,Ze)=>{const wt={name:Xe.name,code:Xe.sku||Xe.name,price:Number(Xe.unitPrice??0),cost:Xe.costPrice!=null?Number(Xe.costPrice):void 0,stock:Xe.stockQuantity!=null?Number(Xe.stockQuantity):void 0,minStock:Xe.reorderLevel!=null?Number(Xe.reorderLevel):void 0,unit:Xe.unit,category:Xe.category||"Genel",description:Xe.description,taxRate:Xe.taxRate!=null?Number(Xe.taxRate):void 0};return he.debug("app.import.products.persist.request",{index:Ze,name:Xe.name}),zx(wt).then(gt=>(he.debug("app.import.products.persist.success",{index:Ze,productId:gt?.id}),gt)).catch(gt=>{throw he.warn("app.import.products.persist.failure",{index:Ze,name:Xe.name,error:il(gt)}),gt})})),qe=[],tt=[];if(Ee.forEach((Xe,Ze)=>{Xe.status==="fulfilled"?qe.push(Xe.value):tt.push({index:Ze,reason:Xe.reason})}),qe.length>0){const Xe=qe.map(Ec);jr(Ze=>{const wt=[...Ze,...Xe],gt=Kr(h,m?.tenantId);return Lr("products_cache",wt,{tenantId:gt,mirrorToBase:!0}),wt})}he.info("app.import.products.persist.result",{created:qe.length,failed:tt.length}),tt.length===0?Ir({title:n("common.success"),message:`${qe.length} rn baaryla ie aktarld!`}):(Ir({title:n("common.warning"),message:`${qe.length} rn ie aktarld, ${tt.length} kayt baarsz.`}),he.warn("app.import.products.persist.partialFailure",{failedCount:tt.length}))}catch(Ee){he.error("app.import.products.persist.exception",Ee),Ir({title:n("common.error"),message:(n("customers.import.error")||"e aktarma hatas")+`

Detay: `+(Ee instanceof Error?Ee.message:String(Ee))})}}catch(ue){he.error("app.import.products.failed",ue),Ir({title:n("common.error"),message:(n("customers.import.error")||"e aktarma hatas")+`

Detay: `+(ue instanceof Error?ue.message:String(ue))})}},To=async J=>{try{const ue={name:J.name||"",email:J.email?.trim()||void 0,phone:J.phone?.trim()||void 0,address:J.address?.trim()||void 0,taxNumber:J.taxNumber?.trim()||void 0};if(J.id){const ie=await OA(String(J.id),ue);sr(ye=>ye.map(Ae=>Ae.id===ie.id?ie:Ae)),er(n("toasts.suppliers.updateSuccess"),"success")}else{const ie=await LA(ue);sr(ye=>[...ye,ie]),er(n("toasts.suppliers.createSuccess"),"success"),Qr(r("notifications.suppliers.created.title","Yeni tedariki eklendi"),r("notifications.suppliers.created.desc",`${ie.name} sisteme kaydedildi.`,{name:ie.name}),"success","suppliers",{i18nTitleKey:"notifications.suppliers.created.title",i18nDescKey:"notifications.suppliers.created.desc",i18nParams:{name:ie.name}})}}catch(ue){console.error("Supplier upsert error:",ue);const ie=ue.response?.data?.message||ue.message||"Tedariki kaydedilemedi";er(Array.isArray(ie)?ie.join(", "):ie,"error")}},Qc=async J=>{if(!(typeof window<"u"&&!window.confirm(n("suppliers.deleteConfirm",{defaultValue:"Bu tedarikiyi silmek istediinizden emin misiniz?"}))))try{await FA(String(J)),sr(ue=>ue.filter(ie=>String(ie.id)!==String(J))),er(n("toasts.suppliers.deleteSuccess"),"success")}catch(ue){console.error("Supplier delete error:",ue),ue.response?.data?.relatedExpenses?(ut({title:"Tedariki Silinemez",message:ue.response.data.message,relatedItems:zy(ue.response.data.relatedExpenses),itemType:"expense"}),de(!0)):er(ue.response?.data?.message||n("toasts.suppliers.deleteError"),"error")}},$a=async J=>{const ue=Ee=>Ee?Array.isArray(Ee.items)&&Ee.items.length?Ee.items:Array.isArray(Ee.lineItems)&&Ee.lineItems.length?Ee.lineItems:[]:[],ie=Ee=>{const qe=String(Ee?.type||"").toLowerCase();return qe==="refund"||qe==="return"},ye=Ee=>{const qe=new Map;return ue(Ee).forEach(tt=>{const Xe=tt?.productId?String(tt.productId):"";if(!Xe)return;const Ze=Number(tt?.quantity)||0;!Number.isFinite(Ze)||Ze===0||qe.set(Xe,(qe.get(Xe)||0)+Ze)}),qe},Ae=Ee=>{!Ee||Ee.size===0||jr(qe=>qe.map(tt=>{const Xe=String(tt.id);if(!Ee.has(Xe))return tt;const Ze=Ee.get(Xe)||0;if(!Ze)return tt;const wt=Number(tt.stockQuantity??tt.stock??0)||0,gt=Math.max(0,wt+Ze),Et=gt<=0?"out-of-stock":gt<=(tt.reorderLevel||0)?"low":"active";return{...tt,stockQuantity:gt,stock:gt,status:Et}}))},Fe=async Ee=>{if(Ee&&Array.isArray(Ee.items)&&Ee.items.length)return Ee;if(!Ee?.id)return Ee||null;try{return await lc(String(Ee.id))}catch(qe){return fr("app.invoices.update.fetchFailed",qe),Ee||null}};try{if(he.info("app.invoices.upsert.start",{id:J.id,saleId:J.saleId,customerId:J.customerId,customerName:J.customerName,invoiceNumber:J.invoiceNumber}),!J.customerId){console.error(" customerId eksik!",{customerName:J.customerName,availableCustomers:Ot.map(qe=>({id:qe.id,name:qe.name}))}),er(n("toasts.sales.customerNotSelected"),"error");return}const Ee={customerId:J.customerId,type:J.type||"product",issueDate:J.issueDate||new Date().toISOString().split("T")[0],dueDate:J.dueDate,items:(J.items||J.lineItems||[]).map(qe=>({productId:qe.productId,productName:qe.description||qe.productName,description:qe.description||qe.productName,quantity:Number(qe.quantity)||1,unitPrice:Number(qe.unitPrice)||0,total:Number(qe.total)||0,taxRate:Number(qe.taxRate??18)})),taxAmount:Number(J.taxAmount||0),discountAmount:Number(J.discountAmount||0),notes:J.notes||"",saleId:J.saleId,refundedInvoiceId:!J.id&&J.originalInvoiceId&&(String((J.type||"").toLowerCase())==="return"||String((J.type||"").toLowerCase())==="refund")?J.originalInvoiceId:void 0};if(he.debug("app.invoices.upsert.payload",{customerId:Ee.customerId,items:Ee.items.length,firstItem:Ee.items[0],taxAmount:Ee.taxAmount,discountAmount:Ee.discountAmount,saleId:Ee.saleId}),J.status&&(Ee.status=J.status),!J.id&&Cl){const qe=vm(),tt=5;if(qe>=tt){Ir({title:n("plans.limitExceeded.title",{defaultValue:"Plan Limiti Ald"}),message:n("plans.limitExceeded.invoicesMessage",{defaultValue:"Starter/Free planda bir ayda en fazla 5 fatura oluturabilirsiniz. Daha fazla fatura iin plannz ykseltin."})});return}else qe===tt-1&&Qr(r("notifications.plan.limit.title","Plan limiti uyars"),r("notifications.plan.limit.invoices.desc","Bu ay 5/5 limitine yaklamaktasnz (4/5).",{used:qe,limit:tt}),"info","invoices",{relatedId:"plan-limit-invoices",i18nTitleKey:"notifications.plan.limit.title",i18nDescKey:"notifications.plan.limit.invoices.desc",i18nParams:{used:qe,limit:tt}})}if(J.id){const qe=Yt.find(Ft=>String(Ft.id)===String(J.id)),tt=await Fe(qe),Xe=ie(tt),Ze=await pf(String(J.id),Ee),wt=await Fe(Ze),gt=ie(wt),Et=wt||Ze,It=Yt.map(Ft=>Ft.id===Ze.id?Et:Ft);Lt(It);try{const Ft=Kr(h,m?.tenantId);Lr("invoices_cache",It,{tenantId:Ft,mirrorToBase:!0})}catch(Ft){fr("app.invoices.update.persistFailed",Ft)}const rr=!Xe&&gt;if(tt&&wt&&!rr){const Ft=ye(tt),br=ye(wt),tr=new Map;new Set([...Array.from(Ft.keys()),...Array.from(br.keys())]).forEach(Mt=>{const Ar=(Ft.get(Mt)||0)-(br.get(Mt)||0);Ar!==0&&tr.set(Mt,Ar)}),tr.size&&Ae(tr)}if(rr){try{const Ft=ue(wt||Ze);jr(br=>br.map(tr=>{const ur=Ft.find(ts=>String(ts.productId||"")===String(tr.id));if(!ur)return tr;const Mt=Number(ur.quantity||0),Ar=Mt<0?Math.abs(Mt):Mt,lr=Number(tr.stockQuantity||0)+Ar;return{...tr,stockQuantity:lr,status:lr<=0?"out-of-stock":lr<=(tr.reorderLevel||0)?"low":"active"}}))}catch(Ft){fr("app.invoices.stockRestoreFailed",Ft)}Ze.saleId&&_r(Ft=>Ft.map(br=>String(br.id)===String(Ze.saleId)?{...br,status:"refunded"}:br))}return he.debug("app.invoices.cacheUpdated",{action:"update"}),er(n("toasts.invoices.updateSuccess"),"success"),Ze}else{try{for(const Ze of Ee.items||[]){let wt;if(Ze.productId&&(wt=pr.find(gt=>String(gt.id)===String(Ze.productId))),!wt&&Ze.productName){const gt=String(Ze.productName).trim().toLowerCase();wt=pr.find(Et=>String(Et.name||"").trim().toLowerCase()===gt)||pr.find(Et=>String(Et.name||"").toLowerCase().includes(gt))}if(wt){const gt=Number(wt.stock??wt.stockQuantity??NaN),Et=Number(Ze.quantity)||0;if(Number.isFinite(gt)&&Et>gt){er(n("validation.insufficientStock",{defaultValue:`Stok yetersiz: ${wt.name} (stenen: ${Et}, Mevcut: ${gt})`}),"error");return}}}}catch(Ze){fr("app.invoices.preCreate.stockCheckFailed",Ze)}const qe=await Ox(Ee);if(he.info("app.invoices.create.success",{id:qe.id,invoiceNumber:qe.invoiceNumber,type:qe.type,customer:qe.customer,items:qe.items,lineItems:qe.lineItems}),!Ee.saleId&&Ee.items&&Ee.items.length>0&&String(Ee.type||"").toLowerCase()!=="refund"&&String(Ee.type||"").toLowerCase()!=="return"){try{he.debug("app.sales.autoCreate.fromInvoice.start",{invoiceId:qe.id});const Ze=Ot.find(tr=>tr.id===Ee.customerId),wt=Ze?.name||J.customerName||"N/A",gt=Ze?.email||J.customerEmail||"",Et=Ee.items.map(tr=>({productId:tr.productId,productName:tr.productName||tr.description||"rn/Hizmet",quantity:Number(tr.quantity)||1,unitPrice:Number(tr.unitPrice)||0,taxRate:Number(tr.taxRate??18)})),It={customerId:String(Ee.customerId),customerName:wt,customerEmail:gt,saleDate:Ee.issueDate,items:Et,discountAmount:Number(Ee.discountAmount||0),notes:`${qe.invoiceNumber} numaral faturadan otomatik oluturuldu.`,invoiceId:qe.id},rr=await gf(It),Ft=Array.isArray(rr?.items)&&rr.items.length>0?rr.items[0]:void 0,br={...rr,customerName:rr?.customer?.name||wt,customerEmail:gt,productId:Ft?.productId,productName:Ft?.productName||Ft?.description||"",quantity:Number(Ft?.quantity??1),unitPrice:Number(Ft?.unitPrice??0),date:rr?.saleDate?String(rr.saleDate).slice(0,10):Ee.issueDate,amount:Number(rr?.total??qe.total??0),status:"completed"};_r(tr=>[...tr,br]);try{const tr=Array.isArray(Et)?Et:[];jr(ur=>ur.map(Mt=>{const Ar=tr.find(ks=>String(ks.productId||"")===String(Mt.id));if(!Ar)return Mt;const lr=Number(Mt.stockQuantity||0)-Number(Ar.quantity||0),ts=lr<0?0:lr;return{...Mt,stockQuantity:ts,status:ts<=0?"out-of-stock":ts<=(Mt.reorderLevel||0)?"low":"active"}}))}catch(tr){fr("app.sales.autoCreate.stockAdjustFailed",tr)}try{await pf(String(qe.id),{saleId:String(rr.id)}),Lt(tr=>tr.map(ur=>String(ur.id)===String(qe.id)?{...ur,saleId:rr.id}:ur))}catch(tr){he.warn("app.invoices.linkUpdateFailed",tr)}try{const tr=Kr(h,m?.tenantId),ur=m?.id?String(m.id):void 0;(yl({tenantIds:tr?[tr]:void 0,userIds:ur?[ur]:void 0})||{})?.salesNotifications!==!1&&Qr(r("notifications.sales.created.title","Yeni sat kaydedildi"),r("notifications.sales.created.desc",`${wt} - ${String(rr?.items?.[0]?.productName||"")}: ${Number(rr.total)||0}`,{customerName:wt,summary:String(rr?.items?.[0]?.productName||""),totalAmount:Number(rr.total)||0}),"success","sales",{i18nTitleKey:"notifications.sales.created.title",i18nDescKey:"notifications.sales.created.desc",i18nParams:{customerName:wt,summary:String(rr?.items?.[0]?.productName||""),totalAmount:Number(rr.total)||0}})}catch(tr){fr("app.sales.autoCreate.notificationFailed",tr)}}catch(Ze){console.error(" Otomatik sat (backend) oluturulamad:",Ze),er(n("toasts.invoices.createPartialError"),"error")}Dn()}const tt=[...Yt,qe];Lt(tt);try{const Ze=Kr(h,m?.tenantId);Lr("invoices_cache",tt,{tenantId:Ze,mirrorToBase:!0})}catch(Ze){fr("app.invoices.create.persistFailed",Ze)}he.debug("app.invoices.cacheUpdated",{action:"create"}),er(n("toasts.invoices.createWithSaleSuccess"),"success");const Xe=Ot.find(Ze=>Ze.id===Ee.customerId);return Qr(r("notifications.invoices.created.title","Yeni fatura oluturuldu"),r("notifications.invoices.created.desc",`${qe.invoiceNumber} - ${Xe?.name||"Mteri"} iin fatura hazr.`,{invoiceNumber:qe.invoiceNumber,customerName:Xe?.name||"Mteri"}),"success","invoices",{i18nTitleKey:"notifications.invoices.created.title",i18nDescKey:"notifications.invoices.created.desc",i18nParams:{invoiceNumber:qe.invoiceNumber,customerName:Xe?.name||"Mteri"}}),qe}}catch(Ee){console.error("Invoice upsert error:",Ee),console.error("Error details:",Ee.response?.data);const qe=il(Ee);er(qe,"error")}},_o=async J=>{try{await NA(String(J));const ue=Yt.filter(ie=>String(ie.id)!==String(J));Lt(ue);try{const ie=Kr(h,m?.tenantId);Lr("invoices_cache",ue,{tenantId:ie,mirrorToBase:!0})}catch(ie){fr("app.invoices.delete.persistFailed",ie)}he.debug("app.invoices.cacheUpdated",{action:"delete"}),er(n("invoices.deleteSuccess",{defaultValue:"Fatura silindi"}),"success")}catch(ue){console.error("Invoice delete error:",ue);const ie=ue.response?.data?.message||"";he.warn("app.invoices.cacheUpdateSkipped",{action:"delete"}),ie.includes("locked period")||ie.includes("kilitli dnem")||ie.includes("Cannot modify records")?er(n("common.periodLockedError"),"error"):er(ie||n("invoices.deleteError"),"error")}},Zc=J=>{Ve(String(J))},on=async(J,ue)=>{try{const ie=Yt.find(Ae=>Ae.id===J);await jA(J,ue);const ye=Yt.map(Ae=>Ae.id===J?{...Ae,isVoided:!0,voidReason:ue,voidedAt:new Date().toISOString()}:Ae);Lt(ye);try{const Ae=Kr(h,m?.tenantId);Lr("invoices_cache",ye,{tenantId:Ae,mirrorToBase:!0})}catch(Ae){fr("app.invoices.void.persistFailed",Ae)}if(ie){try{const Ae=Array.isArray(ie.items)?ie.items:[];jr(Fe=>Fe.map(Ee=>{const qe=Ae.find(Ze=>String(Ze.productId||"")===String(Ee.id));if(!qe)return Ee;const tt=Number(qe.quantity||0),Xe=Number(Ee.stockQuantity||0)+tt;return{...Ee,stockQuantity:Xe,status:Xe<=0?"out-of-stock":Xe<=(Ee.reorderLevel||0)?"low":"active"}}))}catch(Ae){fr("app.invoices.void.stockRestoreFailed",Ae)}ie.saleId&&_r(Ae=>Ae.map(Fe=>String(Fe.id)===String(ie.saleId)?{...Fe,status:"cancelled"}:Fe))}er(n("toasts.invoices.cancelSuccess"),"success")}catch(ie){console.error("Invoice void error:",ie),er(ie.response?.data?.message||n("toasts.invoices.cancelError"),"error")}},oa=async J=>{try{await SA(J);const ue=Yt.map(ie=>ie.id===J?{...ie,isVoided:!1,voidReason:void 0,voidedAt:void 0}:ie);Lt(ue);try{const ie=Kr(h,m?.tenantId);Lr("invoices_cache",ue,{tenantId:ie,mirrorToBase:!0})}catch(ie){fr("app.invoices.restore.persistFailed",ie)}er(n("toasts.invoices.restoreSuccess"),"success")}catch(ue){console.error("Invoice restore error:",ue),er(ue.response?.data?.message||n("toasts.invoices.restoreError"),"error")}},_l=async J=>{try{if(!J.id&&Cl){const ie=Va(),ye=5;if(ie>=ye){Ir({title:n("plans.limitExceeded.title",{defaultValue:"Plan Limiti Ald"}),message:n("plans.limitExceeded.expensesMessage",{defaultValue:"Starter/Free planda bir ayda en fazla 5 gider kayd oluturabilirsiniz. Daha fazlas iin plannz ykseltin."})});return}else ie===ye-1&&Qr(r("notifications.plan.limit.title","Plan limiti uyars"),r("notifications.plan.limit.expenses.desc","Bu ay 5/5 limitine yaklamaktasnz (4/5).",{used:ie,limit:ye}),"info","expenses",{relatedId:"plan-limit-expenses",i18nTitleKey:"notifications.plan.limit.title",i18nDescKey:"notifications.plan.limit.expenses.desc",i18nParams:{used:ie,limit:ye}})}const ue={description:J.description||"",amount:Number(J.amount||0),category:J.category||"other",status:J.status||"pending",date:J.date||J.expenseDate||new Date().toISOString().split("T")[0],supplierId:J.supplierId===null?null:J.supplierId||void 0,notes:J.notes||""};if(J.id){const ie=await PA(String(J.id),ue),ye={...ie,supplier:ie.supplier||null,expenseDate:ie.expenseDate?typeof ie.expenseDate=="string"?ie.expenseDate:new Date(ie.expenseDate).toISOString().split("T")[0]:ue.date,dueDate:ie.dueDate||ie.expenseDate||ue.date},Ae=Jt.map(Fe=>Fe.id===ye.id?ye:Fe);dr(Ae);try{const Fe=Kr(h,m?.tenantId);Lr("expenses_cache",Ae,{tenantId:Fe,mirrorToBase:!0})}catch(Fe){fr("app.expenses.update.persistFailed",Fe)}er(n("toasts.expenses.updateSuccess"),"success")}else{const ie=await _A(ue),ye={...ie,supplier:ie.supplier||null,expenseDate:ie.expenseDate?typeof ie.expenseDate=="string"?ie.expenseDate:new Date(ie.expenseDate).toISOString().split("T")[0]:ue.date,dueDate:ie.dueDate||ie.expenseDate||ue.date},Ae=[...Jt,ye];dr(Ae);try{const Ee=Kr(h,m?.tenantId);Lr("expenses_cache",Ae,{tenantId:Ee,mirrorToBase:!0})}catch(Ee){fr("app.expenses.create.persistFailed",Ee)}er(n("toasts.expenses.createSuccess"),"success");const Fe=ye.supplier?.name||"Tedariki";Qr(r("notifications.expenses.created.title","Yeni gider kaydedildi"),r("notifications.expenses.created.desc",`${Fe} - ${ye.description}: ${ye.amount} TL`,{supplierName:Fe,description:ye.description,amount:ye.amount}),"info","expenses",{i18nTitleKey:"notifications.expenses.created.title",i18nDescKey:"notifications.expenses.created.desc",i18nParams:{supplierName:Fe,description:ye.description,amount:ye.amount}})}}catch(ue){console.error("Expense upsert error:",ue),console.error("Error details:",ue.response?.data);const ie=il(ue);er(ie,"error")}},Ha=async J=>{if(So(n("expenses.deleteConfirm")))try{await IA(String(J));const ue=Jt.filter(ie=>String(ie.id)!==String(J));dr(ue);try{const ie=Kr(h,m?.tenantId);Lr("expenses_cache",ue,{tenantId:ie,mirrorToBase:!0})}catch(ie){fr("app.expenses.delete.persistFailed",ie)}he.debug("app.expenses.cacheUpdated",{action:"delete"}),er(n("expenses.deleteSuccess"),"success")}catch(ue){console.error("Expense delete error:",ue);const ie=ue.response?.data?.message||"";he.warn("app.expenses.cacheUpdateSkipped",{action:"delete"}),ie.includes("locked period")||ie.includes("kilitli dnem")||ie.includes("Cannot modify records")?er(n("common.periodLockedError"),"error"):er(ie||n("expenses.deleteError"),"error")}},Nm=async(J,ue)=>{try{await MA(J,ue);const ie=Jt.map(ye=>ye.id===J?{...ye,isVoided:!0,voidReason:ue,voidedAt:new Date().toISOString()}:ye);dr(ie);try{const ye=Kr(h,m?.tenantId);Lr("expenses_cache",ie,{tenantId:ye,mirrorToBase:!0})}catch(ye){fr("app.expenses.void.persistFailed",ye)}er(n("toasts.expenses.cancelSuccess"),"success")}catch(ie){console.error("Expense void error:",ie),er(ie.response?.data?.message||n("toasts.expenses.cancelError"),"error")}},Pl=async J=>{try{const ue=await DA(String(J.id),J.status),ie={...ue,supplier:ue.supplier||null,expenseDate:ue.expenseDate?typeof ue.expenseDate=="string"?ue.expenseDate:new Date(ue.expenseDate).toISOString().split("T")[0]:J.expenseDate,dueDate:ue.dueDate||ue.expenseDate||J.expenseDate},ye=Jt.map(Ae=>String(Ae.id)===String(ie.id)?ie:Ae);dr(ye);try{const Ae=Kr(h,m?.tenantId);Lr("expenses_cache",ye,{tenantId:Ae,mirrorToBase:!0})}catch(Ae){fr("app.expenses.inlineStatus.persistFailed",Ae)}er(n("toasts.expenses.statusUpdateSuccess"),"success")}catch(ue){console.error("Expense status update error:",ue);const ie=String(ue?.response?.data?.message||ue?.message||"Gider durumu gncellenemedi");ie.includes("locked period")||ie.includes("kilitli dnem")||ie.includes("Cannot modify records")?er(n("common.periodLockedError"),"error"):er(ie,"error")}},Dl=async J=>{try{await RA(J);const ue=Jt.map(ie=>ie.id===J?{...ie,isVoided:!1,voidReason:void 0,voidedAt:void 0}:ie);dr(ue);try{const ie=Kr(h,m?.tenantId);Lr("expenses_cache",ue,{tenantId:ie,mirrorToBase:!0})}catch(ie){fr("app.expenses.restore.persistFailed",ie)}er(n("toasts.expenses.restoreSuccess"),"success")}catch(ue){console.error("Expense restore error:",ue),er(ue.response?.data?.message||n("toasts.expenses.restoreError"),"error")}},Ni=async J=>{if(!J.id){const ie=Array.isArray(J.items)&&J.items.length>0?J.items:J.productId?[{productId:J.productId,quantity:J.quantity||0,productName:J.productName||"",unitPrice:J.unitPrice||0,total:J.amount||0}]:[];for(const ye of ie){if(!ye?.productId)continue;const Ae=pr.find(qe=>String(qe.id)===String(ye.productId));if(!Ae)continue;const Fe=Number(Ae.stockQuantity||0),Ee=Number(ye.quantity||0);if(Fe<Ee){er(n("toasts.sales.insufficientStock",{name:Ae.name,available:Fe,requested:Ee}),"error");return}}}const ue=!J?.id;try{let ie;if(J.customerId)ie=String(J.customerId);else if(J.customerName){const Xe=String(J.customerName).trim().toLowerCase(),Ze=String(J.customerEmail||"").trim().toLowerCase(),wt=Ot.find(gt=>(gt.name||"").toLowerCase()===Xe||(gt.email||"").toLowerCase()===Ze);wt&&(ie=String(wt.id))}const ye=Number(J.quantity||1),Ae=Number(J.unitPrice||J.amount||0),Fe=J.productId?String(J.productId):void 0,Ee=J.productName||pr.find(Xe=>String(Xe.id)===String(Fe))?.name||"rn/Hizmet",qe=(()=>{const Xe=pr.find(Ze=>String(Ze.id)===String(Fe));return Xe?.taxRate!=null?Number(Xe.taxRate):18})(),tt={customerId:ie,customerName:ie?void 0:J.customerName,customerEmail:ie?void 0:J.customerEmail,saleDate:J?.date||J?.saleDate||new Date().toISOString().split("T")[0],items:[{productId:Fe,productName:Ee,quantity:Number.isFinite(ye)?ye:1,unitPrice:Number.isFinite(Ae)?Ae:0,taxRate:qe}],discountAmount:0,notes:J?.notes||void 0,sourceQuoteId:J?.sourceQuoteId};if(ue){const Xe=await gf(tt),Ze={id:Xe.id,saleNumber:Xe.saleNumber||J.saleNumber||`SAL-${new Date().toISOString().slice(0,7)}-???`,customerName:J.customerName||Xe.customer?.name||"",customerEmail:J.customerEmail||Xe.customer?.email||"",items:Array.isArray(Xe.items)?Xe.items:tt.items,productName:Ee,quantity:ye,unitPrice:Ae,amount:Number(Xe.total??ye*Ae)||0,total:Number(Xe.total??ye*Ae)||0,date:Xe.saleDate?String(Xe.saleDate).slice(0,10):tt.saleDate,status:"completed",paymentMethod:J.paymentMethod||"cash",notes:tt.notes,invoiceId:Xe.invoiceId,createdByName:Xe?.createdByName||`${m?.firstName||""} ${m?.lastName||""}`.trim()||m?.email||b.name,updatedByName:Xe?.updatedByName||`${m?.firstName||""} ${m?.lastName||""}`.trim()||m?.email||b.name,createdAt:Xe?.createdAt||new Date().toISOString(),updatedAt:Xe?.updatedAt||new Date().toISOString()};_r(wt=>[...wt,Ze]),er(n("toasts.sales.createSuccess"),"success")}else{const Xe=String(J.id),Ze={customerId:ie,saleDate:tt.saleDate,items:tt.items,discountAmount:tt.discountAmount,notes:tt.notes},wt=await AA(Xe,Ze);_r(gt=>gt.map(Et=>String(Et.id)===Xe?{...Et,saleNumber:wt.saleNumber||Et.saleNumber,date:wt.saleDate?String(wt.saleDate).slice(0,10):Et.date,amount:Number(wt.total??Et.amount)||0,total:Number(wt.total??Et.total)||0,items:Array.isArray(wt.items)?wt.items:Et.items,notes:wt.notes??Et.notes,updatedByName:wt?.updatedByName||`${m?.firstName||""} ${m?.lastName||""}`.trim()||m?.email||Et.updatedByName,updatedAt:wt?.updatedAt||new Date().toISOString()}:Et)),er(n("toasts.sales.updateSuccess"),"success")}}catch(ie){console.error(" Sales upsert error:",ie),_r(ye=>{const Ae={...J,id:J.id||`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,saleNumber:J.saleNumber||`SAL-${new Date().toISOString().slice(0,7)}-OFF`,date:J?.date||new Date().toISOString().split("T")[0],amount:J.amount||Number(J.quantity||1)*Number(J.unitPrice||0),createdByName:`${m?.firstName||""} ${m?.lastName||""}`.trim()||m?.email||b.name,updatedByName:`${m?.firstName||""} ${m?.lastName||""}`.trim()||m?.email||b.name,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Fe=ye.findIndex(Ee=>String(Ee.id)===String(Ae.id));return Fe>=0?ye.map((Ee,qe)=>qe===Fe?Ae:Ee):[...ye,Ae]}),er(il(ie)||n("toasts.sales.localSaved"),"info")}if(ue){const ie=Array.isArray(J.items)&&J.items.length>0?J.items:J.productId?[{productId:J.productId,quantity:J.quantity||0}]:[];for(const ye of ie){if(!ye?.productId)continue;const Ae=pr.find(qe=>String(qe.id)===String(ye.productId));if(!Ae)continue;const Fe=Number(ye.quantity||0),Ee=Number(Ae.stockQuantity||0)-Fe;try{const qe={stock:Ee<0?0:Ee};await Lx(String(Ae.id),qe),jr(tt=>tt.map(Xe=>String(Xe.id)===String(Ae.id)?{...Xe,stockQuantity:Ee<0?0:Ee,status:Ee<=0?"out-of-stock":Ee<=(Xe.reorderLevel||0)?"low":"active"}:Xe)),Ee>0&&Ee<=(Ae.reorderLevel||0)&&Qr(r("notifications.products.lowStock.title","Dk stok uyars"),r("notifications.products.lowStock.desc",`${Ae.name} - Stok seviyesi minimum limitin altnda! (${Ee}/${Ae.reorderLevel})`,{name:Ae.name,stock:Ee,min:Ae.reorderLevel}),"info","products",{persistent:!0,repeatDaily:!0,relatedId:`low-stock-${Ae.id}`}),Ee<=0&&Qr(r("notifications.products.outOfStock.title","Stok tkendi"),r("notifications.products.outOfStock.desc",`${Ae.name} - Stok tkendi!`,{name:Ae.name}),"info","products",{persistent:!0,repeatDaily:!0,relatedId:`out-of-stock-${Ae.id}`})}catch(qe){console.error("Manuel sat - Stok gncellenemedi:",qe),er(n("toasts.sales.stockUpdateFailed"),"error")}}}if(ue){const ie=Array.isArray(J.items)&&J.items.length>0?`${J.items[0]?.productName||"rn"}${J.items.length>1?` +${J.items.length-1}`:""}`:`${J.productName}`,ye=Array.isArray(J.items)&&J.items.length>0?J.items.reduce((Ae,Fe)=>Ae+Number(Fe.total||Fe.quantity*Fe.unitPrice||0),0):J.amount||J.quantity*J.unitPrice;Qr(r("notifications.sales.created.title","Yeni sat kaydedildi"),r("notifications.sales.created.desc",`${J.customerName} - ${ie}: ${ye} TL`,{customerName:J.customerName,summary:ie,totalAmount:ye}),"success","sales"),Dn()}},Ka=Gt.useRef(Ni);Ka.current=Ni;const Il=async(J,ue)=>{if(!(!ue?.skipConfirm&&!confirm(n("sales.deleteConfirm",{defaultValue:"Bu sat silmek istediinizden emin misiniz?"})))){he.info("app.sales.delete.request",{saleId:J});try{await EA(String(J))}catch(ie){console.error(" Sat backend zerinde silinemedi:",ie),er(il(ie)||n("toasts.sales.deleteError"),"error");return}_r(ie=>{const ye=ie.filter(Ae=>String(Ae.id)!==String(J));return he.info("app.sales.delete.success",{remaining:ye.length}),ye}),er(n("toasts.sales.deleteSuccess"),"success"),st(!1),Re(null)}},jm=J=>{kt(String(J))},Sm=async J=>{try{const ue=(J?.category?String(J.category):"").trim()||"Genel";Xc(ue);const ie={name:J.name||"",code:J.sku||`PROD-${Date.now()}`,description:J.description||void 0,price:Number(J.unitPrice??0),cost:Number(J.costPrice??0),stock:Number(J.stockQuantity??0),minStock:Number(J.reorderLevel??0),unit:J.unit||"adet",category:ue,taxRate:Number(J.taxRate??18),categoryTaxRateOverride:J.categoryTaxRateOverride?Number(J.categoryTaxRateOverride):void 0};if(he.debug("app.products.upsert.payload",{name:ie.name,category:ie.category,taxRate:ie.taxRate,categoryTaxRateOverride:ie.categoryTaxRateOverride}),J?.id){const ye=await Lx(String(J.id),ie);jr(Ae=>Ae.map(Fe=>Fe.id===ye.id?Ec(ye):Fe)),er(n("toasts.products.updateSuccess"),"success")}else{const ye=await zx(ie);jr(Ae=>[...Ae,Ec(ye)]),er(n("toasts.products.createSuccess"),"success"),ye.stock<=ye.minStock&&Qr(r("notifications.products.lowStock.title","Dk stok uyars"),r("notifications.products.lowStock.desc",`${ye.name} - Stok seviyesi minimum limitin altnda! (${ye.stock}/${ye.minStock})`,{name:ye.name,stock:ye.stock,min:ye.minStock}),"warning","products")}}catch(ue){console.error("Product upsert error:",ue),console.error("Error details:",ue.response?.data);const ie=ue.response?.data?.message||ue.message||"rn kaydedilemedi";er(Array.isArray(ie)?ie.join(", "):ie,"error")}},Cm=async J=>{if(So(n("products.deleteConfirm",{defaultValue:"Bu rn silmek istediinizden emin misiniz?"})))try{await wA(String(J)),jr(ue=>ue.filter(ie=>ie.id!==String(J))),er(n("toasts.products.deleteSuccess"),"success")}catch(ue){console.error("Product delete error:",ue),er(ue.response?.data?.message||n("toasts.products.deleteError"),"error")}},yn=(J,ue)=>J.localeCompare(ue,"tr-TR",{sensitivity:"accent"})===0,Xc=async(J,ue)=>{const ie=J.trim();if(ie)try{if(ue!==void 0){const{productCategoriesApi:ye}=await Dr(async()=>{const{productCategoriesApi:Fe}=await Promise.resolve().then(()=>Ic);return{productCategoriesApi:Fe}},void 0),Ae=await ye.create({name:ie,taxRate:ue});he.info("app.productCategories.created",{id:Ae.id,name:Ae.name}),Un(Fe=>[...Fe,Ae])}os(ye=>ye.some(Fe=>yn(Fe,ie))?ye:[...ye,ie].sort((Fe,Ee)=>Fe.localeCompare(Ee,"tr-TR"))),ue!==void 0&&er(n("toasts.categories.added",{name:ie,taxRate:ue}),"success")}catch(ye){console.error("Kategori ekleme hatas:",ye),er(ye.response?.data?.message||n("toasts.categories.addError"),"error")}},Am=(J,ue)=>{const ie=J.trim(),ye=ue.trim();if(!ie||!ye)return;let Ae=!1;os(Fe=>!Fe.some(Ee=>yn(Ee,ie))||Fe.some(Ee=>!yn(Ee,ie)&&yn(Ee,ye))?Fe:(Ae=!0,Fe.map(Ee=>yn(Ee,ie)?ye:Ee).sort((Ee,qe)=>Ee.localeCompare(qe,"tr-TR")))),Ae&&(jr(Fe=>Fe.map(Ee=>Ee?.category&&yn(Ee.category,ie)?{...Ee,category:ye}:Ee)),er(n("toasts.categories.updateSuccess"),"success"))},Em=J=>{const ue=J.trim();if(!ue)return;const ie="Genel";if(yn(ue,ie))return;let ye=!1;os(Ae=>{const Fe=Ae.filter(Ee=>!yn(Ee,ue));return Fe.length===Ae.length?Ae:(ye=!0,Fe.some(Ee=>yn(Ee,ie))||Fe.push(ie),Array.from(new Set(Fe)).sort((Ee,qe)=>Ee.localeCompare(qe,"tr-TR")))}),ye&&(jr(Ae=>Ae.map(Fe=>Fe?.category&&yn(Fe.category,ue)?{...Fe,category:ie}:Fe)),er(n("toasts.categories.deleteSuccess"),"success"))},Tm=(J,ue)=>{if(ue.length){if(J==="delete"){if(!So(`${ue.length} urunu silmek istiyor musunuz?`))return;jr(ie=>{const ye=ie.filter(Fe=>!ue.includes(Fe.id)),Ae=ie.length-ye.length;return Ae>0?er(n("toasts.products.bulkRemoved",{count:Ae}),"success"):er(n("toasts.products.bulkNotFound"),"info"),ye});return}if(J==="archive"){jr(ie=>{let ye=0;const Ae=ie.map(Fe=>ue.includes(Fe.id)?(ye+=1,{...Fe,status:"archived"}):Fe);return ye>0?er(n("toasts.products.bulkArchived",{count:ye}),"success"):er(n("toasts.products.bulkAlreadyArchived"),"info"),Ae});return}if(J==="update-price"){er(n("toasts.products.bulkPriceUpdateSaved"),"info");return}J==="assign-category"&&er(n("toasts.categories.assignmentInfo"),"info")}},_m=async J=>{try{const{bankAccountsApi:ue}=await Dr(async()=>{const{bankAccountsApi:ie}=await import("./bank-accounts-BLj6Ekd5.js");return{bankAccountsApi:ie}},[]);if(J.id){const ie=await ue.update(String(J.id),{name:J.accountName,iban:J.iban,bankName:J.bankName,currency:J.currency});As(Ae=>{const Fe=Ae.map(Ee=>String(Ee.id)!==String(ie.id)?Ee:{...Ee,...ie,accountName:ie.name,isActive:J.isActive!==!1,accountType:J.accountType||"checking",balance:Number(J.balance)||0,branchCode:J.branchCode||"",routingNumber:J.routingNumber||"",swiftBic:J.swiftBic||""});try{const Ee=Kr(h,m?.tenantId);Lr("bankAccounts",Fe,{tenantId:Ee,mirrorToBase:!0});const qe=_c("bankUi",{tenantId:Ee,fallbackToBase:!1})||{};qe[String(ie.id)]={isActive:J.isActive!==!1,accountType:J.accountType||"checking",balance:Number(J.balance)||0,branchCode:J.branchCode||"",routingNumber:J.routingNumber||"",swiftBic:J.swiftBic||""},vu("bankUi",qe,{tenantId:Ee,mirrorToBase:!1})}catch(Ee){fr("app.banks.update.persistFailed",Ee)}return Fe});const ye=o.language==="tr"?"Banka hesab gncellendi":o.language==="en"?"Bank account updated":o.language==="fr"?"Compte bancaire mis  jour":o.language==="de"?"Bankkonto aktualisiert":"Bank account updated";er(ye,"success")}else{const ie=await ue.create({name:J.accountName,iban:J.iban,bankName:J.bankName,currency:J.currency});As(Ae=>{const Fe=[...Ae,{...ie,id:String(ie.id),accountName:ie.name,isActive:J.isActive!==!1,accountType:J.accountType||"checking",balance:Number(J.balance)||0,branchCode:J.branchCode||"",routingNumber:J.routingNumber||"",swiftBic:J.swiftBic||""}];try{const Ee=Kr(h,m?.tenantId);Lr("bankAccounts",Fe,{tenantId:Ee,mirrorToBase:!0});const qe=_c("bankUi",{tenantId:Ee,fallbackToBase:!1})||{};qe[String(ie.id)]={isActive:J.isActive!==!1,accountType:J.accountType||"checking",balance:Number(J.balance)||0,branchCode:J.branchCode||"",routingNumber:J.routingNumber||"",swiftBic:J.swiftBic||""},vu("bankUi",qe,{tenantId:Ee,mirrorToBase:!1})}catch(Ee){fr("app.banks.create.persistFailed",Ee)}return Fe});const ye=o.language==="tr"?"Banka hesab eklendi":o.language==="en"?"Bank account added":o.language==="fr"?"Compte bancaire ajout":o.language==="de"?"Bankkonto hinzugefgt":"Bank account added";er(ye,"success")}}catch(ue){console.error("Bank upsert failed:",ue);const ie=o.language==="tr"?"Banka ilemi baarsz":o.language==="en"?"Bank operation failed":o.language==="fr"?"Lopration bancaire a chou":o.language==="de"?"Bankvorgang fehlgeschlagen":"Bank operation failed";er(ue?.response?.data?.message||ie,"error")}},Jc=async J=>{if(So(n("banks.deleteConfirm",{defaultValue:"Bu banka hesabn silmek istediinizden emin misiniz?"})))try{const{bankAccountsApi:ue}=await Dr(async()=>{const{bankAccountsApi:ye}=await import("./bank-accounts-BLj6Ekd5.js");return{bankAccountsApi:ye}},[]);await ue.remove(String(J)),As(ye=>ye.filter(Ae=>String(Ae.id)!==String(J)));const ie=o.language==="tr"?"Banka hesab silindi":o.language==="en"?"Bank account deleted":o.language==="fr"?"Compte bancaire supprim":o.language==="de"?"Bankkonto gelscht":"Bank account deleted";er(ie,"success")}catch(ue){console.error("Bank delete failed:",ue),er(ue?.response?.data?.message||n("toasts.bank.deleteError"),"error")}},Po=J=>{ke(J??null),C(!0)},Ml=J=>{He(J??null),R(!0)},ji=Gt.useCallback(J=>{if(!J||typeof J!="object")return J;const ue=J?.customer?.name||J?.customerName||"",ie=J?.customer?.email||J?.customerEmail||"",ye=J?.customer?.address||J?.customerAddress||"";let Ae=Array.isArray(J.items)?J.items:[];(!Ae||Ae.length===0)&&Array.isArray(J.lineItems)&&(Ae=J.lineItems.map((tt,Xe)=>({id:tt?.id||`${Date.now()}-${Xe}-${Math.random().toString(36).slice(2,8)}`,description:tt?.description||tt?.productName||"",quantity:Number(tt?.quantity)||1,unitPrice:Number(tt?.unitPrice)||0,total:Number(tt?.total)||(Number(tt?.quantity)||1)*(Number(tt?.unitPrice)||0),productId:tt?.productId,unit:tt?.unit,taxRate:Number(tt?.taxRate??18)})));const Fe=()=>{try{if(!Array.isArray(Ae)||Ae.length===0)return J.type;const tt=new Set,Xe=new Map;pr.forEach(gt=>Xe.set(String(gt.id),gt));const Ze=new Map;qs.forEach(gt=>Ze.set((gt.name||"").toLowerCase(),gt));const wt=gt=>{if(!gt)return;const Et=Ze.get(String(gt).toLowerCase());if(!Et)return String(gt);let It=Et;const rr=new Map(qs.map(Ft=>[Ft.id,Ft]));for(;It&&It.parentId;)It=rr.get(It.parentId);return It?.name||Et.name};for(const gt of Ae){const It=((gt.productId?Xe.get(String(gt.productId)):void 0)||pr.find(br=>(br.name||"").toLowerCase()===String(gt.productName||gt.description||"").toLowerCase()))?.category,rr=wt(It)?.toLowerCase()||"",Ft=rr.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"");Ft.includes("hizmet")||rr.includes("hizmet")?tt.add("service"):(Ft.includes("urun")||rr.includes("rn"))&&tt.add("product")}return tt.size===0?J.type:tt.size>1?"general":tt.values().next().value}catch{return J.type}},Ee=J.customer||(J.customerId?{id:String(J.customerId),name:ue||void 0,email:ie||void 0,address:ye||void 0}:void 0),qe=Fe();return{...J,items:Ae,customerName:ue,customerEmail:ie,customerAddress:ye,customer:Ee,type:qe||J.type}},[pr,qs]),Hn=Gt.useCallback(async J=>{if(J){let ue=J;const ie=Array.isArray(J.items)&&J.items.length>0,ye=Array.isArray(J.lineItems)&&J.lineItems.length>0;try{!ie&&!ye&&J.id&&(ue=await lc(String(J.id)))}catch(Ae){console.warn("Fatura detay alnamad, mevcut veri kullanlacak:",Ae)}at(ji(ue)),Y(!0)}else te(!0)},[ji]),Rl=()=>{te(!1),at(St?{id:aa(St.id),customerName:St.name,customerEmail:St.email,customerAddress:St.address,status:"draft",issueDate:new Date().toISOString().split("T")[0]}:null),Y(!0)},Pm=()=>{te(!1),Ue(!0)},Dm=()=>{te(!1),at(St?{_isReturnInvoice:!0,id:aa(St.id),customerName:St.name,customerEmail:St.email,customerAddress:St.address,status:"draft",issueDate:new Date().toISOString().split("T")[0]}:{_isReturnInvoice:!0}),Y(!0)},Im=J=>{Le(J),Ue(!1),dt(!0)},ed=async J=>{const ue=ie=>Array.isArray(ie)?ie.filter(Boolean).map(ye=>{const Ae=Math.max(1,Vr(ye.quantity)),Fe=Math.max(0,Vr(ye.unitPrice)),Ee=(()=>{const Ze=Vr(ye.total);if(Ze>0)return Ze;const wt=Ae*Fe;return Number.isFinite(wt)?wt:0})(),qe=ye.description||ye.productName||n("products.name","Product"),tt=Number(ye.taxRate),Xe=Number.isFinite(tt)&&tt>=0?Math.round(tt*100)/100:void 0;return{productId:ye.productId,productName:ye.productName||qe,description:qe,quantity:Ae,unitPrice:Fe,total:Ee,taxRate:Xe}}):[];try{he.info("app.invoiceFromSale.request",{saleId:pt?.id,lineItemCount:J.items?.length});let ie=J.customerId;if(!ie&&pt&&(ie=Ot.find(Ze=>Ze.name===pt.customerName)?.id,he.info("app.invoiceFromSale.customerResolvedFromSale",{saleCustomerName:pt.customerName,foundCustomerId:ie})),!ie&&J.customerName&&(ie=Ot.find(Ze=>Ze.name===J.customerName)?.id,he.info("app.invoiceFromSale.customerResolvedFromName",{customerName:J.customerName,foundCustomerId:ie})),!ie)throw he.warn("app.invoiceFromSale.customerNotFound",{providedCustomerName:J.customerName,saleCustomerName:pt?.customerName}),er(n("toasts.sales.customerNotFound"),"error"),new Error("customerId required");const ye=ue(J.items);if(!ye.length)throw he.warn("app.invoiceFromSale.noLineItems",{saleId:pt?.id}),er(n("invoices.noLineItemsError","Faturaya aktarlacak satr bulunamad."),"error"),new Error("lineItems required");const Ae={customerId:ie,issueDate:J.issueDate||new Date().toISOString().split("T")[0],dueDate:J.dueDate,type:J.type||"service",lineItems:ye,taxAmount:Math.max(0,Vr(J.taxAmount)),discountAmount:Math.max(0,Vr(J.discountAmount)),notes:J.notes?.trim()||"",status:J.status||"draft"};pt?.id&&(Ae.saleId=pt.id);const Fe=await Ox(Ae);he.info("app.invoiceFromSale.success",{invoiceId:Fe.id,invoiceNumber:Fe.invoiceNumber,linkedSaleId:Ae.saleId});const Ee=pt?.id&&!Fe.saleId?{...Fe,saleId:pt.id}:Fe,qe=[...Yt,Ee];Lt(qe);try{const Xe=Kr(h,m?.tenantId);Lr("invoices_cache",qe,{tenantId:Xe,mirrorToBase:!0})}catch(Xe){he.warn("app.invoiceFromSale.cacheWriteFailed",Xe)}pt&&(_r(Xe=>Xe.map(Ze=>Ze.id===pt.id?{...Ze,invoiceId:Fe.id}:Ze)),he.info("app.invoiceFromSale.saleLinked",{saleId:pt.id,invoiceId:Fe.id}));const tt=Ot.find(Xe=>Xe.id===ie);return Qr(r("notifications.invoices.created.title","Yeni fatura oluturuldu"),r("notifications.invoices.created.desc",`${Fe.invoiceNumber} - ${tt?.name||"Mteri"} iin fatura hazr.`,{invoiceNumber:Fe.invoiceNumber,customerName:tt?.name||"Mteri"}),"success","invoices",{i18nTitleKey:"notifications.invoices.created.title",i18nDescKey:"notifications.invoices.created.desc",i18nParams:{invoiceNumber:Fe.invoiceNumber,customerName:tt?.name||"Mteri"}}),er(n("toasts.invoices.createSuccess"),"success"),dt(!1),Le(null),Fe}catch(ie){he.error("app.invoiceFromSale.failed",ie);const ye=ie,Ae=ye.response?.data?.message||ye.message||n("toasts.invoices.createError","Fatura oluturulamad");throw er(Array.isArray(Ae)?Ae.join(", "):Ae,"error"),ie}},Fi=(J,ue)=>{Kt(J??null),Vt(ue??null),ae(!0)},Bi=Gt.useCallback(J=>{if(he.debug("app.saleModal.openRequested",{modalOpen:q,saleId:J?.id,isNewSale:!J}),!q){he.debug("app.saleModal.openImmediate",{saleId:J?.id}),Re(J||null),X(!0);return}he.debug("app.saleModal.reopenSequenceStart",{saleId:J?.id}),X(!1),setTimeout(()=>{he.debug("app.saleModal.reopenSetSelected",{saleId:J?.id}),Re(J||null),setTimeout(()=>{he.debug("app.saleModal.reopenFinalize",{saleId:J?.id}),X(!0)},50)},100)},[q]),Do=J=>{_t(J??null),M(!0)},Mm=()=>{se(!0)},Rm=J=>{_t(J),ne(!0)},zl=J=>{Ie(J??null),Se(!0)},td=()=>{C(!1),ke(null)},Io=()=>{R(!1),He(null)},la=()=>{Y(!1),at(null),Ut(null)},rd=()=>{ae(!1),Kt(null),Vt(null)},Ll=()=>{he.debug("app.saleModal.closeRequested"),X(!1),setTimeout(()=>{he.debug("app.saleModal.selectionCleared"),Re(null)},100)},Ol=()=>{M(!1),_t(null)},sd=()=>{se(!1)},Fl=()=>{Se(!1),Ie(null)},nd=()=>ee(!1),ca=()=>be(!1),zm=()=>Ce(!1),Lm=()=>Be(!1),Om=()=>st(!1),id=()=>{ne(!1)},ad=()=>Nt(!1),Si=()=>ge(!1),Ga=()=>Ke(!1),od=J=>{Ut(J||null),ee(!1),ge(!1),te(!0)},Mo=J=>{Lt(ue=>ue.map(ie=>ie.customerName===J.name&&ie.status!=="paid"?{...ie,status:"paid"}:ie))},ld=J=>{Fi(null,{name:J?.name,category:J?.category}),be(!1),Ke(!1)},Ui=Gt.useCallback(async J=>{try{let ue=J;const ie=Array.isArray(J?.items)&&J.items.length>0,ye=Array.isArray(J?.lineItems)&&J.lineItems.length>0;if(!ie&&!ye&&J?.id)try{ue=await lc(String(J.id))}catch(Ee){console.warn("PDF iin fatura detay alnamad, mevcut veri kullanlacak:",Ee)}const Ae=ji(ue);await(await Dr(()=>import("./pdfGenerator-CM7tmRPw.js").then(Ee=>Ee.p),[])).generateInvoicePDF(Ae,{company:N,lang:o.language})}catch(ue){console.error(ue)}},[N,o.language,ji]),da=Gt.useCallback(async J=>{try{let ue=J;const ie=Array.isArray(J?.items)&&J.items.length>0,ye=Array.isArray(J?.lineItems)&&J.lineItems.length>0;if(!ie&&!ye&&J?.id)try{ue=await lc(String(J.id))}catch(Ae){console.warn("Fatura grntleme: detay alnamad, mevcut veri kullanlacak:",Ae)}at(ji(ue)),Ce(!0)}catch(ue){console.error("openInvoiceView failed:",ue),at(ji(J)),Ce(!0)}},[ji]);Gt.useEffect(()=>{const J=Ae=>{const Fe=Ae,Ee=Fe.detail&&(Fe.detail.invoice||Fe.detail);Ee&&Hn(Ee)},ue=Ae=>{const Fe=Ae,Ee=Fe.detail&&(Fe.detail.invoice||Fe.detail);Ee&&Ui(Ee)},ie=Ae=>{const Fe=Ae,Ee=Fe.detail&&(Fe.detail.quote||Fe.detail);Ee&&(mt(Ee),vt(!0))},ye=Ae=>{const Fe=Ae,Ee=Fe.detail&&(Fe.detail.sale||Fe.detail);Ee&&Bi(Ee)};return window.addEventListener("open-invoice-edit",J),window.addEventListener("download-invoice",ue),window.addEventListener("open-quote-edit",ie),window.addEventListener("open-sale-edit",ye),()=>{window.removeEventListener("open-invoice-edit",J),window.removeEventListener("download-invoice",ue),window.removeEventListener("open-quote-edit",ie),window.removeEventListener("open-sale-edit",ye)}},[Hn,Ui,Bi]);const ua=async J=>{try{await(await Dr(()=>import("./pdfGenerator-CM7tmRPw.js").then(ie=>ie.p),[])).generateExpensePDF(J,{company:N,lang:o.language})}catch(ue){console.error(ue)}},Wa=async J=>{try{await(await Dr(()=>import("./pdfGenerator-CM7tmRPw.js").then(ie=>ie.p),[])).generateSalePDF(J,{company:N,lang:o.language})}catch(ue){console.error(ue)}},cd=W.useMemo(()=>{const J=new Date,ue=J.getMonth(),ie=J.getFullYear(),ye=new Date(ie,ue-1,1),Ae=ye.getMonth(),Fe=ye.getFullYear(),Ee=(qt,Er,js)=>{if(!qt)return!1;const Zr=new Date(qt);return!isNaN(Zr.getTime())&&Zr.getMonth()===Er&&Zr.getFullYear()===js},qe=qt=>Vr(qt),tt=qt=>qt?qt?.total!=null?qe(qt.total):qe(qt?.quantity)*qe(qt?.unitPrice):0,Xe=qt=>Array.isArray(qt?.items)&&qt.items.length?qt.items:Array.isArray(qt?.lineItems)&&qt.lineItems.length?qt.lineItems:[],Ze=qt=>{if(!qt)return 0;const Er=Xe(qt);if(Er.length)return Er.reduce((Yn,Gs)=>Yn+tt(Gs),0);if(qt?.total!=null)return qe(qt.total);if(qt?.amount!=null)return qe(qt.amount);const js=qe(qt?.quantity),Zr=qe(qt?.unitPrice);return js>0&&Zr>0?js*Zr:0},wt=qt=>qe(qt?.amount),gt=qt=>{if(!qt)return 0;const Er=qe(qt?.total??qt?.amount);if(Er>0)return Er;const js=Xe(qt);return js.length?js.reduce((Zr,Yn)=>Zr+tt(Yn),0):0},Et=qt=>{if(!qt)return 0;const Er=qe(qt?.taxAmount);if(Er>0)return Er;const js=qe(qt?.subtotal),Zr=qe(qt?.total);if(Zr>0&&js>=0&&Zr>=js){const Gs=Zr-js;if(Gs>0)return Gs}const Yn=Xe(qt);if(Yn.length){const Gs=Yn.reduce((Ya,Oo)=>{const Fo=qe(Oo?.taxRate);return Fo<=0?Ya:Ya+tt(Oo)*(Fo/100)},0);if(Gs>0)return Gs}return 0},It=(qt,Er)=>qt.reduce((js,Zr)=>js+Er(Zr),0),rr=qt=>{const Er=String(qt||"").toLowerCase();return Er.includes("paid")||Er.includes("den")||Er.includes("odendi")||Er.includes("dendi")},Ft=qt=>{const Er=String(qt||"").toLowerCase();return Er.includes("completed")||Er.includes("tamam")},br=qt=>{try{const Er=String(qt?.id||"");if(!Er)return!1;if(qt?.invoiceId||Yt.some(Gs=>String(Gs?.saleId||"")===Er))return!0;const Zr=qt?.saleNumber||`SAL-${Er}`;return!!Yt.some(Gs=>typeof Gs?.notes=="string"&&Gs.notes.includes(Zr))}catch{return!1}},tr=Jt.filter(qt=>rr(qt?.status)),ur=Yt.filter(qt=>rr(qt.status)&&Ee(qt?.issueDate,ue,ie)),Mt=Yt.filter(qt=>rr(qt.status)&&Ee(qt?.issueDate,Ae,Fe)),Ar=hr.filter(qt=>Ft(qt?.status)&&Ee(qt?.date||qt?.saleDate,ue,ie)&&!br(qt)),lr=hr.filter(qt=>Ft(qt?.status)&&Ee(qt?.date||qt?.saleDate,Ae,Fe)&&!br(qt)),ts=It(ur,gt)+It(Ar,Ze),ks=It(Mt,gt)+It(lr,Ze),Ns=It(ur,Et),ai=It(Mt,Et),Mn=It(tr.filter(qt=>Ee(qt?.expenseDate,ue,ie)),wt),ma=It(tr.filter(qt=>Ee(qt?.expenseDate,Ae,Fe)),wt),Ks=Yt.filter(qt=>!rr(qt.status)&&Number(qt?.total??0)>0),Kn=It(Ks,gt),Gn=Ks.filter(qt=>Ee(qt?.dueDate||qt?.issueDate,ue,ie)).length,oi=Ks.filter(qt=>Ee(qt?.dueDate||qt?.issueDate,Ae,Fe)).length,Nr=qt=>typeof qt=="string"?qt.trim().toLowerCase():"",ha=(qt,Er)=>{const js=new Set;return Yt.forEach(Zr=>{Ee(Zr?.issueDate,qt,Er)&&Zr?.customerName&&js.add(Nr(Zr.customerName))}),hr.forEach(Zr=>{const Yn=Zr?.date||Zr?.saleDate;Ee(Yn,qt,Er)&&Zr?.customerName&&js.add(Nr(Zr.customerName))}),js.size},Ci=ha(ue,ie),Ai=ha(Ae,Fe),zo=gs.reduce((qt,Er)=>Er?.currency&&Er.currency!=="TRY"?qt:qt+Number(Er?.balance??0),0),Wn=(qt,Er)=>qt===0?Er===0?0:100:(Er-qt)/qt*100,Hr=(qt,Er)=>Wn(qt,Er)>=0?"increase":"decrease";return{statsCards:[{title:n("dashboard.totalRevenue"),value:f(ts),change:Tc(Wn(ks,ts)),changeType:Hr(ks,ts),icon:Bs,color:"green"},{title:n("dashboard.vatToPay"),value:f(Ns),change:Tc(Wn(ai,Ns)),changeType:Hr(ai,Ns),icon:fn,color:"orange",subtitle:n("dashboard.vatToPaySubtitle")},{title:n("dashboard.totalExpense"),value:f(Mn),change:Tc(Wn(ma,Mn)),changeType:Hr(ma,Mn),icon:xi,color:"red"},{title:n("dashboard.pendingInvoices"),value:f(Kn),change:Tc(Wn(oi,Gn)),changeType:Hr(oi,Gn),icon:qr,color:"purple",subtitle:n("stats.all")},{title:n("dashboard.activeCustomers"),value:String(Ci),change:Tc(Wn(Ai,Ci)),changeType:Hr(Ai,Ci),icon:Is,color:"blue"}],outstandingAmount:Kn,totalCash:zo}},[Yt,Jt,hr,gs,n,f]),Ro=()=>{const J={customers:Ot,suppliers:$t,invoices:Yt,expenses:Jt,sales:hr,products:pr,bankAccounts:gs,company:N};he.info("app.data.exported",{payload:J})},Bl=J=>{if(J){if(Array.isArray(J.customers)&&Pt(J.customers.map(ue=>({...ue,id:String(ue.id)}))),Array.isArray(J.suppliers)&&sr(J.suppliers.map(ue=>({...ue,id:String(ue.id)}))),Array.isArray(J.invoices)&&Lt(J.invoices.map(ue=>({...ue,id:String(ue.id)}))),Array.isArray(J.expenses)&&dr(J.expenses.map(ue=>({...ue,id:String(ue.id)}))),Array.isArray(J.sales)&&_r(J.sales.map(ue=>({...ue,id:String(ue.id)}))),Array.isArray(J.products)){const ue=J.products.map(ye=>({...ye,id:String(ye.id),category:ye.category||"Genel"}));jr(ue);const ie=ue.map(ye=>ye.category?String(ye.category).trim():"").filter(ye=>!!ye);ie.length&&os(ye=>{const Ae=new Set(ye);return ie.forEach(Fe=>{Ae.add(Fe)}),Array.from(Ae).sort((Fe,Ee)=>Fe.localeCompare(Ee,"tr-TR"))})}Array.isArray(J.bankAccounts)&&As(J.bankAccounts.map(ue=>({...ue,id:String(ue.id)})))}},dd=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"-mx-4 sm:mx-0",children:e.jsx("div",{className:"flex gap-4 overflow-x-auto px-4 sm:px-0 sm:grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",children:cd.statsCards.map(J=>e.jsx("div",{className:"flex-none min-w-[240px] sm:min-w-0",children:e.jsx(VA,{title:J.title,value:J.value,change:J.change,changeType:J.changeType,icon:J.icon,color:J.color,subtitle:J.subtitle})},J.title))})}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2 min-w-0",children:[e.jsx(qA,{sales:hr,expenses:Jt,invoices:Yt}),(()=>{let J=[];try{const ue=Kr(h,m?.tenantId),ie=ps("quotes_cache",{tenantId:ue})??[];Array.isArray(ie)&&(J=ie)}catch(ue){fr("app.dashboard.quotesCache.readFailed",ue)}return e.jsx($A,{invoices:Yt,expenses:Jt,sales:hr,quotes:J,onViewInvoice:ue=>{da(ue)},onEditInvoice:ue=>Hn(ue),onDownloadInvoice:Ui,onViewExpense:ue=>{Kt(ue),Be(!0)},onEditExpense:ue=>Fi(ue),onDownloadExpense:ua,onViewSale:ue=>{Re(ue),st(!0)},onEditSale:ue=>Bi(ue),onDownloadSale:Wa,onViewQuote:ue=>{mt(ue),_e(!0)},onViewAllTransactions:()=>A("general-ledger")})})()]}),e.jsxs("div",{className:"space-y-6 min-w-0",children:[e.jsx(HA,{onNewInvoice:()=>Hn(),onNewExpense:()=>Fi(),onNewSale:()=>Bi(),onNewQuote:()=>me(!0),onNewCustomer:()=>Po(),onNewProduct:()=>Do(),onViewCustomers:()=>A("customers"),onViewSuppliers:()=>A("suppliers"),onViewBanks:()=>A("banks"),onViewProducts:()=>A("products"),customers:Ot,suppliers:$t,banks:gs,products:pr}),e.jsx(e_,{onNavigateToFiscalPeriods:()=>A("fiscal-periods")}),e.jsx(KA,{invoices:Yt,expenses:Jt,onViewOverdueInvoices:()=>A("invoices"),onViewPendingExpenses:()=>A("expenses")})]})]})]}),Fm=()=>{if(l.startsWith("customer-history:")){const J=Gt.lazy(()=>Dr(()=>import("./CustomerHistoryPage-Cv1vIt0I.js"),[]));return e.jsx(Gt.Suspense,{fallback:e.jsx("div",{className:"p-6",children:"Ykleniyor..."}),children:e.jsx(J,{})})}switch(l){case"dashboard":return dd();case"customers":return e.jsx(eT,{customers:Ot,onAddCustomer:()=>Po(),onEditCustomer:J=>Po(J),onDeleteCustomer:J=>Yc(J),onViewCustomer:J=>{ke(J),ee(!0)},onImportCustomers:ki});case"products":return e.jsx(aT,{products:pr,categories:as,onAddProduct:()=>Do(),onEditProduct:J=>Do(J),onDeleteProduct:J=>Cm(J),onViewProduct:J=>Rm(J),onAddCategory:Mm,onEditCategory:Am,onDeleteCategory:Em,onBulkAction:Tm,onImportProducts:Tl});case"suppliers":return e.jsx(lT,{suppliers:$t,onAddSupplier:()=>Ml(),onEditSupplier:J=>Ml(J),onDeleteSupplier:Qc,onViewSupplier:J=>{He(J),be(!0)}});case"invoices":return e.jsx(dT,{invoices:Yt,onAddInvoice:()=>Hn(),onEditInvoice:J=>Hn(J),onDeleteInvoice:Zc,onViewInvoice:J=>{da(J)},onUpdateInvoice:wm,onDownloadInvoice:Ui,onVoidInvoice:on,onRestoreInvoice:oa});case"expenses":return e.jsx(hT,{expenses:Jt,onAddExpense:()=>Fi(),onEditExpense:J=>Fi(J),onDeleteExpense:J=>Ha(J),onViewExpense:J=>{Kt(J),Be(!0)},onUpdateExpense:Pl,onDownloadExpense:ua,onVoidExpense:Nm,onRestoreExpense:Dl});case"banks":return e.jsx(gT,{bankAccounts:gs,onAddBank:()=>zl(),onEditBank:J=>zl(J),onDeleteBank:J=>Jc(J),onViewBank:J=>{Ie(J),Nt(!0)}});case"sales":return e.jsx(OT,{customers:Ot,sales:hr,invoices:Yt,products:pr,onSalesUpdate:vi,onUpsertSale:Ni,onCreateInvoice:$a,onEditInvoice:J=>Hn(J),onDownloadSale:Wa,onDeleteSale:J=>jm(String(J))});case"quotes":return e.jsx(JT,{customers:Ot,products:pr});case"reports":return e.jsx(AT,{invoices:Yt,expenses:Jt,sales:hr,customers:Ot,quotes:(()=>{let J=[];try{const ue=Kr(h,m?.tenantId),ie=ps("quotes_cache",{tenantId:ue})??[];Array.isArray(ie)&&(J=ie)}catch(ue){fr("app.reports.quotesCache.readFailed",ue)}return J})()});case"general-ledger":return e.jsx(RT,{invoices:Yt,expenses:Jt,sales:hr,onViewInvoice:J=>{da(J)},onEditInvoice:J=>Hn(J),onViewExpense:J=>{Kt(J),Be(!0)},onEditExpense:J=>Fi(J),onViewSale:J=>{Re(J),st(!0)},onEditSale:J=>Bi(J),onInvoicesUpdate:Lt,onExpensesUpdate:dr,onSalesUpdate:J=>_r(J)});case"chart-of-accounts":return e.jsx(DT,{accounts:v,onAccountsUpdate:y,invoices:Yt,expenses:Jt,sales:hr,customers:Ot});case"archive":return e.jsx(MT,{invoices:Yt,expenses:Jt,sales:hr,customers:Ot,suppliers:$t,onViewInvoice:J=>{da(J)},onViewExpense:J=>{Kt(J),Be(!0)},onViewSale:J=>{Re(J),st(!0)},onViewCustomer:J=>{ke(J),ee(!0)},onViewSupplier:J=>{He(J),be(!0)},onDownloadInvoice:Ui,onDownloadExpense:ua,onDownloadSale:Wa});case"settings":return e.jsx(jf,{name:"settings",children:e.jsx(Nf,{user:b,company:N,bankAccounts:gs,onUserUpdate:g,onCompanyUpdate:Co,onExportData:Ro,onImportData:Bl,initialTab:u})});case"fiscal-periods":return e.jsx(jf,{name:"fiscal-periods",children:e.jsx(Nf,{user:b,company:N,bankAccounts:gs,onUserUpdate:g,onCompanyUpdate:Co,onExportData:Ro,onImportData:Bl,initialTab:"fiscal-periods"})});case"admin":return e.jsx(Yx,{});case"legal-terms":return e.jsx(Ny,{});case"legal-privacy":return e.jsx(jy,{});case"legal-subprocessors":return e.jsx(Sy,{});case"legal-dpa":return e.jsx(Cy,{});case"legal-cookies":return e.jsx(Ay,{});case"legal-imprint":return e.jsx(Ey,{});case"legal-email-policy":return e.jsx(Ty,{});case"organization-members":return e.jsx(jf,{name:"organization-members",children:e.jsx(Nf,{user:b,company:N,bankAccounts:gs,onUserUpdate:g,onCompanyUpdate:Co,onExportData:Ro,onImportData:Bl,initialTab:"organization"})});default:if(l.startsWith("join-organization:")){const J=l.replace("join-organization:","");return e.jsx(Dy,{token:J,onJoinSuccess:()=>{d("dashboard"),window.location.hash=""},onNavigateHome:()=>{d("landing"),window.location.hash=""},onNavigateDashboard:()=>{d("dashboard"),window.location.hash=""}})}return dd()}},Bm=()=>$s.length===0?null:e.jsx("div",{className:"pointer-events-none fixed bottom-6 right-6 z-50 flex w-80 flex-col gap-2",children:$s.map(J=>e.jsx("div",{className:`pointer-events-auto rounded-lg border px-4 py-3 shadow-lg ${z_[J.tone]}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsx("span",{className:"text-sm font-medium",children:J.message}),e.jsx("button",{type:"button",onClick:()=>bi(J.id),className:"rounded text-xs font-semibold text-current transition-opacity hover:opacity-75",children:"X"})]})},J.id))}),Um=()=>e.jsxs(e.Fragment,{children:[pe&&e.jsx(Ev,{isOpen:pe,onClose:()=>me(!1),customers:Ot,products:pr,onCreate:J=>{try{const ue=Kr(h,m?.tenantId),ie=ps("quotes_cache",{tenantId:ue})??[],ye=Array.isArray(ie)?ie:[],Ae=ye.length+1,Fe=`q${Date.now()}`,Ee=`Q-${new Date().getFullYear()}-${String(Ae).padStart(4,"0")}`,tt=[{id:Fe,quoteNumber:Ee,customerName:J.customer.name,customerId:String(J.customer.id??""),issueDate:J.issueDate,validUntil:J.validUntil,currency:J.currency,total:J.total,status:"draft",version:1,items:J.items},...ye];Lr("quotes_cache",tt,{tenantId:ue,mirrorToBase:!0}),me(!1),er(n("toasts.quotes.createSuccess"),"success")}catch(ue){console.error("Quote create (dashboard) failed:",ue),er(n("toasts.quotes.createError"),"error")}}}),j&&e.jsx(GA,{isOpen:j,onClose:td,onSave:J=>{El(J),td()},customer:Je}),P&&e.jsx(ZA,{isOpen:P,onClose:Io,onSave:J=>{To(J),Io()},supplier:Me}),xe&&e.jsx(lE,{isOpen:xe,onClose:()=>te(!1),onSelectNewSale:Rl,onSelectExistingSale:Pm,onSelectReturn:Dm}),we&&e.jsx(hE,{isOpen:we,onClose:()=>Ue(!1),onSelectSale:Im,sales:St?hr.filter(J=>J.customerName&&St?.name&&String(J.customerName)===String(St.name)||J.customerEmail&&St?.email&&String(J.customerEmail)===String(St.email)):hr,existingInvoices:Yt}),et&&pt&&e.jsx(fE,{isOpen:et,onClose:()=>{dt(!1),Le(null)},onSave:ed,sale:pt}),L&&e.jsx(i8,{onClose:la,onSave:async J=>{await $a(J),la()},invoice:ot,customers:Ot,products:pr,invoices:Yt}),Z&&e.jsx(c8,{isOpen:Z,onClose:rd,onSave:J=>{_l(J),rd()},expense:ft,suppliers:$t,supplierInfo:ht}),F&&e.jsx(WA,{isOpen:F,onClose:Ol,onSave:J=>{Sm(J),Ol()},categories:as,categoryObjects:qs,product:Dt}),q&&e.jsx(ov,{isOpen:q,onClose:Ll,onSave:J=>{Ni(J),Ll()},sale:zt,customers:Ot,products:pr}),le&&e.jsx(p8,{isOpen:le,onClose:Fl,onSave:J=>{_m(J),Fl()},bank:jt,bankAccount:jt,country:N?.country}),e.jsx(pE,{isOpen:je,onClose:nd,customer:Je,onEdit:J=>{ee(!1),setTimeout(()=>Po(J),50)},onCreateInvoice:od,onRecordPayment:Mo,onViewHistory:J=>{const ie=`customer-history:${encodeURIComponent(String(J?.id||""))}`;ee(!1);try{window.location.hash=ie}catch(ye){he.warn("app.customerHistory.hashNavigationFailed",ye),d(ie)}}}),e.jsx(xE,{isOpen:ce,onClose:ca,supplier:Me,onEdit:J=>Ml(J),onCreateExpense:ld,onViewHistory:J=>{He(J),Ke(!0)}}),e.jsx(Hp,{isOpen:Te,onClose:zm,invoice:ot,onEdit:J=>Hn(J),onDownload:Ui}),e.jsx(hv,{isOpen:Pe,onClose:Lm,expense:ft,onEdit:J=>Fi(J),onDownload:ua}),e.jsx(Kp,{isOpen:Ge,onClose:Om,sale:zt,onEdit:J=>Bi(J),onDelete:Il,onDownload:Wa}),e.jsx(wv,{isOpen:bt,onClose:()=>_e(!1),quote:rt,onEdit:J=>{_e(!1),setTimeout(()=>{mt(J),vt(!0)},50)}}),We&&e.jsx(kv,{isOpen:We,onClose:()=>vt(!1),quote:rt,products:pr,onSave:async J=>{try{const ue=await ul(String(J.id),{customerId:J.customerId,customerName:J.customerName,issueDate:J.issueDate,validUntil:J.validUntil,currency:J.currency,total:J.total,items:(J.items||[]).map(ie=>({description:ie.description,quantity:ie.quantity,unitPrice:ie.unitPrice,total:ie.total,productId:ie.productId,unit:ie.unit})),scopeOfWorkHtml:J.scopeOfWorkHtml||"",status:J.status});try{const ie=Kr(h,m?.tenantId),ye=ps("quotes_cache",{tenantId:ie,fallbackToBase:!0})??[],Ae=Array.isArray(ye)?ye.map(Fe=>String(Fe.id)===String(ue.id)?{...Fe,quoteNumber:ue.quoteNumber??Fe.quoteNumber,customerName:ue.customer?.name||ue.customerName||J.customerName,customerId:ue.customerId??Fe.customerId,issueDate:String(ue.issueDate||J.issueDate).slice(0,10),validUntil:ue.validUntil?String(ue.validUntil).slice(0,10):J.validUntil||null,currency:ue.currency??J.currency,total:Number(ue.total??J.total)||0,status:ue.status??J.status,version:ue.version??Fe.version,scopeOfWorkHtml:ue.scopeOfWorkHtml??Fe.scopeOfWorkHtml,items:Array.isArray(ue.items)?ue.items:Fe.items||J.items||[]}:Fe):[];Lr("quotes_cache",Ae,{tenantId:ie,mirrorToBase:!0});try{window.dispatchEvent(new Event("quotes-cache-updated"))}catch(Fe){fr("app.quotes.cache.dispatchFailed",Fe)}}catch(ie){fr("app.quotes.cache.updateFailed",ie)}}catch(ue){console.error("Quote update failed:",ue)}finally{vt(!1)}}}),e.jsx(gE,{isOpen:oe,onClose:id,product:Dt,onEdit:J=>Do(J)}),e.jsx(rv,{isOpen:K,onClose:sd,onSubmit:Xc,categories:as}),e.jsx(bE,{isOpen:At,onClose:ad,bankAccount:jt,onEdit:J=>{Nt(!1),setTimeout(()=>zl(J),50)}}),e.jsx(KE,{isOpen:De,onClose:Si,customer:Je,invoices:Yt.filter(J=>{const ue=Je;if(!ue)return!1;const ie=String(J?.customerId||J?.customer?.id||""),ye=String(ue?.id||"");if(ie&&ye)return ie===ye;const Ae=String(J?.customer?.name||J?.customerName||"").trim(),Fe=String(ue?.name||"").trim();return Ae&&Fe&&Ae===Fe}),sales:hr.filter(J=>J.customerName===Je?.name),onViewInvoice:async J=>{Si(),setTimeout(async()=>{let ue=J;const ie=Array.isArray(J?.items)&&J.items.length>0,ye=Array.isArray(J?.lineItems)&&J.lineItems.length>0;if(!ie&&!ye&&J?.id)try{ue=await lc(String(J.id))}catch(Ae){console.warn("Gemiten fatura grntleme: detay alnamad, mevcut veri kullanlacak:",Ae)}at(ji(ue)),Ce(!0)},50)},onViewSale:J=>{Si(),setTimeout(()=>{Re(J),st(!0)},50)},onViewQuote:J=>{Si(),setTimeout(()=>{mt(J),_e(!0)},50)},onCreateInvoice:od}),e.jsx(GE,{isOpen:Oe,onClose:Ga,supplier:Me,expenses:Jt.filter(J=>J.supplier===Me?.name),onViewExpense:J=>{Kt(J),Be(!0)},onCreateExpense:ld}),Ye&&e.jsx(WE,{isOpen:ve,onClose:()=>{de(!1),ut(null)},title:Ye.title,message:Ye.message,relatedItems:Ye.relatedItems,itemType:Ye.itemType}),cs&&e.jsx(Ra,{isOpen:!0,title:cs.title,message:cs.message,tone:cs.tone,confirmLabel:cs.confirmLabel||n("common.ok"),cancelLabel:cs.cancelLabel,onConfirm:cs.onConfirm,onCancel:cs.onCancel,extraLabel:cs.extraLabel,onExtra:cs.onExtra,onClose:()=>Ir(null)}),!!Ne&&e.jsx(na,{isOpen:!0,title:n("common.confirm",{defaultValue:"Onay"}),message:n("invoices.deleteConfirm",{defaultValue:"Bu faturay silmek istediinizden emin misiniz?"}),confirmText:n("common.delete",{defaultValue:"Sil"}),cancelText:n("common.cancel",{defaultValue:"ptal"}),danger:!0,onConfirm:async()=>{const J=Ne;Ve(null),await _o(J)},onCancel:()=>Ve(null)}),!!lt&&e.jsx(na,{isOpen:!0,title:n("common.confirm",{defaultValue:"Onay"}),message:n("sales.deleteConfirm",{defaultValue:"Bu sat silmek istediinizden emin misiniz?"}),confirmText:n("common.delete",{defaultValue:"Sil"}),cancelText:n("common.cancel",{defaultValue:"ptal"}),danger:!0,onConfirm:async()=>{const J=lt;kt(null),await Il(J,{skipConfirm:!0})},onCancel:()=>kt(null)})]});if(Gt.useEffect(()=>{const J=async()=>{try{const ye=Kr(h,m?.tenantId),Ae=ps("quotes_cache",{tenantId:ye,fallbackToBase:!0});if(!Array.isArray(Ae)||Ae.length===0)return;const Fe=[...Ae];let Ee=!1;for(const qe of Fe)if(qe&&qe.status==="accepted"){const tt=`quote_converted_${qe.id}`,Xe=Ru(tt,{tenantId:ye,fallbackToBase:!1});if(Xe==="done"||qe.convertedToSale||Xe&&Xe.startsWith("pending:"))continue;const Ze=`${Date.now()}-${Math.random().toString(36).slice(2,8)}`;try{ml(tt,`pending:${Ze}`,{tenantId:ye,mirrorToBase:!1})}catch(Ft){fr("app.quotes.accepted.lockPersistFailed",Ft)}if(Ru(tt,{tenantId:ye,fallbackToBase:!1})!==`pending:${Ze}`)continue;const gt=Array.isArray(qe.items)?qe.items:[],Et=Ft=>{const br=String(Ft||"");if(!br)return 18;try{const tr=pr.find(Mt=>String(Mt.id)===br);if(!tr)return 18;const ur=Number(tr.categoryTaxRateOverride??tr.taxRate??18);return Number.isFinite(ur)&&ur>=0?ur:18}catch{return 18}},It=gt.map(Ft=>{const br=Number(Ft?.quantity||1),tr=Number(Ft?.unitPrice||0),ur=Number(Ft?.total||tr*br),Mt=Ft?.productId,Ar=Ft?.description||Ft?.productName||"rn/Hizmet",lr=(()=>{const ts=Number(Ft.taxRate);return Number.isFinite(ts)&&ts>=0?ts:Et(Mt)})();return{productId:Mt,productName:Ar,quantity:br,unitPrice:tr,total:ur,taxRate:lr}}),rr=It.reduce((Ft,br)=>Ft+Number(br.total||0),0);try{const Ft=await gf({customerId:qe.customerId,customerEmail:qe.customerEmail||void 0,saleDate:new Date().toISOString().split("T")[0],items:It.map(tr=>({productId:tr.productId,productName:tr.productName,quantity:Number(tr.quantity)||1,unitPrice:Number(tr.unitPrice)||0,taxRate:Number(tr.taxRate??18)})),discountAmount:0,notes:"Teklif kabul edildi (otomatik oluturuldu)".trim(),sourceQuoteId:String(qe.id)}),br={id:Ft.id,saleNumber:Ft.saleNumber||void 0,customerName:qe.customerName,customerEmail:qe.customerEmail||Ot.find(tr=>String(tr.id)===String(qe.customerId))?.email||void 0,items:Array.isArray(Ft.items)?Ft.items:It,productName:It.length>0?`${It[0].productName}${It.length>1?` +${It.length-1}`:""}`:"Tekliften Sat",quantity:It[0]?.quantity||void 0,unitPrice:It[0]?.unitPrice||void 0,amount:Number(Ft.total??rr)||rr,total:Number(Ft.total??rr)||rr,date:Ft.saleDate?String(Ft.saleDate).slice(0,10):new Date().toISOString().slice(0,10),status:"completed",sourceQuoteId:String(qe.id)};_r(tr=>tr.some(Mt=>String(Mt.sourceQuoteId||"")===String(qe.id)||String(Mt.id)===String(Ft.id))?tr:[...tr,br]),Dn()}catch(Ft){fr("app.quotes.accepted.remoteConversionFailed",Ft);const br={customerName:qe.customerName,productName:It.length>0?`${It[0].productName}${It.length>1?` +${It.length-1}`:""}`:"Tekliften Sat",amount:rr,total:rr,items:It,date:new Date().toISOString().split("T")[0],status:"completed",sourceType:"quote",sourceQuoteId:String(qe.id)},tr=Ka.current;if(tr)try{await tr(br)}catch(ur){fr("app.quotes.accepted.localSaleUpsertFailed",ur)}}qe.convertedToSale=!0;try{ml(tt,"done",{tenantId:ye,mirrorToBase:!1})}catch(Ft){fr("app.quotes.accepted.lockReleaseFailed",Ft)}Ee=!0}Ee&&Lr("quotes_cache",Fe,{tenantId:ye,mirrorToBase:!0})}catch(ye){fr("app.quotes.accepted.processingFailed",ye)}},ue=ye=>{const Ae=Kr(h,m?.tenantId),Fe=Ae?`quotes_cache_${Ae}`:"quotes_cache";ye.key===Fe&&J()},ie=()=>{document.visibilityState==="visible"&&J()};return window.addEventListener("storage",ue),window.addEventListener("quotes-cache-updated",J),document.addEventListener("visibilitychange",ie),J(),()=>{window.removeEventListener("storage",ue),window.removeEventListener("quotes-cache-updated",J),document.removeEventListener("visibilitychange",ie)}},[h,m?.tenantId,pr,Ot,_r]),qn)return e.jsx("div",{className:"min-h-screen",children:e.jsx(N_,{quoteId:qn})});if(l==="admin")return e.jsx(Yx,{});if(l==="register")return e.jsx(r_,{});if(l==="landing")return e.jsx(y_,{});if(!a&&l==="login")return e.jsx(by,{});if(!a&&typeof l=="string"&&l.startsWith("join-organization:")){const J=l.replace("join-organization:","");return e.jsx(Dy,{token:J,onJoinSuccess:()=>{d("dashboard"),window.location.hash=""},onNavigateHome:()=>{d("landing"),window.location.hash=""},onNavigateDashboard:()=>{d("dashboard"),window.location.hash=""}})}if(!a&&l==="forgot-password")return e.jsx(s_,{});if(!a&&l==="reset-password")return e.jsx(n_,{});if(!a&&l==="verify-email")return e.jsx(i_,{});if(!a&&l==="verify-notice")return e.jsx(a_,{});if(!a&&l.startsWith("legal-")){const J=()=>{switch(l){case"legal-terms":return e.jsx(Ny,{});case"legal-privacy":return e.jsx(jy,{});case"legal-subprocessors":return e.jsx(Sy,{});case"legal-dpa":return e.jsx(Cy,{});case"legal-cookies":return e.jsx(Ay,{});case"legal-imprint":return e.jsx(Ey,{});case"legal-email-policy":return e.jsx(Ty,{});default:return e.jsx("div",{children:"Legal page not found"})}};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(zi,{}),e.jsx(_y,{}),e.jsx(Py,{}),J()]})}if(l==="help")return e.jsx(w_,{});if(l==="about")return e.jsx(b_,{});if(l==="api")return e.jsx(v_,{});if(!a)return e.jsx(by,{});const In=(()=>{if(typeof l=="string"&&l.startsWith("customer-history:")){const J=l.split(":")[1];if(J){const ue=Ot.find(ie=>String(ie.id)===String(J));if(ue?.name)return String(ue.name);try{const ie=Kr(h,m?.tenantId),ye=ps("customers_cache",{tenantId:ie,fallbackToBase:!0});if(Array.isArray(ye)){const Ae=ye.find(Fe=>String(Fe.id)===String(J));if(Ae?.name)return String(Ae.name)}}catch(ie){fr("app.sidebar.customerCache.readFailed",ie)}}return}})();return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsxs("div",{className:"flex min-h-screen",children:[e.jsx(UA,{currentPage:l,onPageChange:A,invoices:Yt,expenses:Jt,isOpen:T,onClose:Eo}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(Rv,{}),e.jsx(BA,{user:b,onLogout:km,onNewInvoice:()=>Hn(),onNewSale:()=>Bi(),activePage:l,customTitle:In,onToggleSidebar:Al,notifications:U,unreadCount:$n,isNotificationsOpen:G,onToggleNotifications:qa,onCloseNotifications:wi,onNotificationClick:Ao,onOpenSettingsProfile:()=>k("profile")}),e.jsx("main",{className:"flex-1 px-3 py-6 sm:px-6 lg:px-8",children:Fm()})]})]}),Bm(),Um(),e.jsx(_y,{}),e.jsx(Py,{})]})},F_=()=>e.jsx(dA,{children:e.jsx(oA,{children:e.jsx(uA,{children:e.jsxs(fA,{children:[e.jsx(j_,{}),e.jsx(O_,{})]})})})}),B_=typeof localStorage<"u"&&localStorage.getItem("debug")==="1";B_&&(console.log("=== ENVIRONMENT DEBUG (safe) ==="),console.log("VITE_API_URL:","/api"),console.log("MODE:","production","| DEV:",!1,"| PROD:",!0),console.log("Final API URL will be:","/api"));window.envDebug=()=>{console.log("Current API Base URL:","/api")};he.installConsoleMute();he.info(" Comptario uygulamas balatlyor...");const zv=document.getElementById("root");if(!zv)throw new Error("Root element bulunamad!");he.info(" Root element bulundu, uygulama render ediliyor...");const By=_w.createRoot(zv);try{By.render(e.jsx(W.StrictMode,{children:e.jsx(xk,{i18n:ss,children:e.jsx(P2,{children:e.jsx(F_,{})})})})),he.info(" Comptario uygulamas baaryla yklendi!")}catch(a){a instanceof Error?(he.error(" Uygulama yklenemedi:",a),he.error("Stack trace:",a.stack)):he.error(" Uygulama yklenemedi:",a),By.render(e.jsx(W.StrictMode,{children:e.jsxs("div",{style:{color:"red",padding:"40px",textAlign:"center",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{children:" Uygulama Yklenemedi"}),e.jsxs("p",{style:{margin:"20px 0"},children:[e.jsx("strong",{children:"Hata:"})," ",a instanceof Error?a.message:String(a)]}),e.jsxs("details",{style:{textAlign:"left",background:"#f8f9fa",padding:"20px",borderRadius:"5px"},children:[e.jsx("summary",{children:"Teknik Detaylar"}),e.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:a instanceof Error?a.stack:JSON.stringify(a,null,2)})]}),e.jsx("p",{style:{marginTop:"20px"},children:e.jsx("a",{href:"/clear-storage.html",style:{color:"#007bff"},children:"Storage' temizle ve tekrar dene"})})]})}))}export{Or as C,vs as D,Wr as E,Hp as I,wv as Q,Gt as R,Kp as S,Dr as _,nt as a,Tt as b,um as c,Ru as d,es as e,Zs as f,nP as g,kA as h,ss as i,CA as j,jv as k,he as l,e as m,lc as n,ul as o,bv as p,iP as q,hn as r,Pa as s,oP as t,Zt as u,W as v,mr as w,Uy as x,zr as y,aP as z};
